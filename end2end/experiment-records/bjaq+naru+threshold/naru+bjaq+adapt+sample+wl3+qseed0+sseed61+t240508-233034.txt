Input arguments = Namespace(data_update='sample', update_size=80000, dataset='bjaq', debug=False, drift_test='js', model_update='adapt', model='naru', end2end=False, query_seed=0, random_seed=42, num_workload=3)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 61, 'naru': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=naru', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=3', '--data_update=sample', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
query_seed:0
origin-bjaq_15.87 	max: 5.0000	99th: 2.6667	95th: 1.6012	median: 1.0538	mean: 1.1494
ReportEsts: [1.075085324232082, 1.0466067048242027, 1.0191975936656787, 1.0038610038610039, 1.0344827586206897, 1.0, 1.1598521873882466, 1.0006622368391616, 1.25, 1.0372836218375499, 1.0318613584253937, 1.00228794280143, 1.048898678414097, 1.041860465116279, 1.0113034263511127, 1.0, 1.3043478260869565, 1.0350690754516472, 3.0, 2.6666666666666665, 1.2272727272727273, 1.0914815613543238, 1.039150302581203, 1.0805837563451777, 1.0606808090774544, 1.0, 1.0500245861334208, 1.1666666666666667, 1.4, 1.2733812949640289, 1.0, 1.0039943968078784, 1.001012909204543, 1.3251942286348501, 1.0158138147098315, 1.0244059305395707, 1.0218579234972678, 1.011815554961999, 1.061264549900131, 1.1547619047619047, 1.0848400556328233, 1.0335365853658536, 1.0, 1.1103516531098259, 1.0572265926268702, 1.2148760330578512, 1.116504854368932, 1.1940928270042195, 1.0219897115408587, 1.0277777777777777, 1.050480595504806, 1.3287671232876712, 1.0078832258243127, 2.0, 1.4233766233766234, 1.0432890947790159, 1.0207869339272457, 1.0687022900763359, 1.1366459627329193, 1.25, 1.0427366625604093, 1.0311332503113324, 1.0954545454545455, 1.1149425287356323, 1.0, 1.061333979439964, 1.0587012987012987, 1.1666666666666667, 1.0, 1.085179564997471, 1.0381861575178997, 1.0639906922629436, 1.1036036036036037, 1.0325353789181326, 1.1694117647058824, 1.1790393013100438, 1.0, 1.0453950240069838, 2.0, 1.023243134666705, 1.21875, 1.0226901608375936, 1.1595092024539877, 1.0470183486238531, 1.071503680336488, 1.08, 1.0124123726241236, 1.0760003017880944, 1.161764705882353, 2.3333333333333335, 1.1373542828180436, 1.0207163065919265, 1.006269592476489, 1.3464235624123422, 1.207276736493936, 1.0635359116022098, 1.2272727272727273, 1.0008532423208192, 1.0, 1.012375790424571, 1.1935205183585313, 1.0255057167985928, 1.0097270719019453, 1.0303030303030303, 1.0095527490863612, 1.1872045382918375, 1.0733899766038666, 1.0523321956769056, 1.024497487437186, 1.0, 1.3333333333333333, 1.1440791232290832, 1.0063470324301673, 1.0553333333333332, 1.12987012987013, 1.0061695040051304, 1.0, 1.1589912280701755, 1.1952153110047847, 1.0, 1.1868131868131868, 1.1666666666666667, 1.0275689223057645, 1.0105904699918997, 1.0792109963500816, 1.018181818181818, 1.8, 1.2408940397350994, 1.0, 1.1785714285714286, 1.0131478054615535, 1.1818181818181819, 1.0103601381351752, 1.0138983966287125, 1.0388088845496706, 1.1984, 1.064139941690962, 1.0284569138276554, 1.00199203187251, 1.04923273657289, 1.040801886792453, 1.1728395061728396, 1.0808871493803, 1.0010222584610142, 2.0, 1.0101289134438305, 1.0479041916167664, 1.0775434243176178, 1.0061761072878066, 1.0, 1.0174376362315332, 1.0118518518518518, 1.032, 1.4476190476190476, 1.164963503649635, 1.074832397173401, 1.026425969224077, 1.054062584543241, 1.1463878326996197, 1.1578947368421053, 1.0425531914893618, 1.181159420289855, 1.1567291311754684, 1.1428571428571428, 1.021357380161367, 1.025817962775164, 1.0028785261945883, 1.005384063173008, 1.0452046426389738, 1.1009249688584983, 1.0315789473684212, 1.0336134453781514, 1.2194248087537523, 1.0238095238095237, 1.154382470119522, 1.06301652892562, 1.04229797979798, 1.036293560301911, 1.0888774723863344, 1.0, 1.5, 1.0764089320978278, 1.0474002923366048, 1.1071032186459488, 1.1692307692307693, 1.0277868880268708, 1.0171055160484337, 1.0511222215007683, 1.1153846153846154, 1.110550227158001, 1.025319649102689, 1.0, 1.8181818181818181, 1.0329720716965403, 1.2610669693530079, 1.0877632898696088, 1.3461538461538463, 1.022508038585209, 1.0045422402535396, 1.0279946176603412, 1.1798245614035088, 1.1448297670496468, 1.0903954802259888, 1.078125, 1.0120481927710843, 1.0, 1.0389610389610389, 1.0590396659707724, 1.6236933797909407, 1.0689655172413792, 1.0192782995551162, 1.0957683741648108, 1.0815683658532065, 1.0338161479994263, 1.0933298694550886, 1.2941176470588236, 1.007278020378457, 1.0453929539295392, 1.0032023665919927, 1.041842802894605, 1.0, 1.0873706004140786, 1.0487857719654148, 1.017148022822752, 1.052808988764045, 1.0083561067899938, 1.0033835222466587, 1.0344827586206897, 1.0020062646872268, 1.1297887836853606, 1.191765369430344, 1.1228070175438596, 1.0541381456129433, 1.0170212765957447, 1.0244094488188977, 1.0, 1.0018939393939394, 1.0059736489504243, 1.0590717299578059, 1.3992537313432836, 1.0909090909090908, 2.6666666666666665, 1.0652292432422925, 1.1090909090909091, 1.1502472142277322, 1.5, 1.5, 1.25, 1.0421545667447307, 1.2857142857142858, 1.0773480662983426, 1.1100702576112411, 1.1007067137809188, 1.0127551020408163, 1.0395822433291746, 1.105263157894737, 1.0, 1.010650346525909, 1.1497186770961987, 1.1120840630472855, 1.0296383986224709, 1.0689033372276122, 1.0428803557684085, 1.095389507154213, 1.041793567241167, 1.055023923444976, 1.1407959410179167, 1.2558605798889575, 1.7272727272727273, 1.0948491255045165, 1.068230277185501, 1.2954545454545454, 1.0, 1.116, 1.0, 1.1359223300970873, 1.0340892268353408, 1.1532033426183843, 1.209090909090909, 1.004401157341375, 1.0109060402684564, 1.0154855977568187, 1.00742297141705, 1.5, 1.0324117861040378, 1.0, 1.0139118855510876, 1.0583153347732182, 1.0090755996540894, 1.3, 1.6666666666666667, 1.0434782608695652, 1.5211267605633803, 1.027720534052731, 1.0, 1.0091743119266054, 1.025522041763341, 1.0364583333333333, 1.0023666537611746, 1.1666666666666667, 1.0314465408805031, 1.0027861763465054, 1.0962485146834153, 1.048953395696128, 1.1111111111111112, 1.0, 1.2494033412887828, 1.0124688279301746, 1.236760124610592, 1.1059864896342884, 1.0398959236773635, 1.0410557184750733, 1.0535714285714286, 1.0013717421124828, 1.1008236296506675, 1.4285714285714286, 1.026807346005992, 1.0586080586080586, 1.105263157894737, 1.043145650467423, 1.0952380952380953, 1.75, 1.0168169432960006, 2.0, 1.010973936899863, 1.068313953488372, 1.0, 1.0256012412723041, 1.4203655352480418, 1.1538461538461537, 1.00979450479579, 1.0350283586086024, 1.0149863760217983, 1.0458529785576647, 1.1377236029760962, 2.0, 1.1111111111111112, 1.0047647341118398, 1.3333333333333333, 1.0498357064622126, 1.0, 1.0, 1.0454545454545454, 1.182897862232779, 1.1000971817298348, 1.34375, 1.0378787878787878, 1.0, 1.0632490013315579, 1.0512657838004311, 1.5, 1.118522930315664, 1.0, 1.0120245957640628, 1.0229885057471264, 1.0291786932563631, 1.172811059907834, 1.0018181818181817, 1.096171802054155, 1.1481481481481481, 1.0133430501190808, 1.0055684439846024, 1.0452729693741678, 1.0, 1.1428571428571428, 1.8333333333333333, 3.0, 1.1428571428571428, 1.0018506499765456, 1.25, 1.064891846921797, 1.0594059405940595, 1.0150724041256205, 1.0183107065316905, 1.0146290491118077, 1.0750011807490671, 1.0311004784688995, 1.2727272727272727, 1.5, 1.0619469026548674, 1.1084905660377358, 1.0053412880000625, 1.2857142857142858, 3.142857142857143, 1.0579064587973275, 1.038953488372093, 1.0034263687629381, 1.1808972503617945, 1.342769701606733, 1.033946251768034, 1.3559322033898304, 1.0808477237048666, 1.0338983050847457, 1.3076923076923077, 1.06006006006006, 1.1826923076923077, 1.0357208815562668, 1.0037697818211533, 1.0178175610833213, 1.0617283950617284, 1.15625, 1.0591715976331362, 1.0, 1.0519739816163545, 1.0138215088907445, 1.0215573827126374, 1.006717190144931, 1.0221874694555761, 1.0164728682170543, 1.8333333333333333, 1.069464544138929, 1.5, 1.0170794192997439, 1.1111111111111112, 1.0155029350752527, 1.0159420289855072, 1.0413800515907137, 1.158102766798419, 1.090113735783027, 3.0, 1.1866527632950992, 1.0076088849774942, 1.0208754828030164, 1.0, 1.26, 1.0287907869481765, 1.206896551724138, 1.0763361843954544, 1.024948024948025, 1.05, 1.0793787748058672, 1.0443125248323089, 1.0354036803404127, 1.0044003625898774, 1.0700657894736842, 1.230514096185738, 1.0568181818181819, 1.5, 1.0710659898477157, 1.3448275862068966, 1.0450204638472034, 1.1515151515151516, 1.0732533282536458, 1.25, 1.1222246442250803, 1.0893756435458204, 1.145583038869258, 1.0, 1.1176470588235294, 1.28, 1.0017899529164558, 1.50109409190372, 1.0, 1.0333655705996132, 1.02223823246878, 1.215617128463476, 1.0, 1.5, 1.1693203883495145, 1.008130081300813, 1.4593301435406698, 1.0, 1.0330496734613102, 1.0372184133202742, 1.0869565217391304, 1.0338983050847457, 1.0272727272727273, 1.0132978723404256, 1.1282258064516129, 1.0479596129575095, 1.1688192411457436, 1.0, 1.0405405405405406, 1.0855448295515264, 1.0033633847248211, 1.0473409943475973, 1.0, 1.041705069124424, 1.0193892373499702, 1.0282870612886328, 2.0, 1.1291866028708133, 1.05664752130314, 1.10952505389691, 1.106592110436416, 1.0405583331448092, 1.1453923803321393, 1.030252100840336, 1.042189006750241, 2.0, 1.061295157372474, 1.054054054054054, 1.0, 1.2292993630573248, 1.1304347826086956, 1.0339784278998014, 1.102059925093633, 1.0557658122598772, 1.2408883826879271, 1.0238150049494694, 1.0596510212363046, 1.0074551822185236, 1.116504854368932, 4.0, 1.0377577721762092, 1.0263157894736843, 1.0051801378713618, 1.0071982812365121, 1.061389337641357, 1.1906941266209001, 1.1058201058201058, 1.4285714285714286, 1.0218683915909939, 1.0043979409131603, 1.0196381454956653, 1.098342939481268, 1.02136878385032, 1.02680412371134, 1.0106030646340447, 1.0210355987055015, 1.0917941585535467, 2.0, 1.0833333333333333, 1.0015337423312884, 1.0541044776119404, 1.0188034188034187, 1.0421313506815366, 1.1111111111111112, 1.1055555555555556, 1.0554699537750385, 1.1263736263736264, 1.0139068204078, 1.4125, 1.0043268712563325, 1.0, 1.0617848970251715, 1.380952380952381, 1.0780141843971631, 1.0385842761821875, 1.2042160737812913, 1.0181086519114688, 1.1141374837872893, 1.0125498670212767, 1.0, 1.7872340425531914, 2.0, 1.0, 1.035294117647059, 1.0598290598290598, 1.3728813559322033, 1.08994708994709, 1.031560397308555, 1.1680216802168022, 1.017779452570998, 1.0239597712482744, 1.0971428571428572, 1.0070384984536631, 1.022099447513812, 1.073697585768742, 1.150459603289792, 1.064592670709201, 1.0476878612716762, 1.0667625899280575, 1.0522583053378127, 1.0101627264353699, 1.0096899453539014, 2.0, 1.0196560196560196, 1.0157116451016637, 1.027027027027027, 1.0, 1.0851063829787233, 1.1538461538461537, 1.0071301247771836, 1.5555555555555556, 1.5, 1.0401960784313726, 1.0389194952905634, 1.0033562689153883, 1.0421615669000237, 1.0972972972972972, 1.0413122721749697, 2.0, 1.1755725190839694, 1.1746739042372194, 1.0256501069322037, 1.0076188016528926, 1.0095682879599044, 1.0098949117041638, 1.0845070422535212, 1.0683522648152937, 1.1598579040852575, 1.0089692131757741, 1.0028520868239237, 1.4545454545454546, 1.1080485115766263, 1.0, 1.0068027210884354, 1.0223578295867453, 3.0, 1.05361875637105, 1.0278777377937713, 1.2857142857142858, 1.1397134294042781, 1.0, 1.1875, 1.0110481586402267, 1.6923076923076923, 1.0013354604014841, 1.0491243058522, 1.1875, 1.2083333333333333, 1.25, 1.0043041606886658, 1.0689004247286455, 1.0164477647909387, 1.011423081029145, 1.0, 1.2541277427764501, 1.0060975609756098, 2.0, 1.0796872477339299, 1.0091847247201802, 1.1390728476821192, 1.0142012063598673, 1.0290738971758886, 1.3614457831325302, 1.8571428571428572, 1.0387980220616204, 1.035923141186299, 1.007618821373424, 1.027351567711808, 1.058861499979828, 1.1154294416559183, 1.1336996336996337, 1.0247807853602744, 1.0872727272727272, 1.0271324298462292, 1.077602523659306, 1.1230925737538149, 1.14390756302521, 1.0481771404027034, 4.0, 1.000026216442953, 1.0348604884643293, 1.0282717196378799, 1.0, 1.0352958090719575, 1.1938325991189427, 1.0, 1.042541456778321, 1.0134426229508198, 1.0814639905548997, 1.2058823529411764, 1.6666666666666667, 1.016742971078428, 1.5, 1.436241610738255, 1.1538461538461537, 1.066778312748587, 1.2857142857142858, 1.2153846153846153, 1.1069182389937107, 1.0, 1.2341269841269842, 1.0327011118378024, 2.0, 1.0, 1.0901639344262295, 1.1462450592885376, 1.0347800237812128, 1.017075773745998, 1.0509031198686372, 1.0149700598802396, 1.089150378938971, 1.051948051948052, 1.678082191780822, 1.7013888888888888, 1.3461538461538463, 1.0, 1.1069042316258353, 1.173160173160173, 1.0278925619834711, 1.2481572481572483, 1.0001342469911163, 1.2489024327255824, 1.009212047549877, 1.0706333140543667, 1.0505415162454874, 1.0119331742243436, 1.8333333333333333, 1.0, 1.0, 1.0284006212392005, 1.1140609636184857, 1.0065359477124183, 1.395189003436426, 1.0607865597556319, 1.0184478718186276, 1.0014042928622235, 1.0769230769230769, 1.1, 1.073279052553664, 1.1363335100742311, 1.0587443873498565, 1.0829643532164053, 1.256578947368421, 1.120274660366214, 1.0081095221485874, 1.2377179080824088, 1.0358649789029535, 1.3333333333333333, 1.0326340326340326, 1.1610360360360361, 1.0576923076923077, 1.1362229102167183, 1.0347890451517394, 1.0, 1.086848635235732, 1.0249975135099294, 1.2592592592592593, 1.0115189581193929, 1.159957627118644, 1.069767441860465, 1.0094538072059291, 1.0034727246418753, 1.0759468170829976, 1.0057251908396947, 1.0450771055753263, 1.0010989630297564, 1.1475409836065573, 1.0, 1.0, 1.1111111111111112, 1.0261838440111422, 1.8333333333333333, 1.0789603849093934, 1.047035700823865, 1.1929552503322995, 1.06044650379107, 1.0015836589159048, 1.1055734190782422, 1.0813953488372092, 1.0256045519203414, 1.0297931293587246, 1.0234814398200225, 1.0071950722623013, 1.0411598217511742, 1.4285714285714286, 1.0666666666666667, 1.256916996047431, 1.0428354540196645, 1.0, 1.035815680279537, 1.2194690265486725, 1.0155945419103314, 1.0632125881512318, 1.0177595628415301, 1.0388516746411482, 1.375, 1.0096604146565316, 1.0100741558191835, 1.1381785554060118, 1.0008428150021071, 1.0625, 1.0108225108225108, 1.1492537313432836, 1.5625, 1.044733502538071, 1.2692307692307692, 1.0163934426229508, 1.0175824175824175, 1.2764666217127445, 1.070861882437793, 1.091764705882353, 1.6363636363636365, 1.0926829268292684, 1.0127026728923858, 1.024562475693094, 1.0039879735718618, 1.0771353736354528, 1.0432304686500184, 1.0, 1.043657331136738, 1.0308095046314942, 1.1116121255413187, 1.03099173553719, 1.2152777777777777, 1.0725879170423804, 1.008267783134568, 1.1268412438625204, 1.0257167400408032, 1.0, 1.3333333333333333, 1.0062053450023487, 1.0272970310961025, 1.0061055723007961, 1.134247093695474, 1.0845969672785316, 1.0440835266821347, 1.0014115370948, 1.1356147021546261, 1.0422794117647058, 1.3297297297297297, 1.011204481792717, 1.031671820546802, 1.0, 1.75, 1.0323293344148914, 1.004352481470666, 1.0097869890616005, 1.2846715328467153, 1.0112237509051412, 1.027976926540911, 1.0099375354911981, 1.0175, 1.3076923076923077, 1.1381401617250675, 1.0416666666666667, 1.10625, 1.4333333333333333, 1.0541289529556375, 1.0029732408325074, 1.0806451612903225, 1.1714285714285715, 1.023974320393219, 1.0615823817292007, 1.0115440603947323, 1.0502340093603744, 1.3333333333333333, 1.037037037037037, 1.3333333333333333, 1.0220719117123531, 1.6538461538461537, 1.3333333333333333, 1.3636363636363635, 1.271043771043771, 1.0615384615384615, 1.0300762546550808, 1.0250244857982371, 1.0054844606946984, 1.411764705882353, 1.0, 1.032258064516129, 1.2837837837837838, 1.3725490196078431, 1.029595015576324, 1.0130181071570885, 1.0053904836513532, 1.0234375, 1.0156883663992669, 1.0015714929182724, 5.0, 1.006643190092205, 1.1128571428571428, 1.0, 1.3333333333333333, 1.097337278106509, 1.1277343469841496, 1.035561589672133, 1.0559006211180124, 1.0, 1.1266375545851528, 1.156441717791411, 2.0, 1.5, 1.1168799212598426, 1.0168124658283215, 1.183525584146702, 1.4285714285714286, 1.0116245987622297, 1.0735863671572425, 1.0188087774294672, 1.1428571428571428, 1.0390243902439025, 1.0043394666254344, 1.5, 1.0698728001393971, 1.086821803465284, 1.0894117647058823, 1.003921568627451, 1.0001653165812532, 1.1451750640478224, 1.1115702479338843, 1.2545454545454546, 1.075184322856034, 1.0695970695970696, 1.041632037942001, 1.6868686868686869, 1.2, 1.164179104477612, 1.0402075226977952, 1.0347773032336791, 1.002884605787178, 1.0008737305997317, 1.0513100436681222, 3.0, 1.25, 1.0228194063031255, 1.1816182937554969, 1.2499513713285353, 1.0125951471090813, 1.0429837765512628, 1.1014322807605328, 1.1514360313315928, 1.0833333333333333, 1.0286927128370411, 1.0220973474964559, 1.0076605774896876, 1.1023166023166022, 2.5, 1.12, 1.0755346857918486, 1.064994026284349, 1.0490958186727763, 1.009139678124379, 1.1285511363636365, 1.6, 1.0154211150652432, 1.0485667040553197, 1.0454649303175692, 1.053231939163498, 1.0238222953320937, 1.193916349809886, 1.3206997084548104, 1.0944927536231883, 1.0045752158189454, 1.0531028368794326, 1.1105990783410138, 1.117797695262484, 1.03125, 1.001367053998633, 1.01517330982321, 1.0092470277410832, 1.014889414128958, 1.0393290919606708, 1.0576, 1.2857142857142858, 1.0721868365180467, 2.5, 1.5, 1.5454545454545454, 1.0255754475703325, 1.1761453396524486, 1.0299472194599557, 1.0349742595469857, 1.0523744911804613, 1.0025167785234899, 1.1032608695652173, 1.346938775510204, 1.0112577144073207, 1.6, 1.25, 1.0280842527582748, 1.0, 1.1175595238095237, 1.1518987341772151, 1.0606579540333483, 1.0149486293032088, 1.25, 1.0493827160493827, 1.2868217054263567, 1.061845386533666, 1.0001513803132196, 1.0731707317073171, 1.043602573266619, 1.0253169611660178, 1.0673021706672792, 1.066772655007949, 1.6904761904761905, 1.1955307262569832, 1.0, 1.0, 1.0005766961124423, 1.6666666666666667, 1.5714285714285714, 1.35, 1.0193003618817853, 1.1604938271604939, 1.026750142287991, 1.0874573378839592, 1.0, 1.2588454376163873, 1.0325693606755126, 1.210762331838565, 1.0246305418719213, 1.25, 1.039235190097259, 1.0415742793791574, 1.0706860706860706, 1.001489757914339, 1.0018263598123125, 1.108032965941813, 1.0457779152489948, 1.0, 1.042839495279273, 1.0082859472452534, 1.0177098278335726, 1.2695652173913043, 1.0410225624093252]
origin-bjaq_15.87 	max: 5.0000	99th: 2.6667	95th: 1.6012	median: 1.0538	mean: 1.1494

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/3 | Workload-time: 19.826441 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=naru', '--data_update=sample', '--dataset=bjaq', '--drift_test=js', '--end2end', '--update_size=80000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
Sample - START
Sample - END
load_npy_dataset_from_path - df.shape = (458601, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (76433, 5)
[1.3709068e-06 4.1723251e-07 2.9802322e-07 1.7881393e-06 5.9604645e-08]
Distance score: 7.867812996664725e-07
SAUCE Drift detection: False
Detection latency: 0.0232s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/3 | Workload-time: 2.044481 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 3/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=naru', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=3', '--data_update=sample', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 458601, total size: 458601, split index: [382167 458601]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
query_seed:0
origin-bjaq_15.87 	max: 5.0000	99th: 2.5012	95th: 1.6667	median: 1.0651	mean: 1.1640
ReportEsts: [1.1794871794871795, 1.0503317318691374, 1.0149304003282484, 1.0016051364365972, 1.0285714285714285, 1.0, 1.1640765092647938, 1.0099393731752369, 1.4, 1.0175054704595186, 1.0220542055171749, 1.0022717012478104, 1.0010552233556103, 1.02321083172147, 1.0449603291213636, 1.0766129032258065, 1.0996784565916398, 2.0, 1.4444444444444444, 1.0294117647058822, 1.1019127930892636, 1.0482104269640595, 1.1414055884843353, 1.0918181818181818, 1.0303003185739341, 1.011415686796611, 3.0, 1.0562309613326382, 1.75, 1.6, 1.0431726907630523, 2.0, 1.0056872507843873, 1.0112479365111915, 1.3003209536909675, 1.0806794055201698, 1.0292131657013703, 1.0462962962962963, 2.0, 1.1206432638758526, 1.0215715072516982, 1.0081911262798635, 1.0114155251141552, 1.0199743918053776, 1.0396396396396397, 1.0565002008300977, 1.0952380952380953, 1.0669456066945606, 1.437125748502994, 1.097037037037037, 1.2307692307692308, 1.028169014084507, 1.0448430493273542, 1.0625, 1.0906179307060364, 1.0232824115676824, 1.0481776288227902, 1.0837004405286343, 1.1325301204819278, 1.0015784804842414, 1.1044776119402986, 1.007330425113335, 1.057422969187675, 1.0196850393700787, 1.0614035087719298, 1.2307692307692308, 1.1173877974304316, 1.07161629434954, 1.2857142857142858, 1.0, 1.1373280071016423, 1.0445344129554657, 1.0703883495145632, 1.098330241187384, 1.068218876796481, 1.0082815734989647, 1.047208759648178, 1.1105527638190955, 1.0921985815602837, 1.0198928488236665, 1.273224043715847, 1.0508474576271187, 2.0, 1.0, 1.0284023668639053, 1.0, 2.0, 1.0, 1.0, 1.044526156909342, 1.0880913539967374, 1.049554565701559, 1.0914778916790033, 1.1291443005999369, 1.063660477453581, 1.2687793427230047, 1.1379310344827587, 1.15, 1.5714285714285714, 1.161188118811881, 1.3636363636363635, 2.6666666666666665, 1.0325991111738149, 1.1125429553264605, 1.0136494252873562, 1.0025593504545054, 1.0476190476190477, 1.0183826128392903, 1.113580850024426, 1.0467501286228778, 1.0682036503362151, 1.0258620689655173, 1.1428571428571428, 1.7142857142857142, 1.1837813002526993, 1.0126457280764107, 1.0921658986175116, 1.0495049504950495, 1.0033703360932806, 1.0, 1.2092727850111147, 1.1511254019292605, 1.5, 1.2534562211981566, 1.4285714285714286, 1.0252100840336134, 1.0125397120379465, 1.100652075666602, 1.0387596899224807, 2.2, 1.259463179628355, 1.0, 1.7777777777777777, 1.001937090674292, 1.3076923076923077, 1.0157894736842106, 1.0380366831461705, 1.0449353925880467, 1.4285714285714286, 1.5, 1.0277185501066097, 1.0733659404179636, 1.051595744680851, 1.0411916817849503, 1.131979695431472, 1.0794956140350878, 1.032450566447891, 3.0, 1.023836985774702, 1.0425321463897133, 1.0699631772751184, 1.0197802197802197, 1.3333333333333333, 1.0084771419921283, 1.0024479804161566, 1.0385906040268456, 1.3762376237623761, 1.0, 1.0760437375745526, 1.0539863971282826, 1.0905337437129345, 1.174757281553398, 1.0918635170603674, 1.0338983050847457, 1.392156862745098, 1.1072386058981234, 1.25, 1.0010415500055998, 1.0, 1.0725513905683193, 1.00397946084724, 1.1999195494770716, 1.0491439027578093, 1.0088028169014085, 1.111504424778761, 1.243308805692569, 1.30078125, 1.107457898957498, 1.0683982683982685, 1.033880635913474, 1.0004349717268377, 1.024562075644382, 1.0649350649350648, 1.0839328537170263, 1.0373856825313204, 1.0324818411817513, 1.1025641025641026, 1.0217750733896456, 1.1611111111111112, 2.1666666666666665, 1.0957178841309825, 1.0100916906263857, 1.1379310344827587, 1.0384215991692627, 1.1295265685751315, 1.012684470662467, 1.024900270235491, 1.0141414141414142, 1.0520298729338478, 1.0395807791180542, 1.0789356984478935, 1.1310706787963611, 1.0851606323304437, 1.014075612982296, 1.187467362924282, 1.080266971107403, 1.0194174757281553, 1.1267605633802817, 1.0198019801980198, 1.0, 1.0824175824175823, 1.057889628397116, 1.7234042553191489, 1.1759259259259258, 1.040893760539629, 1.16, 1.0098260381400443, 1.0198675496688743, 1.0131354901483824, 1.375, 1.0660621761658031, 1.0415263748597081, 1.0051277730298398, 1.0555202373384192, 1.1428571428571428, 1.0245668713905949, 1.013269099334878, 1.0550358401166322, 1.0079787234042554, 1.3242784380305603, 1.0813823857302118, 1.0693189259986902, 1.0, 1.00082412785622, 1.0558082522667596, 1.0893470790378006, 1.0972104818258663, 1.0213776722090262, 1.4375, 1.0775244299674267, 1.0, 1.0103901195843952, 1.0689558775567256, 1.1641005651919705, 1.4085365853658536, 1.2307692307692308, 2.5, 1.0828567238598035, 1.2295081967213115, 1.115090351582269, 1.75, 1.0124711316397228, 1.0585774058577406, 1.5714285714285714, 1.0099373208604996, 1.1023255813953488, 1.1774358974358974, 1.0462962962962963, 1.0174750356633382, 1.0528577494692144, 1.0735294117647058, 2.0, 1.0080487554001234, 1.1728776690136813, 1.0717488789237668, 1.073728322077339, 1.0761993164845365, 1.0371103974193914, 1.0947368421052632, 1.0283632731599124, 1.0729743331655763, 1.1614477429849532, 1.273163768492084, 1.4285714285714286, 1.0579235956854975, 1.0487364620938628, 1.3076923076923077, 1.1923076923076923, 1.0675751703444396, 1.0184899845916795, 1.0073485907340873, 1.0162346909712332, 1.1631205673758864, 1.14713216957606, 1.0046913771712158, 1.0498554913294798, 1.072824777923027, 1.0179463950328127, 1.8, 4.0, 1.0791841631673664, 1.0155956619435067, 1.0271357620487778, 1.0547040640772125, 1.0782422293676313, 1.0039128004471771, 1.0184754146057609, 1.085003125114894, 1.0222875200975772, 1.03353188033031, 1.0663461538461538, 1.0283687943262412, 1.3636363636363635, 1.0809024979854955, 2.0, 1.008896797153025, 1.0205680381446622, 1.09022071854358, 1.2222222222222223, 1.43801652892562, 1.0845665961945032, 1.1589288819335768, 1.0246010958816063, 1.0476190476190477, 1.065136476426799, 1.0179936932071976, 1.150273224043716, 1.6666666666666667, 2.625, 1.1062767475035664, 1.8571428571428572, 1.0218594184065943, 1.06605222734255, 1.1363636363636365, 1.0592520993173442, 1.12, 1.6666666666666667, 1.0234638160979235, 2.0, 1.0357142857142858, 1.0677966101694916, 1.0592662276575728, 1.0659484165850472, 1.167785234899329, 1.1491228070175439, 1.026060359811291, 1.0084050674029559, 1.1192031352057479, 1.004092330643892, 1.072414433372532, 1.5, 1.1818181818181819, 1.0206677110801896, 1.5, 1.0464692482915718, 1.0, 1.6666666666666667, 1.08, 1.1709486166007905, 1.078525641025641, 1.2975206611570247, 1.0144927536231885, 1.1851851851851851, 2.75, 1.0433673121272908, 1.2222222222222223, 1.0, 1.0155318387789172, 1.1672727272727272, 1.0566188197767146, 1.008364312267658, 2.25, 1.25, 1.1350777934936351, 1.2, 1.1007984031936129, 1.013058627797717, 1.0651498197190103, 1.0537084398976981, 1.0, 1.0060905229236854, 1.0985915492957747, 1.3448275862068966, 1.3333333333333333, 1.1142472515144717, 1.4285714285714286, 1.0826271186440677, 1.0076923076923077, 1.0480937506922754, 1.03516772860842, 1.1601626016260163, 1.0483044379020827, 1.0387466778570429, 1.2307692307692308, 1.0571030640668524, 1.0242254833449802, 1.0823353293413174, 1.0555555555555556, 1.011107719602812, 1.0315201489559782, 1.0390763765541742, 1.0436893203883495, 1.0425531914893618, 1.0218579234972678, 2.0, 1.9259259259259258, 1.0, 1.0690298507462686, 1.5588235294117647, 1.0547945205479452, 1.0532514080901179, 1.0649801587301588, 1.009839345867043, 1.1713624083365497, 1.1921363040629096, 1.2222222222222223, 1.1810344827586208, 1.054054054054054, 2.0, 1.0013554301045218, 1.2666666666666666, 1.0066377957223094, 1.0268986781018534, 1.029073482428115, 1.0142588108689803, 2.4285714285714284, 1.0028618152085036, 1.3333333333333333, 1.0835624871742253, 1.0909090909090908, 1.0357841766843723, 1.0464547677261613, 1.064761054041983, 1.1523178807947019, 1.0759312320916905, 4.0, 1.0941052075072695, 1.0047834498727968, 1.059406321540563, 1.5, 1.375, 1.039745627980922, 1.2987951807228915, 1.0976240724351556, 1.0609274224386265, 1.1153846153846154, 1.07532281205165, 1.0949042973693945, 1.0885452284737334, 1.0091708265476294, 1.0715945794548467, 1.0748168145005785, 1.0606060606060606, 1.2369878183831673, 1.0002605132110258, 1.123076923076923, 1.0748538011695907, 1.0, 1.3333333333333333, 1.1468305304010349, 1.0803212851405624, 1.2602368866328257, 1.0431381347692767, 1.1746126340882002, 1.0, 1.1507936507936507, 1.2413793103448276, 1.0391020087814775, 1.04, 2.0, 1.0898086684888715, 1.0, 1.0, 1.1402646502835538, 1.75, 1.1944264419961115, 1.0237037037037038, 1.3805970149253732, 1.0, 1.0254966272665387, 1.0640809443507588, 1.037037037037037, 1.0891306392450701, 1.0225563909774436, 1.0368364030335862, 1.1808943089430894, 1.0114345114345114, 1.1748181470137826, 1.0, 1.0, 1.0011976047904192, 1.0244194756554308, 1.118939393939394, 1.2, 1.0240895295902883, 1.011154144074361, 1.0406539991162174, 2.0, 1.1018793273986152, 1.0464261202078635, 1.1108209564223928, 1.2558623712469867, 1.0346647672958333, 1.0369358266802409, 1.0283486888731397, 1.0717885959635767, 1.5, 1.082610934683718, 1.0212713936430318, 1.0295801526717556, 1.0736196319018405, 1.0053050397877985, 1.0392518507022022, 1.3888888888888888, 1.052304724246241, 1.1489832007073386, 1.0277129381477959, 1.0511363636363635, 1.0203935964107271, 1.1787549108491993, 1.0481927710843373, 1.130952380952381, 1.041548403446528, 1.158351409978308, 1.0324442998861603, 1.0092131812159715, 1.3333333333333333, 1.2214204329661982, 1.1174863387978142, 1.2, 1.0784313725490196, 1.002731557283391, 1.1204379562043796, 1.0568996415770608, 1.0, 1.0849056603773586, 1.0265026029342168, 1.0031102072901892, 1.0199809705042817, 1.0226199971234686, 1.0539162112932605, 1.0328638497652582, 1.0973209404045927, 1.10030150105606, 1.2748091603053435, 1.0656493994867142, 1.0416666666666667, 1.0930232558139534, 1.0121901452022695, 1.172514619883041, 1.0240380913267795, 1.0, 1.0095693779904307, 1.6109215017064846, 1.05461921567334, 1.0656779661016949, 1.080392156862745, 1.037520391517129, 1.0425531914893618, 1.0003558261591532, 1.0, 2.037037037037037, 1.7142857142857142, 1.3333333333333333, 1.1414141414141414, 1.308108108108108, 1.3161512027491409, 1.094170403587444, 1.035968326399141, 1.055251368840219, 1.0496057818659659, 1.0307116720799243, 1.0030075918221992, 1.05353355647358, 1.0313770985851636, 1.073054526204341, 1.0092176518032032, 1.0050435689997421, 1.0505397448478901, 1.0122086570477247, 1.0877403846153846, 1.2272727272727273, 1.0042762627077617, 1.229899497487437, 1.0100636435958632, 1.1019417475728155, 1.11313672922252, 1.1316998468606432, 2.5, 1.0211764705882354, 1.0666666666666667, 1.5, 1.0029498525073746, 1.0156777346234724, 1.0196531791907515, 1.0523560209424083, 1.0402298850574712, 1.0024626037768052, 1.158513640639699, 1.0711678832116789, 1.0, 1.6666666666666667, 1.0488187213078042, 1.382882882882883, 1.056900212314225, 1.0090390104662226, 1.0, 1.0801603206412826, 1.1274509803921569, 1.021915983444076, 1.212481426448737, 1.0055357142857142, 1.091664642398584, 1.0154999867271908, 1.146341463414634, 3.6666666666666665, 1.0873964585090026, 1.0, 1.119078104993598, 1.1757322175732217, 1.207161125319693, 1.125545782446371, 1.2666666666666666, 1.057927450580803, 1.1605839416058394, 1.155813953488372, 1.1667377398720682, 1.0451866404715127, 1.0005906674542233, 1.0468351949833432, 1.036936936936937, 1.01247947454844, 1.6, 1.0312660174269606, 1.0866006785352034, 1.0, 1.0278532608695652, 1.0567692682530658, 1.1140456182472989, 1.0534359419033168, 1.2, 1.2522727272727272, 1.1235831407505228, 1.1070615034168565, 1.31496062992126, 1.011570399826235, 1.3113207547169812, 1.8, 1.061328249126152, 1.0313152400835073, 1.0400572854631047, 1.0392486683487525, 1.0350298151603974, 1.0030360866905919, 1.2340425531914894, 1.0326569435637285, 1.1192660550458715, 1.0242190470008994, 1.0925039872408293, 1.0807354116706636, 1.1367634124890063, 1.0892276422764227, 1.1111111111111112, 1.091884161601716, 1.0, 1.3333333333333333, 1.0385093167701864, 1.0161794447508734, 1.0633498145859086, 1.1244813278008299, 1.6666666666666667, 1.0205371248025277, 1.0867611475976495, 1.5229357798165137, 1.0143117809287685, 2.3333333333333335, 1.0336205950159183, 1.0, 1.4143646408839778, 1.2857142857142858, 1.0276036960387094, 1.3333333333333333, 1.1942148760330578, 1.0859375, 1.0, 1.1529921828811667, 1.1023339317773788, 2.5, 1.25, 1.1081081081081081, 1.078125, 1.0924019607843136, 1.0206463195691202, 1.0678670360110802, 1.1754385964912282, 1.1123595505617978, 1.010277822386382, 1.5080213903743316, 1.50990099009901, 1.1764705882352942, 1.0, 1.1342857142857143, 1.2202970297029703, 1.0390070921985815, 1.3380508572086065, 1.0145766271153855, 1.213122965189081, 1.0042846543835786, 1.051542156490962, 1.0397614314115309, 1.0099850224663005, 1.6666666666666667, 1.5, 1.0263157894736843, 1.0328867394287955, 1.1834061135371179, 1.0352303523035231, 1.4104046242774566, 1.0786981120081367, 1.059169149288315, 1.0031700471188896, 1.064516129032258, 1.1304347826086956, 1.0796324655436447, 1.1492537313432836, 1.0623184293377654, 1.022070895727965, 1.349112426035503, 1.085624846550454, 1.0366366279906718, 1.0047711485838575, 1.051978277734678, 1.0230270010415832, 1.1868131868131868, 1.0250674893945237, 1.1214361140443505, 1.0010512900327133, 1.0238095238095237, 1.0184653262207632, 1.0, 1.120253164556962, 1.0262936677461587, 1.2, 1.0218483374531537, 1.142602495543672, 1.127659574468085, 1.031855815831987, 1.015648420169075, 1.130980106063582, 1.0008025682182986, 1.054617676266137, 1.0106090188421821, 1.1458333333333333, 1.0, 1.0, 1.2, 1.0128212906226617, 2.1666666666666665, 1.0513689076634918, 1.063090630906309, 1.1228813559322033, 1.0767994284693696, 1.0606397459165153, 1.0285943345804383, 1.0506329113924051, 1.0725513905683193, 1.034436656333194, 1.0011717605702568, 1.0037761181505414, 1.018455828882369, 1.4444444444444444, 1.2717842323651452, 1.3122923588039868, 1.014503640355946, 1.0136986301369864, 1.0001760873393204, 1.2023988005997002, 1.034710743801653, 1.0493528749744219, 1.0149425287356322, 1.020910196837046, 1.263157894736842, 1.0050998871054828, 1.012206096841931, 1.1767676767676767, 1.0186046511627906, 1.1428571428571428, 1.0848837209302327, 1.14822848879248, 1.1201330598597012, 1.1166848418756816, 1.0072543665564082, 1.25, 1.128537170263789, 1.2254408060453401, 1.1218274111675126, 1.087378640776699, 1.1690518783542039, 1.152621722846442, 1.1203183520599251, 1.0547560368775541, 1.0413064361191162, 1.0285233393177737, 1.0415190339862241, 1.0625, 1.0608817354793563, 1.0547851395309022, 1.1097820743896445, 1.0, 1.3338533541341653, 1.25564681724846, 1.018458197611292, 1.028395061728395, 1.030153772224892, 1.1818181818181819, 1.0255962769051774, 1.0078186596583443, 1.0263700041203132, 1.565149136577708, 1.0076568831786292, 1.0673278436937903, 1.072812291249165, 1.060546875, 1.0081436968443174, 1.107091292758774, 1.054773082942097, 1.271111111111111, 1.0433255269320842, 1.0107518064879824, 1.0396039603960396, 2.75, 1.0199948934221996, 1.0078671430400223, 1.0225159079784631, 1.2485207100591715, 1.045840922890103, 1.0209028569403509, 1.017904034375746, 1.151744430432955, 1.0, 1.0931961120640366, 1.7058823529411764, 1.1303191489361701, 1.46875, 1.0734837681402567, 1.0158730158730158, 1.0092044707429322, 1.0769230769230769, 1.0178326474622772, 1.0606523955147809, 1.0833333333333333, 1.0, 1.0055248618784531, 1.1312217194570136, 1.0625, 1.5, 1.0576576389896186, 1.0666666666666667, 1.183830606352262, 1.1043478260869566, 1.2209302325581395, 1.0525399129172714, 1.0288277123720162, 1.026103897873268, 1.1904761904761905, 1.5411764705882354, 1.105263157894737, 1.0833333333333333, 1.2291666666666667, 1.4035087719298245, 1.0419512195121952, 1.0100617495904938, 1.010024796537229, 1.0062893081761006, 1.0132607840117722, 1.0014388009158282, 5.0, 1.008639742816958, 1.2305010893246187, 1.0, 1.2857142857142858, 1.0347890451517394, 1.0922893718368563, 1.0754316543195184, 1.0130208333333333, 1.5, 1.0827338129496402, 1.0700808625336926, 1.0704225352112675, 1.0241013486108295, 1.038536229289187, 1.0284167750535465, 1.1425501432664757, 1.3, 1.00616543881553, 1.0547770700636943, 1.0543572044866265, 1.0192023633677991, 1.1009389671361502, 1.0, 1.25, 1.1117921921318394, 1.0346914550348587, 1.00390625, 1.049342105263158, 1.0250960601020818, 1.154225352112676, 1.1147540983606556, 1.2318840579710144, 1.0545932213176281, 1.0448127685696746, 1.0506723727656748, 1.4615384615384615, 1.3020833333333333, 1.2270588235294118, 1.0, 1.006902502157032, 1.058968058968059, 1.0050324755813378, 1.0399274047186933, 1.5, 1.0696875, 1.0553196909229854, 1.182318415260455, 1.4283157038242473, 1.0424706600861628, 1.003347747245083, 1.0805217866411692, 1.0378486055776892, 1.0517241379310345, 1.0377729553777295, 1.0423818223926302, 1.0633663366336634, 1.2026431718061674, 2.5, 1.0777777777777777, 1.0021635817908954, 1.2152269399707174, 1.0176964685078276, 1.01627925280722, 1.1182732111176819, 2.0, 1.0108267716535433, 1.0036258626416208, 1.0339309812994024, 1.134185303514377, 1.0066308119016611, 1.283387622149837, 1.465771812080537, 1.0851167315175096, 1.0024739342527718, 1.003380361041339, 1.1260997067448681, 1.1231422505307855, 1.1142857142857143, 1.0234330484330485, 1.6666666666666667, 1.0583854005567583, 1.025, 1.0314735336194563, 1.0618489583333333, 1.2222222222222223, 1.0722021660649819, 2.5, 1.0, 1.3333333333333333, 1.0252631578947369, 1.1275773195876289, 1.0160424488782698, 1.0516306386042813, 1.1503416856492028, 1.064993122420908, 1.0833333333333333, 1.1024165707710012, 1.0061919504643964, 1.8333333333333333, 1.5833333333333333, 1.0458097547830774, 1.125, 1.18122555410691, 1.1525210084033612, 1.127677517287907, 1.0269142316017317, 1.0, 1.1679137982639929, 1.2707622298065984, 1.0598887915603459, 1.0001414227124876, 1.0449069003285871, 1.0441874258600237, 1.0169298549576753, 1.0271911663216011, 1.069611780455154, 1.5818181818181818, 1.2155963302752293, 1.0, 1.0, 1.0005587528636084, 1.25, 1.8571428571428572, 1.4545454545454546, 1.0100200400801602, 1.0073660915666742, 1.0261475886112725, 1.0617760617760619, 1.2857142857142858, 1.0236733083448413, 1.0144063586686538, 1.1441578148710168, 1.0269151138716357]
origin-bjaq_15.87 	max: 5.0000	99th: 2.5012	95th: 1.6667	median: 1.0651	mean: 1.1640

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/3 | Workload-time: 17.020705 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=1, #drift=0 | total-time=38.923665