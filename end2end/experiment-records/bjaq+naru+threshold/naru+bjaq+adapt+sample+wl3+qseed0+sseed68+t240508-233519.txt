Input arguments = Namespace(data_update='sample', update_size=80000, dataset='bjaq', debug=False, drift_test='js', model_update='adapt', model='naru', end2end=False, query_seed=0, random_seed=42, num_workload=3)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 68, 'naru': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=naru', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=3', '--data_update=sample', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
query_seed:0
origin-bjaq_15.87 	max: 5.0000	99th: 2.5017	95th: 1.5717	median: 1.0560	mean: 1.1483
ReportEsts: [1.171003717472119, 1.0448979591836736, 1.0552243704727085, 1.0115384615384615, 1.0344827586206897, 1.0, 1.1701743836440168, 1.01305543349747, 1.25, 1.0372836218375499, 1.0350907569330217, 1.0024573538589556, 1.039284155390659, 1.069767441860465, 1.0515718827269516, 1.0, 1.8, 1.0563230605738576, 3.0, 2.6666666666666665, 1.2272727272727273, 1.0700884192365754, 1.0364366485181444, 1.0944730077120823, 1.0093734583127776, 1.0, 1.058141455518483, 1.0, 1.2, 1.1654676258992807, 1.0, 1.00310021629416, 1.0162116775749226, 1.3967813540510543, 1.0121897488618006, 1.0127953422246294, 1.0476190476190477, 1.0011558167204915, 1.1254562986431573, 1.1428571428571428, 1.080332409972299, 1.0152439024390243, 1.0, 1.138991116751269, 1.0478173685022367, 1.2314049586776858, 1.1359223300970873, 1.2145922746781115, 1.0362203132043832, 1.0285714285714285, 1.1251475512514755, 1.2382978723404254, 1.006072790581993, 1.0, 1.2493506493506494, 1.045480155252285, 1.293090909090909, 1.0727969348659003, 1.1614906832298137, 1.25, 1.0564794620138132, 1.0386052303860522, 1.1045454545454545, 1.0919540229885059, 1.0909090909090908, 1.0640337821466892, 1.1225557697603965, 1.1666666666666667, 1.0, 1.0712003195526263, 1.022673031026253, 1.0670945157526255, 1.1283783783783783, 1.1491585300034346, 1.1788235294117646, 1.1226611226611227, 1.0, 1.0458515283842795, 2.0, 1.0393124623375132, 1.5, 1.0481623277182235, 1.2453987730061349, 1.0458715596330275, 1.0636743215031315, 1.04, 1.006666907566669, 1.045065950170982, 1.1715686274509804, 2.3333333333333335, 1.0685714285714285, 1.03117445341772, 1.0404984423676011, 1.3141654978962132, 1.200657894736842, 1.1031518624641834, 1.2616822429906542, 1.0008539709649873, 1.0, 1.00330150798608, 1.2275017998560116, 1.0095238095238095, 1.014607425441266, 1.0625, 1.0029349564627175, 1.112850812407681, 1.0077987111603661, 1.0583996966249527, 1.0299968424376382, 1.1666666666666667, 1.3333333333333333, 1.1172017749934744, 1.0074610848212917, 1.0739484396200814, 1.0649350649350648, 1.0073452131418155, 1.0, 1.1683861459100957, 1.1751196172248803, 1.0, 1.2307692307692308, 1.4, 1.005012531328321, 1.0190338406901844, 1.1161761279801197, 1.087378640776699, 1.8, 1.2731788079470199, 1.0, 1.3928571428571428, 1.0055719704327735, 1.1818181818181819, 1.0294596354166667, 1.0138732752611053, 1.0640886740561712, 1.1795275590551182, 1.0488505747126438, 1.0066692820714005, 1.00199203187251, 1.04923273657289, 1.0559287573194536, 1.2469135802469136, 1.0450097847358122, 1.0021098075562818, 2.0, 1.0119926199261993, 1.0294117647058822, 1.03287841191067, 1.0594670901711665, 1.0, 1.075078711552434, 1.002962962962963, 1.02, 1.4476190476190476, 1.018978102189781, 1.1476107564325788, 1.0371693085354798, 1.0086121381549282, 1.1254752851711027, 1.138157894736842, 1.0, 1.2318840579710144, 1.0951612903225807, 1.4285714285714286, 1.009783974898046, 1.0057361523301203, 1.033390903857225, 1.028796003819878, 1.030543677458766, 1.0509395457316266, 1.0378947368421052, 1.0924369747899159, 1.1915367483296213, 1.0521276595744682, 1.1624874623871615, 1.066321243523316, 1.0413118889940083, 1.0512340148244685, 1.0374957168730725, 1.0, 1.5949367088607596, 1.042672160094173, 1.0476190476190477, 1.1191268960414353, 1.2258064516129032, 1.0310326498761635, 1.0242125984251969, 1.063415795511114, 1.0, 1.2077272727272728, 1.1012097930164555, 1.0, 1.6363636363636365, 1.026766107313031, 1.3246311010215663, 1.0828756864702946, 1.206896551724138, 1.005144694533762, 1.0102817328393716, 1.0042540601844174, 1.1798245614035088, 1.0754716981132075, 1.0, 1.0625, 1.0238095238095237, 1.0, 1.08843537414966, 1.0754748982360922, 1.6794425087108014, 1.1839080459770115, 1.018783984181908, 1.0957683741648108, 1.0488212463163948, 1.0006103651093108, 1.0014308943089432, 1.135483870967742, 1.004335260115607, 1.040458530006743, 1.0078838531793899, 1.0345293713093178, 1.0, 1.0910973084886129, 1.0206211963051228, 1.0075601140518435, 1.0733104238258877, 1.0332256327409801, 1.0056251057350702, 1.0344827586206897, 1.000268319064908, 1.0655309795301553, 1.1951494641849971, 1.032258064516129, 1.0599460692802323, 1.0205029013539653, 1.0259842519685038, 1.0, 1.0649219929542024, 1.0548794104510943, 1.053680262541022, 1.2985074626865671, 1.0909090909090908, 2.6666666666666665, 1.0434744376637766, 1.1454545454545455, 1.0660693523014841, 1.5, 1.5, 1.3333333333333333, 1.074551131928181, 1.3877551020408163, 1.0828729281767955, 1.1023255813953488, 1.0853658536585367, 1.0210030004286326, 1.0146319428077617, 1.0701754385964912, 1.0, 1.0605013247271498, 1.1289282283518596, 1.1243432574430823, 1.0640612140489802, 1.0864529892822674, 1.0026805242645003, 1.109697933227345, 1.06416914599581, 1.063397129186603, 1.1616080077494348, 1.2403655750190403, 1.5454545454545454, 1.0732269844320583, 1.1449893390191899, 1.25, 1.0869565217391304, 1.186909090909091, 1.0, 1.1359223300970873, 1.0253066743938954, 1.0375722543352601, 1.180473372781065, 1.0032824993721199, 1.0101694915254238, 1.0110162756373011, 1.016506693408465, 1.6, 1.0608948708621317, 1.0, 1.0009636696540425, 1.0498866213151927, 1.0054389877565881, 1.325, 1.1111111111111112, 1.0434782608695652, 1.5070422535211268, 1.0069391698516768, 1.0, 1.0045871559633028, 1.0135746606334841, 1.0388621794871795, 1.0028278945145837, 1.2038216560509554, 1.0251572327044025, 1.0051016577074785, 1.0521982685452385, 1.1170873352691535, 1.1794871794871795, 1.0, 1.2553699284009547, 1.0147783251231528, 1.1214953271028036, 1.0401853411962931, 1.0398959236773635, 1.25, 1.0, 1.0137174211248285, 1.0817750488417528, 1.5714285714285714, 1.0190683663090454, 1.0677655677655677, 1.263157894736842, 1.0200555470265593, 1.1428571428571428, 1.75, 1.0446848438017442, 2.0, 1.037037037037037, 1.0625, 1.0401968826907302, 1.046714172604909, 1.1801566579634464, 1.1428571428571428, 1.0084687292847576, 1.0111333541177823, 1.0124137931034483, 1.0178014054180367, 1.1388052606559975, 2.0, 1.1111111111111112, 1.0188002747284728, 1.3333333333333333, 1.0469688694702348, 1.0, 1.0, 1.0454545454545454, 1.093304061470911, 1.0990291262135923, 1.4333333333333333, 1.0292207792207793, 1.0, 1.0632490013315579, 1.0105512781028643, 1.5, 1.2870756402620607, 1.0, 1.0120094131936537, 1.0470588235294118, 1.0699553922854894, 1.1658986175115207, 1.0018181818181817, 1.1704885343968097, 1.0092592592592593, 1.0164894378669238, 1.0073584085751532, 1.0386151797603196, 1.0, 1.1428571428571428, 1.8333333333333333, 1.5, 1.1428571428571428, 1.002585092632486, 1.25, 1.0399334442595674, 1.0693069306930694, 1.0164702901304954, 1.0079520782651914, 1.0178197064989518, 1.0952274122703443, 1.0335731414868106, 1.274658573596358, 1.5, 1.0105263157894737, 1.0491071428571428, 1.0243184431104375, 1.3333333333333333, 3.142857142857143, 1.0757238307349666, 1.0343023255813955, 1.0026037683258042, 1.150916784203103, 1.342769701606733, 1.0597274572339808, 1.4285714285714286, 1.0808477237048666, 1.0010593220338984, 1.2307692307692308, 1.055306427503737, 1.0982142857142858, 1.0319726430718272, 1.0171111050581538, 1.0489798776378325, 1.011764705882353, 1.0810810810810811, 1.0623145400593472, 1.0, 1.0247249987442866, 1.0342259084132928, 1.0169899573531436, 1.0057125784284433, 1.0382209867963863, 1.0177878395860285, 1.8333333333333333, 1.1924746743849493, 1.2, 1.0640478223740393, 1.1111111111111112, 1.0263979657841322, 1.0260869565217392, 1.0343938091143594, 1.1106719367588933, 1.1699530516431924, 3.0, 1.1297154202514892, 1.0071011013579139, 1.0202547360676844, 1.0, 1.2115384615384615, 1.092130518234165, 1.3333333333333333, 1.100147758988672, 1.068888888888889, 1.1666666666666667, 1.0060763888888888, 1.1192651973730339, 1.0529655481318354, 1.0149172291796844, 1.1202850877192982, 1.208955223880597, 1.0795454545454546, 1.0, 1.017766497461929, 1.3448275862068966, 1.0409276944065484, 1.0, 1.1109099459205267, 1.25, 1.109134556198449, 1.0301490634847572, 1.1439661256175018, 1.0, 1.0961538461538463, 1.32, 1.0020623370559165, 1.3938730853391685, 1.0, 1.039651837524178, 1.0100079875957337, 1.1485007139457402, 1.0, 2.0, 1.1992233009708737, 1.008130081300813, 1.412037037037037, 1.0, 1.0188831717131737, 1.0047438330170777, 1.0869565217391304, 1.0571374764595103, 1.0272727272727273, 1.0223097112860893, 1.1830645161290323, 1.016827934371056, 1.097812984329258, 1.0, 1.0810810810810811, 1.0911027568922307, 1.0202073700651026, 1.0408306132604608, 1.0, 1.0521293925994881, 1.0147971185435452, 1.0282870612886328, 1.0, 1.121212121212121, 1.0394873122734334, 1.127422995220393, 1.169629985583854, 1.0221788620777015, 1.1728909636545515, 1.0235294117647058, 1.0494214079074253, 2.0, 1.0516822574810067, 1.1384615384615384, 1.0, 1.2866666666666666, 1.1304347826086956, 1.0468304175210505, 1.005947323704333, 1.0611273582200815, 1.4478405315614618, 1.0292885576745048, 1.0741241715135939, 1.0273934602448074, 1.1359223300970873, 4.0, 1.0461793302124596, 1.0234817813765182, 1.0072327779457313, 1.003534399248041, 1.0782275711159737, 1.0547297297297298, 1.0717948717948718, 1.5714285714285714, 1.0243914604948126, 1.0185397702583758, 1.0013511262470154, 1.1135865595325054, 1.0287641341003768, 1.088659793814433, 1.0011021022479, 1.1709816612729234, 1.0753424657534247, 2.0, 1.1666666666666667, 1.0812603648424544, 1.0761904761904761, 1.0170648464163823, 1.0809768637532133, 1.1383928571428572, 1.1371428571428572, 1.0554699537750385, 1.1043956043956045, 1.0090972393809385, 1.4125, 1.031594497569654, 1.0, 1.0799069045771916, 1.4325396825396826, 1.0354609929078014, 1.08649468892261, 1.1525851197982346, 1.030549898167006, 1.093385214007782, 1.0303476443768997, 1.0, 1.6808510638297873, 1.1666666666666667, 1.0, 1.0476190476190477, 1.1402298850574712, 1.375796178343949, 1.1573033707865168, 1.025632809996796, 1.1312335958005248, 1.0256585934020759, 1.011831985801617, 1.1007371007371007, 1.0142281219272369, 1.0755813953488371, 1.062225015713388, 1.158200290275762, 1.0727948990435707, 1.0, 1.0395401009534493, 1.0367237574866028, 1.1023948418790297, 1.0127940325988174, 2.0, 1.0024630541871922, 1.022181146025878, 1.0410958904109588, 1.0, 1.2439024390243902, 1.1538461538461537, 1.0907335907335907, 1.5185185185185186, 1.5, 1.0270672772627425, 1.043380131508797, 1.001849504643162, 1.0301687271596298, 1.0756756756756756, 1.0364520048602672, 2.0, 1.232, 1.124476500697999, 1.0225439335089768, 1.0052012044894607, 1.0945437976990546, 1.0052923296978367, 1.046195652173913, 1.0007453647628808, 1.1847246891651866, 1.00516850909254, 1.0322859993599278, 1.4545454545454546, 1.117908787541713, 1.0, 1.0113378684807257, 1.0196809432980753, 3.0, 1.055249745158002, 1.0403570304420162, 1.2857142857142858, 1.1648692879023121, 1.1, 1.1176470588235294, 1.0035977337110482, 1.7692307692307692, 1.0143056781406297, 1.014523707817172, 1.1875, 1.2608695652173914, 1.2597402597402598, 1.02, 1.1597542242703534, 1.0273526930955537, 1.009980944258625, 1.0, 1.1692374538344559, 1.0060975609756098, 2.0, 1.0981848375118204, 1.0209793234708884, 1.1333964049195837, 1.0168114290524026, 1.0351673427991885, 1.3452380952380953, 2.0, 1.0509699505515404, 1.0180623973727423, 1.0026882177796683, 1.0153435623749165, 1.0304537516785872, 1.0944256396182113, 1.0167597765363128, 1.0059880239520957, 1.1455938697318007, 1.0157832076017537, 1.0807570977917982, 1.0045495905368518, 1.2998949579831933, 1.052314624076298, 4.0, 1.0034736786912752, 1.024810886571704, 1.0239410483285372, 1.0555555555555556, 1.0352213916043704, 1.1581196581196582, 1.0, 1.030417560053785, 1.0134426229508198, 1.099639855942377, 1.2058823529411764, 1.6666666666666667, 1.0502630124796373, 1.5, 1.4125412541254125, 1.1538461538461537, 1.0751866582932106, 1.3333333333333333, 1.2279792746113989, 1.1069182389937107, 1.0, 1.2764550264550265, 1.0006540222367561, 2.0, 1.0, 1.0901639344262295, 1.0175438596491229, 1.1272294887039238, 1.0159914712153517, 1.0109375, 1.0, 1.089150378938971, 1.0493506493506493, 1.5806451612903225, 1.5408805031446542, 1.3846153846153846, 1.0, 1.011066398390342, 1.2655122655122655, 1.0232558139534884, 1.2658360655737706, 1.0247900767924212, 1.1708309122603138, 1.0114131562564848, 1.0206988156292662, 1.0830324909747293, 1.029832935560859, 1.5714285714285714, 1.0, 1.0625, 1.0513759564672747, 1.1228939544103071, 1.0065359477124183, 1.0252525252525253, 1.0587247040855288, 1.0486812570145903, 1.0083675320084229, 1.1025641025641026, 1.1, 1.0555144337527758, 1.0716463414634145, 1.0227521843976073, 1.0385545672028444, 1.1973684210526316, 1.1210868281157709, 1.0080299055216027, 1.1797583081570997, 1.0234497133923919, 1.2222222222222223, 1.049265750828991, 1.018018018018018, 1.0, 1.207236842105263, 1.0347890451517394, 1.0, 1.0922693266832917, 1.0167390160484082, 1.0740740740740742, 1.0336095654319808, 1.1578389830508475, 1.1162790697674418, 1.0004727272727272, 1.013518385003605, 1.0701383293043245, 1.0135396518375241, 1.1464245175936436, 1.0140892696122632, 1.1889596602972399, 1.0714285714285714, 1.0, 1.25, 1.0174397480925275, 1.8333333333333333, 1.0048113674175998, 1.0703785471972431, 1.2120070890562693, 1.0611169652265542, 1.0027642908621932, 1.154555198285102, 1.0689655172413792, 1.0388349514563107, 1.0372320191607767, 1.029133706347675, 1.0086570956067398, 1.0028905214982538, 1.4285714285714286, 1.078125, 1.3794466403162056, 1.0193452643852798, 1.1107491856677525, 1.0069576217583807, 1.1699115044247788, 1.0467836257309941, 1.049800231593316, 1.0219478737997256, 1.0157416267942583, 1.25, 1.0325641870425717, 1.0074505209527662, 1.0763682647433177, 1.0008428150021071, 1.15625, 1.088865096359743, 1.0895522388059702, 1.625, 1.0799475276026673, 1.3461538461538463, 1.0493951612903225, 1.065934065934066, 1.174645987862441, 1.0146489307964304, 1.0776470588235294, 1.3636363636363635, 1.0769230769230769, 1.0152946799514688, 1.0222406488181106, 1.02927907721884, 1.072422423298388, 1.0387108283284772, 1.0, 1.0638119227539882, 1.267079207920792, 1.1251841600071433, 1.0152594099694812, 1.2083333333333333, 1.051848512173129, 1.0336145473619793, 1.1789383561643836, 1.0209843775050322, 1.0, 1.3333333333333333, 1.029647210066998, 1.020543126495005, 1.0057228452911353, 1.0909476919344077, 1.0478850758180367, 1.1056511056511056, 1.0020148745148005, 1.081419624217119, 1.0522243713733075, 1.2972972972972974, 1.0343137254901962, 1.0119081618715309, 1.0238095238095237, 1.75, 1.0139851342426116, 1.0071113837916226, 1.0092059838895282, 1.2661870503597121, 1.0132061628760087, 1.00306887532694, 1.0154153582643448, 1.1725, 1.2307692307692308, 1.1185983827493262, 1.0126315789473683, 1.115625, 1.6538461538461537, 1.0613588110403398, 1.0059464816650148, 1.0864864864864865, 1.0789473684210527, 1.0654629350988063, 1.030686992674718, 1.0095276707885668, 1.0203091846013943, 1.6666666666666667, 1.0714285714285714, 2.0, 1.0345945945945947, 1.5769230769230769, 1.3333333333333333, 1.5, 1.2458745874587458, 1.0018148820326678, 1.0238485537517847, 1.0317953268263826, 1.0218181818181817, 1.3970588235294117, 1.0666666666666667, 1.096774193548387, 1.2567567567567568, 1.4, 1.0545171339563864, 1.0147234623099626, 1.0041767732656703, 1.0546875, 1.0309869172428414, 1.0019318352434814, 5.0, 1.007604368684291, 1.0557142857142856, 1.0, 1.3333333333333333, 1.1071005917159764, 1.1184823925984364, 1.002941631831553, 1.049689440993789, 1.0, 1.070539419087137, 1.2576687116564418, 2.0, 1.5, 1.1843011811023623, 1.0754662425907184, 1.1595189800057955, 1.25, 1.0180443884545556, 1.0728117738187453, 1.21571072319202, 1.1428571428571428, 1.1036269430051813, 1.0050856800962682, 1.4210526315789473, 1.0656022214508851, 1.046286525974026, 1.1247058823529412, 1.0118577075098814, 1.0549586776859503, 1.1904355251921435, 1.115702479338843, 1.2321428571428572, 1.0525347929688849, 1.0078277886497065, 1.048458052148089, 1.6213592233009708, 1.2592592592592593, 1.1492537313432836, 1.0483660130718955, 1.0382614018977656, 1.0025517351799222, 1.0093371909521305, 1.012008733624454, 3.0, 1.25, 1.0745663747209342, 1.1934916446789798, 1.355767360435713, 1.0049643246976696, 1.0697441043652784, 1.1130861689520908, 1.0498866213151927, 1.0416666666666667, 1.0286927128370411, 1.0313225534712662, 1.0754272245138479, 1.1190893169877407, 2.5, 1.0533333333333332, 1.0500752045196082, 1.0862604540023895, 1.0059789090452578, 1.0001890493182408, 1.1015625, 1.6, 1.0070588235294118, 1.011535195580013, 1.048435001142335, 1.0304182509505704, 1.0218495208124732, 1.256, 1.3187772925764192, 1.103768115942029, 1.003170870223672, 1.0558641838140528, 1.0956221198156681, 1.1293213828425097, 1.03125, 1.0369104579630894, 1.0159983281863143, 1.0726552179656539, 1.0274723392594114, 1.038728323699422, 1.0550678371907423, 1.3846153846153846, 1.0573248407643312, 2.5, 1.5, 1.4166666666666667, 1.0255754475703325, 1.1492890995260663, 1.0254001262579375, 1.0328893601042564, 1.182089552238806, 1.0106694560669456, 1.0271739130434783, 1.4489795918367347, 1.0425253396908045, 1.6, 1.3333333333333333, 1.153821138211382, 1.0, 1.1752738654147106, 1.1195866141732282, 1.0791347453808022, 1.0136907370437098, 1.25, 1.0173228346456693, 1.2751937984496124, 1.1992518703241895, 1.0007942301247355, 1.0245795601552394, 1.0325318246110324, 1.0401239568986471, 1.012916235217178, 1.1287758346581875, 1.392156862745098, 1.261173184357542, 1.0, 1.0, 1.0007778691749223, 1.6666666666666667, 1.5714285714285714, 1.3846153846153846, 1.0560509554140127, 1.1058823529411765, 1.0232558139534884, 1.0921165381319622, 1.0, 1.1744258224705153, 1.022700119474313, 1.1614349775784754, 1.0097087378640777, 1.25, 1.0079575596816976, 1.0837028824833703, 1.1099137931034482, 1.0476013387876535, 1.0044347474747475, 1.2234404122355005, 1.0568927789934355, 1.0, 1.006515209205906, 1.014324796916598, 1.0712876614060258, 1.2695652173913043, 1.0352221282523257]
origin-bjaq_15.87 	max: 5.0000	99th: 2.5017	95th: 1.5717	median: 1.0560	mean: 1.1483

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/3 | Workload-time: 20.116389 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=naru', '--data_update=sample', '--dataset=bjaq', '--drift_test=js', '--end2end', '--update_size=80000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
Sample - START
Sample - END
load_npy_dataset_from_path - df.shape = (458601, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (76433, 5)
[5.9604645e-08 1.0132790e-06 4.7683716e-07 1.0728836e-06 1.7881393e-07]
Distance score: 5.602836381513043e-07
SAUCE Drift detection: False
Detection latency: 0.0233s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/3 | Workload-time: 2.032899 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 3/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=naru', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=3', '--data_update=sample', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 458601, total size: 458601, split index: [382167 458601]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
query_seed:0
origin-bjaq_15.87 	max: 4.0000	99th: 2.6700	95th: 1.7789	median: 1.0665	mean: 1.1678
ReportEsts: [1.0497237569060773, 1.0338218714768883, 1.0422993765084474, 1.0258899676375404, 1.1470588235294117, 1.0, 1.1900864260294866, 1.0208997776215003, 1.4, 1.04, 1.0698600386100385, 1.0025541077060356, 1.003157894736842, 1.0348837209302326, 1.0356091818716893, 1.2913793103448277, 1.0638977635782747, 1.0, 1.6666666666666667, 1.0872420262664164, 1.0961994026161295, 1.043410658492012, 1.182844243792325, 1.0823634735899732, 1.0394808101960502, 1.0053026546887736, 2.0, 1.0498894077168837, 1.4, 1.6, 1.0818915801614764, 2.0, 1.0018775869660943, 1.0131352078396207, 1.2171268132896584, 1.057890855457227, 1.0166130760986067, 1.006896551724138, 1.0, 1.0211757568863864, 1.002968184769502, 1.059874757874068, 1.1519795657726692, 1.0128227960819234, 1.0636363636363637, 1.1026829610900408, 1.2727272727272727, 1.359375, 1.8357142857142856, 1.1195814648729447, 1.2857142857142858, 1.0514705882352942, 1.0762331838565022, 1.1290322580645162, 1.0819295467803187, 1.0398307498270882, 1.0009848058525606, 1.0803571428571428, 1.170731707317073, 1.0017063586826738, 1.0153846153846153, 1.0682158727984177, 1.0860366713681242, 1.0452830188679245, 1.1683168316831682, 1.0, 1.1848363142535179, 1.0362334105751, 1.0, 1.0, 1.0165654334621756, 1.034136546184739, 1.0681818181818181, 1.104089219330855, 1.1567560885152677, 1.0918657565415244, 1.0382994732881865, 1.0092165898617511, 1.0921985815602837, 1.0117706237424546, 1.1399020141535112, 1.0597014925373134, 1.0, 1.4666666666666666, 1.0447585394581862, 1.05, 1.5, 2.0, 1.4, 1.047604531014344, 1.0863250652741514, 1.0463385460505914, 1.0068523033491594, 1.242765833817548, 1.0296495956873315, 1.3536439665471924, 1.352112676056338, 1.2454780361757105, 1.102981029810298, 1.0831683168316832, 1.2285714285714286, 2.0, 1.0301707829973692, 1.2763214439192092, 1.037397157816006, 1.018340925437545, 1.2702702702702702, 1.0006727907202002, 1.1206341342581125, 1.0008221430528912, 1.0881226053639848, 1.03577064702788, 1.1428571428571428, 2.0, 1.145118145341061, 1.0103355321713134, 1.0596432552954291, 1.0, 1.0066732342909193, 1.0, 1.2102612527541705, 1.1297169811320755, 2.0, 1.1397379912663756, 1.1428571428571428, 1.0595482546201231, 1.0193099137981863, 1.0867895045250342, 1.0075187969924813, 2.2, 1.1974043715846994, 1.0, 1.8571428571428572, 1.0016622033428757, 1.1538461538461537, 1.0616302186878728, 1.0436285694530871, 1.0700073178381015, 1.5, 1.4, 1.0515463917525774, 1.0222915737851093, 1.0329787234042553, 1.0468136739853986, 1.12565445026178, 1.0850246845858476, 1.0562251139554, 3.0, 1.0265384615384616, 1.089430894308943, 1.0541948931735279, 1.0287074222817194, 1.3333333333333333, 1.042388240032219, 1.0409937888198757, 1.0032520325203251, 1.0156121610517665, 2.0, 1.1383616383616384, 1.0286552815843597, 1.1268347760632291, 1.1167192429022081, 1.123943661971831, 1.0175438596491229, 1.1479289940828403, 1.143854748603352, 1.1111111111111112, 1.0378493924115337, 1.0404040404040404, 1.0365135453474676, 1.0010313609116908, 1.1076923076923078, 1.0390474147178717, 1.073608617594255, 1.0660869565217392, 1.2050763883275402, 1.0340696368401348, 1.144159072079536, 1.0304311073541843, 1.0607927155865025, 1.056013788009356, 1.0043195165546004, 1.0822784810126582, 2.1052631578947367, 1.0156745601196715, 1.0452705189547296, 1.0216606498194947, 1.2982456140350878, 1.1869688385269122, 1.8571428571428572, 1.0965346534653466, 1.0300466164416853, 1.1153846153846154, 1.0119418483904465, 1.0365051256640618, 1.0127964978006019, 1.0334799448565615, 1.0351239669421488, 1.0349390619459116, 1.0713347816745051, 1.0429000429000428, 1.1146950254877834, 1.107993647432504, 1.0094016359444422, 1.1665796344647519, 1.1570887969726305, 1.0784313725490196, 1.0789473684210527, 1.0103092783505154, 1.0, 1.005464480874317, 1.0125575279421433, 1.6875, 1.1041666666666667, 1.0131524866420059, 1.206896551724138, 1.0002239248163816, 1.0616438356164384, 1.0194016466943834, 1.1428571428571428, 1.0238393977415308, 1.03792526491913, 1.010883881318997, 1.0608957463201005, 1.5, 1.2222222222222223, 1.0152530926221812, 1.0087460356184434, 1.013089005235602, 1.2694214876033059, 1.0219347581552305, 1.0632114941783155, 1.0, 1.004758999958091, 1.0049850180206863, 1.1870503597122302, 1.2664359861591696, 1.0203389830508474, 1.5217391304347827, 1.1268163804491413, 2.0, 1.075352557356346, 1.1108583631214892, 1.024769019068213, 1.2439024390243902, 1.1428571428571428, 3.3333333333333335, 1.1062854456231084, 1.0277777777777777, 1.115114786398782, 1.75, 1.025, 1.0587649402390438, 1.2857142857142858, 1.0051322480192362, 1.1538461538461537, 1.0872037914691943, 1.066132264529058, 1.0239029611130932, 1.0155693731235542, 1.1111111111111112, 2.0, 1.0107969820483913, 1.094790777113578, 1.1375739644970415, 1.0468769957849022, 1.0465376653006042, 1.0334984799009121, 1.0898876404494382, 1.0326197009493903, 1.0857142857142856, 1.2153458415009801, 1.4132159861491849, 1.4666666666666666, 1.0671994551936868, 1.1243243243243244, 1.2452830188679245, 1.2222222222222223, 1.0312866640594447, 1.0783353733170136, 1.0136925188743995, 1.0264275436072017, 1.174641148325359, 1.2295918367346939, 1.0046879335608336, 1.1452648475120386, 1.0725890759713186, 1.0234002944935021, 1.2307692307692308, 1.0553797468354431, 1.0787207872078721, 1.0303452569785196, 1.0406788466533898, 1.0175887477754988, 1.0979676915059926, 1.0213483146067415, 1.0022814772565236, 1.0627132176816434, 1.028033835809565, 1.090979414671881, 1.098814229249012, 1.4, 1.0, 1.0815305134000646, 1.6, 1.0199637023593466, 1.061208882885746, 1.0594929807823361, 1.0789473684210527, 1.2148760330578512, 1.2432432432432432, 1.1730668983492616, 1.005100178349795, 1.0476190476190477, 1.0129579455766287, 1.008725778698135, 1.115839243498818, 2.0, 2.0, 1.055655700766111, 1.625, 1.0151863038683682, 1.0574886535552193, 1.15, 1.0375845444961682, 1.2307692307692308, 1.7777777777777777, 1.0276622469331538, 2.0, 1.1090373280943024, 1.108641975308642, 1.1913598934366674, 1.0208399115882538, 1.207343412526998, 1.1512605042016806, 1.0269651000045148, 1.0271885128871385, 1.0223228728566807, 1.031015391353741, 1.0951988330056448, 3.0, 1.0833333333333333, 1.0151853678824634, 1.0, 1.0406392694063926, 1.1, 1.3333333333333333, 1.0740740740740742, 1.1695906432748537, 1.092816787732042, 1.1014492753623188, 1.0791666666666666, 1.2337662337662338, 2.25, 1.0223057216054654, 4.0, 1.1228070175438596, 1.046226357160403, 1.1702898550724639, 1.047049441786284, 1.0093984962406015, 1.8, 1.25, 1.1132075471698113, 1.1923076923076923, 1.0865290068829891, 1.0117538699852422, 1.0998250874562718, 1.0428211586901763, 1.0, 1.0030765817833667, 1.103658536585366, 1.2903225806451613, 3.0, 2.0, 1.25, 1.1241379310344828, 1.0483870967741935, 1.0171980136294259, 1.0297614286649166, 1.0900290416263312, 1.036742528105292, 1.0360889634913975, 1.1725978647686832, 1.0172642762284196, 1.0277436314465647, 1.0833333333333333, 1.027027027027027, 1.0071485569889613, 1.0189593267349304, 1.1269123694225218, 1.0192307692307692, 1.1162790697674418, 1.022099447513812, 2.0, 1.8518518518518519, 1.168, 1.0623818525519848, 1.4452554744525548, 1.089385474860335, 1.0339830084957522, 1.1235679214402619, 1.045283053009672, 1.1246664125047656, 1.1206882640093598, 1.2470588235294118, 1.0916666666666666, 1.111392405063291, 1.0, 1.0057278560007556, 1.3, 1.0034905001792418, 1.0225341559456056, 1.0321365603462094, 1.007234726688103, 2.0, 1.2010560519902518, 1.4, 1.118070249682607, 1.0909090909090908, 1.0328976152874947, 1.0243013365735116, 1.1195369290137307, 1.1176470588235294, 1.156534954407295, 3.0, 1.0318021201413428, 1.0003260877808084, 1.0533468988155799, 1.0, 1.2666666666666666, 1.0168, 1.3100961538461537, 1.1300704225352112, 1.0154711673699015, 1.16, 1.0496850944716585, 1.071961360936374, 1.0745999409047788, 1.009380754787743, 1.0917286589370365, 1.0299424184261037, 1.0363636363636364, 1.2239130434782608, 1.051034381056712, 1.248, 1.0143171806167401, 1.0, 1.5, 1.2112041210560207, 1.06640625, 1.2475448696241112, 1.049147744383545, 1.143698468786808, 1.0, 1.0, 1.1515151515151516, 1.0127052732821165, 1.12, 1.0, 1.0781127642913078, 1.0, 1.0, 1.1146545178435838, 2.0, 1.2014853083629318, 1.0150943396226415, 1.3954372623574145, 1.0, 1.033845413616524, 1.0756302521008403, 1.0740740740740742, 1.1121510002826545, 1.0708661417322836, 1.0222222222222221, 1.1168658698539176, 1.0877442273534637, 1.144077503102033, 1.0, 1.0941176470588236, 1.0479144104230251, 1.0104415274463008, 1.1071161048689138, 1.0, 1.0448395825280248, 1.0150961637297582, 1.0256968641114983, 2.0, 1.1185532484929672, 1.0597913480017256, 1.043491632281709, 1.2003780031257951, 1.028176830562829, 1.019511518729077, 1.0230125523012552, 1.054904241150982, 1.75, 1.1040504906410755, 1.0700791215888907, 1.055261893320519, 1.0505494505494506, 1.0628272251308901, 1.025106584557082, 1.0645481628599802, 1.0404100797997433, 1.290623465881198, 1.026008375578576, 1.0281124497991967, 1.0069088087311322, 1.217712733856367, 1.1927710843373494, 1.1428571428571428, 1.0081256148509665, 1.0735930735930737, 1.0563747951900915, 1.003541514419023, 1.3333333333333333, 1.3137179977072984, 1.3573573573573574, 1.3636363636363635, 1.0833333333333333, 1.003740661743427, 1.0934256055363323, 1.0187250157795076, 1.0, 1.0416666666666667, 1.0392806436346427, 1.0062971859986274, 1.0369159776965968, 1.0289837896206167, 1.0323636363636364, 1.0284697508896796, 1.0796747967479674, 1.1154918099584386, 1.2517482517482517, 1.0609910266254061, 1.3375, 1.113744075829384, 1.0230006179464664, 1.074656188605108, 1.06352758183133, 1.0, 1.0275735294117647, 1.2960526315789473, 1.0924369747899159, 1.0164948453608247, 1.0581068416119963, 1.0861486486486487, 1.2642487046632125, 1.0345469303716022, 1.0, 1.4912280701754386, 1.5, 1.3333333333333333, 1.0792079207920793, 1.25, 1.3754448398576513, 1.1048034934497817, 1.0321242136260207, 1.1927303465765005, 1.014454702415776, 1.0164177873112779, 1.005560420923864, 1.0089399948822928, 1.0205878570227247, 1.0566631689401889, 1.0263845350052248, 1.0065546390142208, 1.0004819277108434, 1.0011049723756906, 1.1251533742331288, 1.2569444444444444, 1.0366803450297295, 1.192918192918193, 1.0140260569422, 1.1274509803921569, 1.2036930178880554, 1.1704903283850652, 1.6666666666666667, 1.0393325387365913, 1.0666666666666667, 1.3333333333333333, 1.3272727272727274, 1.0238570670017126, 1.0211946050096339, 1.0691358024691358, 1.0223463687150838, 1.0014989215076957, 1.1389723111448466, 1.0406654343807764, 1.2, 2.0, 1.091852802239459, 1.5162790697674418, 1.0330207908683244, 1.025743037678446, 3.0, 1.0915002322340919, 1.0635294117647058, 1.0785078976901559, 1.1953010279001468, 1.0396180828457486, 1.0027196426641691, 1.0024790681219617, 1.1578947368421053, 2.0, 1.0569501324981931, 1.0, 1.1125158027812896, 1.1363636363636365, 1.1639610389610389, 1.1750563486100676, 1.4482758620689655, 1.0819138966980872, 1.1232876712328768, 1.0625, 1.0171297386390392, 1.0450685826257349, 1.0011487650775417, 1.0677609848863978, 1.018884892086331, 1.0121470781352593, 1.2, 1.0471717050062226, 1.1213630784780881, 1.3888888888888888, 1.025974025974026, 1.1138118852125845, 1.1214488636363635, 1.0625858206258583, 1.0909090909090908, 1.0181159420289856, 1.0723877465379774, 1.249266862170088, 1.2056737588652482, 1.0210866001912307, 1.3838383838383839, 1.6666666666666667, 1.0399874055415617, 1.0253598355037696, 1.0428409252164041, 1.098077458902201, 1.0470913462692155, 1.018420221459696, 1.0075301204819278, 1.0362661620939766, 1.1862745098039216, 1.0191354734036389, 1.0897027600849256, 1.0394944707740916, 1.0411198600174978, 1.0468594217347955, 1.4166666666666667, 1.02187708750835, 1.3, 1.3333333333333333, 1.018359853121175, 1.0126304228445908, 1.0301034807149576, 1.3333333333333333, 1.4444444444444444, 1.03494837172359, 1.091098025632144, 1.5044247787610618, 1.015856177767852, 2.6666666666666665, 1.063000112701454, 1.6666666666666667, 1.5914634146341464, 1.2142857142857142, 1.0491106518005298, 1.1818181818181819, 1.2968036529680365, 1.1145833333333333, 1.0, 1.0154290129067443, 1.1080760095011877, 2.25, 2.0, 1.1506849315068493, 1.0788643533123028, 1.0918114143920596, 1.0080935251798562, 1.0456989247311828, 1.1111111111111112, 1.0914285714285714, 1.0289215686274509, 1.5235602094240839, 1.3526785714285714, 1.3448275862068966, 1.5, 1.0314893617021277, 1.2975, 1.116122840690979, 1.0477864935533314, 1.0132821810946842, 1.2261653881817416, 1.0216536649894297, 1.0364182466679182, 1.0518962075848304, 1.0165165165165164, 1.5, 1.0, 1.0833333333333333, 1.046910307809549, 1.137137989778535, 1.018970189701897, 1.335164835164835, 1.066816, 1.0129346832357025, 1.0009408366326185, 1.1363636363636365, 1.0434782608695652, 1.129251700680272, 1.1206296603148302, 1.0058560110230796, 1.0313748363028095, 1.1912568306010929, 1.1114125408471545, 1.0046045058378557, 1.0057993994804493, 1.0051584377302873, 1.0046013231743642, 1.1637010676156583, 1.0198624904507256, 1.0432432432432432, 1.005572477419582, 1.0634920634920635, 1.116151202749141, 1.0, 1.0362903225806452, 1.0291157141668745, 1.1904761904761905, 1.0024236290515887, 1.1861943687556766, 1.0192307692307692, 1.067788912773623, 1.030413005008848, 1.0681684622918708, 1.0280224179343476, 1.064186046511628, 1.009490028423105, 1.210144927536232, 1.2666666666666666, 2.0, 1.1818181818181819, 1.0174020251834186, 2.1666666666666665, 1.0584653407216467, 1.0678768745067087, 1.2381831610044314, 1.1079411230238052, 1.0079012490421777, 1.204777241009125, 1.064516129032258, 1.0370813397129186, 1.0196635692310099, 1.0282753226437231, 1.0064647852996056, 1.0257460955620845, 1.1111111111111112, 1.2099596231493943, 1.3311475409836067, 1.0126501664495586, 1.0375335120643432, 1.049981556621173, 1.1652046783625731, 1.016025641025641, 1.0459822082412649, 1.022857142857143, 1.0122939650560698, 1.4705882352941178, 1.0272312447868113, 1.004583741565604, 1.1545765286745158, 1.0052687038988408, 1.131578947368421, 1.0282485875706215, 1.269736842105263, 1.1009090447412524, 1.0362694300518134, 1.0041788210756222, 1.0256410256410255, 1.2418889374726716, 1.1660377358490566, 1.1374045801526718, 1.2514792899408285, 1.099373321396598, 1.1689879294336118, 1.0661696178937559, 1.039920800137739, 1.0423484119345525, 1.080926228706382, 1.041084733278563, 1.3076923076923077, 1.0497237569060773, 1.0872103307978065, 1.028486522182866, 1.1509281678773204, 1.2717788210745957, 1.2646153846153847, 1.156794425087108, 1.0657718120805368, 1.0078495703058052, 1.0571428571428572, 1.0419621749408983, 1.0181127086431996, 1.0139258652467744, 1.5246913580246915, 1.000487128431233, 1.0762991339107262, 1.0585141354372123, 1.0739299610894941, 1.003725556166452, 1.0960260334794958, 1.0126182965299684, 1.1478260869565218, 1.0011574074074074, 1.011173531146218, 1.0505050505050506, 2.5, 1.0337712071959746, 1.0003464523281596, 1.0129807692307693, 1.2650602409638554, 1.0275650842266462, 1.0140816973139162, 1.0104463437796771, 1.0992268041237114, 1.3103448275862069, 1.1248581157775255, 1.3333333333333333, 1.1401617250673854, 1.5483870967741935, 1.0272852566490351, 1.0372250423011844, 1.026950354609929, 1.2619047619047619, 1.0074074074074073, 1.094552929085303, 1.0, 1.0277777777777777, 1.0236612702366128, 1.1598173515981736, 1.048957828405235, 1.4, 1.0660660660660661, 1.0418250950570342, 1.1105978958172953, 1.0948275862068966, 2.0, 1.0580888759802498, 1.1081601476719392, 1.013005626924302, 1.137221269296741, 1.5, 1.0526315789473684, 1.1142857142857143, 1.2659574468085106, 1.303030303030303, 1.120177267987487, 1.0122840993537054, 1.006466764129522, 1.0062111801242235, 1.0268253868662267, 1.000783924543093, 2.5, 1.0019622152871053, 1.034438775510204, 1.3333333333333333, 1.8571428571428572, 1.0312267657992564, 1.0869487056567593, 1.0477746221524895, 1.0932642487046633, 1.5, 1.231372549019608, 1.227154046997389, 1.011764705882353, 1.0475173886095999, 1.0657005628724385, 1.0098149341085145, 1.1579135831940797, 1.3333333333333333, 1.0089525016959708, 1.0622593068035944, 1.0883720930232559, 1.2167832167832169, 1.074245939675174, 1.0, 3.0, 1.0921415894300928, 1.0774429541891657, 1.178117048346056, 1.0031847133757963, 1.0129708475838162, 1.20863309352518, 1.1344827586206896, 1.1408450704225352, 1.034022025902008, 1.316978088452749, 1.0613031767700993, 1.6178861788617886, 1.3541666666666667, 1.0328205128205128, 1.25, 1.0384051597771915, 1.0097799511002445, 1.001282250448171, 1.0701914311759344, 2.0, 1.1490683229813665, 1.012908987578144, 1.153113553113553, 1.3940622972096042, 1.0300977500740531, 1.0171500278862242, 1.0948839149172807, 1.0375494071146245, 1.0, 1.0627892519168336, 1.0364887799358853, 1.0629647992067426, 1.2219020172910662, 3.5, 1.1379310344827587, 1.0755204433128651, 1.2562225475841875, 1.0128752536833505, 1.0040002636088046, 1.096209912536443, 1.8, 1.014763779527559, 1.0384685157779157, 1.0543957096341696, 1.0744336569579287, 1.0105621721077103, 1.1973684210526316, 1.2731591448931117, 1.1124575860397479, 1.0025066226972108, 1.041448770094906, 1.0963035019455254, 1.1400651465798046, 1.0256410256410255, 1.0826458036984352, 1.0248745141507378, 1.045891805557249, 1.0606523955147809, 1.0426563257392147, 1.0754966887417219, 1.391304347826087, 1.0411449016100178, 3.0, 1.5, 1.2, 1.0390455531453362, 1.152258064516129, 1.0089117764963458, 1.0541332591919086, 1.14266086558278, 1.0585331452750353, 1.0444444444444445, 1.0085089141004862, 1.0106036223191035, 1.6666666666666667, 1.5, 1.0292990142387732, 1.0, 1.2827004219409284, 1.145954962468724, 1.060571858540256, 1.0302187201722142, 1.2, 1.0351112302331815, 1.0466200466200466, 1.041845942961581, 1.0009675063193841, 1.0064034151547492, 1.0359050445103857, 1.016062867592547, 1.1122703674121406, 1.1146245059288538, 1.3448275862068966, 1.2778429073856976, 1.0, 2.0, 1.0004803807296574, 1.5, 1.4444444444444444, 1.2708333333333333, 1.001015228426396, 1.0305663009702581, 1.1490545050055618, 1.0191570881226053, 1.1428571428571428, 1.2375215146299483, 1.0279441117764472, 1.8571428571428572, 1.0103305785123966]
origin-bjaq_15.87 	max: 4.0000	99th: 2.6700	95th: 1.7789	median: 1.0665	mean: 1.1678

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/3 | Workload-time: 16.672732 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=1, #drift=0 | total-time=38.854367