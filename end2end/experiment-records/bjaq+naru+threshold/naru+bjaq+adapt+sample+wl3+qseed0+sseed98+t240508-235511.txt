Input arguments = Namespace(data_update='sample', update_size=80000, dataset='bjaq', debug=False, drift_test='js', model_update='adapt', model='naru', end2end=False, query_seed=0, random_seed=42, num_workload=3)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 98, 'naru': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=naru', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=3', '--data_update=sample', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
query_seed:0
origin-bjaq_15.87 	max: 5.0000	99th: 2.6667	95th: 1.5451	median: 1.0592	mean: 1.1476
ReportEsts: [1.1330935251798562, 1.01775775245163, 1.0280041641879833, 1.0317460317460319, 1.0344827586206897, 1.0, 1.1978333128154623, 1.011213955949049, 1.25, 1.0304232804232805, 1.0266355005338643, 1.0023965330444204, 1.0262931034482758, 1.0238095238095237, 1.0346167432002826, 1.0, 1.5517241379310345, 1.047113000354233, 3.0, 2.6666666666666665, 1.08, 1.12163036445978, 1.0465694810687098, 1.0571073867163252, 1.0623689727463312, 1.0, 1.0395625081137219, 1.0, 1.4, 1.1798561151079137, 1.0, 1.0015305194887558, 1.0078459475419517, 1.2197558268590456, 1.0233514466147746, 1.0277232414866968, 1.0446927374301676, 1.0081295680256417, 1.0587850402920311, 1.2380952380952381, 1.0427807486631016, 1.0121951219512195, 1.0, 1.1446927908682205, 1.086996760758908, 1.2148760330578512, 1.0970873786407767, 1.2412280701754386, 1.0283308386363066, 1.0185185185185186, 1.063730095637301, 1.1950718685831623, 1.0051214444958276, 1.0, 1.2077922077922079, 1.010204081632653, 1.0717069368667187, 1.064638783269962, 1.124223602484472, 1.25, 1.003739852230229, 1.044209215442092, 1.0636363636363637, 1.1494252873563218, 1.0, 1.0836246581980546, 1.03242147922999, 1.1666666666666667, 1.0, 1.107360379890575, 1.0167064439140812, 1.0646100116414436, 1.087837837837838, 1.1053898433075326, 1.1976470588235295, 1.1612903225806452, 1.0, 1.0467657342657342, 2.0, 1.0518092341243652, 1.1875, 1.0385290674990246, 1.2576687116564418, 1.0229357798165137, 1.0726315789473684, 1.04, 1.0056792175567921, 1.022195145259939, 1.142156862745098, 2.3333333333333335, 1.0798845043310876, 1.0132344377716735, 1.071651090342679, 1.3408134642356242, 1.1967213114754098, 1.0576923076923077, 1.1946902654867257, 1.0034246575342465, 1.0, 1.0182627657641286, 1.1120230381569474, 1.0273127753303966, 1.0102670136537022, 1.0, 1.0053482825476932, 1.0507670850767086, 1.1322148898596525, 1.061054228289723, 1.019375, 1.1666666666666667, 1.3333333333333333, 1.1416377700720193, 1.021258981408612, 1.0617035546613012, 1.025974025974026, 1.0074817854152687, 1.0, 1.2144772117962466, 1.139712918660287, 1.0, 1.2197802197802199, 1.0, 1.005012531328321, 1.0175871131595609, 1.1751184282053273, 1.087378640776699, 1.8, 1.2127483443708609, 1.0, 1.2142857142857142, 1.0130660150698796, 1.1818181818181819, 1.06640625, 1.0052526910571673, 1.051383399209486, 1.1945773524720893, 1.0246575342465754, 1.039708265802269, 1.00199203187251, 1.051249199231262, 1.0474869876382564, 1.1790123456790123, 1.0639269406392695, 1.0063315942880937, 2.0, 1.008735632183908, 1.0115606936416186, 1.055210918114144, 1.0238221281101112, 1.0, 1.1309033664325503, 1.0414814814814815, 1.006, 1.4476190476190476, 1.005839416058394, 1.020295837633299, 1.0669492722905185, 1.044864279917035, 1.1692015209125475, 1.0789473684210527, 1.0208333333333333, 1.1231884057971016, 1.1469594594594594, 1.2857142857142858, 1.0124526847843334, 1.0133512264676054, 1.0604490500863557, 1.03099234393404, 1.017104459376909, 1.0862685855132383, 1.0171306209850106, 1.1323529411764706, 1.137019463542171, 1.1901323706377858, 1.134050880626223, 1.0188118811881188, 1.0549520766773164, 1.093728813559322, 1.134453781512605, 1.0, 1.5, 1.1058052434456929, 1.0478378942970545, 1.1074731779504254, 1.0555555555555556, 1.0314171652171946, 1.0443596949016458, 1.0126615154860075, 1.0357142857142858, 1.0700389105058365, 1.0591135829367582, 1.0, 1.4545454545454546, 1.0696218922651934, 1.188422247446084, 1.1290994273815722, 1.3461538461538463, 1.0006435006435006, 1.0022916805828885, 1.0050161152227217, 1.1798245614035088, 1.161167913987562, 1.0993788819875776, 1.09375, 1.0595238095238095, 1.0, 1.0596026490066226, 1.1231954654149323, 1.6864111498257839, 1.0919540229885059, 1.0173010380622838, 1.0957683741648108, 1.0750939364915642, 1.0368196985387181, 1.0306553224654154, 1.0666666666666667, 1.2401433691756272, 1.056125941136208, 1.0099804698719053, 1.0601616137067866, 1.0, 1.1184265010351966, 1.006204084848246, 1.0090585150350917, 1.0832369942196531, 1.0450151139674846, 1.0060903400439858, 1.0344827586206897, 1.0001983910763135, 1.0838457238680828, 1.1968415115623237, 1.0105263157894737, 1.1599253266957064, 1.0270793036750483, 1.1228346456692913, 1.0, 1.0446803258454702, 1.075145154086646, 1.0836849507735584, 1.544776119402985, 1.0909090909090908, 2.6666666666666665, 1.0641388649513726, 1.1636363636363636, 1.1560483571905362, 1.5, 1.0, 1.3333333333333333, 1.0007806401249024, 1.4285714285714286, 1.0856353591160222, 1.1689272503082615, 1.1065719360568385, 1.0214408233276158, 1.006899643323523, 1.0701754385964912, 1.0, 1.0407336582156148, 1.1154110059009195, 1.106830122591944, 1.0166398394548153, 1.0597094529384874, 1.0275371599986518, 1.1136724960254372, 1.0181856592081404, 1.069976076555024, 1.1296906892761815, 1.2878380515578047, 2.0, 1.06768931385739, 1.2046908315565032, 1.25, 1.0, 1.0781818181818181, 1.0555555555555556, 1.17, 1.010874099993271, 1.1253481894150419, 1.2164634146341464, 1.017082326749088, 1.0826521344232516, 1.0152608529445297, 1.0023240724982982, 1.5, 1.0889959985449253, 1.2, 1.019984719932446, 1.0323974082073435, 1.004806335624232, 1.275, 1.25, 1.0869565217391304, 1.5211267605633803, 1.007628867241791, 1.0, 1.0581039755351682, 1.004524886877828, 1.0404647435897436, 1.0024016698155227, 1.111764705882353, 1.0314465408805031, 1.0161897060891576, 1.0731624511967408, 1.0378948242228032, 1.0683760683760684, 1.0, 1.220763723150358, 1.0, 1.1277258566978192, 1.128005321676328, 1.04945295404814, 1.1070422535211268, 1.0338983050847457, 1.0205761316872428, 1.0005162622612287, 1.4285714285714286, 1.024000751859089, 1.054945054945055, 1.0526315789473684, 1.0702435167152333, 1.2857142857142858, 1.75, 1.0294482371522928, 2.0, 1.0233196159122084, 1.0508720930232558, 1.0771123872026251, 1.0352388410336726, 1.04177545691906, 1.120879120879121, 1.0100650712266128, 1.0041300520110676, 1.0280112044817926, 1.0072567750399737, 1.112883245586869, 3.0, 1.1111111111111112, 1.0107171728837048, 1.3333333333333333, 1.0498357064622126, 1.0, 1.0, 1.0454545454545454, 1.171764705882353, 1.0916104146576664, 1.2524271844660195, 1.0487012987012987, 1.0, 1.0619174434087884, 1.0524439258394918, 1.5, 1.2078618225134008, 1.0, 1.0142716161846201, 1.0337078651685394, 1.0889005510364733, 1.1658986175115207, 1.0018181818181817, 1.1751751751751751, 1.0925925925925926, 1.01692627832984, 1.0043743661501727, 1.007989347536618, 1.0, 1.1428571428571428, 1.8333333333333333, 1.5, 1.1428571428571428, 1.002243507328362, 1.25, 1.1014975041597337, 1.01, 1.0376787968026924, 1.0113875155858991, 1.0061791967044285, 1.0664643649931516, 1.0366806975345761, 1.2209302325581395, 1.5, 1.00418410041841, 1.0730593607305936, 1.0122379340574668, 1.3333333333333333, 3.142857142857143, 1.0824053452115814, 1.0203488372093024, 1.0129254394270664, 1.131761442441054, 1.342769701606733, 1.0272625070264194, 1.4035087719298245, 1.0808477237048666, 1.048728813559322, 1.2115384615384615, 1.06006006006006, 1.0423728813559323, 1.0327644946441177, 1.0223159090655944, 1.0144747200284416, 1.323076923076923, 1.1326530612244898, 1.0591715976331362, 1.0, 1.0448666432266813, 1.0253018652377268, 1.0441875794528932, 1.00553832918108, 1.0674125071715432, 1.0164728682170543, 1.8333333333333333, 1.237819585142306, 1.2, 1.0999146029035012, 1.1111111111111112, 1.0351254077156675, 1.0391304347826087, 1.0045346577413086, 1.2015810276679841, 1.141025641025641, 3.0, 1.0399025281754493, 1.0034239201307702, 1.0217764100636613, 1.0, 1.4651162790697674, 1.0327056491575817, 1.2729885057471264, 1.1059124479102198, 1.1291079812206573, 1.2352941176470589, 1.0698878343399483, 1.0827354102881717, 1.0539733492590795, 1.010673592642337, 1.1414473684210527, 1.2388059701492538, 1.1379310344827587, 1.3636363636363635, 1.0228426395939085, 1.3448275862068966, 1.0422919508867667, 1.064516129032258, 1.0413571232035896, 1.1904761904761905, 1.1307458190831792, 1.0551042611060744, 1.1439661256175018, 1.0, 1.1176470588235294, 1.28, 1.0028016654344527, 1.2822757111597374, 1.0, 1.0240397899972369, 1.011394070384814, 1.2107375815353738, 1.0, 2.0, 1.1774757281553399, 1.006311992786294, 1.50990099009901, 1.0, 1.0227670031004683, 1.0632530120481927, 1.0869565217391304, 1.0899811676082862, 1.0272727272727273, 1.031496062992126, 1.1443548387096774, 1.022297013041649, 1.1053900464956088, 1.0, 1.0810810810810811, 1.0607574228131853, 1.0097383518641656, 1.0899583992086135, 1.0, 1.0254025856203222, 1.0224108818326165, 1.0282870612886328, 2.0, 1.1200159489633175, 1.0509039122451862, 1.1531828212527584, 1.1748285352321872, 1.0093305771703687, 1.1920361479807964, 1.019327731092437, 1.1337994214079075, 2.0, 1.077109928161662, 1.0724637681159421, 1.0, 1.261437908496732, 1.1304347826086956, 1.0515696148165679, 1.0407816482582837, 1.064462794120458, 1.195282501371366, 1.0281345000173385, 1.0332634521313766, 1.0072471306217274, 1.0970873786407767, 4.0, 1.0405377505701596, 1.0710526315789475, 1.0032669340817926, 1.0078313079675045, 1.0959132610508757, 1.1486387049300957, 1.0885416666666667, 1.4285714285714286, 1.0202185792349727, 1.0002674720547426, 1.0203134819415178, 1.0955803090190441, 1.0649964062018689, 1.0577319587628866, 1.0054910909355732, 1.0307443365695792, 1.0782967032967032, 2.0, 1.0, 1.0276073619631902, 1.0700757575757576, 1.0033557046979866, 1.0225921521997623, 1.007843137254902, 1.0364583333333333, 1.0554699537750385, 1.1758241758241759, 1.0249249968629868, 1.3950617283950617, 1.0189694668465812, 1.0, 1.12987012987013, 1.3253968253968254, 1.0780141843971631, 1.0153148043108338, 1.139650872817955, 1.0592885375494072, 1.0181582360570687, 1.0482522796352585, 1.0, 1.7659574468085106, 1.5, 1.0, 1.0114942528735633, 1.117117117117117, 1.3224489795918368, 1.1444444444444444, 1.0294777314963153, 1.1372031662269129, 1.0257956219382687, 1.0016295491580662, 1.103448275862069, 1.023413187004954, 1.0335195530726258, 1.0542732376793513, 1.1780358006773102, 1.0745077168706758, 1.157514450867052, 1.0251659292035398, 1.026103686755759, 1.045820890729859, 1.011342311187697, 2.0, 1.102981029810298, 1.0600739371534196, 1.0555555555555556, 1.0, 1.0625, 1.1538461538461537, 1.1770833333333333, 1.6296296296296295, 1.5, 1.01729125521401, 1.0141993957703928, 1.0016361002612586, 1.0234839706450367, 1.0810810810810811, 1.0157958687727826, 2.0, 1.1755725190839694, 1.1078933292580424, 1.0138284837141665, 1.0086771050462942, 1.043683790864563, 1.0118004648667978, 1.1031518624641834, 1.039223654166183, 1.2095914742451155, 1.008240547109026, 1.0273066134528135, 1.4242424242424243, 1.0829741379310345, 1.0, 1.0068027210884354, 1.0185858795815146, 3.0, 1.0499490316004076, 1.013203415809065, 1.2857142857142858, 1.1688913217398627, 1.0, 1.1875, 1.0033254696870648, 1.7692307692307692, 1.008931269110378, 1.025630072618539, 1.1875, 1.3181818181818181, 1.221662468513854, 1.0100430416068866, 1.141057934508816, 1.0206651403783589, 1.010843036050094, 1.0, 1.1865087986096023, 1.0274390243902438, 2.0, 1.0753511543695367, 1.0391988926377715, 1.0955534531693472, 1.0093093353642273, 1.0556295329084304, 1.2696629213483146, 2.0, 1.0775960441232408, 1.0155610155610155, 1.0062613476320568, 1.1237491661107404, 1.0508619149438934, 1.062008048766053, 1.0282485875706215, 1.0216647662485747, 1.1325757575757576, 1.0354996995794112, 1.0618296529968454, 1.0574712643678161, 1.129201680672269, 1.0940926901533148, 4.0, 1.005728292785235, 1.008642557073963, 1.0196521636662614, 1.0555555555555556, 1.0510107275779026, 1.2604651162790699, 1.0, 1.0217657657657657, 1.0134426229508198, 1.1036144578313254, 1.0588235294117647, 1.6666666666666667, 1.0110045731496704, 1.5, 1.4078947368421053, 1.0769230769230769, 1.0983532202916755, 1.3333333333333333, 1.3314606741573034, 1.1069182389937107, 1.0, 1.2156084656084656, 1.1007919366450685, 2.0, 1.0, 1.064, 1.0820895522388059, 1.1058263971462545, 1.0159914712153517, 1.0406504065040652, 1.043076923076923, 1.089150378938971, 1.051948051948052, 1.6333333333333333, 1.6442953020134228, 1.3076923076923077, 1.0, 1.0279214064115823, 1.274170274170274, 1.0579234972677596, 1.2481572481572483, 1.0140554168096867, 1.2372716573709257, 1.032853643600735, 1.0173954617336618, 1.1095066185318894, 1.0047961630695443, 1.2222222222222223, 1.0, 1.0, 1.0369956480337454, 1.1561224489795918, 1.0065359477124183, 1.1700288184438041, 1.0696449026345933, 1.0040401337792642, 1.0035549844737124, 1.0769230769230769, 1.1, 1.0495928941524797, 1.055872216330859, 1.0205628212940827, 1.0754041158355252, 1.1710526315789473, 1.042232722976964, 1.0044708480901785, 1.1384839650145773, 1.0045824847250509, 1.2222222222222223, 1.0457979225684608, 1.3293413173652695, 1.0192307692307692, 1.132716049382716, 1.0347890451517394, 1.0, 1.100502512562814, 1.036457198410969, 1.2962962962962963, 1.0141687657430731, 1.1302966101694916, 1.0465116279069768, 1.054289487393838, 1.0029285223616182, 1.1029747515444535, 1.022439024390244, 1.0550898203592813, 1.0112714156898106, 1.1764705882352942, 1.0, 1.0, 1.25, 1.0208065883492794, 1.8333333333333333, 1.0895723728584918, 1.0680361854504334, 1.1047851129818342, 1.0717326521924222, 1.001972461404241, 1.060342979635584, 1.0528301886792453, 1.0027816411682893, 1.020363021579355, 1.0336708492805582, 1.0073628454329746, 1.0297181741539203, 1.25, 1.103448275862069, 1.3557312252964426, 1.03455200731563, 1.0325732899022801, 1.0335585094791893, 1.2088495575221239, 1.0389863547758285, 1.0214139153143071, 1.0040431266846361, 1.0149162679425838, 1.3125, 1.0339703009907515, 1.0045564402655234, 1.1505668934240363, 1.0008428150021071, 1.15625, 1.0749464668094217, 1.0845771144278606, 1.5625, 1.0128152552798853, 1.1923076923076923, 1.2216748768472907, 1.0197802197802197, 1.1611598111935266, 1.0364746945898777, 1.0788235294117647, 1.2727272727272727, 1.0228310502283104, 1.011029817272694, 1.0230017676179217, 1.014771198059148, 1.0075142227629978, 1.0375298040779615, 1.0833333333333333, 1.065601345668629, 1.0800937683141238, 1.092928255725702, 1.0183673469387755, 1.2083333333333333, 1.075293056807935, 1.0092616087287491, 1.154233025984912, 1.0426938846724243, 1.0, 1.3333333333333333, 1.0094439911987936, 1.0187786697247707, 1.0207794244491493, 1.0175388967468175, 1.063048683160415, 1.0204081632653061, 1.0012321219110705, 1.100883310088331, 1.0018382352941178, 1.2540540540540541, 1.0021008403361344, 1.0022383470667815, 1.0119047619047619, 2.3333333333333335, 1.017473174836945, 1.0032782330879289, 1.0062713797035348, 1.24822695035461, 1.056842867487328, 1.0554454718919712, 1.0206599713055955, 1.0204081632653061, 1.1923076923076923, 1.116576819407008, 1.0105263157894737, 1.1, 1.5925925925925926, 1.084579282601408, 1.0138751238850348, 1.0855085508550855, 1.2058823529411764, 1.060052830441034, 1.0978490088570223, 1.0081651933328835, 1.0023823704586063, 1.3333333333333333, 1.037037037037037, 1.3333333333333333, 1.053964757709251, 1.5769230769230769, 1.3333333333333333, 1.5, 1.2022292993630572, 1.0072992700729928, 1.0889355479734544, 1.0135683913812048, 1.2672811059907834, 1.338235294117647, 1.0, 1.032258064516129, 1.2702702702702702, 1.09375, 1.0591900311526479, 1.0088712237358421, 1.0051804968652214, 1.046875, 1.0026876756734577, 1.0009008558130223, 5.0, 1.0083614031506243, 1.1985714285714286, 1.0, 1.3333333333333333, 1.051775147928994, 1.1864017786703005, 1.0668357807233795, 1.0993788819875776, 1.0, 1.084033613445378, 1.1717791411042944, 2.0, 1.5, 1.109744094488189, 1.1594451371571073, 1.1830007390983002, 1.25, 1.0081327174790562, 1.0689388071262587, 1.1284722222222223, 1.1428571428571428, 1.1451612903225807, 1.0028067038204784, 1.5263157894736843, 1.0763746859112955, 1.0760706235912847, 1.0258823529411765, 1.0546875, 1.0246005509641873, 1.2032450896669513, 1.1115702479338843, 1.1129032258064515, 1.043579120371163, 1.0619560981945708, 1.0617444012277961, 1.6868686868686869, 1.2142857142857142, 1.1492537313432836, 1.0750670241286864, 1.0449784349969193, 1.0019301158069485, 1.0321980934298485, 1.0731441048034935, 3.0, 1.25, 1.0112830019817172, 1.1103781882145998, 1.3345652596771056, 1.0164605203245947, 1.0173942130791103, 1.1058318967329606, 1.0453514739229024, 1.0833333333333333, 1.0168665067945644, 1.0175258367405642, 1.0388921626399528, 1.3345008756567425, 2.5, 1.04, 1.0179244930729303, 1.0898446833930704, 1.034583885812339, 1.003620066868484, 1.1214488636363635, 2.0, 1.001169590643275, 1.0566061919576795, 1.0461503312771305, 1.1144067796610169, 1.0183211748438468, 1.1893939393939394, 1.2583333333333333, 1.0915942028985508, 1.002353480386451, 1.0618575131849468, 1.1059907834101383, 1.1049935979513443, 1.03125, 1.0076042378673957, 1.0237716424894712, 1.0501981505944518, 1.0378287032279427, 1.044767441860465, 1.0644122383252819, 1.2857142857142858, 1.0445859872611465, 2.5, 1.5, 1.4166666666666667, 1.0255754475703325, 1.1524486571879937, 1.001860188251051, 1.0460361488904797, 1.10719131614654, 1.0748953974895397, 1.1032608695652173, 1.510204081632653, 1.0113147723366793, 1.6, 1.25, 1.1938211382113821, 1.0, 1.1789638932496076, 1.1173870333988212, 1.0408292023433978, 1.0169693723523396, 1.25, 1.2456613960663325, 1.3391472868217054, 1.1753117206982544, 1.00005963822535, 1.0894085281980743, 1.0530111792282726, 1.0303571428571427, 1.1445990885577042, 1.054054054054054, 1.3396226415094339, 1.2527932960893855, 1.0, 1.0, 1.0008046922499196, 1.6666666666666667, 1.5714285714285714, 1.255813953488372, 1.0241254523522316, 1.0561797752808988, 1.0302684180468304, 1.0949312714776633, 1.0, 1.2011173184357542, 1.0136175251628183, 1.094170403587444, 1.017114914425428, 1.25, 1.0144635048772284, 1.0706231454005934, 1.1004273504273505, 1.0818148010412794, 1.0036300996574277, 1.127285584402465, 1.0339449541284405, 1.0, 1.0317328677433435, 1.0176697000089268, 1.0276631994261118, 1.2695652173913043, 1.021601453188669]
origin-bjaq_15.87 	max: 5.0000	99th: 2.6667	95th: 1.5451	median: 1.0592	mean: 1.1476

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/3 | Workload-time: 19.601301 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=naru', '--data_update=sample', '--dataset=bjaq', '--drift_test=js', '--end2end', '--update_size=80000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
Sample - START
Sample - END
load_npy_dataset_from_path - df.shape = (458601, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (76433, 5)
[1.1920929e-07 4.1723251e-07 1.1920929e-07 5.9604645e-07 1.7881393e-07]
Distance score: 2.8610230629055877e-07
SAUCE Drift detection: False
Detection latency: 0.0233s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/3 | Workload-time: 2.029318 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 3/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=naru', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=3', '--data_update=sample', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 458601, total size: 458601, split index: [382167 458601]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/naru/origin-bjaq-3.5MB-model34.414-data18.543-200epochs-seed0.pt
query_seed:0
origin-bjaq_15.87 	max: 6.0000	99th: 2.5000	95th: 1.5349	median: 1.0637	mean: 1.1538
ReportEsts: [1.1159420289855073, 1.0635250635250635, 1.0545170051584751, 1.0424528301886793, 1.0, 1.0, 1.1471249755525132, 1.0043850335117896, 1.4, 1.029768467475193, 1.0483902016458926, 1.0025026181791918, 1.0731616274729376, 1.0039447731755424, 1.0005894488653109, 1.5432098765432098, 1.0766871165644172, 1.25, 1.4, 1.0081833060556464, 1.0697130063097904, 1.0865860886499301, 1.0679851668726823, 1.1334586466165413, 1.0157787102006277, 1.0135363453855175, 2.0, 1.0562374715105582, 1.4, 1.3333333333333333, 1.013953488372093, 1.0, 1.0038977115976373, 1.0121791815959034, 1.3100137174211248, 1.01439119008885, 1.0348925839144059, 1.0042283298097252, 1.5, 1.202891156462585, 1.023911028730306, 1.0674342904338532, 1.1018181818181818, 1.016585091024332, 1.0632911392405062, 1.212650532876765, 1.1428571428571428, 1.0063492063492063, 1.3777777777777778, 1.1589147286821706, 1.5, 1.0072463768115942, 1.0717488789237668, 1.0, 1.0816920827737035, 1.0216555183946487, 1.0084483244156575, 1.1352549889135255, 1.0602409638554218, 1.0002126320814078, 1.03125, 1.0612996309520752, 1.1262553802008608, 1.12015503875969, 1.1192660550458715, 1.5, 1.1117424788716144, 1.0441019053735816, 1.0, 1.0, 1.0927711871639498, 1.0121951219512195, 1.0608695652173914, 1.0689655172413792, 1.0710007248864981, 1.0936157151626764, 1.0558795605587956, 1.0631067961165048, 1.127659574468085, 1.0076191520267492, 1.1349163518618457, 1.2592592592592593, 1.0, 5.0, 1.0383720930232558, 1.0, 1.149312377210216, 1.0454545454545454, 1.25, 1.016930095091236, 1.0838909743757141, 1.1116785079928952, 1.0122336023174012, 1.201619251096368, 1.0923913043478262, 1.313073394495413, 1.0535714285714286, 1.2005208333333333, 1.0186915887850467, 1.1520351157222666, 1.4666666666666666, 1.3333333333333333, 1.061919168131012, 1.1760897712559344, 1.0071123755334281, 1.0021465537520584, 1.1363636363636365, 1.0160803862224967, 1.081888246628131, 1.0198790859719233, 1.0936317780580076, 1.0179500520291362, 1.0, 1.5, 1.1646025669894169, 1.0088141742140695, 1.0802961275626424, 1.1222222222222222, 1.0039114720007922, 1.0, 1.1733292645712543, 1.124901185770751, 1.0, 1.2307692307692308, 1.1428571428571428, 1.1066098081023454, 1.0049960797722142, 1.138879896406604, 1.0687022900763359, 2.0, 1.350034794711204, 1.0, 2.0, 1.0109172343006438, 1.0, 1.0812001678556442, 1.0464152603190036, 1.073010778944431, 1.0, 1.4, 1.0141129032258065, 1.0315836298932384, 1.0426894343649946, 1.0590088198236036, 1.1494845360824741, 1.060688901038819, 1.0185029180411063, 1.0, 1.0053991515618974, 1.008729388942774, 1.0380710659898478, 1.0293944738389182, 1.3333333333333333, 1.0458377239199157, 1.020884520884521, 1.056701030927835, 1.0499479708636836, 1.0, 1.0636094674556213, 1.0484390806220152, 1.0604265846984293, 1.0637958532695375, 1.0438356164383562, 1.0, 1.2248520710059172, 1.1356164383561644, 1.4285714285714286, 1.0031023939703532, 1.3846153846153846, 1.1005917159763314, 1.050823192555476, 1.0255878284923927, 1.0091638992811804, 1.0384615384615385, 1.2056737588652482, 1.2458001768346596, 1.0333333333333334, 1.1576313594662218, 1.0316139767054908, 1.0514511873350922, 1.0046716130805167, 1.0230480576521257, 1.0122699386503067, 1.1, 1.000171033411608, 1.0768005879470848, 1.0407407407407407, 1.047689594356261, 1.2122093023255813, 2.0, 1.0895522388059702, 1.0165242413672828, 1.1379310344827587, 1.0363447559709242, 1.0311895031189504, 1.001899812470124, 1.0123473960747953, 1.0694300518134714, 1.0301287524904985, 1.0280107121547806, 1.1006233303650934, 1.0436454752054076, 1.0769034886681945, 1.0018597793710429, 1.1879895561357703, 1.0741130091984232, 1.0972972972972972, 1.0789473684210527, 1.04, 1.0, 1.0271739130434783, 1.041436652354665, 1.717201166180758, 1.2, 1.0143737166324436, 1.1578947368421053, 1.000885291078195, 1.1103286384976525, 1.0029111501036847, 1.5, 1.0060975609756098, 1.0507471102340005, 1.0115727290335077, 1.027173859747188, 1.5, 1.0214556163230963, 1.0596585774608547, 1.0338749384539636, 1.039787798408488, 1.2512479201331115, 1.0275633958103638, 1.0589883118137617, 1.0353982300884956, 1.0005866782139838, 1.0029026559691214, 1.1601423487544484, 1.1991379310344827, 1.0196987253765932, 1.4615384615384615, 1.1148075668623614, 1.0, 1.008898556456397, 1.1168511113177717, 1.0472933359390268, 1.393846153846154, 1.1538461538461537, 2.5, 1.0620494222326633, 1.0579710144927537, 1.088135099723395, 1.75, 1.2670807453416149, 1.0735455543358947, 1.6666666666666667, 1.003129049590695, 1.163265306122449, 1.1040634291377602, 1.1538461538461537, 1.0099326002128415, 1.0286078276434827, 1.0869565217391304, 2.0, 1.021691366345994, 1.1073633661102218, 1.0509461426491995, 1.0043013760906436, 1.0802192221422828, 1.0048718578563824, 1.0976408912188729, 1.033316187816886, 1.0871975806451613, 1.1335768327680669, 1.3353791598472449, 1.6923076923076923, 1.0692808757166727, 1.1583629893238434, 1.32, 1.0740740740740742, 1.1204819277108433, 1.1845018450184501, 1.0048272314155877, 1.036223506743738, 1.0439024390243903, 1.1856435643564356, 1.001929537928995, 1.0323275862068966, 1.0001959343619888, 1.0064372049985097, 1.6363636363636365, 1.3333333333333333, 1.0079075425790753, 1.051054384017758, 1.0270641460656003, 1.010010746406445, 1.0876914949815109, 1.0419228619340413, 1.0081504253950095, 1.049306296691569, 1.0187121629058888, 1.0763118525418467, 1.0411483253588516, 1.1578947368421053, 1.0769230769230769, 1.0733678086619263, 1.05, 1.0089285714285714, 1.0050541516245488, 1.0995436394751854, 1.2058823529411764, 1.336, 1.0632911392405062, 1.1318833074400139, 1.0006026024895016, 1.0952380952380953, 1.0695306679910603, 1.0107094470374285, 1.2506024096385542, 1.2222222222222223, 2.5, 1.0702364394993047, 1.5, 1.0269720751603493, 1.052790346907994, 1.0434782608695652, 1.005583325690177, 1.2608695652173914, 2.0, 1.0304208035766127, 2.0, 1.2467532467532467, 1.0712589073634204, 1.014536068468958, 1.0228070175438597, 1.059447983014862, 1.0884955752212389, 1.003948511411198, 1.0000879531277485, 1.5, 1.016018925781521, 1.0852771507399046, 3.0, 1.0833333333333333, 1.0145640432098766, 1.5, 1.0464269458352298, 1.0526315789473684, 1.0, 1.0740740740740742, 1.126425855513308, 1.070343725019984, 1.3089430894308942, 1.127388535031847, 1.170731707317073, 2.25, 1.0829664216037627, 2.0, 1.1666666666666667, 1.0407608143011124, 1.09375, 1.0637450199203187, 1.0148285449490269, 1.8, 1.5, 1.1991247264770242, 1.5, 1.0564915758176412, 1.0159236668375513, 1.0829824126826852, 1.0842105263157895, 2.0, 1.003821198302079, 1.2923076923076924, 1.2258064516129032, 1.3333333333333333, 1.0483870967741935, 1.0, 1.0392156862745099, 1.008130081300813, 1.1120223199188366, 1.0106161895073391, 1.0239880059970015, 1.0574480841554477, 1.0319104268719383, 1.0272479564032697, 1.0218579234972678, 1.0264457785546015, 1.1077389984825494, 1.0571428571428572, 1.0122816906790997, 1.0086767895878526, 1.152657369016208, 1.0144230769230769, 1.1136363636363635, 1.0201096892138939, 2.0, 1.9259259259259258, 1.1085271317829457, 1.0699432892249527, 1.6451612903225807, 1.0453686200378072, 1.0433266932270917, 1.0555555555555556, 1.1605182652510346, 1.1362075543685617, 1.0778618732261116, 1.646153846153846, 1.0, 1.111392405063291, 1.0, 1.0104119070997346, 1.2982456140350878, 1.005121130806153, 1.0304034981807502, 1.0248649507467429, 1.0077852348993288, 2.125, 1.129749393694422, 1.0, 1.019726729291204, 1.3636363636363635, 1.0720185854414042, 1.0120772946859904, 1.055421255260095, 1.1728813559322033, 1.0546984572230014, 4.0, 1.0371493555724034, 1.0014078739839043, 1.0825921950471518, 1.0, 1.2380952380952381, 1.0671521035598706, 1.195754716981132, 1.0928722029517786, 1.154709706682794, 1.04, 1.1344902386117137, 1.1331629866583444, 1.1012356822709164, 1.0123577916128614, 1.0719280481267497, 1.046497584541063, 1.2254098360655739, 1.2180043383947938, 1.0347110006215041, 1.48, 1.0422380691168405, 1.0, 1.0, 1.25, 1.125984251968504, 1.2584308327598073, 1.0369403317212118, 1.1226252158894645, 1.0, 1.072, 1.2666666666666666, 1.009223773952582, 1.0416666666666667, 1.0, 1.1250876280500215, 1.0, 1.0, 1.140158670192671, 1.5, 1.1627237851662404, 1.0045112781954888, 1.471264367816092, 1.2222222222222223, 1.0185292096219931, 1.0222929936305734, 1.0740740740740742, 1.0620600804424334, 1.0227272727272727, 1.0430463576158941, 1.1456375838926174, 1.0100974930362117, 1.1210989852575148, 1.0, 1.0333333333333334, 1.0176991150442478, 1.007608533492466, 1.1155893536121673, 1.2, 1.0196115406373751, 1.0276456741410296, 1.0356200527704484, 2.0, 1.106930693069307, 1.0400148965571312, 1.1266957097165546, 1.202831729896533, 1.0073138759160603, 1.006354333523081, 1.0677966101694916, 1.0942265795206971, 1.75, 1.04871395167576, 1.0596153846153846, 1.021728861596599, 1.0587909040488075, 1.0476190476190477, 1.044120846447271, 1.0096153846153846, 1.0181808033044408, 1.2878338278931751, 1.0496039934752275, 1.1474820143884892, 1.0494479619067554, 1.1724759615384615, 1.0963855421686748, 1.2345679012345678, 1.0025108422734534, 1.1041214750542299, 1.0272340886326106, 1.006900525620485, 1.0, 1.333459500378501, 1.2228739002932552, 1.163265306122449, 1.0952380952380953, 1.0008203533417335, 1.125, 1.3451776649746192, 1.0, 1.5, 1.0487343269458245, 1.025236593059937, 1.029293509477312, 1.0077790693218542, 1.016882183908046, 1.0465353260869565, 1.084051724137931, 1.1293371738842537, 1.3308823529411764, 1.0225689455658158, 1.0675808031341822, 1.0611353711790392, 1.0051136840926274, 1.0997150997150997, 1.0259040745910923, 1.0, 1.1493461803165863, 1.5192307692307692, 1.0392380472474356, 1.0208333333333333, 1.105263157894737, 1.169871794871795, 1.039714058776807, 1.0245291240022973, 2.0, 1.6545454545454545, 1.1111111111111112, 1.3333333333333333, 1.0588235294117647, 1.0229357798165137, 1.3769633507853403, 1.0986547085201794, 1.025726472940549, 1.1643835616438356, 1.0206557377049181, 1.0182064770672365, 1.0489010166220196, 1.0526346164944884, 1.0200994919908617, 1.1108683779355544, 1.0946277842080006, 1.0026160145586898, 1.0971064247179991, 1.029050279329609, 1.150564617314931, 1.1730769230769231, 1.0356984568274306, 1.2127921279212792, 1.0088548284625158, 1.1642512077294687, 1.104954714970698, 1.1720599842146804, 1.25, 1.0221187427240979, 1.0, 1.7777777777777777, 1.4005763688760806, 1.0120424323920514, 1.026204238921002, 1.1413612565445026, 1.116564417177914, 1.054939835338822, 1.1415820558763023, 1.01985559566787, 1.2, 1.75, 1.0558501636014894, 1.3056768558951966, 1.0434412265758093, 1.0120283018867924, 1.0, 1.0676866017617062, 1.1, 1.0611090030191543, 1.2175226586102719, 1.025408687529192, 1.1624861135473308, 1.0203340731098354, 1.139240506329114, 1.25, 1.0759899403323636, 1.0, 1.0805860805860805, 1.1694915254237288, 1.0521148036253776, 1.4044444444444444, 1.3703703703703705, 1.0326797385620916, 1.1205673758865249, 1.2583732057416268, 1.028894472361809, 1.0838709677419356, 1.0186806771745476, 1.0543660582141094, 1.0465116279069768, 1.0085050703303893, 1.0, 1.0434487711458666, 1.0742303701141473, 1.1363636363636365, 1.0061643835616438, 1.0476306196840826, 1.3, 1.0910256989295877, 1.0833333333333333, 1.2706935123042506, 1.1425700569387072, 1.0614657210401892, 1.204724409448819, 1.0129294483658382, 1.2476190476190476, 1.875, 1.0688336520076482, 1.0442415730337078, 1.0688849557522124, 1.022338665195808, 1.0180352054129644, 1.0021447721179624, 1.3221884498480243, 1.0028107432854465, 1.1282051282051282, 1.029580639476101, 1.0873734683004794, 1.056648308418568, 1.0934869295525034, 1.0527792207792208, 1.2564102564102564, 1.0345525029496039, 1.0, 1.1428571428571428, 1.0250329380764163, 1.012909090909091, 1.0526984126984127, 1.2404761904761905, 1.4444444444444444, 1.0408326661329064, 1.098458304134548, 1.4224137931034482, 1.0036906212775334, 2.6666666666666665, 1.0114495180341223, 1.5, 1.3675675675675676, 1.0625, 1.0748476936466493, 1.1818181818181819, 1.3063063063063063, 1.0948651000870322, 1.0, 2.25, 1.0330861380490588, 1.8, 1.25, 1.0939597315436242, 1.0604229607250755, 1.105028486499876, 1.0151650312221232, 1.04, 1.0304878048780488, 1.101123595505618, 1.1990291262135921, 1.5, 1.0035335689045937, 1.1818181818181819, 1.0, 1.129367327667611, 1.2694117647058825, 1.0, 1.1170304837003557, 1.0271984181276184, 1.2045228215767634, 1.0250910237310766, 1.0310995122254327, 1.0925737538148526, 1.0009871668311945, 1.75, 1.0, 1.0256410256410255, 1.0286832490345734, 1.1666666666666667, 1.0081967213114753, 1.25, 1.0892561983471074, 1.0010501033346366, 1.0071521489476305, 1.03125, 1.0869565217391304, 1.1111111111111112, 1.1068875713414972, 1.036474123892868, 1.0625240837177554, 1.1542553191489362, 1.1042828258072421, 1.0196930709766567, 1.0233321469529797, 1.066030230708035, 1.0231278679597344, 1.1554770318021201, 1.0275756415166604, 1.3306451612903225, 1.003624906138194, 1.2857142857142858, 1.0512581547064306, 1.0, 1.089171974522293, 1.0303093442235836, 1.1764705882352942, 1.006661989241923, 1.1663747810858143, 1.125, 1.00883982401825, 1.015918784165315, 1.0635018323215935, 1.025974025974026, 1.0146341463414634, 1.0153140437544108, 1.2109929078014185, 1.2352941176470589, 1.0, 1.1, 1.012321032466223, 1.625, 1.0261854045694612, 1.0525618275343112, 1.1345434131736527, 1.089568345323741, 1.079203899268887, 1.1253012048192772, 1.0918032786885246, 1.0177095631641087, 1.0026736393295879, 1.0135881945132217, 1.0030805744012659, 1.0266935150764147, 1.5, 1.0748663101604279, 1.2604501607717042, 1.0226960805559167, 1.0190217391304348, 1.0183387270765911, 1.2149253731343284, 1.0243506493506493, 1.0485839002412283, 1.001122334455668, 1.0084123234558304, 1.1818181818181819, 1.007273315808059, 1.0051074425197177, 1.109886071297317, 1.0021074815595363, 1.225, 1.0186983620814611, 1.0304878048780488, 1.0560975609756098, 1.3480662983425415, 1.0042133380558138, 1.0, 1.1710602429551278, 1.1897856242118536, 1.13801756587202, 1.1382978723404256, 1.063943161634103, 1.182674199623352, 1.1018387553041018, 1.0460347041688853, 1.0169014084507042, 1.0260110358315289, 1.044852757896236, 1.0, 1.0517482517482517, 1.0320945945945945, 1.0590673575129534, 1.0329105245114845, 1.106272680145153, 1.2647058823529411, 1.3064516129032258, 1.1062068965517242, 1.01056689008372, 1.0454545454545454, 1.0303915838690825, 1.0101564554299238, 1.0235391286392732, 1.4976377952755906, 1.0484196500303724, 1.1121516164994425, 1.057730590577306, 1.0825335892514396, 1.001528034504005, 1.1111204246996367, 1.0535433070866143, 1.205240174672489, 1.0471698113207548, 1.0341436961548693, 1.0625, 2.5, 1.023424743378141, 1.0075562943932295, 1.0014292520247736, 1.2395209580838322, 1.00394656952034, 1.0147053641691821, 1.0216615091644847, 1.312111801242236, 1.1470588235294117, 1.0603351955307263, 1.4375, 1.094488188976378, 1.5454545454545454, 1.0662987031149482, 1.0198183319570602, 1.0043668122270741, 1.2682926829268293, 1.090663058186739, 1.0336215177713737, 1.0392156862745099, 1.2058823529411764, 1.0235294117647058, 1.0995475113122173, 1.1248730964467004, 1.3, 1.0407656492498707, 1.0836363636363637, 1.1824130879345602, 1.076271186440678, 1.1333333333333333, 1.1233118027011157, 1.0654837282394765, 1.0152609035316937, 1.0631911532385465, 1.475, 1.0, 1.205128205128205, 1.2105263157894737, 1.5344827586206897, 1.0296610169491525, 1.0090146886231421, 1.0045713717842015, 1.0125786163522013, 1.0145759138436992, 1.0005502499051653, 6.0, 1.026450322293843, 1.0035118525021949, 1.0, 1.7142857142857142, 1.0667320902845927, 1.1496859108585102, 1.0512871385347948, 1.0897097625329815, 1.0, 1.1195652173913044, 1.005050505050505, 1.0714285714285714, 1.023293799642968, 1.0491119372160265, 1.017523825544607, 1.1445298639858072, 1.4444444444444444, 1.0097008194896004, 1.0787760416666667, 1.1534749034749034, 1.0567844172994387, 1.0737797956867197, 1.0, 1.0482315112540193, 1.1459850218431453, 1.1163516340812352, 1.047970479704797, 1.0360655737704918, 1.0373733083871857, 1.163623595505618, 1.1027397260273972, 1.2028985507246377, 1.0481176942470778, 1.1886792452830188, 1.0435653434001273, 1.6097560975609757, 1.2916666666666667, 1.1764705882352942, 1.1111111111111112, 1.0282305005820722, 1.0192771084337349, 1.0111647555823777, 1.082882882882883, 1.5, 1.0643611911623438, 1.0204198317405864, 1.1196798835940343, 1.3072337683260835, 1.041358847404066, 1.0948643811097343, 1.0722735926026652, 1.1154562383612663, 1.0727272727272728, 1.040206589958159, 1.0265379045595153, 1.064796905222437, 1.2863372093023255, 2.5, 1.1022727272727273, 1.1081299742234096, 1.2178932178932178, 1.019212677717269, 1.0087953633994735, 1.085747392815759, 2.2, 1.0403632694248235, 1.0518221750253416, 1.0227790432801822, 1.236842105263158, 1.0129992099104068, 1.2516129032258065, 1.1725997842502698, 1.1174757281553398, 1.0040423981048412, 1.0355083056478405, 1.110377358490566, 1.10598111227702, 1.0256410256410255, 1.0328862890569268, 1.1261165137335, 1.067430740227474, 1.0220757825370674, 1.0248803827751196, 1.0471380471380471, 1.1333333333333333, 1.0968921389396709, 3.0, 1.3333333333333333, 1.3333333333333333, 1.0387931034482758, 1.1597633136094674, 1.022086988755715, 1.0364251496784822, 1.1115035317860746, 1.0734708022872985, 1.1, 1.1049136786188578, 1.004746678202108, 1.8333333333333333, 1.5, 1.0605405405405406, 1.1111111111111112, 1.1478696741854637, 1.1112916328188465, 1.0373866786543793, 1.028186456965743, 1.4, 1.2236511919698871, 1.1293436293436294, 1.0342172797262617, 1.000695984703633, 1.0960451977401129, 1.0268096514745308, 1.0212084501900132, 1.06220758139979, 1.1167108753315649, 1.4736842105263157, 1.2578763127187864, 1.3333333333333333, 3.0, 1.0003947579128478, 1.25, 1.8571428571428572, 1.3404255319148937, 1.0142421159715158, 1.0029360933896139, 1.002804262478968, 1.0151515151515151, 1.3333333333333333, 1.0666278731451848, 1.022022022022022, 1.1131756756756757, 1.0392561983471074]
origin-bjaq_15.87 	max: 6.0000	99th: 2.5000	95th: 1.5349	median: 1.0637	mean: 1.1538

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/3 | Workload-time: 17.471975 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=1, #drift=0 | total-time=39.135571