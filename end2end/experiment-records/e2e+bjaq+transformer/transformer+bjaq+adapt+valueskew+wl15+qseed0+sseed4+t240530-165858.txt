Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 4, 'transformer': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.5000	95th: 1.6667	median: 1.0829	mean: 1.1702
ReportEsts: [1.0476190476190477, 1.00390625, 1.034706248282048, 1.0743801652892562, 1.4285714285714286, 1.0, 1.0974509361606135, 1.0612602266471782, 1.0, 1.0064599483204135, 1.1738954780249906, 1.0438850252054572, 1.0605790645879734, 1.1372093023255814, 1.0600494524902861, 1.0, 1.2857142857142858, 1.0492383988664542, 3.0, 2.0, 1.0, 1.0812890588564499, 1.0386628481137665, 1.107457428068115, 1.1065614208189443, 1.0, 1.163240848343986, 1.5, 1.2, 1.0431654676258992, 1.0, 1.0521256388927194, 1.0038937552285814, 1.1514983351831298, 1.1451395896400942, 1.226165276221309, 1.1443850267379678, 1.00042250443144, 1.1234244782698533, 1.024390243902439, 1.1711711711711712, 1.0823170731707317, 1.0, 1.0501053001053, 1.134780325573254, 1.890625, 1.0510204081632653, 1.243816254416961, 1.0248912380565156, 1.1666666666666667, 1.0360137765798143, 1.3814432989690721, 1.0358150841556621, 2.0, 1.1844155844155844, 1.1512377932326763, 1.0307346326836582, 1.3526570048309179, 1.0869565217391304, 1.25, 1.1039394765539803, 1.12266500622665, 1.1363636363636365, 1.0235294117647058, 1.0909090909090908, 1.1233329445157276, 1.3250975292587777, 1.75, 1.0, 1.0269413629160062, 1.0071599045346062, 1.0566146735990756, 1.0447058823529412, 1.1564783725064192, 1.0588235294117647, 1.108829568788501, 1.0, 1.1123173277661795, 2.0, 1.027619156934202, 1.1851851851851851, 1.0610570375045676, 1.196319018404908, 1.0941028858218318, 1.1275760549558391, 1.04, 1.067759007633097, 1.054804989892017, 1.0294117647058822, 1.75, 1.1657142857142857, 1.0684955679338395, 1.1090342679127725, 1.0476858345021038, 1.0092165898617511, 1.0363636363636364, 1.007462686567164, 1.1434146341463414, 1.0, 1.2572358088400268, 1.002447804175666, 1.0823327615780447, 1.2400017502406582, 1.3076923076923077, 1.0151869856363105, 1.039288558534643, 1.1150624742551147, 1.1357603337125521, 1.0521152667075413, 1.3333333333333333, 1.6666666666666667, 1.0532710280373832, 1.0451479204610397, 1.0726468730259002, 1.051948051948052, 1.0578122546402438, 1.0, 1.0879848628192998, 1.1546961325966851, 1.0, 1.0054945054945055, 1.1666666666666667, 1.205513784461153, 1.0196104093637581, 1.0584763531878543, 1.0980392156862746, 1.8, 1.201158940397351, 1.0, 1.2727272727272727, 1.1009804623201889, 1.1818181818181819, 1.0431315104166667, 1.0249580787178054, 1.0807059122265013, 1.0293724966622162, 1.106060606060606, 1.0350740452065472, 1.039972432804962, 1.0664229128580134, 1.0333902022910066, 1.255813953488372, 1.0117416829745598, 1.1240096871158924, 2.0, 1.020510483135825, 1.0034285714285713, 1.0988411724608043, 1.1048173636844891, 1.5, 1.2455800435940905, 1.0044642857142858, 1.0224948875255624, 1.1074561403508771, 1.054014598540146, 1.0364126770060689, 1.0658347919372142, 1.138910286037077, 1.0457256461232605, 1.1776315789473684, 1.2857142857142858, 1.3142857142857143, 1.0206185567010309, 1.2857142857142858, 1.052889125648798, 1.0449336251134207, 1.1518567639257293, 1.3646107376010912, 1.1281874569262578, 1.1208555299355967, 1.2736842105263158, 1.0769230769230769, 1.069042316258352, 1.1496461071789688, 1.0258843830888698, 1.075801749271137, 1.0289809909629168, 1.1394517282479142, 1.091326570732091, 1.0, 1.1825396825396826, 1.049252046288456, 1.0279106858054226, 1.2342465753424658, 1.0657894736842106, 1.1024761857263976, 1.2821449163943879, 1.0865528212453737, 1.1372549019607843, 1.1468181818181817, 1.0322439365064333, 1.0, 1.1818181818181819, 1.1072999475404544, 1.011350737797957, 1.032857142857143, 1.5217391304347827, 1.072668810289389, 1.0422624950543888, 1.0612191501912356, 1.0626410835214446, 1.069990513334036, 1.2768361581920904, 1.0666666666666667, 1.2173913043478262, 1.0, 1.4545454545454546, 1.0789307680176627, 1.348432055749129, 1.206896551724138, 1.013346515076619, 1.0031277926720286, 1.043645401230153, 1.0531295083786483, 1.1976509023024269, 1.0284090909090908, 1.0216763005780347, 1.0019442644199612, 1.0691021885231777, 1.0034156293698278, 1.0, 1.0745341614906831, 1.0941642211411577, 1.0073712659940373, 1.161810291382517, 1.0019582756729941, 1.2799220483949547, 1.0357142857142858, 1.0070970882802366, 1.1161681279009799, 1.0349689791314156, 1.0786516853932584, 1.1492252681764006, 1.0058027079303675, 1.1299212598425197, 2.0, 1.2213564213564214, 1.1014403751674855, 1.1242381622128457, 1.1652173913043478, 1.0, 1.6666666666666667, 1.101440354548812, 1.1454545454545455, 1.0682612569392091, 1.5, 1.0, 1.075, 1.1311475409836065, 1.1136363636363635, 1.0140056022408963, 1.0738396624472575, 1.0488215488215489, 1.0062972292191437, 1.1156191324209752, 1.0178571428571428, 2.0, 1.0730162646762487, 1.0578500399216084, 1.0980735551663747, 1.0380392327054944, 1.1070062977957715, 1.0115468843320725, 1.102543720190779, 1.0787282361847086, 1.0191387559808613, 1.0708438755767227, 1.021578221051311, 1.0, 1.0091522917095996, 1.3064066852367688, 1.2045454545454546, 1.4705882352941178, 1.0192735359525575, 1.0555555555555556, 1.0854700854700854, 1.111392234708297, 1.1782729805013927, 1.3834586466165413, 1.0209754879817408, 1.0553691275167785, 1.0195549538992046, 1.0537942834138487, 1.25, 1.0674790833030192, 2.5, 1.0671633945701595, 1.0175824175824175, 1.0305129488871694, 1.1111111111111112, 1.6666666666666667, 1.2608695652173914, 1.1639344262295082, 1.0517056274843113, 1.0, 1.0137614678899083, 1.0746606334841629, 1.0052083333333333, 1.0141489707727336, 1.1886792452830188, 1.1320754716981132, 1.0011879515315776, 1.1835654969193679, 1.088068923505352, 1.0512820512820513, 1.0, 1.041766109785203, 1.2929936305732483, 1.0918367346938775, 1.1758635214827295, 1.0504587155963303, 1.3070422535211268, 1.2553191489361701, 1.0096952908587258, 1.03328173374613, 1.2857142857142858, 1.002015557343756, 1.030188679245283, 1.0526315789473684, 1.1331819176882663, 1.1904761904761905, 1.4, 1.0014094522183001, 2.0, 1.2016460905349795, 1.0450581395348837, 1.1074651353568499, 1.0682828282828283, 1.0339425587467364, 1.0459770114942528, 1.1101881789526373, 1.0931817628587426, 1.0470756062767475, 1.0328254812456068, 1.044166787737905, 2.0, 1.0, 1.0582051692223313, 1.25, 1.068561872909699, 1.3529411764705883, 1.0, 1.4666666666666666, 1.2981927710843373, 1.0599250936329587, 1.1944444444444444, 1.0714285714285714, 1.0, 1.2003994673768308, 1.0705430854851898, 2.0, 1.2614651578320428, 1.0, 1.095133986183861, 1.0224719101123596, 1.025951193912359, 1.1543778801843319, 1.1363636363636365, 1.3942992874109263, 1.2685185185185186, 1.0304495140088523, 1.0266747588740897, 1.119225037257824, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.1428571428571428, 1.0696868653603382, 1.3333333333333333, 1.0299500831946755, 1.063157894736842, 1.2362559909782915, 1.081064113631013, 1.282183316168898, 1.0100056050469273, 1.0121809744779582, 1.0571428571428572, 1.5, 1.2121212121212122, 1.0808510638297872, 1.0355692119593634, 1.0952380952380953, 1.5714285714285714, 1.0298165137614679, 1.018957345971564, 1.0258673296811742, 1.0012254901960784, 1.1464387464387464, 1.0016442861057824, 1.095890410958904, 1.0907770515613653, 1.0370762711864407, 1.1923076923076923, 1.0269121813031161, 1.1081081081081081, 1.0421525358110724, 1.0593181214870215, 1.0094504106127606, 1.131578947368421, 1.0776699029126213, 1.11875, 1.0, 1.0343949706447757, 1.049980904841564, 1.0561217200819086, 1.0629567573348544, 1.093246916161405, 1.1582459485224024, 1.8333333333333333, 1.244297719087635, 1.0, 1.2604611443210931, 1.25, 1.0408912262843895, 1.0347826086956522, 1.157029234737747, 1.150197628458498, 1.1164874551971327, 3.0, 1.298592620768353, 1.005767916839511, 1.119206363803568, 2.0, 1.0634920634920635, 1.3099808061420346, 1.2517985611510791, 1.1082444389316133, 1.1746361746361746, 1.3125, 1.1691113028472822, 1.0129737919931816, 1.0370040642539191, 1.0908052376929576, 1.124780701754386, 1.0480928689883913, 1.121212121212121, 2.142857142857143, 1.0341207349081365, 1.5, 1.2267782426778242, 1.0606060606060606, 1.0855390129583677, 1.3888888888888888, 1.076468128323078, 1.1380329615563078, 1.0715607649599013, 1.0, 1.2, 1.16, 1.2846930613877225, 1.100656455142232, 1.0, 1.0236175929854334, 1.087441640640468, 1.0480729382511396, 1.0, 2.0, 1.021420071400238, 1.0108695652173914, 1.0032786885245901, 1.2222222222222223, 1.0818777097792924, 1.105427974947808, 1.4705882352941178, 1.0496798493408663, 1.0454545454545454, 1.1141732283464567, 1.007258064516129, 1.38199411022297, 1.0296707843253148, 1.0, 1.0136986301369864, 1.069580934999298, 1.0130851809640187, 1.0166688275906777, 1.0, 1.0869276708692768, 1.0217653258560513, 1.0214772132006287, 2.0, 1.0299043062200957, 1.0610950144869618, 1.023405069626402, 1.0309728714341881, 1.010221741957022, 1.0301824212271973, 1.0050675675675675, 1.2066055930568949, 2.0, 1.0811411442451806, 2.0, 1.25, 1.1761658031088082, 1.1346153846153846, 1.001636387924125, 1.0225890529973936, 1.053691916585431, 1.0224873795318954, 1.1044103404604038, 1.1059109968889491, 1.0444825872371903, 1.1839080459770115, 4.0, 1.0206745888848878, 1.168825910931174, 1.0482197342957889, 1.0679065038700952, 1.1121258244545915, 1.0787836903939185, 2.6125, 2.2857142857142856, 1.007364756293519, 1.072231568861208, 1.0199937784564916, 1.111962071480671, 1.0633918241419205, 1.0167714884696017, 1.0702130865595951, 1.0594285714285714, 1.1966463414634145, 3.0, 1.1666666666666667, 1.0848585690515806, 1.064030131826742, 1.0816696914700545, 1.0011904761904762, 1.1098039215686275, 1.259493670886076, 1.148905109489051, 1.0833333333333333, 1.0636927593881706, 1.2988505747126438, 1.0002772429726607, 2.0, 1.1648535564853557, 1.0588235294117647, 1.330188679245283, 1.0631284916201118, 1.0702576112412179, 1.158102766798419, 1.1089494163424125, 1.0822924698021075, 1.0, 1.3404255319148937, 1.1666666666666667, 1.0, 1.125, 1.1471774193548387, 1.0172684458398744, 1.029126213592233, 1.0650432553668696, 1.0046403712296983, 1.087005902176544, 1.153614286526759, 1.0338461538461539, 1.0898419339841934, 1.1297297297297297, 1.1177248677248677, 1.0324141267537494, 1.082864038616251, 1.2109826589595376, 1.1649905719673161, 1.0426189631581615, 1.3123539366588766, 1.0770592609203677, 2.0, 1.1203931203931203, 1.0702274975272008, 1.4476190476190476, 1.0, 1.0408163265306123, 1.25, 1.2782805429864252, 1.3333333333333333, 1.1666666666666667, 1.0009353254690738, 1.1185989185750635, 1.0217219793579762, 1.0533471140085864, 1.2216216216216216, 1.1336088154269972, 2.0, 1.1666666666666667, 1.0139869920973494, 1.0832071612611895, 1.0829415540481933, 1.1435243193985647, 1.0263891947441826, 1.1454545454545455, 1.1437546587157916, 1.1154529307282415, 1.0197679071628651, 1.0895536437056421, 1.303030303030303, 1.051255230125523, 1.0, 1.2352941176470589, 1.206107966199032, 3.0, 1.1002691790040378, 1.007950683976649, 1.4285714285714286, 1.0259063527846557, 1.5, 1.0555555555555556, 1.040476909813053, 1.6153846153846154, 1.0193611544178964, 1.0474156343442973, 1.3571428571428572, 1.0740740740740742, 1.0989690721649485, 1.003347680535629, 1.0673289183222958, 1.0955052471784041, 1.1555948587372498, 1.0, 1.0938518357592875, 1.1158536585365855, 2.0, 1.032082478031229, 1.0567177091443896, 1.1343424787133396, 1.0203604062529847, 1.0277536532870144, 1.0761904761904761, 2.0, 1.0532852564102564, 1.0201612903225807, 1.1127042573770214, 1.1821766561514195, 1.0128718535469108, 1.0302874099667034, 1.3424908424908424, 1.1375370292001692, 1.2842809364548495, 1.046677381035567, 1.0750788643533122, 1.0279329608938548, 1.055672268907563, 1.0368367476778215, 3.0, 1.1392049696861093, 1.0197356417377907, 1.0406721843805693, 1.5833333333333333, 1.2657964171642828, 1.2966507177033493, 1.1428571428571428, 1.0848557522748112, 1.0420575865415722, 1.1430131004366813, 1.0, 1.3333333333333333, 1.0585125234158583, 1.5, 1.088785046728972, 1.0833333333333333, 1.0033144930570093, 1.3846153846153846, 1.1181434599156117, 1.030398322851153, 1.0, 1.75, 1.167175572519084, 1.25, 2.0, 1.1083333333333334, 1.1724137931034482, 1.0062817828297936, 1.2171136653895274, 1.1111111111111112, 1.294985250737463, 1.1014466214978942, 1.0545454545454545, 1.183574879227053, 1.0571428571428572, 1.0384615384615385, 1.0, 1.0343392299687826, 1.0663780663780664, 1.0010330578512396, 1.075528387898881, 1.0624317956349207, 1.0445826853291862, 1.0699166987816084, 1.1578947368421053, 1.2008670520231215, 1.0157575757575759, 1.5714285714285714, 1.0, 1.2592592592592593, 1.0090668218645185, 1.0732568402471314, 1.107843137254902, 1.0295566502463054, 1.0186330660557465, 1.00773835202761, 1.0070178454661833, 1.0985915492957747, 1.2222222222222223, 1.048099301784329, 1.1031283138918346, 1.0666111437716377, 1.0074299942743772, 1.0328947368421053, 1.0749409332545776, 1.0203704827042357, 1.3282312925170068, 1.2861507128309573, 1.125, 1.087917485265226, 1.0724637681159421, 1.1555555555555554, 1.0825958702064897, 1.0701001430615165, 1.0, 1.0257611241217799, 1.0270404943028935, 1.1020408163265305, 1.1219003494694273, 1.019438444924406, 1.2647058823529411, 1.0159146296433055, 1.043042537851478, 1.085918614020951, 1.0372137404580153, 1.0208574739281575, 1.2069516715981363, 1.161825726141079, 1.2142857142857142, 1.0, 1.4285714285714286, 1.0774131040329418, 1.3333333333333333, 1.1506700470843898, 1.0980830326853697, 1.0152857775808595, 1.0395233366434955, 1.05172766305459, 1.0683815648445874, 1.0108695652173914, 1.0471567267683772, 1.005565078545096, 1.1137982752155982, 1.045694464633908, 1.1441346501264602, 1.6666666666666667, 1.09375, 1.075098814229249, 1.0882872889874866, 1.1172638436482085, 1.2760290556900726, 1.0580524344569289, 2.2304347826086954, 1.0581174251793224, 1.0563758389261746, 1.0988157894736843, 1.125, 1.0503906525780717, 1.0371578554290302, 1.29769820971867, 1.0581052631578947, 1.0625, 1.0885780885780887, 1.0748663101604279, 1.4375, 1.089795918367347, 1.4230769230769231, 1.2717948717948717, 1.0833333333333333, 1.0653735632183907, 1.005724869506651, 1.022864019253911, 1.5714285714285714, 1.0228310502283104, 1.0994705687709108, 1.064648036002, 1.019916697277408, 1.022358221134231, 1.0961738444436475, 1.0833333333333333, 1.0682967959527825, 1.0074788427474906, 1.0209672273120927, 1.0250501002004009, 1.0, 1.1276054905948145, 1.0753827285798867, 1.3951367781155015, 1.0750661189578528, 1.0, 1.3333333333333333, 1.0326139088729016, 1.0190708345282478, 1.235397390272835, 1.1039755351681957, 1.0646448523543495, 1.125, 1.1003932933140137, 1.0790964129939458, 1.1011029411764706, 1.0511363636363635, 1.0656716417910448, 1.0997889363373092, 1.1071428571428572, 1.75, 1.0713209720653065, 1.1650106458481193, 1.0384843102427472, 1.0, 1.1900796524257784, 1.0093130649598563, 1.1622153500140568, 1.19, 1.2307692307692308, 1.0734501347708896, 1.1282660332541568, 1.11875, 1.72, 1.0890825790591128, 1.1982160555004955, 1.164179104477612, 1.024390243902439, 1.014491590597519, 1.0067685167279057, 1.068975903614458, 1.2169736581501287, 1.3333333333333333, 1.037037037037037, 1.3333333333333333, 1.1536050156739812, 1.2307692307692308, 1.0, 1.1538461538461537, 1.0490066225165562, 1.019927536231884, 1.0058361739489723, 1.0549721946875892, 1.0836363636363637, 1.2830188679245282, 1.1428571428571428, 1.064516129032258, 1.0945945945945945, 1.1428571428571428, 1.1165217391304347, 1.0319458608835428, 1.0310860450447108, 1.3195876288659794, 1.1000389815555693, 1.0479805815524748, 2.5, 1.070531795447586, 1.2089810017271156, 1.5, 2.0, 1.1482248520710059, 1.142723947500538, 1.0930072114758793, 1.279503105590062, 1.0, 1.0932203389830508, 1.5950920245398772, 3.0, 2.0, 1.0418307086614174, 1.0958462158892324, 1.0188679245283019, 1.6666666666666667, 1.0358174683414159, 1.0441518202943454, 1.0188087774294672, 1.0, 1.056338028169014, 1.0245688230108, 1.144736842105263, 1.1825126789497336, 1.0033164601152034, 1.2724550898203593, 1.0703125, 1.1001166790417165, 1.0762867647058822, 1.1198347107438016, 1.1694915254237288, 1.0160360256904515, 1.6329139205112841, 1.0448540564322848, 1.437125748502994, 1.196078431372549, 1.2835820895522387, 1.1062068965517242, 1.0560398505603985, 1.0152510082892523, 1.0919793063805328, 1.0403930131004366, 1.5, 1.6666666666666667, 1.0871955507255642, 1.106420404573439, 1.1382999416455943, 1.0344558854211412, 1.0771031945141327, 1.090652732852285, 1.0255813953488373, 1.0434782608695652, 1.121688546497917, 1.1043023566394774, 1.185883997204752, 1.3126436781609196, 1.6666666666666667, 1.0273972602739727, 1.0471745226844915, 1.112144565506245, 1.014663442789174, 1.1011143389845206, 1.0234375, 2.0, 1.084917617237009, 1.0089906643967463, 1.1658670322138451, 1.0760456273764258, 1.0664664091927716, 1.0573248407643312, 1.369757174392936, 1.008695652173913, 1.0313254148839268, 1.065072817577237, 1.0956221198156681, 1.0511440107671601, 1.0, 1.150948962533189, 1.0566322332937197, 1.039835164835165, 1.0379885589011064, 1.1217228464419475, 1.0431164901664145, 1.2, 1.2297650130548303, 1.6666666666666667, 2.0, 1.1764705882352942, 1.0025575447570332, 1.0592417061611374, 1.0390477292896554, 1.002544801334417, 1.0271370420624153, 1.0233354742025262, 1.1630434782608696, 1.1951219512195121, 1.0750717256956865, 1.6, 1.5, 1.0256837891927952, 1.1428571428571428, 1.1142433234421365, 1.1352295409181636, 1.0560612888688599, 1.0857476749281785, 2.0, 1.0953560371517028, 1.2034883720930232, 1.0699039487726787, 1.0401111957209832, 1.1856060606060606, 1.1342465753424658, 1.120706210990354, 1.1176187612748045, 1.0031796502384738, 1.109375, 1.085195530726257, 1.0, 1.0, 1.0416875290583312, 5.0, 1.4285714285714286, 1.6875, 1.0, 1.1325301204819278, 1.0637472283813747, 1.0945468811298549, 1.0, 1.1402855369335816, 1.0204439252336448, 1.131979695431472, 1.3317307692307692, 1.25, 1.0134408602150538, 1.083148558758315, 1.1521252796420582, 1.0092971364819636, 1.0399334442595674, 1.154339505534292, 1.1620822241940254, 1.0, 1.298176587553412, 1.0501301365330746, 1.0379752510760403, 1.1774193548387097, 1.080987012987013]
origin-bjaq_15.71 	max: 5.0000	99th: 2.5000	95th: 1.6667	median: 1.0829	mean: 1.1702

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.918124 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[0.0000000e+00 8.0442429e-04 0.0000000e+00 0.0000000e+00 5.9604645e-08]
Distance score: 0.00016089677228592336
SAUCE Drift detection: True
Detection latency: 0.0210s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 28.6665 nats / 41.3571 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.123439 | Model-update-time: 2.684138


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 24.0410	99th: 5.0046	95th: 1.8135	median: 1.0833	mean: 1.2719
ReportEsts: [1.0211480362537764, 1.0109997555609875, 1.0403564626037447, 1.0186567164179106, 1.4285714285714286, 1.0, 1.040694713252521, 1.0589384154985038, 1.2, 1.0289672544080604, 1.2482613337950539, 1.043113751933136, 1.0464240903387705, 1.1235955056179776, 1.083445945945946, 1.0, 1.125, 1.1119376549769748, 3.0, 1.5, 1.08, 1.0951033243486075, 1.109967811724975, 1.0789766407119021, 1.0625587958607714, 1.0, 1.14110678625825, 1.5, 1.2, 1.0, 1.0, 1.0543331399116473, 1.00240206624339, 1.153718091009989, 1.1639007196357762, 1.218314272285759, 1.1505102040816326, 2.0, 1.0642054574638844, 1.1269393511988717, 1.0751646403242148, 1.0676505872564386, 1.0223438887244747, 1.0282608695652173, 1.0009523446725839, 1.2777777777777777, 1.52, 1.2644230769230769, 1.111455108359133, 1.2695652173913043, 1.063965557007765, 1.0796387520525452, 1.0129870129870129, 1.1940577078288943, 1.099236641221374, 1.030082287872656, 1.0074062703864308, 1.0275347385946223, 1.2907801418439717, 1.0563387256520305, 1.4814814814814814, 1.0198190826855766, 1.0425894378194207, 1.0122448979591836, 1.0459770114942528, 1.2727272727272727, 1.143179171206372, 1.3180418719211822, 1.75, 1.0, 1.7602871651199439, 1.021788990825688, 1.0762009939260078, 1.0826086956521739, 1.0586241186042307, 1.1015801354401806, 1.0747126436781609, 1.3333333333333333, 1.1183009130607384, 9.0, 1.020320663357021, 1.2142857142857142, 1.049757838388988, 1.1345029239766082, 1.1021634615384615, 1.1292740046838408, 1.0384615384615385, 1.063704389228156, 1.009931433829718, 1.1839622641509433, 1.75, 1.238263503281171, 1.0671273003734263, 1.205607476635514, 1.0262068965517241, 1.0284444444444445, 1.0765432098765433, 7.75, 1.5214285714285714, 1.0, 1.1621901897749662, 1.0141002373307273, 1.08130081300813, 1.2231659281142295, 1.2142857142857142, 1.002045293302184, 1.0172370088719898, 1.173894189071986, 1.1957230880753897, 1.0498095517140347, 1.3333333333333333, 1.6666666666666667, 1.097339246119734, 1.0689865311518758, 1.0273224043715847, 1.077922077922078, 1.0589919200611972, 1.0, 1.3732647814910026, 1.133056133056133, 1.0, 1.0263157894736843, 1.1666666666666667, 1.1397590361445784, 1.01539545889342, 1.1298190984578884, 1.0754716981132075, 1.8, 1.1761904761904762, 1.0, 1.0, 1.0865280245905575, 1.1818181818181819, 1.065655001548467, 1.032400386870291, 1.0852650675267084, 4.0, 1.5833333333333333, 1.0726392251815982, 1.1109919571045577, 1.0753623188405796, 1.031414906337186, 1.1911764705882353, 1.0169811320754718, 1.1316157768555817, 1.0, 1.027534965034965, 1.0267558528428093, 1.1425755584756898, 1.0369956944665923, 2.0, 1.2385565512230565, 1.0168539325842696, 1.0038461538461538, 1.1644736842105263, 1.072992700729927, 1.0318521307977155, 1.0699427534999717, 1.117842741935484, 1.0174081237911026, 1.0584615384615386, 1.2452830188679245, 1.2777777777777777, 1.022695035460993, 1.4285714285714286, 1.0113111517632356, 14.5, 1.0858034321372856, 1.2798135794571872, 1.1147646679561574, 1.1049713588994456, 1.2156862745098038, 1.0507726269315674, 1.0037558685446009, 1.022514071294559, 1.1182053494391717, 1.1020408163265305, 1.0472012102874433, 1.0603683758682587, 1.098920174304458, 1.0851063829787233, 1.0782865583456425, 1.0501031177969187, 1.1175460505775836, 1.3333333333333333, 1.0489549496341504, 1.1209150326797386, 1.1428571428571428, 1.0879924587179821, 1.0632665709812108, 1.3888888888888888, 1.1985472154963681, 1.0689516864175024, 1.0470553271583536, 1.1422498622372668, 1.100706311232627, 1.1483957219251337, 1.0285268464431463, 1.1982758620689655, 1.0, 1.06, 3.0, 1.078694433319984, 1.0169491525423728, 1.0952380952380953, 1.1666666666666667, 1.0, 1.4453781512605042, 1.126557325343006, 1.2365930599369086, 1.3, 1.0188857412653447, 1.0, 1.038077370149071, 1.0652741514360313, 1.2340736011674038, 1.2, 1.180635838150289, 1.0108426270136308, 1.0225534231659181, 1.0350665599603233, 1.0, 1.0436987904799064, 1.0961495285136955, 1.0188393390345574, 1.141355140186916, 1.1092392985461728, 1.2782689144736843, 1.0, 1.0035907168391045, 1.358174316658071, 1.0, 1.064516129032258, 1.0367741935483872, 1.0499075785582255, 1.0638143582306019, 2.0, 1.2314507198228128, 1.0726843480008037, 1.1147431621080721, 1.0938775510204082, 1.0, 1.6666666666666667, 1.0765041926970234, 1.1785714285714286, 1.0162341895944713, 1.5, 1.0, 24.040983606557376, 1.1144860571564608, 1.060765410458662, 1.0263852242744063, 1.0713596914175507, 1.0431309904153354, 1.0068548387096774, 1.0701729739222057, 1.0350877192982457, 2.0, 1.1033829261383064, 1.111670480549199, 1.1061359867330016, 1.0428666004634226, 1.101776973824218, 1.01819999365301, 1.1107761868877166, 1.0776406861269936, 1.0146892655367232, 1.0241992882562279, 1.0178973568804077, 1.2727272727272727, 1.041129300908961, 1.1009389671361502, 1.1702127659574468, 1.3888888888888888, 1.0027845457709712, 1.0526315789473684, 1.1025641025641026, 1.1080185722873843, 1.1002785515320335, 1.3412322274881516, 1.0326920060061406, 1.0161977834612106, 1.0228116983397706, 1.0623630685500935, 1.2222222222222223, 1.15985401459854, 1.0298616168973052, 1.0363292033981941, 1.1503817581510525, 1.0659794568117849, 4.381585425898572, 1.185044359949303, 1.074668944895344, 1.0445694336695113, 1.1441992706594968, 1.0786036072403158, 1.020964360587002, 1.0, 1.1818181818181819, 1.0824777549623545, 2.0, 1.0507399577167018, 1.1171176303047565, 1.346704871060172, 1.3235294117647058, 1.1428571428571428, 16.110576923076923, 1.0648915187376726, 1.0750247733695453, 1.1, 1.0483091787439613, 1.028752901034382, 1.0816901408450703, 1.18, 1.0507544581618655, 1.02179236043095, 1.2857142857142858, 1.0110501095089004, 1.041894353369763, 1.1176470588235294, 1.053088024964244, 1.3333333333333333, 1.2727272727272727, 1.0108923974118507, 2.0, 1.1307692307692307, 1.0385674931129476, 1.0102171136653895, 1.087211576065702, 1.0783289817232375, 1.1176470588235294, 1.0850246634467167, 1.072217810025368, 1.0634588563458856, 1.0458365790660489, 1.0538838348495452, 2.0, 1.0, 1.0461139221264306, 1.25, 1.0667019587083113, 1.3333333333333333, 7.285714285714286, 1.375, 1.2921348314606742, 1.0541740674955595, 1.0661157024793388, 1.0296523517382412, 1.0, 1.1166163141993957, 1.0081408851272051, 2.0, 1.256352343308865, 1.0, 1.0963151976472623, 1.0470588235294118, 1.090527420624508, 1.2004608294930876, 1.080550098231827, 1.146484375, 1.380281690140845, 1.0048586022175159, 1.0251091872978517, 1.0662162162162163, 1.0, 1.0, 1.7142857142857142, 1.5, 1.0625, 1.0841013824884793, 1.1666666666666667, 1.1974358974358974, 1.074468085106383, 1.0595199742268042, 1.1043667000803585, 1.229187071498531, 1.0187052298295647, 1.0005464480874318, 1.040677966101695, 1.5, 1.1347517730496455, 1.1148936170212767, 1.0490248453456592, 1.1428571428571428, 1.5714285714285714, 1.1373801916932906, 1.2765957446808511, 1.054024530471445, 1.0733173076923077, 1.113564668769716, 1.0253623188405796, 1.131578947368421, 1.0380952380952382, 1.0663366336633664, 1.25, 2.0, 1.0583126550868487, 1.0184162916917938, 1.1707875457875458, 1.006864952025161, 1.0813953488372092, 1.3975903614457832, 1.0862068965517242, 1.0, 1.0263006523149225, 1.0391765831338229, 1.134777104620671, 1.0500257864878804, 1.019994148054228, 1.1394649834685904, 1.5714285714285714, 1.096825396825397, 1.0, 1.1491782553729457, 1.2, 1.0183446672662344, 1.0293296089385475, 1.080073086844368, 1.0346020761245676, 1.095505617977528, 3.0, 1.0981022836925056, 1.0166002269619112, 1.1945696155968364, 2.0, 1.1111111111111112, 7.085654596100278, 1.1561461794019934, 1.0924184372460235, 1.1995841995841996, 1.1666666666666667, 1.1863675582398618, 1.0126705869299901, 1.0938288865587014, 1.0915997771872632, 1.2290570175438595, 1.0745341614906831, 1.2110091743119267, 2.142857142857143, 1.0025445292620865, 1.5714285714285714, 1.1681274900398406, 1.0837004405286343, 1.1548727726039452, 1.5625, 3.7777777777777777, 1.0795363417656922, 1.0466830466830468, 2.0, 1.1938775510204083, 1.0963391136801541, 1.0565936831508747, 1.2142857142857142, 1.2667744543249797, 1.0092207019631172, 1.0385961453147337, 1.2272727272727273, 1.0022308979364194, 1.5, 1.0125832716506291, 1.0216637781629117, 1.1049180327868853, 1.2222222222222223, 1.0725085939535548, 1.0423228346456692, 1.3888888888888888, 1.0862523540489641, 1.1, 1.0467625899280575, 1.0910493827160495, 1.00253807106599, 1.0373974540311175, 1.0, 1.1369863013698631, 1.0644653044978107, 1.0591514947006764, 1.0332016966505777, 1.0, 1.112114213730842, 1.0067771859701018, 1.0229312063808573, 2.0, 1.0476726726726726, 1.0467876685844182, 1.032782623765236, 1.0428274428274429, 1.0171005561464057, 1.014736367733213, 1.065546218487395, 1.139344262295082, 2.0, 1.2044033283373818, 1.7619047619047619, 1.25, 1.2238805970149254, 1.1923076923076923, 1.012354184980162, 1.2286012526096033, 1.048057538277121, 1.0022999080036799, 1.0814097303295458, 1.1146718146718146, 1.0690043323321565, 1.1956521739130435, 4.0, 1.0088002627761201, 1.302834008097166, 1.0453648249683678, 1.0426988518530336, 1.0807746811525745, 1.1197991391678623, 2.488095238095238, 2.5714285714285716, 1.0097398466147671, 1.0420547147846333, 1.0581653216530325, 1.1057925771765522, 1.0600302211639727, 1.0337972166998013, 1.0630990336979447, 1.0444674250258532, 1.231111111111111, 1.0495421107941751, 1.3878281622911695, 1.2064302117887216, 1.0436781609195402, 1.0543478260869565, 1.1428571428571428, 1.1368124118476728, 1.0833705856057219, 1.1666666666666667, 1.063063063063063, 1.0663623531966486, 1.2795698924731183, 1.0983323837827017, 2.0, 1.099526066350711, 1.03125, 1.171875, 1.0779153766769867, 1.0010405827263267, 1.0118577075098814, 1.046692607003891, 1.0308430431802604, 1.0, 1.469387755102041, 1.2, 1.3333333333333333, 1.2065217391304348, 1.1310483870967742, 1.0014705882352941, 1.091324200913242, 1.062300562224586, 1.0846867749419953, 1.0812830839034169, 1.1753593655339538, 1.0146294432077585, 1.0854851906398297, 1.01203613039508, 1.119047619047619, 1.0121515368120086, 1.0026202816982297, 1.03954802259887, 1.0601503759398496, 1.1147058823529412, 1.4285714285714286, 1.403453689167975, 1.2138888888888888, 1.0992074153680818, 1.36, 1.2226764786045243, 1.3969465648854962, 1.5, 1.032085561497326, 1.2142857142857142, 1.014362657091562, 1.2333333333333334, 1.0, 1.013927533957693, 1.1234481320722531, 1.027665167931992, 1.0027926635972526, 1.3131313131313131, 1.141732283464567, 1.0, 1.1379310344827587, 1.017452923036546, 1.0411447887892433, 1.084488792050444, 1.0876078634119921, 1.162778515052036, 1.0944700460829493, 1.0289496877035675, 1.0807248764415156, 1.0682109876349977, 1.003868520021869, 1.3636363636363635, 1.003996003996004, 6.142857142857143, 1.1863350203678558, 1.0, 1.0456375838926175, 1.145631067961165, 1.6853103872157345, 1.25, 1.0910526702416807, 1.7, 1.1111111111111112, 1.0750915485822634, 1.1044, 1.0829737290588122, 1.000019892777927, 1.0655737704918034, 1.4333333333333333, 1.16, 1.1422680412371133, 1.0131281122679945, 1.060529634300126, 1.019032416502947, 1.1572572456410108, 1.0, 1.0910735514550058, 1.154970760233918, 2.0, 1.0122446292598364, 1.048179204599904, 1.133154602323503, 1.0211431838186587, 1.0772038112033704, 1.0442477876106195, 1.8571428571428572, 1.5558510638297873, 1.0336906584992342, 1.1303318298969072, 1.1046425939572586, 1.017303930675001, 1.1203471112126056, 1.2619047619047619, 1.0996884735202492, 1.1708860759493671, 1.005493214593379, 1.0487225193107546, 1.0812928501469148, 1.0198178896625603, 1.0366202351646, 1.0043478260869565, 1.1392901729980383, 1.1666666666666667, 1.4, 1.0592383638928067, 1.512258908139915, 1.0454385346953152, 1.0546552272005085, 1.0833333333333333, 1.0137111517367459, 1.0236541598694944, 1.1390728476821192, 1.0688538186484309, 3.0, 1.0111940298507462, 1.5, 1.0088691796008868, 1.0, 1.1009699253366827, 1.3333333333333333, 1.0873015873015872, 1.09958071278826, 1.0, 1.0765974601894779, 1.1878698224852071, 1.25, 2.0, 1.1300813008130082, 1.035820895522388, 1.0664050709326893, 1.2088835534213684, 1.1854974704890389, 1.3043478260869565, 1.0428798305982, 1.1116883116883116, 1.0606060606060606, 1.0685714285714285, 1.0714285714285714, 1.0, 1.0070921985815602, 1.1067821067821069, 1.0929752066115703, 1.0487176846225152, 1.0833303297891512, 1.0521764316451505, 1.1002225602884832, 1.1517254431897042, 1.1050531914893618, 1.007357102433503, 1.5714285714285714, 1.0, 1.1724137931034482, 1.0134042382228976, 1.1368049426301854, 1.1666666666666667, 1.0124688279301746, 1.0421354203060582, 1.0399565931161134, 1.0209418705331592, 1.0657894736842106, 1.2777777777777777, 1.0492285084496693, 1.014981744932645, 1.0529990965193023, 1.0123513266239708, 1.0316455696202531, 1.0260847107438016, 1.0058115475269436, 1.011658031088083, 1.3554479418886198, 1.2857142857142858, 1.0946579194001875, 1.8732394366197183, 1.125, 1.1362229102167183, 1.1258941344778255, 1.0, 1.0136986301369864, 1.0084135174080788, 1.037037037037037, 1.078467719359305, 1.042094455852156, 1.2647058823529411, 1.0238919281009267, 1.0504112405757369, 1.0568232662192394, 1.0963740458015268, 1.015200868621064, 1.202684002188395, 1.2138492871690427, 1.2857142857142858, 1.0, 1.1111111111111112, 1.0776080254015001, 1.5, 1.1634318597959719, 1.0709230729925143, 1.0575985821887461, 1.0492824773413898, 1.051370479502023, 1.0907980456026058, 1.064516129032258, 1.05359477124183, 1.0018252817137119, 1.044974749116761, 1.0409398328637964, 1.0663138231631382, 1.5714285714285714, 1.0726072607260726, 1.0076045627376427, 1.1163836410653403, 1.0247678018575852, 1.276464542651593, 1.0763636363636364, 2.165991902834008, 1.0032686205102272, 1.0639386189258313, 1.0610333973477575, 1.25, 1.0607296269194462, 1.0329188686373034, 1.2838031533683707, 1.0559105431309903, 1.0, 1.0524625267665952, 1.0497512437810945, 1.8125, 1.0277659539635244, 1.6923076923076923, 1.2096774193548387, 1.1, 1.0177165354330708, 1.0208366725436768, 1.018181818181818, 1.8333333333333333, 1.1013824884792627, 1.098602850115993, 1.0693738978003526, 1.0028694829014317, 1.023898925856391, 1.093639515909709, 1.0, 1.083739837398374, 1.060949404180504, 1.0434154630416312, 1.0504761904761906, 1.0064935064935066, 1.1330027051397655, 6.6396724294813465, 1.0801096558026195, 1.2352941176470589, 1.0, 1.3333333333333333, 1.1430148252353642, 1.0723230617700859, 1.1659650694133452, 1.0834772190704394, 1.076689445709947, 1.0919540229885059, 1.153749100551005, 1.0710733145032543, 1.1232638888888888, 1.037037037037037, 1.0168804861580014, 1.063871590412942, 1.1136363636363635, 1.75, 1.0577035004573043, 1.1104517081270564, 1.026504693539481, 1.089385474860335, 1.224112961622013, 1.0589136819363332, 1.146886641830761, 1.0025062656641603, 1.3076923076923077, 1.0662379421221866, 1.1264591439688716, 1.1319648093841643, 1.4827586206896552, 1.0395879791865774, 1.179342723004695, 1.1190655614167295, 1.0975609756097562, 1.0707050809546805, 1.0964521305045463, 1.0676749062718434, 1.0506978308390784, 1.3333333333333333, 1.5384615384615385, 2.0, 1.1375415282392027, 1.4615384615384615, 1.0, 1.1538461538461537, 1.0264817150063053, 1.0978260869565217, 1.0605998002961126, 1.0394925086861508, 1.0781818181818181, 1.3396226415094339, 1.0666666666666667, 1.096774193548387, 1.025, 1.1343283582089552, 1.1927083333333333, 1.0270703038510043, 1.026856695203735, 1.3009708737864079, 1.109731925264013, 1.047729597297876, 2.5, 1.0690939347917408, 1.2612612612612613, 1.5, 2.0, 1.168878847783112, 1.0954593733404143, 1.0567216332001053, 1.1612903225806452, 1.0, 1.015748031496063, 1.4325153374233128, 3.0, 1.0276927686348365, 1.0721214547470206, 1.065034488860848, 1.0683685075192721, 1.6666666666666667, 1.0339186251097625, 1.0319767441860466, 1.082051282051282, 5.459613196814562, 1.0026631158455392, 1.0, 1.0133333333333334, 1.1361425306218134, 1.0773455208890035, 1.1938202247191012, 1.14453125, 1.0683383365707222, 1.0559062218214608, 1.0627450980392157, 1.2321428571428572, 1.0464609008615988, 1.8435174746335965, 1.0615203893270684, 1.3712574850299402, 1.2647058823529411, 1.0650887573964498, 1.1428571428571428, 1.079176839902337, 1.0028328611898016, 1.000937894006745, 1.0516528925619835, 1.5, 1.6666666666666667, 1.114383540890222, 1.6407731582786287, 1.1133925268220495, 1.0142751345583048, 1.0791275274637797, 1.1322374877330716, 1.1307692307692307, 1.7647058823529411, 1.1783664806225926, 1.0767860098733215, 1.1917134831460674, 1.1846473029045643, 1.6666666666666667, 1.0379746835443038, 1.0176978818283167, 1.1675992539301892, 1.0354321650433316, 1.0990590093276522, 1.0074173971679028, 2.0, 1.0937880633373933, 1.005459737054043, 1.1877729257641922, 1.049429657794677, 1.0803791877137745, 1.1272727272727272, 1.4194260485651213, 1.060622914349277, 1.0324316307560713, 1.106990622335891, 1.0384615384615385, 1.051413881748072, 1.0909090909090908, 1.2352112676056337, 1.0599719823382334, 1.0395313366611203, 1.0712705715802513, 1.1476470588235295, 1.0293696275071633, 1.037037037037037, 1.1924050632911392, 1.6666666666666667, 1.3333333333333333, 1.1111111111111112, 1.044776119402985, 1.006777108433735, 1.017836635084697, 1.0167697672717222, 1.0276797829036635, 1.0751046025104602, 1.1761658031088082, 1.1047120418848169, 1.081715382974184, 1.6, 1.5833333333333333, 1.0839745734359318, 1.0, 1.1131805157593124, 1.1047973917093619, 1.0393028024606972, 1.0968886776688462, 2.5, 1.0514322916666667, 1.186219739292365, 1.0548218290555693, 1.038907421762723, 1.208232445520581, 1.1339837398373984, 1.1666990354114068, 1.0676700367647058, 1.039745627980922, 1.2456140350877194, 1.1231979030144168, 1.0, 1.0, 1.0415852518902387, 5.0, 1.3333333333333333, 1.4594594594594594, 1.0446320868516286, 1.1333333333333333, 1.1132275132275131, 1.2534376983287496, 1.1666666666666667, 2.3197353914002203, 1.0706775700934579, 1.1758793969849246, 1.2618510158013545, 1.25, 1.3318485523385302, 1.125831485587583, 1.160676532769556, 1.00814447592068, 1.0228995161188965, 1.0509512149180638, 1.1166666666666667, 1.0, 1.2126840057966592]
origin-bjaq_15.71 	max: 24.0410	99th: 5.0046	95th: 1.8135	median: 1.0833	mean: 1.2719

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.959407 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[0.0000000e+00 7.0405006e-04 1.1920929e-07 2.9802322e-07 0.0000000e+00]
Distance score: 0.0001408934622304514
SAUCE Drift detection: True
Detection latency: 0.0336s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 28.5608 nats / 41.2045 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.063056 | Model-update-time: 2.507246


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 44.4809	99th: 12.1380	95th: 2.0000	median: 1.0909	mean: 1.5367
ReportEsts: [1.1132686084142396, 1.0501537733617223, 1.0421288500723986, 1.10873786407767, 1.3636363636363635, 1.0, 1.072685347636473, 1.0628458804189724, 1.1666666666666667, 1.0094451003541913, 1.2243095835858366, 1.0427628225257226, 1.0003799392097263, 1.1344902386117137, 1.0653933311751376, 12.105263157894736, 1.23125, 3.0, 1.2727272727272727, 1.1953907815631262, 1.3980024968789013, 1.3333333333333333, 1.020684088386641, 1.875, 1.2663558004804296, 1.034480803575647, 2.0, 1.1530841669653622, 1.5, 1.4, 1.0251572327044025, 1.0, 1.0485239008497902, 1.003150046959803, 1.2774694783573808, 1.204435306212366, 1.2334705282634142, 1.2493887530562346, 4.0, 1.0737893927747886, 1.151967435549525, 1.1019820162107397, 1.0699236377048509, 1.107733220952284, 1.1282608695652174, 1.0726829454116034, 1.3333333333333333, 1.5, 1.0348258706467661, 1.1527581329561527, 1.2063492063492063, 1.1030900443712304, 1.0643185298621747, 1.0404040404040404, 1.194451116982945, 1.381679389312977, 1.0368485668024838, 1.1231465499667024, 1.0516931244651682, 1.2905405405405406, 1.0001146090009743, 1.5185185185185186, 1.0430520215472858, 1.0864406779661018, 1.1088709677419355, 1.0459770114942528, 11.833333333333334, 1.1288705292518448, 1.2788708297690334, 1.75, 1.0, 2.403555990539108, 1.0272331154684096, 1.09, 1.1517671517671517, 1.0013235984799966, 1.0650759219088937, 1.027538726333907, 1.3333333333333333, 1.111195158850227, 18.0, 1.0205897888927342, 1.4285714285714286, 1.1745421046927496, 1.1277777777777778, 1.0618101545253864, 1.1310004486316734, 1.037037037037037, 1.074281730408699, 1.0066401906274822, 1.1402714932126696, 1.75, 1.2355391022674687, 1.0456281257156856, 1.1838006230529594, 1.041237113402062, 1.0260285474391269, 1.0070588235294118, 15.75, 1.546712802768166, 1.0, 1.1273513731012976, 1.053811659192825, 1.0688854489164086, 1.222904525364728, 1.2142857142857142, 1.0024521438703426, 1.0719669341113542, 1.2819258089976322, 1.1660298714831538, 1.0644980370162647, 1.3333333333333333, 2.0, 1.0656118143459916, 1.119344813792962, 1.0805604203152364, 1.1818181818181819, 1.060492700729927, 2.0, 1.9280020570840832, 1.1754932502596054, 1.0, 1.0246305418719213, 1.0, 1.2790697674418605, 1.0118297663102305, 1.1059349074664966, 1.045045045045045, 1.8, 1.1948249619482496, 1.0, 1.2142857142857142, 1.0855895433835452, 1.0833333333333333, 1.0100502512562815, 1.0258289147304462, 1.069712902371676, 6.0, 1.6153846153846154, 1.1064814814814814, 1.2418230563002681, 1.0789183222958056, 1.021938998149179, 1.0451612903225806, 1.0492307692307692, 1.1860388701610056, 1.0, 1.0373322147651007, 1.0051867219917012, 1.1540841584158417, 1.0068304025577677, 2.5, 1.1363526277549043, 1.0918079096045197, 1.0130353817504656, 1.2236842105263157, 1.075912408759124, 1.0265013690074152, 1.2357293868921775, 1.022081291438455, 1.0538674033149171, 1.3795620437956204, 1.0318725099601593, 1.0047483380816715, 1.0669398907103824, 1.5714285714285714, 1.029067528722766, 29.5, 1.029585798816568, 1.1984425808659935, 1.0166964818127608, 1.02236030478955, 1.1860036832412524, 1.010615711252654, 1.0369988908255428, 1.0267241379310346, 1.0750647109577223, 1.154518950437318, 1.0569010796615115, 1.1260656772971267, 1.046467087712898, 1.2533333333333334, 1.0212201591511936, 1.0743288649948715, 1.060242663656885, 1.3218390804597702, 1.1298193021900242, 1.0155844155844156, 1.125, 1.0865766726971904, 1.0916700995670658, 1.1363636363636365, 1.2584745762711864, 1.003947153808514, 1.0651359400518783, 1.083978233146134, 1.1039387308533917, 1.1284964282640502, 1.0446397084753731, 1.0044583147570219, 1.055186170212766, 1.1063890473474045, 1.0466870777878887, 1.1644535240040859, 1.0495568474220909, 1.2994350282485876, 1.1044776119402986, 1.0632911392405062, 1.0, 1.472, 1.2598959154707459, 1.2046109510086456, 1.2043010752688172, 1.024909420289855, 1.0, 1.04053222401396, 1.050251256281407, 1.21139946007141, 1.6666666666666667, 1.153179190751445, 1.0103950103950103, 1.0340166849899761, 1.0005707288726549, 1.0, 1.0254330998894212, 1.1004063301967493, 1.012840020961012, 1.1207942636514066, 1.3457132343922482, 1.1074662419102559, 1.0689655172413792, 1.008576010589553, 1.0352381743427883, 1.1258741258741258, 1.0010298661174046, 1.0069284064665127, 7.181818181818182, 1.0780619111709286, 2.0, 1.1524752475247524, 1.0146942937931673, 1.1959045809584126, 1.0151515151515151, 1.0833333333333333, 1.6666666666666667, 1.0567643222953844, 1.2105263157894737, 1.0023471914086364, 1.5, 1.0, 44.48091603053435, 1.1146632038914996, 1.106273473362081, 1.0328282828282829, 1.022202486678508, 1.0588235294117647, 1.0208897485493231, 1.0480160334141742, 1.1403508771929824, 2.0, 1.070698894719214, 1.0988747083847947, 1.1342812006319116, 1.0262174405436013, 1.031494007357304, 1.0302242344519563, 1.0946236559139786, 1.087167571180749, 1.0144076840981857, 1.141626129256428, 1.0202635367068984, 1.0909090909090908, 1.028499383615376, 1.208762886597938, 1.16, 1.25, 1.3287671232876712, 1.1223021582733812, 1.0316219594269782, 1.4629911666159001, 1.0724233983286908, 1.344671201814059, 1.0738885888392442, 1.082214765100671, 1.018314333769389, 1.0529731643776716, 1.3333333333333333, 1.1449225473321858, 1.1849963583394028, 1.0323167130684214, 1.1128130600722463, 1.0246039366298607, 7.712380952380952, 1.1691842900302114, 1.1775309696710807, 1.0338337524034906, 1.1398833487166395, 1.0325797186832608, 1.0620475698035161, 1.0, 1.2727272727272727, 1.0906270411495755, 2.5, 1.065439672801636, 1.0055193994404155, 1.3514739229024944, 1.3055555555555556, 1.055045871559633, 27.184100418410043, 1.224868717179295, 1.079742162812159, 1.1111111111111112, 1.145460392325008, 1.023519772776928, 1.2394366197183098, 1.372093023255814, 1.0919067215363512, 1.0067567567567568, 1.4285714285714286, 1.003036071587372, 1.027538726333907, 1.1176470588235294, 1.0455710623753915, 1.4285714285714286, 1.2727272727272727, 1.0259356181468984, 2.0, 1.1696113074204948, 1.0274509803921568, 1.013530135301353, 1.0672268907563025, 1.073107049608355, 1.1, 1.0858327118001638, 1.1184265618687332, 1.0781041388518025, 1.0751588700750276, 1.0351084812623275, 3.0, 1.1111111111111112, 1.0609392779559326, 1.25, 1.067710965133906, 1.3157894736842106, 11.222222222222221, 1.2941176470588236, 1.2723292469352014, 1.0609965635738832, 1.2524271844660195, 1.0949656750572083, 1.3623188405797102, 1.6, 1.1263213361862485, 7.7368421052631575, 1.1935483870967742, 1.0062163568220668, 1.1327433628318584, 1.0383986928104576, 1.0020387359836902, 1.75, 1.3333333333333333, 1.1764705882352942, 1.0909090909090908, 1.1125592417061612, 1.133730812815494, 1.2581079262548782, 1.0025839793281655, 1.5, 1.0169371780123042, 1.150109170305677, 1.4545454545454546, 1.17772397094431, 1.0137331485447902, 1.75, 1.030842981186686, 1.1477272727272727, 1.0084378563283922, 1.0873661535062455, 1.1585987261146498, 1.1767441860465115, 1.1101411319656627, 1.0926640926640927, 1.1591639871382637, 1.2487091417783136, 1.0795660036166366, 1.1, 1.0058001365341875, 1.0218244803695151, 1.9047619047619047, 1.2347334410339257, 1.4794520547945205, 1.0564516129032258, 1.0659115409726545, 11.870967741935484, 8.0, 1.0510204081632653, 13.504347826086956, 1.2307692307692308, 3.0, 1.0520094562647755, 1.0079101868865683, 1.15018315018315, 1.0870967741935484, 1.0886075949367089, 1.0082644628099173, 1.10803324099723, 1.0, 1.0073685053604733, 1.0523546653639473, 1.1221701326281204, 1.0451113858103125, 1.0413080895008606, 1.1311522048364153, 1.5714285714285714, 1.0774428274428274, 1.0, 1.1458823529411766, 1.1818181818181819, 1.0428992260792807, 1.0498652291105122, 1.233340498710232, 1.0987261146496816, 1.0626003210272874, 3.0, 1.121550591327201, 1.0330776337523446, 1.2540693397093985, 2.0, 1.0793650793650793, 13.301379310344828, 1.1877133105802047, 1.097367739069268, 1.1954261954261953, 1.0, 1.3071613459879206, 1.010781843802041, 1.030142431268632, 1.147838366282859, 1.2808114035087719, 1.2535545023696681, 1.6, 1.0642826734780757, 1.0134048257372654, 1.6896551724137931, 1.1139817629179332, 1.2295081967213115, 1.0483956863267208, 1.4705882352941178, 8.125, 1.0786092914515868, 1.0339805825242718, 3.0, 1.0510204081632653, 1.1510516252390057, 1.0889746757257566, 1.2, 1.2897305739945333, 1.2215612400026439, 1.0593262717643315, 1.0598488030239395, 1.0485629335976214, 1.1028010395610741, 1.054133445237096, 1.0114099429502852, 1.0885245901639344, 1.2222222222222223, 1.0666008251429664, 1.0509915014164306, 1.3157894736842106, 1.1345762711864407, 1.1545454545454545, 1.0353200883002207, 1.0170244263508512, 1.124644280022766, 1.0025961887948491, 1.0, 1.1666666666666667, 1.056090873482178, 1.0720646088943062, 1.027813210175207, 2.0, 1.0867132867132867, 1.002392778268223, 1.0242510699001426, 2.0, 1.0340909090909092, 1.0112863894343858, 1.0256137174503435, 1.04539862692964, 1.0086036368836244, 1.0894246057324568, 1.06890756302521, 1.2531340405014464, 2.0, 1.236963150550416, 1.7619047619047619, 1.0, 1.2067307692307692, 1.25, 1.0128708428082798, 14.671138506163887, 1.0774314085043075, 1.390546122074346, 1.0571247052235992, 8.348697394789578, 1.0995471432057922, 1.0788998357963875, 1.08, 1.051948051948052, 1.0265010094735207, 1.1798245614035088, 1.00704042473382, 1.0570752179059508, 1.0, 1.0899722552516844, 1.725085910652921, 1.6, 1.1458333333333333, 1.0176626408922285, 1.1771653543307086, 1.1022303106835782, 1.4222222222222223, 1.3069212410501194, 1.0576540755467196, 1.0467055879899916, 1.0221428571428572, 1.0909943714821764, 1.165663375872863, 1.1067961165048543, 1.0763807285546416, 1.0434782608695652, 1.0373230373230373, 1.0634853003834683, 1.2808219178082192, 1.040796963946869, 1.0383958972986087, 1.2376237623762376, 1.0773601465900866, 2.0, 1.0757341576506956, 1.0471014492753623, 1.0671140939597314, 1.0043072505384063, 1.0870967741935484, 1.1600790513833992, 1.0880195599022005, 1.022135922330097, 1.0, 1.196078431372549, 1.2, 1.6666666666666667, 1.1875, 17.258522727272727, 1.022857142857143, 1.0257510729613735, 1.063349725195256, 1.1357308584686774, 1.0545920700241689, 1.1690060005217846, 1.0123986878953766, 1.167752984178105, 1.0022608381100784, 1.1195716835217133, 1.091413591175269, 1.0497912833033802, 1.0135281385281385, 1.1027811366384523, 1.044077134986226, 1.0638297872340425, 1.7229924031074295, 1.204993429697766, 1.0970908936025214, 1.2678571428571428, 1.2231704163434187, 1.1163581412920287, 1.5, 1.0537772087067863, 1.2857142857142858, 1.0938053097345133, 1.1515151515151516, 1.1428571428571428, 1.0102703766898544, 1.1279830394839365, 1.0336667251564602, 1.0590987999094272, 1.2037914691943128, 1.137037037037037, 2.0, 6.0, 1.075425790754258, 1.0262329611412295, 1.0368834901197765, 1.087235142118863, 1.2795125666412794, 1.0125260960334028, 1.0376574696653529, 1.072085889570552, 1.1815746421267894, 1.023080153912855, 1.0074237953372658, 1.5064935064935066, 10.857142857142858, 1.1496982120487416, 1.0, 1.0367553865652726, 1.1162790697674418, 2.466743119266055, 1.2222222222222223, 1.0404591954212032, 1.2, 1.05, 1.0315473905735046, 1.1090839984796654, 1.0900970685773765, 1.0000189503406323, 1.0990990990990992, 1.5483870967741935, 1.1379310344827587, 1.2371134020618557, 1.0107619457597934, 1.0114388922335942, 1.0083142547294854, 1.155052336886817, 1.0, 1.074797710676929, 1.1577464788732394, 2.0, 1.0010472958820327, 1.0725110471840802, 1.101522842639594, 1.0163031891907464, 1.061527910451417, 1.0165289256198347, 2.4285714285714284, 1.9864188706218728, 1.022561863173217, 1.1057917899805254, 1.0541490857946554, 1.009021830023944, 1.1658761585657718, 1.228937728937729, 1.0885378398236591, 1.2349397590361446, 1.0402786122794134, 1.039303761931499, 1.1132246376811594, 1.1144957983193278, 1.0064085447263018, 1.0123456790123457, 1.351522619257173, 1.2777777777777777, 1.4, 1.0241286863270778, 1.4510664993726474, 1.0808114399733955, 1.0616272009714633, 1.0833333333333333, 1.020997375328084, 1.0281469898358093, 1.0062111801242235, 1.0928500607569647, 2.0, 1.0634328358208955, 1.5, 1.168421052631579, 1.0769230769230769, 1.164643081431861, 1.2857142857142858, 1.1455223880597014, 1.1582809224318658, 1.0, 1.209552576930338, 1.3163664839467502, 1.5, 2.0, 1.0740740740740742, 1.007936507936508, 1.0254636036534737, 1.2247972190034762, 1.1735791090629801, 1.8597402597402597, 1.0941828254847645, 1.0389610389610389, 1.0337552742616034, 1.43342776203966, 1.2142857142857142, 1.0, 1.016359918200409, 1.2193362193362194, 1.0516528925619835, 1.027535258562794, 1.069113702459271, 1.0129164608897163, 1.0857741006904604, 1.0199127419174405, 1.053231939163498, 1.0287610619469028, 1.5714285714285714, 1.0, 1.1333333333333333, 1.0295429897176118, 1.1888790820829656, 1.2222222222222223, 1.1650246305418719, 1.1089739338064601, 1.0069565217391305, 1.0220135489376843, 1.0909090909090908, 1.263157894736842, 1.0350997935306263, 1.027673343605547, 1.046142033436676, 1.01910354658317, 1.0613496932515338, 1.136654061807276, 1.0147437477743995, 1.0817174515235457, 1.3670360110803323, 1.0, 1.021558872305141, 1.0931545518701482, 1.0298443744602037, 1.3333333333333333, 1.1816881258941345, 1.0, 1.0616438356164384, 1.019937275985663, 1.1481481481481481, 1.0810861463717032, 1.0178907721280603, 1.1025641025641026, 1.091035752795648, 1.0347360517123176, 1.0708404488899732, 1.1479007633587786, 1.0242424242424242, 1.1992604138015341, 1.2065009560229445, 1.3571428571428572, 1.0, 1.25, 1.0582411564998357, 1.5, 1.0843647910622698, 1.1021301429822001, 1.155959237926451, 1.0716342692584593, 1.0514017004530931, 1.0417676131408082, 1.146953405017921, 1.0135635018495683, 1.0116401666524955, 1.048041449105901, 1.037224653734623, 1.0929596719070402, 1.7142857142857142, 1.1194029850746268, 1.0180505415162455, 1.0523879753985188, 1.109375, 1.2781880846873461, 1.0634648370497428, 2.102272727272727, 1.0505935205814676, 1.0526315789473684, 1.0550956137787735, 1.3125, 1.0639415561628687, 1.0285024098752875, 1.3183085501858736, 1.0519136036377417, 1.0, 1.0472813238770686, 1.095993756503642, 1.008917089678511, 2.3333333333333335, 1.0166796151635769, 1.1, 1.0265729993891264, 1.131596984235778, 1.0546984572230014, 1.0570098894706224, 1.039039039039039, 1.0823271130625687, 1.1002724795640326, 1.006357056075566, 1.1836027713625865, 1.0668503253178434, 1.0547474605516907, 1.0769230769230769, 1.0869565217391304, 1.0601680015628052, 1.0160016204172575, 1.0353901996370236, 1.0, 1.0437330928764652, 11.985022026431718, 1.2394151690526958, 1.5, 1.0, 1.3333333333333333, 1.1454309063893016, 1.1239622906993105, 1.1126495726495726, 1.115813943747513, 1.079257684129132, 1.2407192575406032, 1.2029945490926655, 1.1030461900027118, 1.1414473684210527, 1.0104166666666667, 1.0279947916666667, 1.0680615264965758, 1.0978260869565217, 1.75, 1.0536147549067956, 1.0678948457876216, 1.0346820809248556, 1.1043956043956045, 1.3475742215785662, 1.0706595733951894, 1.1783102143757882, 1.0389610389610389, 1.4230769230769231, 1.0516287645974185, 1.0363636363636364, 1.1274238227146813, 1.4333333333333333, 1.0607023259107877, 1.2072953736654803, 1.053658536585366, 1.170731707317073, 1.0045093849683133, 1.0378144261202733, 1.063162952285915, 1.047014162651482, 1.3333333333333333, 1.793103448275862, 1.3333333333333333, 1.1544327931363203, 1.3846153846153846, 1.0, 1.0714285714285714, 1.017094017094017, 1.1159420289855073, 1.0698791447164548, 1.0232835732916783, 1.2527272727272727, 1.2131147540983607, 1.0, 1.1290322580645162, 1.0595238095238095, 1.0512820512820513, 1.1471518987341771, 1.0290402149361029, 1.0254313320681594, 1.2990654205607477, 1.0665123131972216, 1.047682509462614, 2.5, 1.0612730546737386, 1.3428958051420838, 1.5, 2.0, 1.207984893444834, 1.0285908361121403, 1.1107074776103298, 1.263157894736842, 1.5, 1.011764705882353, 1.5950920245398772, 3.0, 1.0229977017585878, 1.0795142799387796, 1.072901456217458, 1.00964046727912, 1.6666666666666667, 1.0338889162440297, 1.019876627827279, 1.0697435897435899, 10.344489324870167, 1.0102171136653895, 1.0, 1.1875, 1.1532925308851865, 1.0490039491004826, 12.12621359223301, 1.1953125, 1.0140909090909092, 1.0145175064047822, 1.0932835820895523, 1.1694915254237288, 1.0475332265337605, 1.650050454086781, 1.0976895505927764, 1.377245508982036, 1.2843137254901962, 1.1329479768786128, 1.1428571428571428, 1.0889560255119168, 1.025, 1.0067851666639953, 1.0479921645445642, 1.5, 1.0945802337938364, 1.0597860574743903, 2.2667790893760538, 1.1412947609807726, 1.0064929654911936, 1.0398176291793313, 1.1000454063871652, 1.0680272108843538, 2.4363636363636365, 1.2487225847024606, 1.0547417901194585, 1.1343582887700534, 1.0325497287522605, 1.6666666666666667, 1.0921052631578947, 1.0172033238119969, 1.0573355817875212, 1.0479646436278711, 1.0799300871600603, 1.0283140283140284, 2.0, 1.0656851642129106, 1.0298551341706963, 1.1752297410192147, 1.3041825095057034, 1.1016643834877624, 1.0780346820809248, 1.335540838852097, 1.071245515120451, 1.0327644221290466, 1.0985745024206564, 1.0461699895068206, 1.0351941747572815, 1.1428571428571428, 1.192507418397626, 1.0650041366268763, 1.0025091066561378, 1.17660569614967, 1.1873589164785554, 1.0183798502382573, 1.1071428571428572, 1.1544117647058822, 1.6666666666666667, 1.3333333333333333, 1.1578947368421053, 1.0435835351089588, 1.0301724137931034, 1.0500422892585284, 1.0050683589590699, 1.2265943012211669, 1.1581589958158995, 1.1625615763546797, 1.0700447093889718, 1.0332482118128343, 1.6, 1.5833333333333333, 1.002061855670103, 1.0, 1.0190355329949239, 1.1213636363636363, 1.0958526165895337, 1.0909044696997203, 3.0, 1.1424148606811146, 1.2222222222222223, 1.0828675577156743, 1.0381183297067662, 1.1538461538461537, 1.1169554455445545, 1.1354481268876133, 1.0210965827930996, 1.084260731319555, 1.0845070422535212, 1.0812807881773399, 1.0, 1.0, 1.040918543212474, 5.0, 1.0909090909090908, 1.7419354838709677, 1.097708082026538, 1.2222222222222223, 1.088145896656535, 1.2502017756255044, 1.1666666666666667, 36.356, 1.1314252336448598, 1.1336405529953917, 1.2878464818763327, 1.25, 1.6709005726184278, 1.3652993348115299, 1.0241379310344827, 1.0147795182308805, 1.1111111111111112, 1.0129387409428814]
origin-bjaq_15.71 	max: 44.4809	99th: 12.1380	95th: 2.0000	median: 1.0909	mean: 1.5367

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 12.021272 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[5.9604645e-08 6.3145161e-04 0.0000000e+00 1.7881393e-07 0.0000000e+00]
Distance score: 0.00012633801088668406
SAUCE Drift detection: True
Detection latency: 0.0351s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 28.4149 nats / 40.9941 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.085339 | Model-update-time: 2.504387


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 66.0682	99th: 19.0771	95th: 3.0000	median: 1.0995	mean: 1.8184
ReportEsts: [1.0028011204481793, 1.0546788175150033, 1.0489664923300217, 1.0452173913043479, 1.3043478260869565, 1.0, 1.0608877086494688, 1.0584648376113148, 1.3333333333333333, 1.0045045045045045, 1.2572071682105446, 1.0437036921614609, 1.0395033860045146, 1.1302521008403361, 1.08149300155521, 16.833333333333332, 1.3607038123167154, 4.0, 1.5, 1.1763527054108216, 1.5151695419393219, 1.1412474485899555, 1.1153174140943507, 1.0244107744107744, 1.0178273695010902, 1.0217087833101661, 2.0, 1.1668503416354419, 1.5, 1.4, 1.069182389937107, 1.0, 1.0487431141348902, 1.0035526135199908, 1.3734739178690345, 1.2796299016008224, 1.2391367323290845, 1.1179245283018868, 6.0, 1.06949524506218, 1.1333333333333333, 1.217040273556231, 1.096711305136138, 1.1437774168985801, 1.1565217391304348, 1.187535712925222, 1.3333333333333333, 1.4814814814814814, 1.1751412429378532, 1.263157894736842, 1.158273381294964, 1.0491774279143817, 1.0893521965748325, 1.0894660894660895, 1.1901258824335748, 1.3358778625954197, 1.0195321716269508, 1.1154961527059946, 1.0627615062761506, 1.0543478260869565, 1.1241542043661026, 1.5, 1.1369437737150743, 1.0717703349282297, 1.0484429065743945, 1.1264367816091954, 16.46153846153846, 1.1415579549712183, 1.2955174322080798, 1.75, 1.0, 2.9538403041825094, 1.052910052910053, 1.095, 1.227364185110664, 1.0579394560437214, 19.055129099790648, 1.1061996576015267, 1.1288343558282208, 1.6666666666666667, 1.0731693461341816, 1.1890951276102089, 5.0, 1.0, 2.0, 1.0995203836930456, 1.25, 14.832075471698113, 1.5, 4.0, 1.0150196410690904, 1.1175548589341693, 1.1044365000293033, 1.2776138668633599, 1.039847836424156, 1.249221183800623, 1.0459057071960298, 34.83561643835616, 1.1164596273291925, 3.0, 1.0795107033639144, 1.1032989003665445, 5.0, 1.1720500988793672, 1.1246612466124661, 1.0672579453067257, 1.2219400141934038, 1.096774193548387, 1.0107463616849222, 1.065592903828198, 1.1574421587723882, 1.1224557891224558, 1.069967707212056, 1.5, 21.25, 1.0282030620467364, 1.0741562099392714, 1.0831460674157303, 1.3766233766233766, 1.059221547766682, 2.0, 2.405290741202895, 1.079116835326587, 1.0, 1.0045045045045045, 1.1428571428571428, 1.2382022471910112, 1.0133684059903612, 1.12954282997079, 1.063063063063063, 1.5, 1.1566617862371888, 1.0, 5.0, 1.1167123805920742, 1.0833333333333333, 1.0810008481764206, 1.023644040625798, 1.0818218313200247, 8.0, 1.6428571428571428, 1.1, 1.3281501340482573, 1.0814503415659484, 1.0460163067851813, 1.0188679245283019, 1.028735632183908, 1.270582078835599, 1.3333333333333333, 1.0407586763518968, 1.0527363184079601, 1.177095631641086, 1.0845886442641948, 3.0, 1.4163235650278518, 1.1320495185694635, 1.0088028169014085, 1.280701754385965, 1.254014598540146, 1.042952947975325, 1.2380710659898477, 1.1381233595800524, 1.0469131169074872, 1.051094890510949, 1.0358565737051793, 1.0333660451422964, 1.0487483530961792, 1.5714285714285714, 1.0956604669072543, 43.5, 1.0642201834862386, 1.1518216958631466, 1.0610526315789475, 1.0564305044141786, 1.2790294627383016, 1.0042194092827004, 1.0959297927069147, 1.0175320296695887, 1.1993097497842968, 1.2254616132167153, 1.0330060010911075, 1.1053273688491256, 1.093668407310705, 1.10625, 1.0615989515072084, 1.0486702239401706, 1.0159645423641293, 1.1854545454545455, 1.12409571508069, 1.005050505050505, 1.25, 1.0855309734513274, 1.0742715022829354, 1.1363636363636365, 1.3177966101694916, 1.0443523584447538, 1.0956775968814492, 1.0434003086513148, 1.1455696202531647, 1.1634607926781975, 1.0649146386799737, 1.023881893182805, 1.13778491010757, 1.1765544780376498, 1.1156620241078352, 1.2067284251584594, 1.0298577311868213, 1.0903954802259888, 1.1791044776119404, 1.0769230769230769, 1.0, 1.5433070866141732, 1.2375808232140042, 1.1507936507936507, 1.2083333333333333, 1.03, 1.125, 1.0436175768427336, 1.0606796116504855, 1.2172699629274795, 1.75, 1.2904624277456647, 1.0088445078459343, 1.0416071164555714, 1.0238442674449242, 22.571428571428573, 1.0062915064662705, 1.092361619221018, 1.1997844537249092, 1.0617977528089888, 1.0106571936056838, 1.1647765176784524, 1.0503484898771989, 1.5643564356435644, 1.0084388390526942, 1.1177150817587946, 1.1496598639455782, 1.081275720164609, 1.038716814159292, 9.8, 1.013986013986014, 2.0, 1.1720067453625633, 1.0768606224627875, 1.0474181233674904, 1.078358208955224, 1.0833333333333333, 1.6666666666666667, 1.1634933649145183, 1.2241379310344827, 1.0922242894719958, 1.5, 1.0, 66.06818181818181, 1.1153316140716971, 1.0669589477879633, 1.0338983050847457, 1.0263808738664468, 1.0671052631578948, 1.0305173055452177, 1.0413139023826046, 1.1929824561403508, 2.0, 1.0849605299377536, 1.10196239879237, 1.0996978851963746, 1.0354353381564265, 1.1095433055514938, 1.0320489368240822, 1.071086807928913, 1.0966928464004133, 1.0025239777889954, 1.1346768589298124, 1.0068601583113457, 1.0909090909090908, 1.011338907341656, 1.0618336886993602, 1.1320754716981132, 1.1363636363636365, 1.5217391304347827, 1.1482213438735178, 1.0306254414044227, 1.6397992111868054, 1.1949860724233983, 1.35, 1.0699373588530436, 1.066275167785235, 1.135257048092869, 1.051987782340367, 1.3, 1.1349853276817736, 1.0852148579752368, 1.0201142967219956, 1.1651992110813014, 1.0876568822440162, 11.094856064181217, 1.1988472622478386, 1.2128150363092696, 1.0802924864883958, 1.1145901731609853, 1.0904350151542164, 1.0823293172690762, 3.0, 1.3636363636363635, 1.0841924398625429, 3.0, 1.0891089108910892, 1.0001645755885997, 1.3783269961977187, 1.3333333333333333, 1.0707964601769913, 37.61867704280156, 1.0400500625782227, 1.1110154618192496, 1.15, 1.2725321888412018, 1.032102227909341, 1.3014084507042254, 1.1818181818181819, 3.3333333333333335, 1.0066725978647686, 1.4285714285714286, 1.0046183544703347, 1.0420168067226891, 1.1578947368421053, 1.0885130423477407, 1.3333333333333333, 1.2727272727272727, 1.0051509866911428, 2.0, 1.2356902356902357, 1.013715710723192, 1.0365707434052758, 1.0386067981535878, 1.0391644908616189, 1.0851063829787233, 1.1042432303151215, 1.0646412365783697, 1.1013557133634604, 1.0466647533926448, 1.0115062761506277, 3.0, 1.1111111111111112, 1.0497313421042234, 1.5, 1.066024096385542, 1.3, 16.88888888888889, 1.2222222222222223, 1.2596548890714874, 1.0355125100887812, 1.0077519379844961, 1.0563139931740615, 1.4142857142857144, 1.3333333333333333, 1.1544111445898597, 10.55, 1.196969696969697, 1.0181348331686555, 1.1024590163934427, 1.031201248049922, 1.0077896786757545, 1.75, 1.0, 1.0862619808306708, 1.2272727272727273, 1.2109004739336493, 1.131603165838395, 1.2419645152995629, 1.056555269922879, 1.5, 1.0086122156855175, 1.142467248908297, 1.3333333333333333, 1.2174334140435836, 1.0893301019139945, 1.4, 1.0230700179533214, 1.01, 1.0925474779912518, 1.1320558593573462, 1.1436154526688294, 1.17635113003603, 1.1083969465648855, 1.1037037037037036, 1.1972049689440993, 1.4282009871937766, 1.0671256454388984, 1.1333333333333333, 1.0023928734626895, 1.0862111192750428, 2.2222222222222223, 1.1670526478307859, 1.6164383561643836, 1.0186567164179106, 1.0140401560017334, 18.083333333333332, 8.6, 1.03, 18.842789598108748, 1.4230769230769231, 4.0, 1.058890147225368, 1.0549630293524535, 1.2367216117216118, 1.1681318681318682, 1.255813953488372, 1.2190476190476192, 1.1157894736842104, 1.0, 1.0745760129637196, 1.5208333333333333, 1.2789648999569463, 1.04592076002602, 1.0394912985274432, 1.1327744726879394, 1.5714285714285714, 1.1784852870236373, 1.1666666666666667, 1.1653543307086613, 1.2727272727272727, 1.48729792147806, 1.046936114732725, 1.2700988822012038, 1.215625, 1.0366056572379367, 3.0, 1.044522554188635, 1.0251736408792704, 1.2009380172889461, 2.0, 1.2857142857142858, 17.718652526512788, 1.1225806451612903, 1.0873068703359843, 1.313929313929314, 1.0, 1.2286453839516824, 1.027443631747567, 1.0847728109710117, 1.3112812659520163, 1.3398026315789473, 1.3427947598253276, 1.8, 1.0919540229885059, 1.0740740740740742, 1.7741935483870968, 1.0600144613159797, 1.5, 1.027019389618294, 1.6666666666666667, 10.88888888888889, 1.0314537698105701, 1.0093896713615023, 4.0, 1.1529411764705881, 1.115992970123023, 1.0397736868772167, 1.25, 1.2874629080118694, 1.1858351510344372, 1.021092596498629, 1.0545890821835633, 1.0433108758421559, 1.0061662198391421, 1.0362776025236593, 1.0227987421383649, 1.157377049180328, 1.3333333333333333, 1.0790599606008373, 1.068932955618508, 1.3157894736842106, 1.1566854990583804, 1.209090909090909, 1.0382571732199788, 1.0455192034139402, 1.2771797631862218, 1.0505960127010567, 1.0, 1.2073170731707317, 1.0130751310425161, 1.0213500784929357, 1.085144927536232, 1.0, 1.1057344256048771, 1.0104100149565918, 1.0277777777777777, 2.0, 1.0124747134187457, 1.0104471374843293, 1.0291007980480862, 1.0686553569395423, 1.0050612146159108, 1.0037527320714257, 1.1411764705882352, 1.384522661523626, 2.0, 1.1850224817820043, 1.08843537414966, 1.2, 1.169811320754717, 1.2884615384615385, 1.0021347137575642, 21.669331395348838, 1.0664844646646465, 1.4993116108306563, 1.0752877170956268, 12.300236406619385, 1.1261272934591064, 1.0937843352691885, 1.12, 1.1408450704225352, 1.049028737896534, 1.2284569138276553, 1.0067175068138645, 1.0574437357701223, 1.0, 1.145780051150895, 1.6666666666666667, 1.9, 1.06, 1.014859180558651, 1.2260536398467432, 1.0106100795755968, 1.0, 1.0909090909090908, 1.0208483105679367, 1.1205346894810262, 1.0354527938342968, 1.1805945208419568, 1.1001206272617612, 1.2286501377410468, 1.0212426978226234, 1.043775307599706, 1.793103448275862, 1.0214353178478237, 1.0469818181818182, 1.1648936170212767, 1.0883051827114507, 1.4482758620689655, 1.0419016634806046, 2.0, 1.1005747126436782, 1.0520833333333333, 1.03229425611017, 1.0519187358916477, 1.044204322200393, 1.173913043478261, 1.1386292834890965, 1.0773769946808511, 1.0, 1.830188679245283, 1.0, 2.0, 1.1287128712871286, 22.670886075949365, 1.0560224089635855, 1.0120967741935485, 1.0587505171700455, 1.3339749759384023, 1.0640693049070011, 1.1885262517737685, 1.0132408883577537, 1.17816833669272, 1.0148268743391349, 1.1174477696216827, 1.038332737263062, 1.0969190121936376, 1.0549507516848107, 1.0595794392523366, 1.0593667546174141, 1.1450381679389312, 2.019337351834621, 1.145758661887694, 1.0958308795158702, 1.3154761904761905, 1.0999507631708518, 1.1466570812365204, 1.5, 1.0061349693251533, 1.2857142857142858, 14.23076923076923, 1.1011673151750974, 1.0544572207214744, 1.0176824680210685, 1.0161290322580645, 1.0164835164835164, 1.0421608245251477, 1.0130574406204556, 1.065891472868217, 1.6, 1.6666666666666667, 1.1439563962808592, 1.2432432432432432, 1.0704993705413344, 1.0983807654563298, 1.0, 1.2931354359925789, 1.098360655737705, 1.0478540173168234, 1.007163323782235, 1.240010786135963, 1.0832292077322447, 1.0094484686917775, 1.6233766233766234, 15.428571428571429, 1.1823414361553506, 1.0, 1.0503067484662576, 1.1141552511415524, 3.1700975081256773, 1.1, 1.0954573658600306, 1.6, 1.05, 1.0575255647575723, 1.1611929029822574, 1.1238600622023862, 1.0000180931616895, 1.1607142857142858, 1.65625, 1.0344827586206897, 1.202061855670103, 1.0974903474903475, 1.1312199807877041, 1.0922701530304857, 1.1570109484236908, 1.0, 1.0710274198876775, 1.0746456033896532, 2.0, 1.0439145914651982, 1.0047419067749472, 1.095582329317269, 1.0107340282170458, 1.1111519337693194, 1.024, 2.0, 2.1742095474271546, 1.0155148095909732, 1.0654979659925663, 1.010006671114076, 1.021036479730733, 1.1606564187785626, 1.489010989010989, 1.109246697607997, 1.2155172413793103, 1.0885795669492846, 1.039957378795951, 1.0679347826086956, 1.1097689075630253, 1.0005370713499289, 1.0155038759689923, 1.4417444480205988, 1.3888888888888888, 1.6, 1.0856777493606138, 1.3825463239689182, 1.0318110236220472, 1.0918822479928636, 1.1666666666666667, 1.0372250423011844, 1.035418236623964, 1.0406976744186047, 1.045880962888095, 2.0, 1.1156716417910448, 1.5, 1.0602409638554218, 1.0769230769230769, 1.2146047030912008, 1.2, 1.1666666666666667, 1.1970649895178198, 1.0, 1.0291400142146412, 1.319517709118312, 1.5, 2.0, 1.126865671641791, 1.0439024390243903, 1.0591764385055904, 1.1898597626752967, 1.225519287833828, 1.868811881188119, 1.0611702127659575, 1.054263565891473, 1.0294117647058822, 2.003125, 1.2258064516129032, 1.0, 1.0372233400402415, 1.2337662337662338, 1.0671487603305785, 1.0065830442131483, 1.0540442856990997, 1.0128205128205128, 1.1278820220760168, 1.0075101097631427, 1.0204572803850782, 1.0182863113897596, 1.2222222222222223, 1.0, 1.0625, 1.0325018995467288, 1.2559576345984114, 1.2810457516339868, 1.0172413793103448, 1.2313829787234043, 1.0587959866220735, 1.0362054118238564, 1.0481927710843373, 1.25, 1.0077519379844961, 1.0234755224735184, 1.0440549306466083, 1.007090487025673, 1.0166666666666666, 1.1893865030674846, 1.0103621359128183, 1.0195822454308094, 1.3867256637168142, 1.0, 1.08455420678108, 1.0773889636608345, 1.0292667947219498, 1.3333333333333333, 1.238197424892704, 1.0, 1.1689497716894977, 1.0245440087114754, 1.1111111111111112, 1.0984972085114586, 1.010462074978204, 1.1025641025641026, 1.1144671004010225, 1.0113491098431702, 1.0689192734905688, 1.1879770992366412, 1.0412272291466922, 1.2050921037193476, 1.2528301886792452, 1.6428571428571428, 1.0, 1.4285714285714286, 1.0592724231653774, 1.5, 1.108978507373896, 1.0802384652856711, 1.109658839167036, 1.0799035646633373, 1.0508809183314796, 1.089581214754553, 1.200716845878136, 1.0116279069767442, 1.0129111842105263, 1.0102146586004788, 1.0454273630202284, 1.0202373801188973, 1.8571428571428572, 1.2514792899408285, 1.025, 1.088609301280611, 1.1147058823529412, 1.2437341917682225, 1.009331259720062, 2.121771217712177, 1.10122356550641, 1.072855464159812, 1.0141920157000466, 1.25, 1.077873197356207, 1.0254526650113878, 1.3218238158477202, 1.049079754601227, 1.0625, 1.0534698521046644, 1.0703088142127326, 1.0521379775659947, 2.3333333333333335, 1.0169968577024393, 1.0909090909090908, 1.028675400291121, 1.0830065359477123, 1.045822102425876, 1.1374580920451083, 1.0009132420091325, 1.0706126687435098, 1.1098958333333333, 1.0300944433847015, 1.2367205542725173, 1.1444314201207628, 1.0658603264021207, 1.0769230769230769, 1.1036814425244177, 1.3641336198476266, 1.0745060240963855, 1.095906432748538, 1.1448362720403022, 1.1377118644067796, 17.226767452200978, 1.1842496285289748, 1.0227928596458682, 1.1666666666666667, 1.0386803185437998, 1.2475631883201823, 1.055902004454343, 3.73321554770318, 1.0666403905041992, 1.100878599371513, 1.0617198335644937, 1.1094736842105264, 1.2729593596908853, 1.0853565256806141, 1.0903426791277258, 1.0757575757575757, 1.0116564417177913, 1.0414117934915585, 1.09375, 1.75, 1.0356356096928858, 1.0189467150092406, 1.0146270112140419, 1.1189189189189188, 1.4217958001448225, 1.1179005139927027, 1.1600383325347388, 1.0443864229765014, 1.5, 1.0548672566371682, 1.1156462585034013, 1.117801047120419, 1.34375, 1.0767915120593692, 1.1807432432432432, 1.051044083526682, 1.146341463414634, 1.101923076923077, 1.0957810718358039, 1.0490196078431373, 3.0, 1.019620253164557, 1.0122950819672132, 1.192174913693901, 1.0, 1.0234934591464722, 1.0875216637781628, 1.044994944388271, 1.4842105263157894, 6.0, 1.4613501224204268, 1.1053093688668525, 1.059333013086452, 1.3890909090909092, 1.2833333333333334, 1.0625, 1.2580645161290323, 1.0114942528735633, 1.0731707317073171, 1.152337858220211, 1.0283172465307362, 1.0217265013158439, 1.2882882882882882, 1.0938785400217483, 1.0481878160282607, 2.5, 1.054475637453464, 1.3802133850630456, 1.5, 2.0, 1.198554092434805, 1.0191586358127993, 1.0460624231573952, 1.1666666666666667, 1.5, 1.1395348837209303, 1.334355828220859, 3.0, 1.0203760993073392, 1.0372525560147923, 1.0929900501478096, 1.0493959157489576, 1.4285714285714286, 1.0418381749354815, 1.0103694102397927, 1.0123076923076924, 13.55635987590486, 1.0232843137254901, 1.0, 1.0857142857142856, 1.1240637198016667, 1.0075618195628324, 21.371996685998344, 1.2890625, 1.0798622589531681, 1.0606319385140905, 1.096085409252669, 1.0454545454545454, 1.0227354745579214, 1.2421756305074445, 1.0434403821311624, 1.050314465408805, 1.303921568627451, 1.1336898395721926, 1.0, 1.0703248186691896, 1.0077922077922077, 1.0093154411652325, 1.053853296193129, 1.5, 1.0909090909090908, 1.0885529157667386, 2.8473282442748094, 1.1393152302243212, 1.0159542316624426, 1.0202093631869729, 1.0912187600846213, 1.0400943396226414, 3.3333333333333335, 1.2660954327489977, 1.0831687533062953, 1.0488257107540173, 1.2311733800350262, 1.6666666666666667, 1.0481927710843373, 1.0449970961916355, 1.0251968503937008, 1.0295914550517435, 1.0675555878506031, 1.0246153846153847, 2.0, 1.060475161987041, 1.00147567012235, 1.188864410174244, 1.5361216730038023, 1.0874061795381305, 1.1717451523545706, 1.4028697571743929, 1.1285359801488835, 1.0319184984845537, 1.0911411794740873, 1.0362173038229376, 1.053128689492326, 1.2222222222222223, 1.099566391229649, 1.045556361292402, 1.0452972273989274, 1.2978542853679234, 1.192063492063492, 1.0051948051948052, 1.1333333333333333, 1.0443458980044347, 1.6666666666666667, 1.3333333333333333, 1.15, 1.0683962264150944, 1.029532967032967, 1.0387725896096116, 1.014303512475369, 1.162279511533243, 1.1543933054393305, 1.1220657276995305, 1.1273408239700375, 1.0779167222579353, 1.6, 1.75, 1.1819085487077534, 1.0, 1.0453400503778338, 1.1105331599479844, 1.0015483471394286, 1.0966562497844188, 3.0, 1.3009287925696595, 1.0702933985330074, 1.0598201664834301, 1.0372003099696356, 1.1587837837837838, 1.1141592920353982, 1.1431125636835529, 1.0138555531311368, 1.192368839427663, 1.0140845070422535, 1.0313953488372094, 1.0, 1.0, 1.040918552962395, 5.0, 1.1666666666666667, 1.6875, 1.166465621230398, 1.1919191919191918, 1.1290793960058452, 1.2664866949479368, 1.1666666666666667, 56.70292887029289, 1.1764018691588785, 1.144736842105263, 1.271255060728745, 1.25]
origin-bjaq_15.71 	max: 66.0682	99th: 19.0771	95th: 3.0000	median: 1.0995	mean: 1.8184

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 11.914999 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[5.9604645e-08 5.7959557e-04 1.1920929e-07 5.9604645e-08 0.0000000e+00]
Distance score: 0.00011596679541980848
SAUCE Drift detection: True
Detection latency: 0.0369s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 28.4857 nats / 41.0962 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.087239 | Model-update-time: 2.513011


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 154.3333	99th: 24.7589	95th: 3.0000	median: 1.1129	mean: 2.0756
ReportEsts: [1.013477088948787, 1.0788798631893972, 1.0196402382448895, 1.0843373493975903, 1.3636363636363635, 1.0, 1.0282894157045914, 1.0450638549605038, 1.5, 1.0032432432432432, 1.3993882203561019, 1.0447003199272147, 1.0635328681601175, 1.2077393075356415, 1.1423444976076556, 21.11111111111111, 1.41005291005291, 5.0, 1.3333333333333333, 1.2785571142284569, 1.6227122882800955, 1.2513558868594499, 1.4445196211096076, 1.0591133004926108, 1.0116445281177004, 1.0247082460565127, 2.0, 1.1657435279951835, 1.2, 1.4, 1.3758992805755397, 1.0, 1.0473492957437232, 1.0107538110823857, 1.2452830188679245, 1.2692025260684388, 1.2387020812411262, 1.2528473804100229, 8.0, 1.0026995757809487, 1.012139466958744, 2.143658619517171, 1.0475561426684281, 1.0303030303030303, 1.2130434782608697, 1.2219724962858558, 1.5555555555555556, 1.1104328523862375, 1.1057692307692308, 1.3627781523937963, 1.25, 1.0493273542600896, 1.036144578313253, 1.206896551724138, 1.0342761616556033, 1.0317956631202794, 1.0705331773357847, 1.1876543209876542, 1.0520833333333333, 1.1272326660728518, 1.6851851851851851, 1.1782184536107145, 1.08, 1.1111111111111112, 1.1494252873563218, 23.833333333333332, 1.1681159420289855, 1.2494877049180328, 1.091324200913242, 1.5454545454545454, 1.6565999321343738, 1.042828685258964, 1.1126624939817045, 1.2918287937743191, 1.0771956790914137, 25.966906474820142, 1.1435721658519484, 1.0380434782608696, 1.7087378640776698, 1.0907016129762628, 1.203016241299304, 6.0, 1.0, 2.3333333333333335, 1.1091954022988506, 1.105263157894737, 20.17047110247693, 21.0, 5.0, 1.0315276369924273, 1.119069069069069, 1.1069666353383458, 1.290245251705698, 1.0023550724637682, 1.32398753894081, 1.082437275985663, 27.707865168539325, 1.1940993788819876, 1.2926829268292683, 13.78375796178344, 1.4444444444444444, 4.0, 1.0598641297450953, 1.6101694915254237, 1.0884016973125885, 1.2111083543047532, 1.0, 1.0069034509618249, 1.1, 1.0578336001313466, 1.1156440732412465, 1.0631143300569064, 1.5, 22.4, 1.0331087584215592, 1.0807950763047165, 1.0767982693347755, 1.4415584415584415, 1.0587519247575845, 2.0, 2.976956191440871, 1.0848214285714286, 1.0, 1.039301310043668, 1.1428571428571428, 1.245119305856833, 1.0155261795183597, 1.0482273201251304, 1.0166666666666666, 1.5, 1.1633802816901408, 1.0, 6.0, 1.113921763483603, 1.0, 1.0952380952380953, 1.3071440503368785, 1.0943962170936552, 27.435897435897434, 1.1037463976945245, 1.0319763547457967, 1.0883720930232559, 1.1846153846153846, 2.5714285714285716, 2.277027027027027, 1.6327822722476257, 3.0, 1.0395962732919255, 1.0009551098376313, 1.1924803591470259, 1.095250980922744, 3.5, 1.51465245822233, 1.101010101010101, 1.0, 1.0530612244897959, 1.0, 1.064260998517054, 1.1003547624166845, 1.0127153034538732, 1.0836501901140685, 1.0481012658227848, 1.21875, 1.0866141732283465, 1.0903307888040712, 1.7142857142857142, 1.1591460629886003, 58.0, 1.339080459770115, 1.1355998768721274, 1.1191631291691935, 1.081227903768216, 1.1993464052287581, 1.0798319327731092, 1.1386301762430147, 1.014829142488717, 1.1544434857635892, 1.2905733722060253, 1.0438573315719948, 1.1402445622768098, 1.002227114478804, 1.1764705882352942, 28.643617021276597, 1.001436840780653, 1.0591215490962174, 1.2048611111111112, 1.1431940957163509, 1.0271604938271606, 16.555555555555557, 1.2471590909090908, 1.1142447045113797, 1.1904761904761905, 1.3777239709443099, 1.0801574349620813, 1.0754706624951973, 1.0935205433822357, 1.1345565749235473, 1.2323648345065148, 1.0587323598988498, 1.0231519090170593, 1.1416377575392134, 1.2327438676554479, 1.1189881702161995, 1.2459169388707418, 1.0054181595735383, 1.655367231638418, 1.135135135135135, 1.0120481927710843, 1.0, 1.536764705882353, 1.4093202964832046, 1.1170731707317074, 1.3636363636363635, 1.0367585630743525, 1.1111111111111112, 1.0461292434503557, 1.0305164319248827, 1.2498303054501896, 2.25, 1.2182080924855492, 1.007947382844615, 1.0537733074525029, 1.025568934832822, 23.185185185185187, 1.2635761589403973, 1.083664301061267, 1.1726224969416006, 1.0486486486486486, 1.0102564102564102, 1.0627084723148765, 1.0881965918810448, 1.6732673267326732, 1.007404333644745, 1.2432478769244837, 1.1926910299003322, 1.1018518518518519, 1.1271091113610798, 12.216216216216216, 1.062867215041128, 2.0, 1.1812892715848267, 1.0749470008729267, 1.1200153374233128, 1.089430894308943, 1.1666666666666667, 2.0, 1.1125232396002789, 1.271186440677966, 1.1663565792006159, 1.2, 1.0269636576787808, 1.1392557022809124, 1.1428571428571428, 1.0365639910415787, 1.0469483568075117, 1.0720198675496688, 1.0926395939086295, 1.0416367552045944, 1.0515398393713526, 1.2105263157894737, 2.0, 1.0719011984948739, 1.133662686976808, 1.1026011560693643, 1.0326442158852465, 1.1479695186649947, 1.0099930090060452, 1.1144538914323088, 1.082374142541565, 1.0038461538461538, 1.2236275191104935, 1.0800121077590557, 1.4545454545454546, 1.0116036804800972, 1.1300639658848615, 1.1428571428571428, 1.3157894736842106, 1.4675324675324675, 1.1446241674595623, 1.0515453764057017, 1.913429282545179, 1.3147632311977715, 1.3194154488517744, 1.0697332594395317, 1.294463087248322, 1.066432106863856, 1.0663977500854014, 1.2727272727272727, 1.124496748219263, 1.2184996358339404, 1.0442462904172845, 1.1585054675419277, 1.1175159454084083, 13.14060502769493, 1.2025386313465785, 1.250491243058522, 1.0022324448653768, 1.1173406147268579, 1.0139042873726636, 1.0453283996299723, 4.0, 1.4545454545454546, 1.0937968234941564, 3.5, 1.0996168582375478, 1.0107694231757987, 1.3111075874098153, 1.2619047619047619, 1.0677966101694916, 49.63706563706564, 1.1066666666666667, 1.0726489780075725, 1.1, 1.338737040527804, 1.0173154735143999, 1.0816901408450703, 6.0, 2.857142857142857, 1.0087945087945087, 1.4285714285714286, 1.0125905678092926, 1.0046875, 1.1578947368421053, 1.0564450474898237, 1.4761904761904763, 1.1666666666666667, 1.0006818491749625, 2.0, 1.364864864864865, 1.0405727923627686, 1.0319559228650137, 1.0423835501468737, 1.3054830287206267, 1.0714285714285714, 1.0786437879328812, 1.0793464403140307, 1.1241379310344828, 1.1741626009593702, 1.0106822474032107, 3.0, 1.2222222222222223, 1.0326025326025325, 1.5, 1.065928999538958, 1.3333333333333333, 20.6, 1.1578947368421053, 1.2261072261072261, 1.0238828967642526, 1.1517857142857142, 1.2225609756097562, 1.4788732394366197, 1.3333333333333333, 1.2022096376855134, 13.0, 1.1428571428571428, 1.0034967415621048, 1.1062992125984252, 1.0418222554144885, 1.005591798695247, 1.75, 1.0, 1.1175020542317173, 1.0476190476190477, 1.1078199052132702, 1.1284383266615166, 1.2445592032460346, 1.0744416873449132, 1.5, 1.0075912061928856, 1.0021881838074398, 1.5769230769230769, 10.857142857142858, 1.058306989813839, 1.0, 1.4435897435897436, 1.1744186046511629, 1.0706955530216649, 1.095109087240972, 1.2085655617483133, 1.253652145430724, 1.1099295493818955, 1.05, 1.2308845577211394, 1.3895775993449038, 1.0879864636209813, 1.2666666666666666, 1.0108660611002598, 1.1279238440616501, 2.5793650793650795, 1.004566210045662, 1.0444444444444445, 2.0756646216768915, 2.0, 1.0816326530612246, 1.0363636363636364, 1.1655629139072847, 2.289940828402367, 1.5655526992287918, 1.2549126637554586, 22.20708064062939, 1.0499423741836342, 1.3278388278388278, 1.1105577689243027, 1.255813953488372, 1.2407407407407407, 1.1338383838383839, 1.0, 1.1041526283190057, 1.5, 1.3376538034488228, 1.0222371294406463, 1.1342512908777969, 1.1273852501289325, 1.375, 1.0482392667631453, 1.1666666666666667, 1.2158273381294964, 1.25, 1.503569834895136, 1.0556257901390644, 1.2947119518486672, 1.2336182336182335, 1.0163132137030995, 3.0, 1.060248447204969, 1.0251221582206331, 1.412037888541475, 2.0, 1.2380952380952381, 23.980191693290735, 1.0875, 1.108201429010974, 1.259894709927818, 1.2857142857142858, 1.5211389128559103, 1.0059288537549407, 1.0293719437409408, 1.0774677026343615, 1.0756197450847804, 1.1072222222222223, 1.0980392156862746, 1.1538834951456312, 1.1492381606039808, 1.0485436893203883, 1.1618798955613576, 1.0, 1.5, 1.339607843137255, 1.049808429118774, 1.2017864393016646, 1.0906115711887077, 1.0208126858275521, 1.0, 1.0701754385964912, 1.0, 1.085616864918727, 1.375, 1.0, 1.01979893585733, 1.0, 1.0, 1.0384615384615385, 2.0, 1.0558276199804113, 1.0179238237490664, 1.1901639344262296, 1.4444444444444444, 1.0744303352004458, 1.125590179414542, 1.25, 1.2262146892655368, 1.2636363636363637, 1.0419847328244274, 1.0157318741450068, 1.4533298374410069, 1.0746359841156705, 1.0, 1.2738095238095237, 1.036846065943867, 1.0827914353687549, 1.147644927536232, 1.0, 1.0986146554866933, 1.0104052678025932, 1.0301310043668122, 2.0, 1.0237483953786906, 1.0147687678175483, 1.0357872216279296, 1.0366465498436706, 1.022285741613417, 1.016407877829143, 1.238655462184874, 1.128672049476035, 2.0, 1.304511861078092, 1.2240663900414939, 1.054857419043016, 1.157605711147721, 1.026246719160105, 1.000461432506887, 27.888535031847134, 1.0704938359355873, 1.182193666819642, 1.08738050874919, 16.646833681280444, 1.1619938467645892, 1.0624014417661636, 1.1733333333333333, 1.0945945945945945, 1.083190209169804, 1.250915750915751, 1.0155946972715921, 1.0632023374581625, 1.0, 1.02735781137509, 1.4845360824742269, 2.0, 1.1346153846153846, 1.0571529137426579, 1.2445255474452555, 1.0239064089521872, 1.0, 1.1304347826086956, 1.0229779411764706, 1.123018957185821, 1.0459155449013462, 1.2138619325760014, 1.1275590551181103, 1.2023860247123987, 1.0187531677648252, 1.076654838164585, 1.8482758620689654, 1.0057966581271747, 154.33333333333334, 1.2307692307692308, 1.1437699680511182, 1.4183333333333332, 1.0179131023968833, 1.0598235746417306, 1.1065708692944212, 1.1910628523700146, 1.1627737226277373, 1.0615136205010678, 2.0, 1.0793413173652695, 1.2519322033898306, 1.091668988576205, 1.5714285714285714, 1.0259067357512954, 1.0466790363931726, 1.017391304347826, 1.0595100357160823, 1.2501761804087386, 1.0518444666001994, 1.1304347826086956, 1.0941176470588236, 1.1428571428571428, 1.2666666666666666, 1.260545905707196, 1.5, 1.070720919946926, 1.588235294117647, 1.0282828282828282, 1.1918308866345888, 1.284105534105534, 1.0833333333333333, 1.1427523832803717, 1.1324577861163228, 1.1514307419599898, 1.0772679656400586, 1.0503530856616519, 1.0721924353148384, 2.0, 1.2383292383292384, 1.1088709677419355, 2.1666666666666665, 1.0, 1.064629847238543, 1.3571428571428572, 24.4, 1.1342756183745584, 1.0712588160191971, 1.0305975521958244, 1.0259067357512954, 1.0471204188481675, 1.0871849429318203, 1.0163590727890153, 1.1731843575418994, 1.8, 2.0, 1.1333760820775889, 1.2648648648648648, 1.1172441579371475, 1.1143260409315454, 1.0, 1.4871099050203527, 1.0772058823529411, 1.0888557862396424, 1.0262793914246195, 1.3166558471668366, 1.3288007265751658, 1.8709677419354838, 1.0, 2.0026525198938994, 1.0045286125977768, 1.6666666666666667, 1.0009693053311792, 3.0, 1.1144981412639405, 1.0674267592872244, 1.0909090909090908, 1.0885523850477623, 1.4, 1.05, 1.0310168446255608, 1.1482269503546099, 1.077712803958405, 1.0000173101723229, 1.1402061855670103, 1.6764705882352942, 1.103448275862069, 1.2597938144329897, 1.1114232209737829, 1.0284290197526307, 1.0744668032293048, 1.1564486830154406, 1.0, 1.0694331434770816, 1.01764197468097, 2.0, 1.021467388681358, 1.0058334198504983, 1.1094108645753635, 1.015134654491596, 1.2170622382247043, 1.0229007633587786, 2.2857142857142856, 2.9233690024162926, 1.0324288550628722, 1.1104456727069194, 1.0046916890080428, 1.0002790033433113, 1.13899153653594, 1.3461538461538463, 1.1279916753381893, 1.1717451523545706, 1.164424638938959, 1.0598073998986315, 1.252717391304348, 1.171218487394958, 1.0193674182446315, 1.003584229390681, 1.5210807600950118, 1.3333333333333333, 1.6, 1.0695970695970696, 1.3202054794520548, 1.0263709919089001, 1.0947611710323575, 1.1666666666666667, 1.0206022187004755, 1.0236051502145922, 1.0166666666666666, 1.0468787241142141, 2.0, 1.0025121288722112, 1.5, 1.1923076923076923, 1.1538461538461537, 1.2067196985555788, 1.1612903225806452, 1.152027027027027, 1.2389937106918238, 1.0, 1.0736010754495042, 1.1881123448726323, 1.5, 2.0, 1.0902777777777777, 1.1142191142191142, 1.0103397341211227, 1.183127572016461, 1.2353760445682451, 1.892601431980907, 1.0688775510204083, 1.0, 1.0612244897959184, 2.239193083573487, 1.2285714285714286, 1.0, 1.0764587525150906, 1.2554112554112553, 1.253099173553719, 1.0140493018445096, 1.0785960311761829, 1.0293295595259155, 1.0917209633030334, 1.1181690679586893, 1.0373044524669073, 1.0064165844027642, 1.375, 1.0, 1.0303030303030303, 1.0147593154083243, 1.2709620476610768, 1.3398692810457515, 1.2881773399014778, 1.2606887992553522, 1.1755183946488295, 1.0388538719954699, 1.0705882352941176, 1.1818181818181819, 1.0689655172413792, 1.0391373364716185, 1.0535942662261537, 1.0543575817549997, 1.0782122905027933, 1.1720406481735788, 1.0484329451724976, 1.198948572603761, 1.3649893692416726, 1.0947993479779554, 1.2238805970149254, 1.1116564417177914, 1.1302385557704706, 1.0413216874412399, 3.25, 1.0617911615174032, 1.0, 1.1278538812785388, 1.034275589025167, 1.0925925925925926, 1.080395024639629, 1.060156931124673, 1.048780487804878, 1.0578656750056343, 1.0438881761494168, 1.0810991957104559, 1.2595419847328244, 1.031954887218045, 1.199295814005477, 1.2010309278350515, 1.5, 1.0, 1.25, 1.0565890542486798, 1.6666666666666667, 1.0863035336203646, 1.1016389079860727, 1.3834736375719983, 1.0688459633481922, 1.0627448058087383, 1.0858001237076964, 1.2437275985663083, 1.0022099447513813, 1.0234780075735508, 1.012201677058697, 1.0405379197081799, 1.0709271315397286, 1.625, 1.300275482093664, 1.0771812080536913, 1.087835707529594, 1.0602094240837696, 1.2573151664060755, 1.015015015015015, 2.106382978723404, 1.1139267321669892, 1.0259301014656144, 1.006342745361497, 1.375, 1.072332335924656, 1.0221641623996194, 1.3025, 1.0450481430536451, 1.0666666666666667, 1.0466377440347072, 1.0476160420111844, 1.0558096535616972, 2.3333333333333335, 1.01980450674651, 1.3636363636363635, 1.0717067742384199, 1.089375, 1.0675324675324676, 1.1015125072716696, 1.0034602076124568, 1.0487329434697856, 1.1224387806096952, 1.0053004223164173, 1.297921478060046, 1.2703082954281577, 1.053493869529926, 1.2307692307692308, 1.074825174825175, 1.0154731204126166, 1.1369235264266713, 1.0973154362416107, 1.2027707808564232, 1.1063394683026584, 20.677732793522267, 1.1946508172362555, 1.066327526848569, 1.2083333333333333, 1.0181430096051227, 1.233765195137556, 1.064261315115286, 4.347107438016529, 1.0712678351455425, 1.1147377466777153, 1.062251655629139, 1.0784313725490196, 1.3274191481601956, 1.127060149316805, 1.1125925925925926, 1.103960396039604, 1.0147318797878608, 1.0372873501071698, 1.1287128712871286, 1.4, 1.047555917840859, 1.0207819898651456, 1.0384432842904603, 1.1329787234042554, 1.49275887038378, 1.1447547504862932, 1.140274599542334, 29.41529605263158, 1.5, 1.0380465644520158, 1.0686900958466454, 1.0796019900497513, 1.1944444444444444, 1.0766164460845518, 1.1519292604501608, 1.0452538631346577, 1.2195121951219512, 1.1889312977099236, 1.097491448118586, 1.0458715596330275, 4.0, 1.0072202166064983, 1.00390625, 1.0462534690101757, 1.0833333333333333, 1.0035392038848936, 1.1271676300578035, 1.0597239939696161, 1.5473684210526315, 8.0, 1.5547394193774047, 1.131925076610543, 1.0742716802168022, 1.3945454545454545, 1.3728813559322033, 1.0625, 1.3548387096774193, 1.043956043956044, 1.1058823529411765, 1.089430894308943, 1.0214620423268315, 1.0194078897554326, 1.2672413793103448, 1.1010288880094974, 1.0488672897815783, 2.5, 1.0528720188108835, 1.567488406150842, 1.5, 2.0, 1.22271714922049, 1.0234310086966156, 1.1125015093138384, 1.1302211302211302, 1.0, 1.1666666666666667, 1.5552147239263803, 4.0, 1.0147209349933932, 1.017716737756308, 1.1279390352414593, 1.039313795568263, 1.4285714285714286, 1.0269241773168043, 1.0049261083743843, 1.2, 20.16198830409357, 1.0153121319199059, 1.0, 25.734022196708764, 1.162352572800334, 1.0619982373207275, 24.74909354604786, 1.30078125, 1.0820110192837467, 1.0879590093936806, 1.0748299319727892, 1.0615384615384615, 1.006853346503305, 1.3824822455191073, 1.0516382041573293, 1.2014388489208634, 1.392156862745098, 1.1804123711340206, 1.0, 1.079123554473524, 1.0, 1.0002458617332035, 1.068141592920354, 1.5, 1.0998052580331061, 1.0397745442916533, 3.4731449860291836, 1.0995153473344104, 1.1283800859236797, 1.0803683549602343, 1.1028559530832496, 1.2947845804988662, 3.8135593220338984, 1.3145979089694206, 1.1065632448183802, 1.0430239704978488, 1.1733800350262698, 1.6666666666666667, 1.0224719101123596, 1.0171234611682456, 1.0384024577572966, 1.0082882602435892, 1.1131855309218204, 1.003556609365738, 2.0, 1.0645833333333334, 1.0598440325497287, 1.2001538165737358, 1.3460076045627376, 1.0817124454643043, 1.184, 1.3543046357615893, 1.1757662835249043, 1.0332350680852085, 1.0944843540728113, 1.0619554695062923, 1.062571103526735, 1.263157894736842, 1.1229672354401987, 1.0607472814978334, 1.0043108972491814, 1.421063007649239, 1.2474012474012475, 1.0087010565568677, 1.1935483870967742, 1.0374449339207048, 1.6666666666666667, 1.3333333333333333, 1.1904761904761905, 1.087557603686636, 1.0177777777777777, 1.0015660023950625, 1.0160548106069984, 1.1210312075983717, 1.1828451882845188, 1.1517857142857142, 1.2608695652173914, 1.0598316383066364, 1.6, 1.75, 1.1817894404046791, 1.125, 1.044340723453909, 1.1042791857083507, 1.005724907063197, 1.0784745261636501, 3.0, 1.1325077399380805, 1.06635349383441, 1.1829272870603251, 1.0368473569231003, 1.1690294438386042, 1.1240814019219898, 1.136505788328243, 1.0578392338319165, 1.1939586645468998, 1.1267605633802817, 1.0176211453744493, 1.0, 5.0, 1.0409745825328802, 5.0, 1.3076923076923077, 1.6363636363636365, 1.172496984318456, 1.018533552337619, 1.2326832548755884, 1.1296296296296295, 1.0503552026744671, 1.5909090909090908, 1.0526315789473684, 1.1666666666666667]
origin-bjaq_15.71 	max: 154.3333	99th: 24.7589	95th: 3.0000	median: 1.1129	mean: 2.0756

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.124304 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[5.9604645e-08 4.3511391e-04 0.0000000e+00 1.7881393e-07 5.9604645e-08]
Distance score: 8.70823860168457e-05
SAUCE Drift detection: True
Detection latency: 0.0385s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 28.5868 nats / 41.2421 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.128480 | Model-update-time: 2.563014


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5370.3333	99th: 34.2471	95th: 4.4024	median: 1.1324	mean: 8.1029
ReportEsts: [1.052219321148825, 1.073121735636802, 1.0492847429033758, 1.064724919093851, 1.1538461538461537, 1.0, 1.0472967146675864, 1.072201136354993, 1.6666666666666667, 1.0157728706624605, 1.4132975499956715, 1.0454925770187935, 1.018512396694215, 1.2075098814229248, 1.109671848013817, 25.553846153846155, 1.6122994652406417, 6.0, 1.2307692307692308, 1.2605210420841684, 1.6180683445876816, 1.2774692896967499, 1.4926234765875561, 1.099434114793856, 1.0041656294083479, 1.019863678505303, 2.0, 1.1980421239988135, 1.2, 1.6, 1.390284757118928, 1.0, 1.0409800920971448, 1.0062567018762827, 1.302441731409545, 1.3670142458510794, 1.242715860277713, 1.1758241758241759, 10.0, 1.1204507666728247, 1.0515734265734267, 2.629976789858954, 1.1717305151915456, 1.003257328990228, 1.241304347826087, 1.0734448211496705, 1.5555555555555556, 1.1072756240042485, 1.1105769230769231, 1.393463230672533, 1.3333333333333333, 1.0042735042735043, 1.0269230769230768, 1.206896551724138, 1.0373648791239711, 1.0290476381265274, 1.0798930302523817, 1.2704714640198511, 1.0707070707070707, 1.1929742315565766, 1.8518518518518519, 1.1571188263917467, 1.0282087447108603, 1.1055900621118013, 1.2873563218390804, 29.916666666666668, 1.150852040495504, 1.2970625798212005, 1.0707964601769913, 1.6363636363636365, 1.658635900916186, 1.0309859154929577, 1.1186752529898805, 1.3168498168498168, 1.083642884590752, 26.449027695934003, 1.1498400573281817, 1.108695652173913, 1.7222222222222223, 1.1243610105796686, 1.1647331786542923, 7.0, 1.0, 2.6666666666666665, 1.0882028665931642, 1.2758620689655173, 25.11284046692607, 39.0, 6.0, 1.0418231292517006, 1.1206051873198848, 1.0585294613267426, 1.3536173089925625, 1.0243079584775086, 1.426791277258567, 1.0380184331797235, 34.24202127659574, 1.170807453416149, 1.255813953488372, 15.400805060379529, 1.4482758620689655, 5.0, 1.0423225952886626, 1.534155110426297, 1.0717185385656292, 1.219300948272911, 1.0303030303030303, 1.0053409301798708, 1.07468163177207, 1.1017526577186718, 1.1705426356589148, 1.0782067247820672, 1.6666666666666667, 34.75, 1.0530582166543847, 1.0993802895468532, 1.1173096976016683, 1.2987012987012987, 1.0582854351218103, 2.0, 3.224133922343641, 1.128366247755835, 1.0, 1.0952380952380953, 1.4285714285714286, 1.2698744769874477, 1.0141437436634468, 1.1422400300507105, 1.0655737704918034, 1.5, 1.1644113667117726, 1.0, 7.0, 1.055548260013132, 1.0, 1.103832563196521, 347.85714285714283, 1.0537071644813396, 1.173323823109843, 1.1055480378890392, 1.054846541231279, 1.105421686746988, 1.1408450704225352, 3.142857142857143, 2.86231884057971, 1.6848399577910658, 3.0, 1.0545998504113687, 1.0522456461961502, 1.1993620414673045, 1.110092910780196, 4.0, 1.487163962218455, 1.134071340713407, 1.0048622366288493, 1.1630901287553648, 1.0, 1.1142578125, 1.1191947968178886, 1.0562719812426729, 1.1901140684410647, 1.0263157894736843, 1.161764705882353, 1.078125, 1.0971709717097171, 1.5714285714285714, 1.1811213296200447, 72.0, 1.1709770114942528, 1.13552804256488, 1.070336391437309, 1.0189540461086184, 1.2298136645962734, 1.1323529411764706, 1.2061244419642858, 1.0561035758323059, 1.3140638481449525, 1.8027375201288245, 1.0117791411042945, 1.2146007940008823, 1.011749380603305, 1.0555555555555556, 1.0648968459045978, 2.923076923076923, 1.0239829653703911, 1.1553509781357882, 1.1534820824881677, 1.0842105263157895, 1.1095835784142682, 1.2292460015232292, 1.1146493533261195, 1.0, 1.5059090909090909, 1.145186629207041, 1.0, 1.9090909090909092, 1.3524070860740083, 1.0666666666666667, 1.2328042328042328, 1.3976377952755905, 1.1006873292349726, 1.0826477854468584, 1.1984570626812683, 1.2822003577817531, 1.1711351968054764, 1.2867724867724868, 1.1545774768304777, 1.0726896474580063, 1.7941176470588236, 1.5594405594405594, 1.4298217946696106, 1.1176470588235294, 1.2058823529411764, 1.037690457097033, 1.2222222222222223, 1.0452363247585008, 1.0135746606334841, 1.245077005593441, 1.3083333333333333, 1.173913043478261, 1.0395569620253164, 1.009282192278852, 1.0101714484692428, 32.375, 1.2951653944020356, 1.15169424129489, 1.1682196852823203, 1.0756302521008403, 1.017915309446254, 1.2895263509006003, 1.0937391028689174, 1.7326732673267327, 1.0104107282833321, 1.3477572797974318, 1.214983713355049, 1.27880658436214, 1.0862944162436547, 14.41025641025641, 1.0238095238095237, 2.0, 1.1735849056603773, 1.1774357239512856, 1.0720439963336388, 1.1455223880597014, 1.25, 2.0, 1.0321345529983432, 1.2833333333333334, 1.1505421184320266, 1.2, 1.0189450222882614, 1.1224489795918366, 1.0, 1.0038951547890815, 1.055045871559633, 1.0007272727272727, 1.115995115995116, 1.0468099861303746, 1.1279340179977178, 1.2982456140350878, 2.0, 1.07170358070214, 1.1367503773843832, 1.1208333333333333, 1.0109198654992175, 1.0872581633546354, 1.020738123073653, 1.083595223130107, 1.0814353573766837, 1.007837713231904, 1.1990271021542738, 1.0231253023705853, 19.919642857142858, 1.061308023135103, 1.2835820895522387, 1.11864406779661, 1.0416666666666667, 1.0929032258064517, 53.588516746411486, 1.02688620258441, 87.0, 1.0072932346767867, 1.1711833785004517, 1.358, 1.1231108855134369, 1.3548657718120805, 1.1360896303963952, 1.0468107403591274, 1.5, 1.116848627913839, 1.3190094683175528, 1.049399670033092, 1.1922516676874182, 1.1895874768534394, 21.917316692667708, 1.1757543673901536, 1.3093549765057668, 1.0400051912656956, 1.1467562677694494, 1.029217100180273, 1.0369068541300528, 5.0, 1.4545454545454546, 1.0919159953970081, 4.0, 1.0968342644320297, 1.0203003077688315, 1.2842354503847653, 1.2222222222222223, 1.1300813008130082, 60.554716981132074, 1.006389252948886, 1.0694837130008348, 1.4, 1.507229940459314, 1.0208409506398537, 1.4140845070422534, 7.0, 1.8181818181818181, 1.0485146398803162, 1.5714285714285714, 1.0006132603897544, 1.0013430029546064, 36.73737373737374, 1.2067334907288516, 1.1734693877551021, 1.0769230769230769, 1.019050107006139, 2.0, 1.38801261829653, 1.0251428571428571, 1.0369967355821545, 1.0355349555813056, 1.080939947780679, 1.0588235294117647, 1.0863134044417844, 1.0771382636655948, 1.1131516587677726, 1.1830511254151121, 1.0069558332862072, 3.0, 1.2222222222222223, 1.0332159124867561, 1.5, 1.0677590788308238, 1.3181818181818181, 25.9, 1.1, 1.2588235294117647, 1.028443113772455, 1.054263565891473, 1.2611940298507462, 1.5138888888888888, 1.3333333333333333, 1.1499291251534491, 15.511627906976743, 1.1216216216216217, 1.0096071343170214, 1.023972602739726, 1.0092989985693848, 1.008896797153025, 1.75, 1.0, 1.044546850998464, 1.03125, 1.0059241706161137, 1.1308346074287257, 1.2619860996583814, 1.0756501182033098, 1.5, 1.0029778054950365, 1.0913140311804008, 1.34375, 14.142857142857142, 1.037837837837838, 1.0, 1.0512820512820513, 1.0, 1.022526289116939, 1.108085529449941, 1.2254984554900308, 1.3666557484441533, 1.112031608462911, 1.177304964539007, 1.2347083926031295, 1.368286968587221, 1.0554675118858954, 1.2, 1.0031208565217784, 1.1342880440322087, 2.5725338491295937, 1.0892018779342723, 1.1363636363636365, 2.277227722772277, 2.0, 1.12, 32.80959409594096, 1.221169036334913, 1.1266666666666667, 1.5520361990950227, 1.2822791427077889, 31.90613835660929, 1.0446544980443286, 1.3461538461538463, 1.2548387096774194, 1.1627906976744187, 1.0857580398162328, 1.1679012345679012, 1.0, 1.0872346985970502, 1.3571428571428572, 1.3943259840021753, 1.0032823200464658, 1.1996557659208262, 1.117472852912142, 1.375, 1.0881889763779529, 1.1666666666666667, 1.222397476340694, 1.25, 1.4897354497354498, 1.0907975460122699, 1.4381986242476354, 1.4424242424242424, 1.1653290529695024, 3.0, 1.1033977738722907, 1.0357477421650525, 1.4221077800257496, 2.0, 1.2222222222222223, 27.571259609698405, 1.0747126436781609, 1.0862717366847738, 1.3185744804090709, 1.2380952380952381, 1.5056082830025885, 1.0268273274980106, 1.0683324349177157, 1.1057468867306202, 1.0424368900956875, 1.0595116988809765, 1.0740740740740742, 1.0820025895554597, 1.2347245893316894, 1.2592592592592593, 1.2317232375979112, 10.0, 1.5, 1.2619607843137255, 1.0923076923076922, 1.1818920016240357, 1.1604038750170556, 1.0410764872521245, 1.0, 1.0701754385964912, 1.1515151515151516, 1.1052670601144756, 1.4, 1.0, 1.0282169724165238, 1.0, 1.0, 1.0277469478357382, 26.058823529411764, 1.0301791889342975, 1.0295602018745493, 1.3049180327868852, 1.4444444444444444, 1.0040106951871657, 1.1797752808988764, 1.0182543013008813, 4.0, 1.851063829787234, 1.3272727272727274, 1.0792270531400967, 1.05932762030323, 1.1445397815912637, 1.160671462829736, 1.0, 1.3068181818181819, 1.0943880277926243, 1.096823691882768, 1.1992753623188406, 1.0, 1.1154181945171993, 1.0665763903394727, 1.0322986577181208, 2.0, 1.0036775973030954, 1.0654960036674572, 1.2266666666666666, 1.426654740608229, 1.0107926588996718, 1.0324283226645083, 1.257983193277311, 1.1690036291652919, 2.0, 1.298206625665409, 1.246031746031746, 1.0449438202247192, 1.0337019483938916, 1.0283505154639174, 1.0063660004752224, 29.833181126331812, 1.0712934088225499, 1.3382285452042222, 1.099756428136479, 18.69725638599811, 1.1348001902949572, 1.0208843439435402, 1.2266666666666666, 1.345679012345679, 1.0921215088555858, 1.423728813559322, 1.0027652781618441, 1.0564466001130157, 1.0, 1.0641296687808315, 1.7422680412371134, 2.272727272727273, 1.1666666666666667, 1.0355872743735133, 1.2413793103448276, 1.0170648464163823, 1.0, 1.125, 1.024696802646086, 1.2240617628136392, 1.1724137931034482, 3.0, 1.5, 1.036556603773585, 1.0390977443609022, 1.026647966339411, 1.0725326991676576, 1.2843137254901962, 1.1457286432160805, 1.4496350364963504, 1.1538461538461537, 1.1208895149929563, 30.433566433566433, 1.2964907688280491, 2.0, 1.1278735632183907, 1.0512820512820513, 1.0600413103592117, 1.068522483940043, 1.0942507068803016, 1.1778656126482214, 1.1073729420186114, 1.1264128989361701, 1.0, 1.3508771929824561, 1.1666666666666667, 2.6666666666666665, 1.162162162162162, 30.290721649484535, 1.0119904076738608, 1.044776119402985, 1.0592995321785308, 1.509581881533101, 1.0568607812276434, 1.152732030862248, 1.0124137996138978, 1.192184703081281, 1.0001867756793965, 1.1309090909090909, 1.0183357681643361, 1.188926200926516, 1.1053639846743295, 1.1271739130434784, 1.0949868073878628, 1.12, 2.568903025371699, 1.1581858407079646, 1.0915545312616162, 1.2513089005235603, 1.1820835204310731, 1.0880235602094241, 3.6666666666666665, 1.302325581395349, 1.3333333333333333, 1.0278578290105667, 1.0534562752699947, 1.0128919618175263, 1.1805068226120858, 1.1825757062529638, 1.3, 1.0162467300013769, 1.0716934487021013, 1.3746130030959753, 1.0536912751677852, 1.0177894604653286, 1.2927677329624478, 1.0152879420667458, 1.3942307692307692, 1.1443248532289627, 1.051761630394645, 1.13429928099414, 1.2307692307692308, 2.281451660647682, 1.4057971014492754, 1.383092515175555, 1.3335622622290473, 1.8272980501392757, 1.0, 2.1694157114900756, 1.0007863180656575, 1.6666666666666667, 1.0465776719666695, 3.0, 1.1609322974472809, 1.0859099588719154, 1.0, 1.123953502379088, 1.6, 1.0476190476190477, 1.0296367057461282, 1.1728778467908902, 1.1188097216452015, 1.0000145181227653, 1.1538461538461537, 1.6944444444444444, 1.1724137931034482, 1.2989690721649485, 1.1085409252669038, 1.0635992183336294, 1.141673695625979, 1.1565414061271635, 1.0, 1.0440933946706015, 1.0637585497680202, 2.0, 1.0388776293992985, 1.039844786963121, 1.1193265007320645, 1.0246271140289838, 1.2526391848531608, 1.0846153846153845, 3.0, 3.1991621011923943, 1.027237354085603, 1.106956673233359, 1.09606404269513, 1.0230263157894737, 1.1144259675025685, 1.7765567765567765, 1.0891597177677999, 1.2186666666666666, 1.1538598482319693, 1.0338983050847457, 1.3623188405797102, 1.1953781512605042, 1.0242098099511014, 1.0922509225092252, 1.6111809923130678, 1.5555555555555556, 1.6, 1.0700934579439252, 1.2550189907759088, 1.0369415807560138, 1.1227038941954446, 1.25, 1.0368946963873944, 1.0244658855961406, 1.12565445026178, 1.0664769500884401, 2.0, 1.0324948466155004, 42.51367781155015, 1.0940959409594095, 1.2307692307692308, 1.3037820110250506, 1.125, 1.0903225806451613, 1.3249475890985325, 1.0, 1.0340927194519676, 1.2956104252400549, 1.75, 2.0, 1.1013513513513513, 1.3029556650246306, 1.0321324245374879, 1.1932270916334662, 1.3157894736842106, 1.923963133640553, 1.0784313725490196, 1.0357142857142858, 1.1346938775510205, 2.2706766917293235, 1.263157894736842, 1.0, 1.0995975855130784, 1.4011544011544013, 22.727777777777778, 1.0642469933143837, 1.0755857034160023, 1.0659441199239919, 1.0839282461675863, 1.1240024410853442, 1.049338146811071, 2.2857142857142856, 1.4285714285714286, 3.0, 1.1019283746556474, 1.010565644067591, 1.3150926743159752, 1.3954248366013071, 1.1995073891625616, 1.3368173030449493, 1.1880401337792643, 1.0445547823747385, 1.0561797752808988, 1.2272727272727273, 1.0199714693295292, 1.0244900099638157, 1.0687015980729881, 1.0505009447642484, 1.0628272251308901, 1.3664691039258259, 1.0457227651032026, 1.2349261385334391, 1.3440656565656566, 1.0807747233131024, 1.2649253731343284, 1.0557620817843867, 1.102532427424336, 1.0259752534799793, 3.75, 1.1346153846153846, 1.0899681974620206, 1.05621337890625, 1.1808440269876967, 1.3571428571428572, 1.2303370786516854, 1.2238442822384428, 24.49823943661972, 1.3608377203021287, 1.1720286923859653, 1.0365042562913571, 1.047436841406448, 1.040983606557377, 1.3116883116883118, 1.2063119879258302, 1.2411467116357504, 1.7857142857142858, 1.0, 1.1111111111111112, 1.0661413699890723, 1.6666666666666667, 1.111920036347115, 1.113401842965731, 1.3289765175011077, 1.0467882632831087, 1.0539114577339483, 1.002793059669911, 1.3154121863799284, 1.022508038585209, 1.0190340020553148, 1.0370858496546662, 1.041083258799598, 1.221832922531625, 1.625, 1.3488372093023255, 1.2056650246305418, 1.0998117795760232, 1.1, 1.2573703464600818, 1.036927621861152, 2.0850340136054424, 1.2028050695788743, 1.0377155172413792, 1.0501543355994472, 1.4375, 1.03877063725809, 1.0249792399990587, 1.4118409680207433, 1.0431062849621586, 1.3125, 1.026639344262295, 1.0951085925345003, 1.0239957716701902, 1.75, 1.0176152140288104, 1.121212121212121, 1.0601822420004239, 1.0531978481769277, 1.0338345864661653, 1.122846025569761, 1.0082918739635158, 1.108695652173913, 1.1578171091445428, 1.0282102615244928, 1.3533487297921478, 1.329346544457256, 1.070324794620264, 1.1538461538461537, 1.1036376115305422, 1.1746434850556748, 1.0569018156074395, 1.0964630225080385, 1.38727959697733, 1.161576354679803, 26.11074516261836, 1.1916790490341753, 1.0406010629607205, 1.24, 1.0010055304172951, 1.2312760985327358, 1.0670607419486344, 5.239600665557404, 1.0331417227177102, 1.1211620710038597, 1.1753334622076164, 1.2401363857769119, 1.3872312742111956, 1.0897590046526218, 1.0535966149506346, 1.0439024390243903, 1.0152801358234296, 1.0243703411664389, 1.1047619047619048, 1.4, 1.049866168636125, 1.084526347852574, 1.070829450139795, 1.1570680628272252, 1.5821868211440986, 1.164097480564033, 1.1648423817863398, 32.640969162995596, 1.5, 1.0925520262869661, 1.0326086956521738, 1.0849056603773586, 1.1025641025641026, 1.075393552392355, 1.1670498084291188, 1.0555555555555556, 1.3902439024390243, 1.1445578231292517, 1.0930378061767838, 1.1330304953180974, 1.1585365853658536, 1.0367848994177429, 1.0558802045288531, 3.2, 1.3333333333333333, 1.1363636363636365, 1.6538461538461537, 1.0, 1.0666666666666667, 1.0778947368421052, 1.3967391304347827, 1.2070378404434803, 1.0153836325305052, 1.5527272727272727, 1.2142857142857142, 1.125, 1.2258064516129032, 1.0638297872340425, 1.2692307692307692, 1.051094890510949, 1.8099723988959557, 1.3274705280315378, 1.2295081967213115, 1.0665778095640583, 1.0483956167909159, 2.5, 1.0540707554456976, 1.7273386511965192, 1.5, 1.6, 1.2230915125651969, 1.0182836771072066, 1.068239241606533, 1.1689814814814814, 1.0, 1.069767441860465, 1.4447852760736197, 5.0, 1.013878176979078, 1.0519254416401864, 1.12942794507609, 1.0002051282051283, 1.4285714285714286, 1.0413495653298348, 1.0094618568894145, 1.2287179487179487, 21.474635861376193, 1.0261066969353008, 1.0, 5370.333333333333, 1.188232284471732, 1.0108126372698092, 27.812704649639816, 1.3359375, 1.1661432506887053, 1.1827497865072587, 1.0651465798045603, 1.1304347826086956, 1.0921481812206224, 1.4095556230387691, 1.5508474576271187, 1.02890286805383, 1.1388888888888888, 1.186217008797654, 1.4897074756229687, 2.0833333333333335, 1.0914724107406315, 1.0097087378640777, 1.0022655811145633, 1.0295109612141653, 1.5, 1.1309352517985611, 1.0146359583952451, 4.08897014015844, 1.1052549992249263, 1.1335433834222006, 1.1161324929596352, 1.132537946123342, 1.0589569160997732, 4.370967741935484, 1.3466708592091816, 1.068624211111738, 1.3033586132177681, 1.0665499124343258, 1.6666666666666667, 1.0326086956521738, 1.012785584552146, 1.0042796005706134, 1.0418645242434355, 1.0738651211095849, 1.0034188034188034, 1.6, 1.0493583415597236, 1.0626812181461271, 1.2047346032920287, 1.6311787072243347, 1.087432519158896, 1.0077720207253886, 1.5397350993377483, 1.1931252826775214, 1.0318915979178236, 1.0796419021044064, 1.069962686567164, 1.0220356768100733, 1.3, 1.1584920634920635, 1.0060201563754199, 1.0624712039410729, 1.4797572348456813, 1.2475490196078431, 1.0237529691211402, 1.25, 1.0063694267515924, 1.25, 1.6666666666666667, 1.1363636363636365, 1.170731707317073, 2.0, 1.6981865284974094, 1.6666666666666667, 1.4, 1.058775118304643, 1.4285714285714286, 1.195906432748538, 1.0599369085173502, 1.0685720640569396, 1.3333333333333333, 1.9166666666666667, 1.075920245398773, 1.125, 1.074492099322799, 1.0487433358720488, 1.0757056988510993, 1.079218597186348, 3.0, 1.144891640866873, 1.0955882352941178, 1.1101425310494815, 1.035754105007095, 1.1719409282700421, 1.1289009497964722, 1.1423813635482563, 1.0939954804691703, 1.287758346581876, 1.0704225352112675, 1.043979057591623, 1.0, 6.0, 1.040913291154926, 5.0, 1.5384615384615385, 1.542857142857143, 1.255729794933655, 1.0755127543566245, 1.5373234700739744]
origin-bjaq_15.71 	max: 5370.3333	99th: 34.2471	95th: 4.4024	median: 1.1324	mean: 8.1029

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.264108 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[5.9604645e-08 5.0455332e-04 5.9604645e-08 3.5762787e-07 1.1920929e-07]
Distance score: 0.00010102987289428711
SAUCE Drift detection: True
Detection latency: 0.0406s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 28.5200 nats / 41.1456 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.110925 | Model-update-time: 2.522644


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 6442.3333	99th: 42.1662	95th: 5.1382	median: 1.1362	mean: 9.1952
ReportEsts: [1.0964467005076142, 1.100194931773879, 1.0412745983825118, 1.0734375, 1.1111111111111112, 1.0, 1.0240035680979604, 1.0458025329082132, 1.8333333333333333, 1.0131048387096775, 1.4625573543416155, 1.0456776815813142, 1.057602143335566, 1.1842610364683301, 1.063157894736842, 29.25, 1.654320987654321, 7.0, 1.3333333333333333, 1.468937875751503, 1.6659942363112392, 1.3006411753465956, 1.548406862745098, 1.0546932742054693, 1.0170508668317775, 1.0262434785349888, 2.0, 1.1329775765416128, 1.2, 1.6, 1.4396135265700483, 1.0, 1.0482486443128545, 1.0003282660156827, 1.407325194228635, 1.4091643413129682, 1.2322057005167877, 1.1847133757961783, 12.0, 1.0170228178196306, 1.1115119986574928, 2.6408086506817114, 1.1875825627476881, 1.0471327572663, 1.2717391304347827, 1.1953449392404099, 1.5555555555555556, 1.1038696537678208, 1.04, 1.5078173858661663, 1.4166666666666667, 1.017094017094017, 1.022140221402214, 1.2758620689655173, 1.061433604273642, 1.0297444974603662, 2.285636413191605, 1.3076923076923077, 1.0784313725490196, 1.2076685470806703, 1.7407407407407407, 1.2565096026634488, 1.0573426573426574, 1.235483870967742, 1.2758620689655173, 30.785714285714285, 1.013897993968795, 1.2570271557884707, 1.090128755364807, 1.6363636363636365, 1.5819477434679334, 1.0341726618705036, 1.1259911894273127, 1.36331569664903, 1.2478117928354895, 32.51544518473652, 1.156385327034475, 1.0434782608695652, 1.055733709594664, 1.0538101604278074, 58.0, 1.0037697975569753, 1.3571428571428572, 1.0358341323106424, 1.1320754716981132, 1.102588686481304, 1.13598166539343, 1.064516129032258, 1.0622355524610358, 1.0558870026724885, 1.1818181818181819, 1.4, 1.4073033707865168, 1.0656409383801793, 1.3831775700934579, 1.096774193548387, 42.34232250963126, 1.1692546583850931, 1.2222222222222223, 17.966225724739658, 1.40625, 6.0, 1.0655937898634142, 1.7282999486389317, 1.04863813229572, 1.2149017807365625, 1.0, 1.0165788796029684, 1.1025801081980857, 1.012395846160161, 1.1634730538922156, 1.0804708143165986, 1.6666666666666667, 33.2, 1.0409532215357458, 1.1059181404325844, 1.0872415532022188, 1.4155844155844155, 1.0566991089525413, 2.0, 3.4503668536901166, 1.1093082835183603, 1.0, 1.1703056768558953, 1.2857142857142858, 1.3272727272727274, 1.0216552103675722, 1.1177923721154426, 1.0161290322580645, 1.5, 1.1326092908642877, 1.935483870967742, 1.0697412823397074, 1.0280852296565641, 1.4452901512055578, 1.0, 1.141732283464567, 1.0586458074662692, 1.2446808510638299, 1.0746268656716418, 1.0027472527472527, 1.091767173571054, 1.0555808656036447, 1.0143983824582115, 1.1481481481481481, 1.0044226044226043, 1.442199802850154, 2.3333333333333335, 1.0609448250991707, 1.0762489044697634, 1.2518363064008395, 1.1252707581227437, 4.5, 1.0283561038250215, 1.1172413793103448, 1.0062402496099845, 1.044280442804428, 12.0, 1.103527256069629, 1.2416953343367019, 1.2300477951122735, 1.2889733840304183, 1.0653753026634383, 1.0972222222222223, 1.0615384615384615, 1.0794780545670226, 2.3206106870229006, 1.375, 1.8317307692307692, 1.134531943112207, 1.3135391923990498, 1.6226415094339623, 1.1247487815151334, 1.9644970414201184, 1.050755009473503, 1.1268115942028984, 1.0281405601967937, 1.1751592356687899, 1.251177394034537, 1.255813953488372, 1.1226072607260726, 1.0641193049594042, 1.0403428336506064, 1.1040280730217247, 1.176316772506537, 1.0391367550039137, 1.1385809312638582, 1.1920496477692049, 1.036697247706422, 1.096081974813371, 1.2355860458327252, 1.1207445142357848, 1.0769230769230769, 1.6290909090909091, 1.3084104101000706, 1.5, 1.25, 1.050597348037285, 1.1764705882352942, 1.1422108959664439, 1.0772932713730983, 1.0175371711780403, 1.2140665808350193, 1.3088990302338848, 1.2374160058454104, 1.3164448261056247, 1.212171052631579, 1.329429735234216, 1.2023831198075872, 1.0681081980659388, 22.014084507042252, 1.1421052631578947, 1.4000946222993218, 1.0167714884696017, 1.542857142857143, 1.033487297921478, 1.3333333333333333, 1.0423086642184614, 1.0610021786492374, 1.2488592876067117, 1.452431289640592, 1.3478260869565217, 1.0333248537267872, 1.0128396020802313, 1.0005488282951476, 34.148148148148145, 1.2593023255813953, 1.1149621382179522, 1.108325925925926, 1.0753768844221105, 1.0534591194968554, 1.1724858392570714, 1.105875838158639, 1.2413793103448276, 1.007969511662258, 1.413784455687369, 1.2403846153846154, 32.31270841052242, 1.1211822660098523, 16.48780487804878, 1.018887722980063, 2.0, 1.240027045300879, 1.2252896228740449, 1.0466666666666666, 1.1194029850746268, 1.25, 2.0, 1.0822601136743564, 1.3770491803278688, 1.2749406556746006, 1.2, 1.010989010989011, 1.3853541416566626, 1.125, 1.0087536261387349, 1.0807174887892377, 1.0217849613492622, 1.0975323149236194, 1.0508871777703381, 1.0927876929528002, 1.280701754385965, 2.0, 1.0981272998585905, 1.3193358034856595, 1.0859060402684564, 1.0200915154835175, 1.0854464229535015, 1.0454622672329303, 1.063068526379624, 1.0722741683053092, 1.0210008936550492, 1.0395897925113284, 1.0595882990249188, 20.082706766917294, 1.0664884986160161, 1.1705756929637527, 1.096774193548387, 1.0869565217391304, 1.1166253101736974, 60.31531531531532, 1.009535127182186, 104.0, 1.010200097484044, 1.133159268929504, 1.3634615384615385, 1.0962756894899373, 1.3238255033557047, 1.1273423449556188, 1.0651290060275953, 1.4545454545454546, 1.1124577226606538, 1.3190094683175528, 1.0533022689510279, 1.1909935091881396, 1.2326486523558056, 24.603081438004402, 1.20010183299389, 1.3577103801794106, 1.0232179875617924, 1.0824604080822122, 1.0800197323155614, 1.0221606648199446, 6.0, 1.5454545454545454, 1.09375, 1.1503105590062113, 1.01, 1.0999507631708518, 2.0, 1.3, 1.0256131916983278, 6.0, 1.0868421052631578, 1.041871921182266, 1.0970350404312668, 1.4503369839932603, 1.0797427652733118, 1.1859154929577465, 8.0, 2.857142857142857, 1.07606405394016, 1.5714285714285714, 1.0016781412615536, 1.0002577984016499, 42.16504854368932, 1.2339877673307653, 1.1162790697674418, 1.0769230769230769, 1.1802333881465894, 1.0255187833767578, 1.2273230088495575, 1.580849644128114, 1.051334702258727, 1.020950434338273, 1.003725782414307, 1.4543080939947781, 1.0277777777777777, 1.105936419683432, 1.0853765432098765, 1.1079258010118045, 1.2740929031200032, 1.0227373312679797, 3.0, 1.3333333333333333, 1.044412383319717, 1.75, 1.0641188959660297, 1.3043478260869565, 31.1, 1.1, 1.202513966480447, 1.0208783297336212, 1.0238095238095237, 1.2426367461430574, 1.547945205479452, 1.3333333333333333, 1.203311552113585, 17.555555555555557, 1.1282051282051282, 1.0122778281645526, 1.0376712328767124, 1.0027434842249656, 1.0051107325383304, 2.0, 1.0, 36.66576819407008, 1.3106060606060606, 1.0829383886255923, 1.1320308194382909, 1.237320682254603, 1.082004555808656, 2.0, 1.0687737510427286, 1.0609756097560976, 1.7307692307692308, 15.375, 1.0399755874275252, 1.0, 1.3153846153846154, 1.198019801980198, 1.1639427340681616, 1.0873091603053435, 1.2144177449168208, 1.4613822469701931, 1.1060494734264021, 1.1225806451612903, 1.2292225201072386, 1.4406205218024248, 1.0519877675840978, 1.4333333333333333, 1.000488066135121, 1.1600917132821646, 2.8011049723756907, 1.1778846153846154, 1.1041666666666667, 2.5038910505836576, 2.0, 1.1346153846153846, 41.4204368174727, 1.2138728323699421, 1.7159763313609468, 1.7971698113207548, 1.2801766437684003, 32.83449818283478, 1.0215689651872693, 1.4592490842490842, 1.1666666666666667, 1.3255813953488371, 1.0892659535226854, 1.1527777777777777, 1.0, 1.0962856538667263, 1.3275862068965518, 1.4561872606557749, 1.0119094166436982, 1.2088353413654618, 1.1232227488151658, 1.375, 1.2619392185238785, 1.1666666666666667, 1.2220009955201592, 1.1538461538461537, 1.497450540485417, 1.1988304093567252, 1.1776907886688919, 1.233695652173913, 1.4285714285714286, 1.0168350168350169, 38.32874015748032, 1.0, 1.012596964968225, 1.0627614607727276, 1.0703982012898645, 2.0, 1.24174939629729, 1.0412031314379893, 1.3098591549295775, 1.05, 1.622695331524386, 1.000882612533098, 1.0364309572512365, 1.3246753246753247, 1.1126516464471403, 1.0892253826457572, 1.0454106280193236, 1.2169811320754718, 1.039855072463768, 1.22181146025878, 1.095221363316936, 1.28, 1.9107142857142858, 1.2252873563218392, 1.0808823529411764, 1.274056029232643, 1.1186873649046964, 1.0004510599909788, 1.0, 1.1140350877192982, 1.2058823529411764, 1.0395308365992728, 1.4230769230769231, 1.0, 1.0486378049569662, 1.0, 1.0, 1.0214056368176954, 27.06779661016949, 1.0424371021521672, 1.0289855072463767, 1.3508196721311476, 1.4444444444444444, 1.1878952122854562, 1.1561382598331347, 1.0118560915780868, 3.0, 2.0531914893617023, 1.3727272727272728, 1.1142284569138277, 1.2460762331838564, 1.0000228911525695, 1.5507246376811594, 1.0082872928176796, 1.3492063492063493, 1.0706798660649295, 1.065724943013055, 1.2427536231884058, 1.0, 1.1155778894472361, 1.0915018669616927, 1.0347194186515947, 1.5, 1.0029308323563892, 1.0083720677376389, 1.2404092071611252, 1.486583184257603, 1.005238112681028, 1.0405827802099514, 1.3411764705882352, 1.102958673752677, 1.5, 1.4513928368391131, 1.2671755725190839, 1.0557901755945767, 1.0701311806256306, 1.0311004784688995, 1.0064974973072294, 38.39678899082569, 1.0755864655097236, 1.445158329508949, 1.0890609964592344, 42.28381374722838, 1.1136540130647299, 1.053042876901798, 1.2666666666666666, 1.1408450704225352, 1.1969114070075582, 1.541044776119403, 1.00688476444958, 1.068860919335136, 1.0, 1.1006585136406397, 1.4123711340206186, 2.5454545454545454, 1.2321428571428572, 1.063389795987644, 1.2608695652173914, 1.0123398196487898, 1.0, 1.12, 1.0243540872511647, 1.421672339251219, 1.2222222222222223, 3.0, 1.5, 1.0727482678983833, 1.0453216374269005, 1.1153846153846154, 1.235434007134364, 1.2980392156862746, 1.1055276381909547, 1.510948905109489, 1.21256038647343, 1.0790919553031146, 36.111111111111114, 1.3248387047102843, 1.0, 1.1508620689655173, 1.132716049382716, 1.0099244680782327, 1.053388090349076, 1.0804289544235925, 1.3754940711462451, 1.1672401927047489, 1.2215164323708207, 1.0, 1.2881355932203389, 1.1666666666666667, 3.0, 1.5204081632653061, 38.87583148558758, 1.032979976442874, 1.0313588850174216, 1.0585164501638946, 1.5883333333333334, 1.0516527513972207, 1.2051107788500748, 1.0152043993001114, 1.2373754415338685, 1.0075420828467005, 1.1164619164619165, 1.0588689828859252, 1.2590306666762134, 1.068663594470046, 1.119496855345912, 1.1635883905013193, 1.0733333333333333, 2.7644410317266415, 1.1880434782608695, 1.0914114585190202, 1.2653061224489797, 1.186076493339063, 1.0570175438596492, 3.0, 1.302325581395349, 1.6666666666666667, 1.0276115968706856, 1.067013091868396, 1.0033855178779634, 1.2311890838206627, 1.1894187340446423, 1.4615384615384615, 1.0354695687222895, 1.1027903648938708, 1.4290030211480362, 1.1363636363636365, 1.012427012487152, 1.3463143254520167, 1.013907284768212, 1.4134615384615385, 1.1452145214521452, 1.0082746904725743, 1.152258547541802, 1.2692307692307692, 1.0025496946862413, 1.2361111111111112, 1.0, 1.2985074626865671, 1.0741171019320006, 1.0612889637742207, 1.1449814126394051, 1.0746268656716418, 1.15835861869672, 1.0, 1.0255863539445629, 1.4220532319391634, 1.1809128630705394, 1.3012820512820513, 1.32, 1.3001362769146907, 1.0384615384615385, 45.3351548269581, 1.1055471394639884, 4.23302752293578, 1.0639332870048646, 1.0410320731051783, 1.0430894308943088, 1.0593085949888994, 1.0, 1.2555126791620728, 1.0605965265542412, 1.2222222222222223, 1.0518003790271637, 1.0434951834192858, 1.0206896551724138, 1.0002628250406558, 1.1, 1.63169164882227, 1.2184420459877991, 1.1708683473389356, 1.1058201058201058, 1.1698094292903471, 1.049645390070922, 3.2857142857142856, 4.210363745332166, 1.0265220012055456, 1.0949527422362246, 1.086057371581054, 1.0124505755206046, 1.1812406440541823, 1.5787545787545787, 1.0936341161928307, 1.1902313624678664, 1.2541168747357412, 1.0120649651972158, 1.2409420289855073, 1.3240546218487395, 1.0062414551506866, 1.1095406360424027, 1.7480218281036835, 1.7222222222222223, 1.6, 1.0403135498320268, 1.2412127716662196, 1.0309673883255686, 1.103859649122807, 1.25, 1.0224800580130529, 1.011479173499508, 1.1105527638190955, 1.0795749320166919, 2.0, 1.0206344361553368, 55.337190082644625, 33.371457489878544, 1.018471337579618, 1.0109840842860345, 1.3362291535831414, 1.0588235294117647, 1.0923076923076922, 1.3469601677148848, 1.0, 1.0113409961685824, 1.2829076620825148, 1.75, 1.3333333333333333, 1.119205298013245, 1.2663755458515285, 1.0132420481911855, 1.5473684210526315, 1.2692307692307692, 1.283720930232558, 9.0, 1.3735632183908046, 1.3155555555555556, 1.0938775510204082, 2.8438356164383563, 1.4857142857142858, 1.0, 1.0975855130784709, 1.443001443001443, 22.823279524214104, 1.0272047128129602, 1.0699725905059594, 1.105811749842072, 1.0662492243470412, 1.24291730474732, 1.1456077015643802, 2.5714285714285716, 1.4545454545454546, 3.5, 1.1087533156498675, 1.0106896432561943, 1.4060017652250663, 1.4542483660130718, 1.2438423645320198, 1.3670133729569094, 1.244494983277592, 1.0467260384995574, 1.0769230769230769, 1.2173913043478262, 1.0918367346938775, 1.0648148148148149, 1.0510058086212168, 1.0110721850249451, 1.0544554455445545, 1.3592175459395377, 1.0520567788170603, 1.329911802775353, 1.531188443860801, 1.1104544513679222, 1.212686567164179, 1.0953084595493165, 1.104203670811131, 1.039085870261538, 3.4, 1.0786026200873362, 1.0687828207051764, 1.063638563175319, 1.1794220387424579, 1.4, 1.2865168539325842, 1.1936936936936937, 1.0933558080086927, 1.0345682646799066, 1.292024169943344, 1.021362934960782, 1.0479255084765418, 1.0415948806300763, 1.2925531914893618, 1.1989035595706896, 1.2763157894736843, 1.6428571428571428, 1.0, 1.1111111111111112, 1.06106631319268, 1.6666666666666667, 2.3697632058287796, 1.001821796420187, 1.5611015490533562, 1.1294642857142858, 1.6107660455486543, 1.0424377833731164, 1.4202635768618432, 1.0622462787550744, 1.5757575757575757, 1.2325581395348837, 3.0, 1.016704805491991, 1.2857142857142858, 1.4111099817035984, 2.142857142857143, 1.2321428571428572, 1.064370179948586, 1.0128664198579838, 1.1954545454545455, 150.0, 1.6054023948760792, 1.0211831568070266, 1.0222354780319236, 1.077933846850929, 1.0651701019898723, 1.0330615352578285, 1.3696701528559936, 1.0406555310431769, 1.1428571428571428, 1.0256410256410255, 1.0309662664379646, 1.0142801673928987, 2.3333333333333335, 1.0174788419903738, 1.303030303030303, 1.1200281365903568, 1.0664375715922108, 1.102905569007264, 1.0903054448871181, 1.06890756302521, 1.0419642857142857, 1.1333946642134314, 1.0123692776013178, 1.4041570438799076, 1.348482272948033, 1.1003982537054018, 1.2307692307692308, 1.0903183885640026, 1.1744481344012503, 1.0331784439281464, 1.0968074150360454, 1.283375314861461, 1.317490494296578, 25.801838610827375, 1.1931649331352154, 1.0445163770068953, 1.2692307692307692, 1.0139893873613122, 1.2060404864143182, 1.0850979616069663, 5.619631901840491, 1.0471567467759153, 1.2116108860939387, 1.2538179006379278, 1.2465116279069768, 1.4332140639323416, 1.0731689217602098, 1.018842530282638, 1.1207729468599035, 1.049438202247191, 1.0003143061691318, 1.110091743119266, 1.4, 1.043623306299866, 1.128084069448675, 1.0552147239263803, 1.2216494845360826, 1.5398262128892106, 1.191193194009355, 1.1182773109243698, 49.213160333642264, 1.5769230769230769, 1.0810381355932204, 1.0680786686838124, 1.0739910313901346, 1.2285714285714286, 1.0517593933713896, 1.171197648787656, 1.0576131687242798, 1.3902439024390243, 1.2110552763819096, 1.0751157174481787, 1.1600101597887285, 1.2113821138211383, 1.051901484969214, 1.042031523642732, 3.53125, 1.3333333333333333, 1.1049382716049383, 1.8076923076923077, 1.25, 1.0666666666666667, 1.0475227502527806, 32.42857142857143, 1.2872340425531914, 1.0473104134246707, 1.2475784871669242, 1.098901098901099, 1.1875, 1.3870967741935485, 1.1030927835051547, 1.1704545454545454, 1.2338709677419355, 1.9654757714419806, 1.3806148364353132, 1.204724409448819, 1.0775488125825678, 1.049301683434909, 1.6666666666666667, 1.0545825988104849, 1.8859607091518926, 1.5, 1.6, 1.121219012963384, 1.0252971053799498, 1.1007744181858203, 1.105263157894737, 1.0, 1.2403100775193798, 1.5674846625766872, 6.0, 1.021251743524358, 1.038372550380602, 1.1480729536764458, 1.0216237468055829, 1.4285714285714286, 1.0515197881341574, 1.009009009009009, 1.2492307692307691, 24.673755437409376, 1.037117903930131, 1.0, 6442.333333333333, 1.0871834090602366, 1.0197555617803595, 34.122229684351915, 1.46484375, 1.700222144276862, 1.224594363791631, 1.0996884735202492, 1.0724637681159421, 1.0499793899422918, 1.4166666666666667, 1.5793650793650793, 1.0352536327443076, 1.086734693877551, 1.1520039100684263, 1.5325077399380804, 2.076923076923077, 1.0722051853916923, 1.0093896713615023, 1.006335835268283, 1.0024252223120453, 1.5, 1.13769123783032, 1.068421052631579, 4.4745423340961095, 1.183457526080477, 1.129979035639413, 1.0290472501936483, 1.136946559852306, 1.1473922902494331, 5.112903225806452, 1.4230013363729266, 1.106536538625001, 1.2971887550200802, 1.2942206654991244, 1.6666666666666667, 1.010204081632653, 1.0226682896580235, 1.0298719772403984, 1.092196073510455, 1.113431700841816, 1.01528384279476, 1.6, 1.0614793467819403, 1.0273339045226548, 1.179245283018868, 1.5361216730038023, 1.0575247897008928, 1.052910052910053, 1.9878587196467992, 1.2970615243342516, 1.0313194160487142, 1.0916879937687771, 1.09000900090009, 1.0325865580448066, 1.3414634146341464, 1.1477813893718347, 1.0514880149865886, 1.0306707296949429, 1.5651631751460737, 1.285577841451767, 1.0585165859112933, 1.0, 1.0615711252653928, 1.6666666666666667, 1.6666666666666667, 1.0869565217391304, 1.1395348837209303, 2.0, 1.595505617977528, 1.7179487179487178, 1.4666666666666666, 1.0169330890250836, 1.4761904761904763, 1.1316526610644257, 1.2883211678832116, 1.0699797160243407, 1.3333333333333333, 2.0, 1.1107181719260066, 1.125, 1.082146768893757, 1.0726383138878435, 1.035458503019239, 1.0448100339942323, 3.0, 1.273374613003096, 1.054564083742411, 1.1323838311388903, 1.1152737752161384, 1.0707070707070707, 2.1176470588235294, 6.5, 1.5714285714285714, 1.2142857142857142, 1.4444444444444444, 1.0245398773006136, 1.389655172413793, 1.0095621087897948, 1.43943661971831, 1.2035087719298245]
origin-bjaq_15.71 	max: 6442.3333	99th: 42.1662	95th: 5.1382	median: 1.1362	mean: 9.1952

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.106424 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[5.9604645e-08 4.8243999e-04 0.0000000e+00 1.1920929e-07 5.9604645e-08]
Distance score: 9.653568122303113e-05
SAUCE Drift detection: True
Detection latency: 0.0416s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 28.5616 nats / 41.2057 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.102211 | Model-update-time: 2.559073


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 7514.0000	99th: 47.2812	95th: 10.0500	median: 1.1359	mean: 10.8603
ReportEsts: [1.0790123456790124, 1.1084808946877913, 1.0477643245304604, 1.0703592814371257, 1.1111111111111112, 1.0, 1.033640952831677, 1.0652916163358213, 1.7142857142857142, 1.0077071290944124, 1.5748708625515828, 1.0462994154364411, 1.0792502466293983, 1.248134328358209, 1.1169871794871795, 32.605633802816904, 1.8152709359605912, 8.0, 1.3333333333333333, 1.5080160320641283, 1.8381119563097328, 1.3445686413982318, 1.6067216981132075, 1.105612998522895, 1.0216967447083964, 1.0335117914686154, 2.0, 1.1479826521224865, 1.5, 1.6, 1.497659906396256, 1.0, 1.0350314598255148, 1.077498445954897, 4.0, 1.0136003280481136, 28.3, 1.1724137931034482, 15.0, 2.3333333333333335, 1.0451485503994256, 1.4047619047619047, 1.02170916609235, 4.459821428571429, 34.333333333333336, 39.304171729445116, 1.2211938917167977, 2.227272727272727, 1.3495145631067962, 1.275064267352185, 1.0222490513970335, 1.1942446043165467, 1.0494514690890278, 1.5996563573883162, 1.037471891056645, 2.0, 1.2233502538071066, 1.1697758858144485, 1.1941818181818182, 1.0, 1.0576923076923077, 1.2, 1.066933066933067, 1.0876404494382022, 1.4166666666666667, 1.0809231534646178, 1.1428571428571428, 4.2407407407407405, 1.1640974140095406, 1.2233723517461546, 1.1363636363636365, 1.0, 1.1306666666666667, 1.0636051829268294, 1.1203457446808511, 1.406837606837607, 1.2642073352973826, 38.01762917933131, 1.1876976201650502, 1.2826086956521738, 1.051529671949871, 1.049597423510467, 67.0, 1.0113405033947966, 80.0, 1.1354655041199628, 1.0869565217391304, 1.2352494542693537, 1.1256007689843, 1.3958333333333333, 1.0, 8.0, 1.062487065397351, 1.1225006664889363, 1.2461130273282037, 1.482174688057041, 1.0872185220424992, 1.5389408099688473, 1.0268528464017186, 44.41459781529295, 1.5481366459627328, 1.5, 20.486038153165605, 1.6, 7.0, 1.0627354260089685, 1.8032871083718542, 1.066997518610422, 1.2229143492769745, 1.2058823529411764, 1.0246665085335411, 1.0522298111691442, 1.0665353199523868, 1.1918402777777777, 1.0831591173054587, 1.6666666666666667, 48.25, 1.0235553296051516, 1.093820891007936, 1.1056234718826405, 1.2987012987012987, 1.0600486182544477, 2.0, 3.9427140056632544, 1.0608695652173914, 1.0, 1.1551020408163266, 1.4285714285714286, 1.369140625, 1.005189445560868, 1.117216967446179, 1.119047619047619, 1.5, 1.1087108013937281, 2.1, 1.0608695652173914, 1.0310416176590607, 1.3776569451309937, 1.0, 1.1249385145105755, 1.0156040845986156, 1.1376518218623481, 1.0735294117647058, 1.0134408602150538, 1.0968229954614221, 1.0511140235910879, 1.0303428217290194, 1.0493827160493827, 1.014436958614052, 1.467622397196091, 2.6666666666666665, 1.057759220598469, 1.0733558178752107, 38.47151515151515, 1.1283911459036307, 1.2201533406352683, 1.0725159400835902, 1.6666666666666667, 1.0090824993692709, 1.2940532777074856, 1.414721723518851, 1.0653619524479376, 1.2540625446237328, 1.1196911196911197, 1.1293888508711902, 1.0184331797235022, 1.089042960976938, 1.029097133076594, 1.0217391304347827, 1.082191780821918, 2.406015037593985, 1.5416666666666667, 2.173076923076923, 1.1657922208671034, 1.4625890736342042, 1.6415094339622642, 1.1366049916961007, 2.0919540229885056, 1.060028796101451, 1.1884057971014492, 1.013090709708372, 1.3724832214765101, 1.2040816326530612, 1.2272727272727273, 1.1259304026973727, 1.11042620750508, 1.0323599523241955, 1.1043942796522601, 1.1720158672917418, 1.0472986959221693, 1.1474358974358974, 1.10630980861244, 1.027027027027027, 1.0822297145425939, 1.3221786614393727, 1.1028696382449412, 1.0757575757575757, 1.3663636363636364, 1.3522277880305826, 1.6344605475040257, 1.25, 1.0577559435931374, 1.1578947368421053, 1.0979070632389238, 1.0698126976404767, 1.021981981981982, 1.2156754912948744, 1.3776383342840843, 1.302612055710706, 1.3492981007431875, 1.2079155672823219, 1.3495145631067962, 1.2110396272096808, 1.068238617842008, 29.950819672131146, 1.147247119078105, 1.751064500867371, 1.0603112840466926, 1.4166666666666667, 1.035979228486647, 1.4444444444444444, 1.0383665818548933, 1.1793248945147679, 1.227661832331093, 1.4782608695652173, 1.3754940711462451, 1.0167076167076168, 1.0187667004992025, 1.013744421631344, 39.48148148148148, 1.3275462962962963, 1.068761233733554, 1.016440022048837, 1.058679706601467, 1.0154083204930662, 1.165221319875263, 1.106436217042769, 1.3103448275862069, 1.0124708854925393, 1.3930230014220508, 1.2176656151419558, 43.10114747131322, 1.1553211888782358, 19.65, 1.0518444666001994, 2.0, 1.1967350355797404, 1.1882427685178265, 1.002861952861953, 1.1194029850746268, 2.1, 2.0, 1.0218017647210147, 1.360655737704918, 1.263296336690832, 1.2, 1.0040664181633345, 1.3781512605042017, 1.0, 1.0103995507394081, 1.1094091903719911, 1.0401087695445275, 1.0564941208271388, 1.0546875, 1.1572533823893956, 1.3157894736842106, 2.0, 1.1053034740684, 1.0120116730890154, 1.1243523316062176, 1.0633877840909092, 1.10691591091369, 1.0155076622504426, 1.0955451348182883, 1.078214446517013, 1.0253654342218401, 1.0252593594948127, 1.143178334184977, 30.203883495145632, 1.0667524115755627, 1.211087420042644, 1.1076923076923078, 1.12, 1.0798569725864124, 74.15714285714286, 1.0122659252596287, 119.0, 1.016156389106288, 1.1253153910849454, 1.37291280148423, 1.1107108169281652, 1.1929530201342282, 1.0036653623260192, 1.0518790999938692, 1.4166666666666667, 1.109370780448285, 1.3197378004369993, 1.0523450530976177, 1.191598189143042, 1.3104725327480968, 28.66372332597498, 1.1608631682197155, 1.3929944468175992, 1.0784643071385722, 1.1287201196804277, 1.0536709045918304, 1.0388265746333045, 3.5, 1.6363636363636365, 1.0967784877529287, 1.1722621902478016, 1.0419354838709678, 1.0482690095178329, 2.0, 26.306645316253004, 1.168686546449561, 1.0, 1.1102693602693603, 1.0443349753694582, 1.1026315789473684, 1.393765796124684, 1.0605421686746987, 1.828169014084507, 9.0, 1.1764705882352942, 1.0371067997739687, 1.7142857142857142, 1.0008442061096963, 1.0004950495049505, 40.9349593495935, 1.3070869403139627, 1.0964912280701755, 1.0769230769230769, 1.1948949827915099, 1.006165271929357, 1.2948008849557522, 1.6481481481481481, 1.0552268244575937, 1.008188824662813, 1.0007147962830594, 1.1044386422976502, 1.0, 1.0828509727741567, 1.0729762441559674, 1.1247956403269754, 1.3372883440613341, 1.0105400469606052, 3.0, 1.2222222222222223, 1.058787159734639, 1.75, 1.0603096984515077, 1.3478260869565217, 36.1, 1.0476190476190477, 1.2272425249169434, 1.0034270047978067, 1.0930232558139534, 1.1791613722998728, 1.5810810810810811, 1.1428571428571428, 1.2161720857589096, 19.4468085106383, 1.0240963855421688, 1.01251735508504, 1.0790378006872852, 1.0098814229249011, 1.0147179067865904, 2.0, 1.0, 40.8690036900369, 1.4772727272727273, 1.2571090047393365, 1.1309752526144163, 1.240706621870597, 1.048832271762208, 2.0, 1.0655091700986636, 1.1285714285714286, 1.6206896551724137, 21.0, 1.0325704225352113, 1.1428571428571428, 1.6051282051282052, 1.2376237623762376, 1.2211833269986063, 1.0818633382156275, 1.239805078225186, 1.3958074025548641, 1.1086367385412985, 1.0857988165680474, 1.257477243172952, 1.546118326774788, 5.333333333333333, 1.3666666666666667, 1.0090202568238473, 1.1988413026662668, 3.029229406554473, 1.1168831168831168, 1.1428571428571428, 2.4834782608695654, 2.0, 1.1272727272727272, 49.11694510739857, 1.2520775623268698, 1.0946745562130178, 1.7978494623655914, 1.2725598526703499, 40.56663698426833, 1.0067058441792551, 1.5361721611721613, 1.4513172966781214, 1.4186046511627908, 1.0670604586518415, 1.1760722347629797, 1.0, 1.1115195186452191, 1.3, 1.5076476853005825, 1.0089655469475913, 1.269554408108625, 1.1262821974014132, 1.2222222222222223, 1.0262376237623763, 1.6666666666666667, 1.2604878048780488, 1.1538461538461537, 1.5078895463510849, 1.1838440111420614, 1.2154028974363456, 1.1773399014778325, 1.25, 1.0510204081632653, 42.51315789473684, 1.0, 1.0339796423422067, 1.0560454906146153, 1.0533662391178835, 2.5, 1.2174472465259907, 1.035775351834802, 1.2666666666666666, 17.0, 1.263157894736842, 1.4321393998063892, 1.1125494811169359, 1.3485477178423237, 1.107362750128271, 1.0866146066797209, 1.0116591928251122, 1.3037735849056604, 1.0782918149466192, 1.0342150889974073, 1.016728624535316, 1.0569008708099725, 1.2, 1.0120619804272335, 1.0527272727272727, 1.1021387498448683, 1.2064343163538873, 1.003015941404567, 1.0, 1.1491228070175439, 1.1428571428571428, 1.0460267617188606, 1.4444444444444444, 1.0, 1.0361524438312968, 1.0, 1.0, 1.0048459674627899, 35.98076923076923, 1.0600644594198652, 1.027062706270627, 1.419672131147541, 1.5555555555555556, 1.1455805892547661, 1.168757126567845, 1.012266355140187, 3.3333333333333335, 1.8936170212765957, 1.4363636363636363, 1.0943396226415094, 1.2365364308342133, 1.0012598696465556, 1.6304347826086956, 1.015562472209871, 1.3968253968253967, 1.068701754385965, 1.074465964585894, 1.2844202898550725, 1.0, 1.0889639639639639, 1.1055524538735577, 1.0345496894409938, 1.6, 1.026973869064344, 1.0412532637075718, 1.251231527093596, 1.2584973166368516, 1.0049366116019978, 1.024287944257177, 1.3210084033613445, 1.1145801526717558, 1.5, 1.4448808723965063, 1.2763636363636364, 1.0395207063275174, 1.005813953488372, 1.025229357798165, 1.0049496161522167, 38.530093246679854, 1.0723661690430117, 1.4726938962826985, 1.492537313432836, 29.5, 1.0059667001744717, 1.1889655172413793, 1.3333333333333333, 1.0125, 1.0184231396822214, 1.609009009009009, 1.0095388034821262, 1.062659152760398, 1.0, 1.0994343554629353, 1.8350515463917525, 25.919354838709676, 1.0165918563642193, 1.0505734613739746, 3.8372093023255816, 1.0989854675075403, 1.1099966566365764, 1.1556240369799693, 1.0621446101566925, 1.1136457901285775, 1.0499001996007984, 1.0442749829273845, 1.1633705932932072, 1.1017013232514177, 1.0746268656716418, 1.1028684470820969, 1.0416666666666667, 1.1674937965260546, 1.072384219554031, 1.5696347031963471, 1.0129672006102213, 1.068383027404743, 1.275, 1.3258549805213802, 2.0, 1.1271551724137931, 1.1101190476190477, 1.0413580553760502, 1.0333988212180747, 1.0650887573964498, 30.62551867219917, 1.1891174518911745, 1.2284028305471124, 1.0, 1.084179660654561, 1.3333333333333333, 3.3333333333333335, 1.3663366336633664, 47.27146171693735, 1.0711785297549592, 1.0032154340836013, 1.0365853658536586, 1.0821171091964128, 1.6538461538461537, 1.0516877637130801, 1.0829199149539335, 1.184782608695652, 1.2464056152869205, 1.3955555555555557, 1.1219743711438064, 1.0148824482046128, 1.3013110129382872, 1.0638864241348713, 1.1055837563451776, 1.154353562005277, 1.0273972602739727, 2.9429677931879117, 1.190625, 1.0916175664565635, 1.297979797979798, 1.2046952224052718, 1.0757894736842106, 3.25, 1.3953488372093024, 1.6666666666666667, 1.0107296137339057, 1.061667704919513, 1.019169011946329, 1.323196881091618, 1.187770315964959, 1.3518518518518519, 1.0055977111581043, 1.120073749711915, 1.4180790960451977, 1.1132075471698113, 1.0160415043762672, 1.3998609179415855, 1.0274823968961058, 1.5192307692307692, 1.1298119964189794, 1.0077372681117498, 1.1548315470344592, 1.3461538461538463, 1.0701840868828467, 1.1829787234042553, 1.0, 1.462686567164179, 1.037013599204453, 1.04575293415556, 1.141263940520446, 1.0895522388059702, 1.150968573137625, 1.0, 1.0472689075630253, 1.6285140562248996, 1.3485477178423237, 1.3980263157894737, 1.2692307692307692, 1.3468132329040037, 1.0188679245283019, 44.40184049079755, 1.0666846530869194, 4.5685850281263525, 1.1799861014593467, 1.0354847004371304, 1.0507416081186574, 1.059469350411711, 98.0, 1.0773524720893142, 1.0257510729613735, 1.3286239305940475, 1.1546933583288699, 1.0, 1.036788626049239, 1.0012352214575613, 2.0, 1.0247143736744886, 1.0659772564501198, 1.1071428571428572, 1.0225046487110445, 1.298638156122174, 1.0064935064935066, 2.857142857142857, 4.589395807644883, 1.0040485829959513, 1.1046981358172632, 1.141427618412275, 1.003765690376569, 1.1331346423562412, 1.5238095238095237, 1.0919335705812574, 1.228287841191067, 1.3173442819947927, 1.0066874721355328, 1.3333333333333333, 1.41859243697479, 1.022034055799475, 1.0121951219512195, 1.8050185635642044, 1.6666666666666667, 1.8, 1.0688172043010753, 1.176500508646999, 1.0107866350960273, 1.1344086021505377, 1.3333333333333333, 1.0402542372881356, 1.0059467918622849, 1.143646408839779, 1.0486723531396078, 2.0, 1.0676951853232168, 53.303693570451436, 36.73731248005107, 1.0170731707317073, 1.00625, 1.429279184983602, 1.0285714285714285, 1.1205882352941177, 1.440251572327044, 1.0, 1.0230747043553505, 1.2530788177339902, 1.75, 1.3333333333333333, 1.0606060606060606, 1.403973509933775, 1.0238028970839395, 1.2105263157894737, 1.320754716981132, 1.3348837209302327, 10.0, 1.5478927203065134, 1.3688888888888888, 1.0816326530612246, 3.1621621621621623, 1.5555555555555556, 1.5, 1.0181086519114688, 1.4747474747474747, 28.8, 1.016497763686803, 1.0605864342910976, 1.054548971564898, 1.0808343773898046, 1.2131442182763101, 1.1432009626955475, 1.0212765957446808, 1.0357142857142858, 3.5, 1.104325699745547, 1.028536474652082, 1.527802294792586, 1.5130718954248366, 1.3152709359605912, 1.395618696453747, 1.3101538461538462, 1.055689404376517, 1.086021505376344, 1.1666666666666667, 1.1122159090909092, 1.0320584111019777, 34.48708609271523, 1.1777777777777778, 1.3846153846153846, 1.0073939415126991, 1.0315588558280604, 1.1056558094493174, 1.033068783068783, 1.3772228528187667, 1.1111111111111112, 1.1120095837076969, 1.146355353075171, 1.0352336141809826, 3.8, 1.1415929203539823, 1.0857018478422746, 1.0805593195906011, 1.148645350256285, 1.3125, 1.3089887640449438, 1.2483069977426637, 1.0934786104856866, 1.0342994695509156, 1.2913458035501175, 1.0008658531674117, 1.0510812534261134, 1.0431381844038872, 1.2667799490229397, 1.1922252605128962, 1.2776911076443058, 1.7142857142857142, 1.0, 1.0, 1.0685227494111187, 1.8333333333333333, 2.4928668679334636, 1.0028486889225214, 1.5843373493975903, 1.0555555555555556, 1.6583850931677018, 1.051280640108378, 1.4793914735538651, 1.0636363636363637, 1.7666666666666666, 1.1834170854271358, 3.25, 1.0181257622984143, 1.2608695652173914, 1.4732161008335027, 2.2857142857142856, 1.208841463414634, 1.0461556393022262, 1.0595921414905036, 1.1681818181818182, 174.0, 1.5657620041753653, 1.0215934475055846, 1.0225825364413805, 1.0382634289919057, 1.0601719197707737, 1.0913043478260869, 1.1009756780729192, 11.0, 2.298780487804878, 1.9482758620689655, 1.1598113414500384, 1.0728370050594511, 1.0722369442045006, 2.3333333333333335, 1.018195270090073, 1.1515151515151516, 1.0205732923540112, 1.0312843029637762, 1.0845070422535212, 1.0796235054693462, 1.009125475285171, 1.0368150684931507, 1.1429840142095915, 1.003772495825517, 1.4699769053117784, 1.4439774647209846, 1.0961093447835064, 1.3846153846153846, 1.0972396486825595, 1.5043953897245557, 1.0186555469250371, 1.0960396039603961, 1.307934508816121, 1.2159926470588236, 33.4749430523918, 1.3848439821693908, 1.045787194569934, 1.2962962962962963, 1.0264378478664193, 1.2229782133540155, 1.103846153846154, 6.109649122807017, 1.0084588350059465, 1.269782140461142, 1.3261163734776726, 1.3306565895134626, 1.5014736178056403, 1.0727311684601466, 1.0706033376123234, 1.1626794258373205, 1.020997375328084, 1.0032995581098125, 1.0973451327433628, 1.4, 1.0543298598634567, 1.1679035250463823, 1.096254355400697, 1.218274111675127, 1.6495293265749458, 1.186937312227019, 1.1569814366424536, 43.23529411764706, 1.6538461538461537, 1.0569230769230769, 1.0040214477211795, 1.0576923076923077, 1.2647058823529411, 1.057345672434568, 1.159379407616361, 1.046078431372549, 1.3658536585365855, 1.2391653290529696, 1.1107804646277726, 1.1750650994745038, 1.087260034904014, 1.063370329442945, 1.0541905082463816, 3.7941176470588234, 1.3333333333333333, 1.0833333333333333, 1.7307692307692308, 1.25, 1.1333333333333333, 1.0895813047711782, 38.142857142857146, 1.3537234042553192, 1.0725207721227057, 1.2885227829495345, 1.1041666666666667, 1.25, 1.3870967741935485, 1.07, 1.08, 1.3333333333333333, 2.031256890848953, 1.4322049960198628, 1.1729323308270676, 1.0383978881161535, 1.0486523761315785, 1.6666666666666667, 1.0407145939824916, 1.0544799038589932, 1.8571428571428572, 1.148964156527458, 1.0759761766001905, 1.038767019667171, 1.0680056048575433, 1.226475279106858, 1.5714285714285714, 1.3116438356164384, 1.2619069218905925, 4.0, 1.0291959167045515, 1.0269230769230768, 1.02106363605706, 1.6593628175830084, 1.0317400340071794, 1.25, 1.0523518908536327, 1.0195333695062399, 1.4317948717948719, 24.684538653366584, 1.0904311251314407, 1.0, 7514.0, 1.1369602607042637, 1.0226609223094583, 38.406493506493504, 1.5390625, 4.527777777777778, 1.2078488372093024, 1.0676552363299352, 1.0, 1.0158508505293198, 1.0496613995485327, 1.0057565593853326, 1.0298675163508302, 3.5508982035928143, 1.5294117647058822, 1.2897196261682242, 1.125, 1.0669511869831956, 1.051685393258427, 1.0010654110854305, 1.0061823802163834, 1.5, 1.0797624098430207, 1.0647881310705518, 5.102945381755791, 1.0736600745199198, 1.1328702666367914, 1.0831466268359473, 1.160427807486631, 1.1496598639455782, 5.584615384615384, 1.5179624243377092, 1.0878300675901265, 1.3278846153846153, 1.0875656742556918, 1.6666666666666667, 1.0098039215686274, 1.0152084530704275, 1.0066844919786095, 1.0529068109067474, 1.0819627158800424, 1.0320546505517605, 2.0, 1.0671015843429636, 1.0731133056565472, 1.228894989704873, 1.6045627376425855, 1.0759171765115723, 1.0293398533007334, 1.750551876379691, 1.2718816067653278, 1.0325803083479235, 1.0853060354020048, 1.0781928757602086, 1.0343137254901962, 1.3488372093023255, 1.128056628056628, 1.0501147039545553, 1.0418292826363569, 1.6403794130739993, 1.291894353369763, 1.021146953405018, 1.125, 1.0849256900212314, 1.25, 1.6666666666666667, 1.0, 1.094972067039106, 2.0, 1.6289156626506025, 1.5384615384615385, 1.4666666666666666, 1.0895964096393378, 1.4285714285714286, 1.1018766756032172, 1.228476821192053, 1.065517913771693, 1.3333333333333333, 2.0, 1.2911854103343465, 1.25, 1.0184381778741864, 1.0795163063393185, 1.0040372468581102, 1.064109044539157, 2.0, 1.3142414860681115, 1.1032501843204718, 1.0704848898454862, 1.0814111261872457, 1.0884235020360675, 2.3529411764705883, 8.5, 1.5]
origin-bjaq_15.71 	max: 7514.0000	99th: 47.2812	95th: 10.0500	median: 1.1359	mean: 10.8603

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.156188 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=129.054838