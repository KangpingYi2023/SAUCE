Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 9, 'transformer': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.4293	95th: 1.6667	median: 1.0780	mean: 1.1678
ReportEsts: [1.0126984126984127, 1.00546875, 1.0420120654485483, 1.0173076923076922, 1.5, 1.0, 1.0696421700654097, 1.0530843850065925, 1.0, 1.0223097112860893, 1.1467405419444203, 1.0428543088756437, 1.0338688666956144, 1.0790697674418606, 1.0158954433062521, 1.0, 1.3043478260869565, 1.0446333687566418, 3.0, 2.0, 1.125, 1.0815412604375612, 1.1513409961685823, 1.092190252495596, 1.1095214602861372, 1.0, 1.158067898333273, 1.2, 1.2, 1.0145985401459854, 1.0, 1.0453920645654604, 1.008233477683185, 1.0527192008879023, 1.010537251409914, 1.2398019137149572, 1.1631016042780749, 1.0012058327296065, 1.119257524622908, 1.024390243902439, 1.1908396946564885, 1.0182926829268293, 1.0, 1.0849501359927471, 1.0772681954137586, 1.890625, 1.0404040404040404, 1.2402826855123674, 1.0287700752185402, 1.1574074074074074, 1.0776339870977791, 1.3195876288659794, 1.0367867713204646, 2.0, 1.2051948051948052, 1.1917782668705934, 1.1106623586429725, 1.3592233009708738, 1.0662251655629138, 1.0, 1.0606370410759725, 1.1008717310087173, 1.1227272727272728, 1.0344827586206897, 1.0909090909090908, 1.0675855443056685, 1.2389057750759878, 1.75, 1.0, 1.0257294676983313, 1.0182260024301337, 1.067717454757735, 1.0160183066361557, 1.079856148277929, 1.1105882352941177, 1.0325047801147227, 1.0, 1.109812108559499, 2.0, 1.0238026916123848, 1.1428571428571428, 1.0166896551724138, 1.147239263803681, 1.0941028858218318, 1.120215897939156, 1.0, 1.0668397144711226, 1.0127825778198603, 1.0294117647058822, 1.75, 1.120879120879121, 1.0471440083288728, 1.02803738317757, 1.002805049088359, 1.010958904109589, 1.0597402597402596, 1.0, 1.1467710371819961, 1.0, 1.2697711307500565, 1.0565874730021598, 1.0514579759862779, 1.2243055255540676, 1.3076923076923077, 1.0232753988429861, 1.0674276612689142, 1.241743119266055, 1.1475161167993932, 1.0505824647455548, 1.3333333333333333, 1.6666666666666667, 1.0698598130841122, 1.0582095847889335, 1.0631711939355655, 1.155844155844156, 1.0590695275947075, 1.0, 1.1138442131819615, 1.1715246636771302, 1.0, 1.011111111111111, 1.1666666666666667, 1.1829573934837092, 1.0231228798720937, 1.0931894074706843, 1.108910891089109, 1.8, 1.1663907284768211, 1.0, 1.037037037037037, 1.1004794961711872, 1.1818181818181819, 1.0670572916666667, 1.0268233402626439, 1.0466860679591754, 1.0453938584779707, 1.0518731988472623, 1.0366328916601715, 1.039972432804962, 1.0737355271176112, 1.0528749411311384, 1.1654676258992807, 1.0013046314416179, 1.0752090153460467, 2.0, 1.0227894257064722, 1.0137142857142858, 1.0746666666666667, 1.0968766543144521, 1.5, 1.1300557035601841, 1.0497667185069985, 1.0080645161290323, 1.1074561403508771, 1.1120129870129871, 1.080074173971679, 1.1341965331811217, 1.1175610985134794, 1.0333988212180747, 1.1710526315789473, 1.2448979591836735, 1.2897196261682242, 1.0195195195195195, 1.7142857142857142, 1.0312979073160822, 1.0239346087274779, 1.1213686249193027, 1.3595767401223182, 1.1220013708019192, 1.137340648273303, 1.2589473684210526, 1.091743119266055, 1.0339885736419097, 1.0434782608695652, 1.0229479258605472, 1.0699708454810495, 1.0338134001252348, 1.130667133908625, 1.0507666902571362, 1.0, 1.1666666666666667, 1.0050804403048264, 1.0281100478468899, 1.2407619921964654, 1.1973684210526316, 1.1058127610615043, 1.251393426869114, 1.1105123043958185, 1.1372549019607843, 1.1109090909090908, 1.0751846326457641, 1.0, 1.0, 1.055647471853436, 1.0500595947556615, 1.0265026029342168, 1.4583333333333333, 1.0347266881028938, 1.0584892378363657, 1.0610172554838955, 1.0626410835214446, 1.0360493306630125, 1.079268292682927, 1.0666666666666667, 1.2352941176470589, 1.0, 1.3445378151260505, 1.0219208326762341, 1.3275261324041812, 1.3908045977011494, 1.0113692535837864, 1.0031277926720286, 1.0153955883376244, 1.0285484407945844, 1.0990791633949604, 1.0227272727272727, 1.149501661129568, 1.0104780615586118, 1.0337612729048193, 1.013570822731128, 1.0, 1.1113871635610766, 1.1577216236976346, 1.0150521189680848, 1.144777031154551, 1.0000260593109918, 1.2763981861369034, 1.0357142857142858, 1.0044683078529388, 1.1330582774626097, 1.0287648054145515, 1.1294117647058823, 1.0428293316028552, 1.0209320695102686, 1.178740157480315, 2.0, 1.2674453429170411, 1.1402411790978115, 1.0494608532583216, 1.0850202429149798, 1.0, 1.6666666666666667, 1.0560665482492393, 1.0909090909090908, 1.1399422240099462, 1.5, 1.0, 1.0256410256410255, 1.0146534653465347, 1.0408163265306123, 1.0055248618784531, 1.0738396624472575, 1.0595238095238095, 1.0025252525252526, 1.1111863881845105, 1.0175438596491229, 2.0, 1.0658195052741966, 1.0161054172767203, 1.1541155866900175, 1.0455260742230188, 1.1553403755868545, 1.007402022338246, 1.0834658187599364, 1.1093428164005423, 1.0155502392344498, 1.1640511244135254, 1.1641172265904218, 1.0909090909090908, 1.038497043486939, 1.0422222222222222, 1.2045454545454546, 1.3888888888888888, 1.0095447870778267, 1.0555555555555556, 1.0341880341880343, 1.097476616647601, 1.083565459610028, 1.3583959899749374, 1.0032004672214923, 1.0806890299184044, 1.0275760249796362, 1.0697646698225658, 1.25, 1.0352673699527102, 1.6666666666666667, 1.0578420808256022, 1.0107991360691144, 1.0401483774065814, 1.0526315789473684, 2.0, 1.391304347826087, 1.0923076923076922, 1.0689196035385355, 1.0, 1.007645259938838, 1.0452488687782806, 1.0056089743589745, 1.0191034338553042, 1.0738636363636365, 1.150943396226415, 1.0102421807365314, 1.1562694232719422, 1.0689065572368983, 1.1452991452991452, 1.0, 1.1121718377088305, 1.2848101265822784, 1.0844594594594594, 1.0860572872788543, 1.0008340283569641, 1.2033898305084745, 1.2291666666666667, 1.0, 1.0122747453643248, 1.2857142857142858, 1.0032696484841068, 1.0479846449136276, 1.0526315789473684, 1.1369855516637477, 1.1904761904761905, 1.2727272727272727, 1.017265791753841, 2.0, 1.159122085048011, 1.0203488372093024, 1.0377358490566038, 1.0747967479674796, 1.1932114882506528, 1.0833333333333333, 1.086202464860185, 1.0946504061082576, 1.0396600566572238, 1.0261944430420222, 1.031947734941489, 2.0, 1.0, 1.021527000159967, 1.25, 1.0697544642857142, 1.3529411764705883, 1.0, 1.4666666666666666, 1.3112449799196788, 1.0619136960600375, 1.205607476635514, 1.0162337662337662, 1.0, 1.1917443408788282, 1.0987783831342426, 2.0, 1.2972007147111375, 1.0, 1.0975328323085098, 1.0595238095238095, 1.0421936499606403, 1.1566820276497696, 1.1363636363636365, 1.3015521064301552, 1.1944444444444444, 1.0132044276722099, 1.0199923733039564, 1.107669616519174, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.2307692307692308, 1.0690853984667499, 1.3333333333333333, 1.0488656195462478, 1.2317073170731707, 1.11093908343655, 1.0768962480490378, 1.227600411946447, 1.0025386104944978, 1.0092807424593968, 1.061904761904762, 1.5, 1.0810810810810811, 1.0723404255319149, 1.0335324245781352, 1.0, 1.5714285714285714, 1.0204545454545455, 1.0244192972007147, 1.0388726644796085, 1.0159313725490196, 1.1464387464387464, 1.0136798905608755, 1.095890410958904, 1.0907770515613653, 1.055084745762712, 1.0961538461538463, 1.0226628895184136, 1.1081081081081081, 1.0790482146006701, 1.0616400724088673, 1.0084735779198923, 1.0617283950617284, 1.0776699029126213, 1.1118012422360248, 1.0, 1.0480213720768026, 1.046165636773872, 1.0508671341925702, 1.062837926158307, 1.0655119714722363, 1.148395297108357, 1.5714285714285714, 1.0226936359151455, 1.2, 1.2314261315115287, 1.25, 1.0366061070249935, 1.027536231884058, 1.041487532244196, 1.1699604743083003, 1.1378995433789953, 3.0, 1.259778597785978, 1.0008863337653704, 1.1393691373919441, 2.0, 1.2857142857142858, 1.2543186180422266, 1.2654545454545454, 1.1145114345114344, 1.1746361746361746, 1.1666666666666667, 1.0043327556325823, 1.0164148612694792, 1.0598334553078703, 1.0882978315837868, 1.1140350877192982, 1.0248756218905473, 1.056, 2.142857142857143, 1.1453488372093024, 1.4444444444444444, 1.2216666666666667, 1.064516129032258, 1.0910035560892255, 1.7857142857142858, 1.0595672115723862, 1.0993830449053945, 1.0999383096853794, 1.0, 1.1287128712871286, 1.12, 1.2837945848736136, 1.039387308533917, 1.0, 1.0302569770654877, 1.0679545882205357, 1.0385412349772067, 1.5, 2.0, 1.007766990291262, 1.006311992786294, 1.0524590163934426, 1.1111111111111112, 1.0736215871666843, 1.0828220858895705, 1.4705882352941178, 1.0278347721729704, 1.0545454545454545, 1.0905511811023623, 1.0089503661513426, 1.2713504417332773, 1.0206221805612514, 1.0, 1.0422535211267605, 1.0460474376137028, 1.0429866898918176, 1.030671615182652, 1.0, 1.0915726609157266, 1.0111502559371173, 1.0225248821372446, 2.0, 1.0510366826156299, 1.0368797442093187, 1.0364471398710513, 1.0909964614914158, 1.0224424379031791, 1.0317460317460319, 1.0008403361344538, 1.142960462873674, 2.0, 1.0167450514238463, 1.4509803921568627, 1.0, 1.145077720207254, 1.1538461538461537, 1.0122111826092755, 1.1241642788920725, 1.053730145077126, 1.0557170542635659, 1.0742002101373138, 1.1128094143108345, 1.0619820382121432, 1.2409638554216869, 4.0, 1.0025207057976233, 1.1548582995951417, 1.047747042139865, 1.060353344011663, 1.0961440892947742, 1.107877927608233, 2.2, 2.4285714285714284, 1.011064751566173, 1.0020878458343567, 1.0260193438270435, 1.1107468123861566, 1.0501349787890475, 1.0385438972162742, 1.0693962742206808, 1.0380739081746921, 1.2039877300613497, 3.0, 1.0, 1.0251572327044025, 1.082375478927203, 1.1037037037037036, 1.0808561236623069, 1.0745098039215686, 1.1987951807228916, 1.148905109489051, 1.123456790123457, 1.081632898744387, 1.2555555555555555, 1.0048274048057433, 2.0, 1.1846808510638298, 1.1150442477876106, 1.236842105263158, 1.1237430167597766, 1.1092233009708738, 1.0276679841897234, 1.1309987029831388, 1.0502269439872314, 1.0, 1.1702127659574468, 1.1666666666666667, 1.5, 1.1590909090909092, 1.096774193548387, 1.0172684458398744, 1.1019417475728155, 1.0645626401794297, 1.0893271461716938, 1.0824109609359067, 1.1747263566340418, 1.041860465116279, 1.0943049926796664, 1.0216216216216216, 1.0981156595191683, 1.0203193033381712, 1.054308093994778, 1.2369942196531791, 1.1682949889694296, 1.0592408655551615, 1.297919821471268, 1.0805882422368311, 2.0, 1.203931203931204, 1.0744786494538232, 1.4074074074074074, 1.0, 1.2142857142857142, 1.1538461538461537, 1.1673553719008265, 1.4444444444444444, 1.1666666666666667, 1.0212386315119586, 1.118421052631579, 1.0232158100312994, 1.068812520167796, 1.1945945945945946, 1.1273972602739726, 1.0, 1.193798449612403, 1.0257259121318711, 1.0766727760512125, 1.084164090451214, 1.1181797471238182, 1.0201364316200343, 1.161038961038961, 1.0776562656767332, 1.1065719360568385, 1.0029149942821265, 1.1271484779457444, 1.303030303030303, 1.0446985446985446, 1.0, 1.2387640449438202, 1.206404890858362, 3.0, 1.1124971648899977, 1.0396090766119972, 1.4285714285714286, 1.0398951114440906, 1.0, 1.1176470588235294, 1.0556299015393358, 1.6153846153846154, 1.015457117085054, 1.0397266125587357, 1.3571428571428572, 1.2083333333333333, 1.0577319587628866, 1.014556040756914, 1.0774834437086094, 1.0517377942527644, 1.1555772397389767, 1.0, 1.0677275689767542, 1.1097560975609757, 2.0, 1.0064065365242219, 1.1156328402110909, 1.121097445600757, 1.0257505810436498, 1.0337650499449276, 1.0462962962962963, 2.0, 1.0845709570957096, 1.0290322580645161, 1.1421105322993907, 1.2429519071310116, 1.00749817012374, 1.050794800707728, 1.283882783882784, 1.1223382045929018, 1.2006688963210703, 1.0836483333634768, 1.0586750788643533, 1.1322463768115942, 1.1575630252100841, 1.0666772637169466, 3.0, 1.1498681136483533, 1.027243115190998, 1.046956464350925, 1.4615384615384615, 1.2678100263852243, 1.3482587064676617, 1.1428571428571428, 1.0712068843902094, 1.0420575865415722, 1.1320960698689957, 1.1176470588235294, 1.3333333333333333, 1.0835196564744207, 1.5, 1.0934579439252337, 1.0833333333333333, 1.037122322238504, 1.3846153846153846, 1.2447257383966244, 1.079664570230608, 1.0, 1.5952380952380953, 1.2881213142375738, 1.25, 2.0, 1.1083333333333334, 1.1586206896551725, 1.0096038415366146, 1.19125, 1.1428571428571428, 1.2182890855457227, 1.1014466214978942, 1.0545454545454545, 1.206896551724138, 1.4122448979591837, 1.0833333333333333, 1.0, 1.0642398286937902, 1.02020202020202, 1.0082644628099173, 1.1306079418999648, 1.0752051906327653, 1.0663256306226847, 1.0827824385616458, 1.1615095430884905, 1.199134199134199, 1.0114665057332528, 1.8333333333333333, 1.0, 1.2142857142857142, 1.0410791530697427, 1.0820829655781112, 1.107843137254902, 1.0383631713554988, 1.0053742802303263, 1.0021939799331103, 1.002867721017827, 1.1142857142857143, 1.2222222222222223, 1.0312977099236642, 1.0784066808059385, 1.084390357285164, 1.0167443860615752, 1.0201342281879195, 1.0581069108092145, 1.0347583445807615, 1.160475482912333, 1.3528513238289206, 1.125, 1.0623501199040768, 1.429951690821256, 1.2093023255813953, 1.0166204986149585, 1.0701001430615165, 1.0, 1.045346062052506, 1.0230980508951322, 1.037037037037037, 1.0800038210780216, 1.0286016949152543, 1.1944444444444444, 1.0969658307085044, 1.0395818312905551, 1.1091861402095085, 1.0353053435114503, 1.0438388625592416, 1.1950028622419773, 1.2147505422993492, 1.2857142857142858, 1.0, 1.6666666666666667, 1.0713576359452586, 1.3333333333333333, 1.292664496628691, 1.0960906790156697, 1.0646876384581303, 1.0568023833167826, 1.0501565993297848, 1.0664523043944265, 1.032258064516129, 1.0166435506241331, 1.0039510224095578, 1.1544103862017248, 1.0421474887350257, 1.2237143201252558, 1.6666666666666667, 1.09375, 1.0079681274900398, 1.1152032999410726, 1.0456026058631922, 1.2787813426799677, 1.0482374768089053, 2.1829787234042555, 1.0130914849843848, 1.0456375838926175, 1.065275119617225, 1.1875, 1.0652578071682395, 1.0303999454174075, 1.2755153343388637, 1.0581052631578947, 1.103448275862069, 1.0649942987457242, 1.0806451612903225, 1.5625, 1.0642798147017631, 1.3846153846153846, 1.4609720176730485, 1.1097560975609757, 1.0428973277074542, 1.009092439804681, 1.0365853658536586, 1.5714285714285714, 1.0467289719626167, 1.087999558807309, 1.0350797266514806, 1.0158138202827809, 1.0097592819257446, 1.0510861062639147, 1.0769230769230769, 1.088487972508591, 1.0375073256495408, 1.0018081164337693, 1.034068136272545, 1.0069444444444444, 1.0829576194770063, 1.0323521948743974, 1.3553149606299213, 1.0443695335276968, 1.0, 1.3333333333333333, 1.0823506143538777, 1.0049490950226245, 1.2088963179644332, 1.1391529978685941, 1.0534716679968077, 1.1450381679389312, 1.09616465091522, 1.0768531150522964, 1.1139705882352942, 1.069364161849711, 1.0617100371747212, 1.079934226672557, 1.1071428571428572, 1.75, 1.0492964622411232, 1.1636779609132066, 1.0080459770114942, 1.0056818181818181, 1.217595944967415, 1.024812410480785, 1.1669946584200168, 1.3333333333333333, 1.2307692307692308, 1.0849056603773586, 1.1020881670533642, 1.146875, 1.4827586206896552, 1.015420717398592, 1.2061446977205155, 1.165837479270315, 1.048780487804878, 1.0057779115257297, 1.0059546676911255, 1.068574297188755, 1.2377698554169143, 1.3333333333333333, 1.0769230769230769, 2.0, 1.1334029954719609, 1.5384615384615385, 1.0, 1.1538461538461537, 1.0132450331125828, 1.0543478260869565, 1.0224968314321927, 1.0172366310810155, 1.0709090909090908, 1.2830188679245282, 1.1428571428571428, 1.0, 1.054054054054054, 1.0571428571428572, 1.1464285714285714, 1.0331649365472806, 1.0318503951615896, 1.3473684210526315, 1.0512504872694446, 1.0472649016565738, 2.5, 1.0704382293899493, 1.338432122370937, 3.0, 2.0, 1.2357988165680474, 1.0818331779387507, 1.0322838420968514, 1.1956521739130435, 1.0, 1.1120689655172413, 1.0736196319018405, 3.0, 1.5, 1.0635959172991363, 1.194515391853744, 1.0218667999500188, 1.6666666666666667, 1.0221760760825085, 1.0472501936483347, 1.0533333333333332, 1.0, 1.0046948356807512, 1.0224279665676894, 1.1578947368421053, 1.2021929252055867, 1.011830647194585, 1.37987012987013, 1.0859375, 1.080373219839581, 1.0626134301270418, 1.0743801652892562, 1.2545454545454546, 1.0219418765841215, 1.3852931209759403, 1.041742181998684, 1.347305389221557, 1.2156862745098038, 1.2985074626865671, 1.1092669432918396, 1.0629896584142902, 1.0094306354595923, 1.0736462923931789, 1.0764192139737991, 1.5, 1.6666666666666667, 1.0972000255705427, 1.141160949868074, 1.1048434156778837, 1.0216308096366025, 1.0643920388024752, 1.1062970596895638, 1.0677966101694916, 1.0, 1.124597122867699, 1.050245526083294, 1.3094135802469136, 1.0477064220183485, 1.6666666666666667, 1.0714285714285714, 1.0358337133302933, 1.1729260089686098, 1.0424763794253005, 1.0895026771004943, 1.015625, 2.0, 1.0932311621966795, 1.0156242999865597, 1.1544436828878226, 1.2129277566539924, 1.0884947313212225, 1.0477707006369428, 1.4514348785871964, 1.0121739130434784, 1.0323669341230008, 1.0731122148328984, 1.0368663594470047, 1.026281208935611, 1.0, 1.1950173575658567, 1.059717524453789, 1.0499306518723994, 1.0597403487137327, 1.1126934984520125, 1.0234493192133132, 1.2, 1.2593582887700534, 1.6666666666666667, 2.0, 1.1764705882352942, 1.0051150895140666, 1.0126382306477093, 1.014928144379665, 1.0082710917151088, 1.1118046132971506, 1.040034812880766, 1.1684782608695652, 1.1395348837209303, 1.0075057696219758, 1.6, 1.4166666666666667, 1.0993922059349304, 1.1428571428571428, 1.0401662049861495, 1.1173870333988212, 1.0702228224172856, 1.1080732336758046, 2.0, 1.0557275541795665, 1.199612403100775, 1.0483660130718955, 1.0402075286475774, 1.14520202020202, 1.1253424657534246, 1.1340208462149988, 1.0645512343204078, 1.0143084260731319, 1.1833333333333333, 1.0837988826815643, 1.0, 1.0, 1.0417814098208218, 5.0, 1.5714285714285714, 1.8, 1.0247218788627936, 1.1058823529411765, 1.1125277161862528, 1.0933699489996076, 1.0, 1.0676598386095593, 1.0210280373831775, 1.1494845360824741, 1.2980769230769231, 1.4285714285714286, 1.0, 1.0648558758314857, 1.1444444444444444, 1.0654518408330234, 1.0229335502365766, 1.023479776208383, 1.1765749778172139, 1.0, 1.209332825654694, 1.0495224658727054, 1.0658177905308466, 1.1774193548387097, 1.1017047861075815]
origin-bjaq_15.71 	max: 5.0000	99th: 2.4293	95th: 1.6667	median: 1.0780	mean: 1.1678

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 12.046581 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[7.9059601e-04 5.9604645e-08 4.1723251e-07 4.7683716e-07 0.0000000e+00]
Distance score: 0.0001583099365234375
SAUCE Drift detection: True
Detection latency: 0.0213s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.5332 nats / 39.7221 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.155460 | Model-update-time: 2.707834


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 9.7500	99th: 4.0100	95th: 2.0000	median: 1.0904	mean: 1.2488
ReportEsts: [1.1044776119402986, 1.0158102766798418, 1.0552171282417975, 1.0241635687732342, 1.4285714285714286, 1.0, 1.0380966874651245, 1.0776150972420613, 1.0, 1.0333761232349166, 1.1475702551987474, 1.0093600169474672, 1.0218093699515347, 1.1291759465478841, 1.0783132530120483, 1.0, 1.3636363636363635, 1.1034360609280907, 3.0, 2.0, 1.1153846153846154, 1.0675445120083993, 1.0705976249788376, 1.1412618648799553, 1.0530018761726079, 1.0, 1.1141604925388708, 2.0, 1.4, 1.013793103448276, 1.0, 1.0602534801579058, 1.0035098486176866, 1.12374405076679, 1.0146894236149973, 1.1671605230927264, 1.1865284974093264, 9.0, 1.026982829108749, 1.141643059490085, 1.0513005998131235, 1.047060410574139, 1.0337465307927105, 1.058695652173913, 1.1681176570027894, 1.2, 1.48, 1.3419354838709678, 1.0061633281972264, 1.2222222222222223, 1.2973173482105762, 1.176566314076485, 1.0771470160116448, 1.129322476879775, 1.0229007633587786, 1.0920329944676346, 1.1076115854773594, 1.0286768929763794, 1.3656716417910448, 1.0610380136141537, 1.5555555555555556, 1.1705136588555645, 1.0, 1.081896551724138, 1.032967032967033, 1.1818181818181819, 1.0694342008218312, 1.3009894669645707, 1.75, 1.0, 1.1700382213107112, 1.0011415525114156, 1.0104972375690608, 1.1742919389978212, 1.1068061416898627, 1.148235294117647, 1.1294117647058823, 1.0, 1.1674321503131524, 1.0463667820069205, 1.010408136713937, 1.0666666666666667, 1.1215249330930144, 1.2616279069767442, 1.0616279069767443, 1.168792934249264, 1.0, 1.0129946191295436, 1.0294680827377374, 1.0324074074074074, 1.75, 1.104254324450678, 1.0499354427620438, 1.0090361445783131, 1.01763907734057, 1.0069324090121317, 1.086848635235732, 4.0, 1.4361702127659575, 1.0, 1.1849228166631423, 1.0336933045356371, 1.0823817292006526, 1.1742355183558466, 1.2333333333333334, 1.0104698595856252, 1.0078973346495557, 1.1973764063302368, 1.0997470184315143, 1.0192416525183927, 1.3333333333333333, 1.6666666666666667, 1.128271028037383, 1.0559667449179386, 1.0099183197199533, 1.0769230769230769, 1.0043056408666147, 2.0, 1.0993993993993993, 1.1433260393873086, 1.0, 1.0051020408163265, 1.5, 1.1655011655011656, 1.0229546990073917, 1.040711009174312, 1.0467289719626167, 1.8, 1.0606980273141122, 1.0, 1.0714285714285714, 1.091908922220504, 1.1818181818181819, 1.4168079096045199, 1.0047246445035105, 1.0467715554170887, 2.0, 1.4166666666666667, 1.0371287128712872, 1.0267295597484276, 1.1194393662400974, 1.0034978594031148, 1.1818181818181819, 1.0131826741996233, 1.1574233710933433, 2.0, 1.0829535095715588, 1.0064935064935066, 1.1044386422976502, 1.143285689077113, 1.5, 1.1040350024307244, 1.047832585949178, 1.038, 1.1644736842105263, 1.0467153284671533, 1.0991220617388842, 1.1555542620994732, 1.0474310074040836, 1.063953488372093, 1.0186915887850467, 1.2692307692307692, 1.2566371681415929, 1.0222841225626742, 1.2857142857142858, 1.0405918594975478, 1.205607476635514, 1.1358778625954198, 1.2926896806350379, 1.048686739269699, 1.0908952419641498, 1.3111111111111111, 1.1454545454545455, 1.0937957540263543, 1.0077369439071566, 1.0043327556325823, 1.0919220055710306, 1.0343488649940262, 1.064105206744445, 1.0048637013424473, 1.1333333333333333, 1.0705882352941176, 1.0442021636240704, 1.0404304828388597, 1.3292181069958848, 1.0058803881997074, 1.2508710801393728, 1.0, 1.14625, 1.1068417560723012, 1.6470588235294117, 1.1985472154963681, 1.3115264797507789, 1.0138073545296575, 1.1256806475349521, 1.038112132451755, 1.087216248506571, 1.0606181774561159, 1.2929515418502202, 1.125, 1.0, 2.0, 1.1602602602602603, 1.318918918918919, 1.046875, 1.6266666666666667, 1.0, 1.3793103448275863, 1.027124291902699, 1.3222591362126246, 1.2608695652173914, 1.0627780523974295, 1.5384615384615385, 1.05068843220929, 1.0255102040816326, 1.159356848219547, 1.4, 1.0161527165932451, 1.0238468779416379, 1.1325751048308346, 1.0156454164087751, 1.0, 1.0833005893909626, 1.1160541948541125, 1.0168763957008735, 1.0895348837209302, 1.0126455238859895, 1.20485120260905, 1.0, 1.0066076648912738, 1.2307975912498463, 1.0388918486947256, 1.1396648044692737, 1.0831737928100404, 1.005128205128205, 1.1572610985703538, 2.0, 1.1249335459861776, 1.0425475687103594, 1.2, 1.1638655462184875, 1.0833333333333333, 1.6666666666666667, 1.074299939851634, 1.1636363636363636, 1.1899674031148135, 1.5, 1.0, 1.3333333333333333, 1.040985947675083, 8.547486033519553, 1.0102564102564102, 1.098294884653962, 1.0269413629160062, 1.0802075019952115, 1.1176914163800555, 1.0689655172413792, 2.0, 1.0550493657164621, 1.0444202207385203, 1.1, 1.0203626333509106, 1.1438777480484374, 1.1104749020779916, 1.1375198728139904, 1.0481532962668785, 1.076555023923445, 1.309190342803788, 1.0728232838020386, 1.2222222222222223, 1.0214856956329128, 1.1725, 1.25, 1.5, 1.0054545454545454, 1.1111111111111112, 1.0155038759689923, 1.1359633403307563, 1.0306406685236769, 1.2686230248306998, 1.0155213010469293, 1.0182394924662965, 1.0305138130301355, 1.0610419823703925, 1.5, 3.4186303387334314, 1.0237264480111654, 1.0340703298463565, 1.2092448653935244, 1.0699783114270036, 1.212428662016487, 1.2222963951935915, 1.0565269461077844, 1.0444186046511628, 1.1525427218447601, 1.0473749392528493, 1.0071942446043165, 1.0, 1.2727272727272727, 1.1449874236435502, 9.166666666666666, 1.087527352297593, 1.1601488399241209, 1.1444444444444444, 1.4375, 1.0571428571428572, 1.353846153846154, 1.1462933753943219, 1.046417288914417, 1.05, 1.1529510724800225, 1.03710894358092, 1.0133333333333334, 1.4186046511627908, 1.0589849108367626, 1.0613577023498695, 1.2857142857142858, 1.0079536449359128, 1.0146520146520146, 1.1764705882352942, 1.1271973164135636, 1.380952380952381, 1.4, 1.0183823676713932, 2.0, 1.2164179104477613, 1.0122950819672132, 1.0341614906832297, 1.0844686648501363, 1.0494791666666667, 1.1923076923076923, 1.037149635776196, 1.113294111297026, 6.065982905982906, 1.0081991675174742, 1.0019200211864407, 2.0, 1.0, 1.003606751675658, 1.25, 1.016976127320955, 1.411764705882353, 1.25, 1.375, 1.3638968481375358, 1.0152466367713004, 1.280373831775701, 1.0549792531120332, 1.0, 1.1642542479546885, 1.081228772555642, 9.75, 1.2519729425028185, 1.0, 1.1594321718666971, 1.054945054945055, 1.0324076382310414, 1.2165898617511521, 1.080550098231827, 1.2068627450980391, 1.3518518518518519, 1.0268588781556716, 1.0198230998089826, 1.1033519553072626, 1.0, 1.1538461538461537, 1.5714285714285714, 1.5, 1.4166666666666667, 1.2884615384615385, 1.1666666666666667, 1.1871794871794872, 1.3255813953488371, 1.2365562598577509, 1.0972293399018036, 1.269824922760041, 1.0188535260582663, 1.0678654292343388, 1.0549828178694158, 4.0, 1.0389610389610389, 1.0891472868217054, 1.0297550831442255, 1.1363636363636365, 1.5714285714285714, 1.0960451977401129, 1.338235294117647, 1.0419829971072345, 1.0407185628742515, 1.2068376068376068, 1.0226917057902973, 1.0512820512820513, 1.1477850399419027, 1.0728542914171657, 1.25, 6.25, 1.1426701570680629, 1.0514529586650043, 1.1245659722222223, 1.0370111789202199, 1.3623188405797102, 1.0943396226415094, 1.03768115942029, 1.0, 1.0297897411348824, 1.0009887143127922, 1.005463118284445, 1.0519954888989884, 1.47574410514109, 1.2192564346997141, 2.0, 1.2876157407407407, 1.2, 1.0442307692307693, 1.2, 1.0269848858561603, 1.034013605442177, 1.0869036482694108, 1.0594795539033457, 1.1723826714801444, 3.0, 1.2229775662814413, 1.0112190928562061, 1.1224712957900491, 2.0, 1.0606060606060606, 1.3243761996161227, 1.4075471698113207, 1.0334271504028993, 1.1296660117878192, 1.2222222222222223, 1.067937033968517, 1.0170928787071567, 1.0590146081339893, 1.0456632770441265, 1.0065689261233817, 1.1824212271973467, 1.0140845070422535, 2.0, 1.0745501285347043, 1.3928571428571428, 1.1671974522292994, 1.063613231552163, 1.2168745414526778, 1.6666666666666667, 1.0, 1.0585634822317764, 1.0869565217391304, 1.0, 1.3866666666666667, 1.0325670498084292, 1.061217391304348, 1.1428571428571428, 1.1821442805898765, 1.0468686234500078, 1.1569691539741456, 1.380952380952381, 1.010662177328844, 1.5, 1.0165016501650166, 1.043010752688172, 1.0360655737704918, 1.1, 1.025963808025177, 1.0638703527168731, 1.3888888888888888, 1.04421038279306, 1.1, 1.1548064918851435, 1.0183066361556063, 1.2749701551929964, 1.0375332089763156, 1.0, 1.0, 1.0543683579441863, 1.0534690073135546, 1.0097553839401896, 1.0, 1.1074136478517271, 1.008358432559809, 1.0759559979046622, 2.0, 1.0606060606060606, 1.0092381361100444, 1.0517855565696117, 1.016810617231936, 1.015843367742953, 1.0074996591064043, 1.0015822784810127, 1.0056285178236397, 2.0, 1.0908507223113966, 1.5625, 1.0, 1.1308411214953271, 1.1730769230769231, 1.0020407271976528, 1.0904302019315188, 1.0767183511822038, 1.0658174097664543, 1.0813137791954142, 1.326961890062923, 1.0509901448076577, 1.197674418604651, 4.0, 1.0016109305976415, 1.2020475178674908, 1.005011864243605, 1.0511034789798384, 1.0903179190751444, 1.0980523841504366, 1.971698113207547, 2.5714285714285716, 1.1244321755538473, 1.0294366704066726, 1.0236902910264594, 1.1367673179396092, 1.1114539143848823, 1.0618556701030928, 1.065195174784484, 1.0338266384778012, 1.2, 1.2820971806769201, 1.1023215821152192, 1.2162092180217503, 1.004566210045662, 1.056422569027611, 1.1363636363636365, 1.0633713561470215, 1.0870824053452115, 1.0879478827361564, 1.0189431704885343, 1.0675642505840963, 1.118811881188119, 1.0311544011544012, 2.0, 1.1336939721792891, 1.0595238095238095, 1.4509803921568627, 1.0825833774483853, 1.0935005701254277, 1.037328094302554, 1.0444444444444445, 1.0462485698446586, 1.0, 1.5, 1.0, 1.0, 1.2272727272727273, 1.0249520153550864, 1.0134932533733134, 1.1699029126213591, 1.1212752322973405, 1.1469298245614035, 1.1173487010744088, 1.1210965566793787, 1.0464896957486256, 1.0731933669274416, 1.0071203493836034, 1.1198995605775266, 1.539625700966151, 1.0036731274568067, 1.05331088664422, 1.0911360799001248, 1.2, 1.296, 1.0465666211914506, 1.1149425287356323, 1.158202756277138, 1.2435897435897436, 1.0548281505728314, 1.2932330827067668, 1.5, 1.0067294751009421, 1.1333333333333333, 1.2094455852156059, 1.3928571428571428, 1.1666666666666667, 1.010495378784949, 1.0845347313237221, 1.0298718148944606, 1.3617861935291486, 1.21875, 1.0660621761658031, 2.0, 1.1140939597315436, 1.2487808136816088, 1.0216990227702856, 1.028732459356795, 1.138435620678172, 1.037546933667084, 1.1806930693069306, 1.0585194065637644, 1.1442953020134228, 1.0393187882593, 1.1614926842364313, 1.393939393939394, 1.0115606936416186, 1.75, 1.098387290889397, 1.0, 1.0216216216216216, 1.1372549019607843, 1.4031986531986531, 1.4285714285714286, 1.0352357320099255, 1.3636363636363635, 1.1111111111111112, 1.075825026964031, 1.00955343257054, 1.0374242069846524, 1.000019892777927, 1.0285035629453683, 1.3103448275862069, 1.103448275862069, 1.10873786407767, 1.0169724770642201, 1.5447406488943998, 1.2849440327920543, 1.0979096953630871, 1.0, 1.0302561723622494, 1.095100864553314, 2.0, 1.0644642528946884, 1.0807926327906594, 1.0859106529209621, 1.0171072813130275, 1.0154652961080943, 1.1071428571428572, 1.8571428571428572, 1.00646633701027, 1.0469591993841416, 1.104953115669534, 1.2008384146341464, 1.0017473037295896, 1.0355793889032463, 1.072356215213358, 1.0332238043081416, 1.2240802675585285, 1.0886527474929955, 1.0692717584369449, 1.2228260869565217, 1.076385421867199, 5.902195608782435, 1.0232142857142856, 1.1633692458374143, 1.2, 1.4, 1.1140845070422536, 1.5338196286472148, 1.0687212185618136, 1.0453392517438174, 1.0833333333333333, 1.0380589914367269, 1.022622538751571, 1.1156462585034013, 1.0634543178973717, 3.0, 1.010909090909091, 1.5, 1.1214953271028036, 1.0, 1.053988665363073, 1.3333333333333333, 1.1388888888888888, 1.0138339920948616, 1.0, 1.0391086105135419, 1.2461287693561531, 1.5, 2.0, 1.0725806451612903, 1.1824104234527688, 1.0437869822485206, 1.1468110709987966, 1.1083743842364533, 8.153846153846153, 1.1453488372093024, 1.1116883116883116, 1.1163793103448276, 1.273469387755102, 1.0833333333333333, 1.0, 1.7909535452322738, 1.0470262793914247, 1.0327868852459017, 1.0125362619146292, 1.0854203962375988, 1.0520150146434022, 1.099294227030682, 1.2078180818906292, 1.1918528252299605, 1.0518814139110604, 1.8571428571428572, 1.0, 1.2142857142857142, 1.0350886043109475, 3.8318794607454403, 1.1666666666666667, 1.095115681233933, 1.0073982737361282, 1.0585799373462226, 1.0076557565568651, 1.0263157894736843, 1.1578947368421053, 1.0180115273775217, 1.014588029050839, 1.0472014237385965, 1.043471431376399, 1.0657894736842106, 1.0592758283237802, 1.0105554494444784, 1.0702210663198959, 1.445519348268839, 1.2222222222222223, 1.0463755065285907, 1.6030927835051547, 1.1063829787234043, 1.0573770491803278, 1.1258941344778255, 1.0, 1.1577726218097448, 1.040747994187883, 1.0344827586206897, 1.085949675447489, 1.036726128016789, 1.2941176470588236, 1.073754907528581, 1.101405912040375, 1.0082908554934595, 1.0744274809160306, 1.0138888888888888, 1.1424524353732737, 1.1067193675889329, 1.3571428571428572, 1.0, 1.4285714285714286, 1.1222235678817973, 1.5, 1.1943509737942286, 1.0948704926358557, 1.0637985309548794, 1.07082472290062, 1.0040065622273642, 1.029363950416582, 1.1218637992831542, 1.0543766578249336, 1.012015152467213, 1.0922251174806796, 1.0121611581142296, 1.2585220773278425, 1.5714285714285714, 1.0425531914893618, 1.0366300366300367, 1.0777114834491213, 1.0390879478827362, 1.2158420917713406, 1.0691489361702127, 2.093877551020408, 1.060927942053309, 1.030902348578492, 1.0985406698564593, 1.1875, 1.0550194021672277, 1.0283689664377411, 1.2291666666666667, 1.1132631578947367, 1.4583333333333333, 1.0757575757575757, 1.1955307262569832, 1.6470588235294117, 1.0445516363514555, 1.6206896551724137, 1.212962962962963, 1.1025641025641026, 1.0888111888111889, 1.0115035644847699, 1.0329411764705883, 2.0, 1.0467289719626167, 1.1466046545828892, 1.0237106978021397, 1.0291197920934643, 1.0486769561045424, 1.0867685187531142, 1.2142857142857142, 1.0144115292233786, 1.110860655737705, 1.0022701234777442, 1.0511022044088176, 1.0555555555555556, 1.1064333017975403, 1.5, 1.0144160047072668, 1.375, 1.0, 1.3333333333333333, 1.2253421005864582, 2.0706175574633066, 1.1609738696156247, 1.120489781536293, 1.042296072507553, 1.08675799086758, 1.0890702659191105, 1.0262188515709643, 1.1001757469244289, 1.053763440860215, 1.0281786941580755, 1.0940629888170337, 1.1547619047619047, 1.75, 1.022453143334355, 1.1126927639383155, 1.0227021040974529, 1.0568181818181819, 1.0323426573426573, 1.0092320212389854, 1.2353106550463875, 1.1, 1.2692307692307692, 1.0432537120723047, 1.3333333333333333, 1.184375, 1.5517241379310345, 1.0373606222203486, 1.246778989098117, 1.2247097844112769, 1.4444444444444444, 1.025159378534286, 1.053199268738574, 1.1236278447121821, 1.2916862818943602, 1.3333333333333333, 1.037037037037037, 2.5, 1.2371995820271682, 1.4074074074074074, 1.0, 1.1538461538461537, 1.0088832487309645, 1.0647359454855196, 1.0118163011998345, 1.0223699466646055, 1.2921739130434782, 1.2142857142857142, 1.0666666666666667, 1.0, 1.0405405405405406, 1.0266666666666666, 1.1378151260504201, 1.0232480903354366, 1.0287162399651328, 1.2673267326732673, 1.0737862818226043, 1.004124491274764, 2.5, 1.0120552981273696, 1.2247933884297522, 1.5, 2.0, 1.203370786516854, 1.08343442512468, 1.02098709889228, 1.1213872832369942, 1.0, 1.0421455938697317, 1.152492668621701, 3.0, 1.0041591436677844, 1.074000909333208, 1.0410406067005855, 1.0281722400366469, 1.6666666666666667, 1.0220721965514803, 1.1037955073586367, 1.0009746588693957, 1.1153846153846154, 1.0583333333333333, 1.0, 1.3026315789473684, 1.0895540044954455, 1.0815926766354416, 1.3392857142857142, 1.0533333333333332, 1.098689604579911, 1.1179117911791179, 1.0714285714285714, 1.0142857142857142, 1.0390470403091354, 1.4959944270289098, 1.0913597000678528, 1.2215909090909092, 1.0934579439252337, 1.1451612903225807, 1.1428571428571428, 1.0949033391915641, 1.0201149425287357, 1.0086554636031708, 1.0456852791878173, 1.5, 1.6666666666666667, 1.0947851455661581, 1.1374269005847952, 1.132693296759815, 1.0455125181263867, 1.4097022820009069, 1.0588187930270945, 1.2806539509536785, 1.0, 1.1165419161676646, 1.138365086960343, 1.2583392476933997, 1.315673289183223, 2.5, 1.013157894736842, 1.0518072289156626, 1.1172291296625223, 1.058075229903965, 1.0395346552486369, 1.030140656396517, 2.0, 1.1010962241169306, 1.0581495844875346, 1.189206622231778, 1.1095406360424027, 1.0519119990539956, 1.0524691358024691, 1.298208640674394, 1.0352811466372658, 1.018406035926839, 1.0279898218829517, 1.0956221198156681, 1.0076824583866837, 1.03125, 1.2076968272620447, 1.1027216665577129, 1.100741854217991, 1.3219162230965054, 1.1247030878859858, 1.022111269614836, 5.416666666666667, 1.2046035805626598, 2.0, 2.0, 1.2941176470588236, 1.0460358056265984, 1.0188679245283019, 1.0081824326728095, 1.0190447928650117, 1.1127029608404966, 1.012265084075173, 1.1813471502590673, 1.128663330950679, 1.0415647269794077, 1.8, 1.5833333333333333, 1.3278553820870995, 1.1428571428571428, 1.0901525658807212, 1.1011547344110855, 1.0715142171976704, 1.087931735690662, 2.0, 1.0746092598053671, 1.1548507462686568, 1.1467065868263473, 1.0178595802764034, 3.043523316062176, 1.1835616438356165, 1.1047457189570604, 1.1845641646489105, 1.0453857791225416, 1.126984126984127, 1.1099337748344371, 1.0, 1.0, 1.0086098027520105, 5.0, 1.2222222222222223, 1.9285714285714286, 1.0148911798396334, 1.10989010989011, 1.1092838196286472, 1.4730184686417853, 1.0, 1.1570453134698944, 1.0735981308411215, 1.155, 1.3509615384615385, 1.25, 1.0251989389920424, 1.1465608465608466, 1.0819327731092436, 1.017459774049983, 1.0237069778554633, 1.0710178000912824, 1.150125803746156, 1.0, 1.1888991600016077]
origin-bjaq_15.71 	max: 9.7500	99th: 4.0100	95th: 2.0000	median: 1.0904	mean: 1.2488

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.962154 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[7.0720911e-04 5.9604645e-08 4.1723251e-07 2.3841858e-07 5.9604645e-08]
Distance score: 0.00014159679994918406
SAUCE Drift detection: True
Detection latency: 0.0335s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.3768 nats / 39.4963 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.064233 | Model-update-time: 2.507232


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 327.1471	99th: 9.5905	95th: 2.0000	median: 1.0928	mean: 1.6695
ReportEsts: [1.0700280112044818, 1.0051667449506811, 1.044138933827623, 1.0505415162454874, 1.3636363636363635, 1.0, 1.0310278578290106, 1.084339675630134, 1.2, 1.0898587933247754, 1.1958476420164101, 1.0591475251077591, 1.0221458571974036, 1.1343283582089552, 1.0333969465648856, 12.181818181818182, 1.25, 5.4, 1.0909090909090908, 1.1151736745886653, 1.0042110478077781, 1.1768321513002364, 1.0006157314158692, 1.625, 1.1671915259089607, 1.0371940315453831, 2.0, 1.0218202698822854, 1.5, 1.2, 1.1059602649006623, 1.0, 1.0623128297521593, 1.0086771821011196, 1.1517450682852808, 1.023246492985972, 1.1159294375401352, 1.2010050251256281, 18.0, 1.0414012738853504, 1.1461748633879782, 1.0101394538059267, 1.0729617770003714, 1.0521699851290927, 1.1021739130434782, 1.049990963311043, 1.0909090909090908, 1.4230769230769231, 1.0947368421052632, 1.0771046420141621, 1.2125984251968505, 1.0527570789865872, 1.293103448275862, 1.0548862115127176, 1.086534974249861, 1.0687022900763359, 1.0702151539939506, 1.060711900970774, 1.121352201814822, 1.4328358208955223, 1.054704301742849, 1.462962962962963, 1.1085098269014333, 1.071917808219178, 1.110655737704918, 1.0618556701030928, 3.0, 1.0210200631558801, 1.1804228207355922, 1.75, 1.0, 1.13946117274168, 1.0099118942731278, 1.0404592673592128, 1.3146997929606625, 1.1487086180882222, 1.2094117647058824, 1.1167883211678833, 1.6666666666666667, 1.2275574112734864, 1.074538258575198, 1.0146009085009733, 1.3125, 1.04960848207772, 1.160220994475138, 1.074492099322799, 1.2114818449460256, 1.037037037037037, 1.0351774228517743, 1.0397040509852757, 1.030701754385965, 1.4, 1.2502517623363545, 1.0703200285368983, 1.1695402298850575, 1.012853470437018, 1.018166804293972, 1.037914691943128, 6.0, 1.3822525597269624, 1.0, 1.1352309562398704, 1.0953203743700504, 1.0993017843289372, 1.100201879027875, 1.3793103448275863, 1.0163449829864233, 1.0093139482053612, 1.2221516402740595, 1.141030072589008, 1.011424017003188, 1.3333333333333333, 2.0, 1.1675233644859813, 1.0625319265982947, 1.0381637168141593, 1.1139240506329113, 1.0418920604005724, 2.0, 1.1165661785816825, 1.056622851365015, 1.0, 1.0145631067961165, 1.375, 1.1546840958605664, 1.029577613617806, 1.0094016520045666, 1.0089285714285714, 1.8, 1.100280504908836, 1.0, 1.1071428571428572, 1.083786086653779, 1.1818181818181819, 1.896100354513226, 1.0577540462764277, 1.056408144931876, 3.0, 1.3076923076923077, 1.006993006993007, 1.0963972736124634, 1.182815356489945, 1.0580117815733698, 1.2027027027027026, 1.0084694494857833, 1.088960201144672, 2.0, 1.1298997265268915, 1.0020576131687242, 1.0952380952380953, 1.200105876124934, 1.5, 1.3537179247050009, 1.0225352112676056, 1.072, 1.2236842105263157, 1.0145985401459854, 1.0420485175202157, 1.1214333952388993, 1.2004375, 1.0681818181818181, 1.006578947368421, 1.18, 1.0957336108220603, 1.025065963060686, 1.5714285714285714, 1.0600603824796326, 1.140562248995984, 1.020671834625323, 1.2270019274575084, 327.1470588235294, 1.0788114907998498, 1.2690058479532165, 1.1822222222222223, 1.0429165944165077, 1.0046511627906978, 1.1156169111302847, 1.13047363717605, 1.0398852223816355, 1.0102544031311154, 1.0309082559524272, 1.0670731707317074, 1.0625, 1.0280628909430958, 1.0743817435309844, 1.2817460317460319, 1.1779096815593166, 1.049095607235142, 1.0, 1.2032534246575342, 1.068245669098453, 1.6842105263157894, 1.2584745762711864, 1.0680473372781065, 1.0525859314374402, 1.0041025019198901, 1.0924918389553864, 1.0952374317244455, 1.157059323509232, 1.0827214880078315, 1.7600574712643677, 1.052835676199709, 1.062995721874448, 1.039830058417419, 1.0621485082451625, 1.3316062176165804, 1.03125, 2.076923076923077, 1.0, 1.25, 1.109717868338558, 1.351437699680511, 1.2783505154639174, 1.1176470588235294, 1.6153846153846154, 1.0589813379360438, 1.0096852300242132, 1.0411159507359566, 1.375, 1.073699421965318, 1.004087591240876, 1.1504537882704349, 1.1291979001902666, 1.0, 1.092814371257485, 1.1359048112482804, 1.013193447842856, 1.0463428252372975, 1.0269392109793651, 1.0617200062612953, 1.0689655172413792, 1.0070331603214868, 1.0371673940588484, 1.0666666666666667, 1.2011235955056179, 1.0736196319018405, 3.0, 1.2151624548736462, 2.0, 1.0638511814982403, 1.056163970662112, 1.1311021104242165, 1.1434262948207172, 1.0833333333333333, 1.6666666666666667, 1.0986375067647152, 1.2363636363636363, 1.1058514556576882, 1.5, 1.0, 1.125, 1.052206117410201, 18.403726708074533, 1.0048192771084337, 1.107177033492823, 1.3418181818181818, 1.1415129845690628, 1.0758693176841552, 1.0634920634920635, 2.0, 1.0822758332171245, 1.1209059233449477, 1.1507936507936507, 1.0347415448524513, 1.1478826846557222, 1.236715497301465, 1.2225755166931638, 1.0483787876422561, 1.13755980861244, 1.701451657080252, 1.0457172210093746, 1.0, 1.0330270282414793, 1.046908315565032, 1.3181818181818181, 1.380952380952381, 1.0730223123732252, 1.0290697674418605, 1.0178161682437943, 1.0118996860343423, 1.0227920227920229, 1.223360655737705, 1.0488666910032192, 1.0188394875659381, 1.002416117270082, 1.0598435647777587, 1.6666666666666667, 5.684210526315789, 1.036754507628294, 1.028559354266154, 1.0704208555448225, 1.0450951802349129, 1.3240329740012682, 1.280373831775701, 1.1446287397302743, 1.0172617291236352, 1.1364206975010789, 1.0385133634411787, 1.052738336713996, 1.0, 1.2727272727272727, 1.197808120733022, 12.285714285714286, 1.1531728665207877, 1.1510788280881366, 1.1379310344827587, 1.606060606060606, 1.1018518518518519, 1.088235294117647, 1.0166948039767398, 1.0413705719878792, 1.0476190476190477, 1.2610402355250245, 1.0274484267365163, 1.1534653465346534, 1.105263157894737, 1.1111111111111112, 1.024584237165582, 1.2857142857142858, 1.0210120038735657, 1.054945054945055, 1.0952380952380953, 1.0832538847272952, 1.2857142857142858, 1.2727272727272727, 1.026145931310762, 2.0, 1.3357664233576643, 1.0282776349614395, 1.0214745884037222, 1.0939019827908716, 1.002375296912114, 1.0555555555555556, 1.0323492531403304, 1.0738774461210854, 10.732172198488334, 1.0338310976124188, 1.0289054887950633, 3.0, 1.0, 1.0689807411186438, 1.5, 1.03547209181012, 1.4705882352941178, 1.0, 1.2941176470588236, 1.3828623518687329, 1.0441696113074206, 1.2946428571428572, 1.0625, 1.4242424242424243, 2.0, 1.0237914548076192, 14.0, 1.125, 1.021990734598791, 1.1304347826086956, 1.034008097165992, 1.0873893805309736, 1.75, 1.3333333333333333, 1.442829457364341, 1.125, 1.005307855626327, 1.0225366943613319, 1.250905675566886, 1.0028011204481793, 1.5, 1.024278491179363, 1.1044921875, 1.2727272727272727, 1.0912250217202433, 1.0125528212776536, 1.75, 1.0699090716853457, 1.4941176470588236, 1.1798323871316572, 1.0918416236637685, 1.0686274509803921, 1.1360212922589048, 1.2285990649685636, 1.1904761904761905, 1.0177705977382876, 1.150087764584409, 1.1085409252669038, 1.0, 1.059928006056143, 1.0679985979670523, 2.05, 1.264539764921386, 1.380952380952381, 1.1098976109215017, 1.0648282975367067, 1.1333333333333333, 2.0, 1.0526315789473684, 1.0086834733893557, 1.3461538461538463, 11.166666666666666, 1.155759162303665, 1.0158272339449819, 1.097319587628866, 1.092585112897552, 1.02, 1.1730769230769231, 1.0112994350282485, 1.0, 1.0265591873820563, 1.0430884771238147, 1.0505016345395108, 1.0497693550444285, 1.825529593599418, 1.257705751509374, 2.125, 1.1027906976744186, 1.0, 1.0243445692883895, 1.3, 1.0739951973748547, 1.0932090545938749, 1.2525170801869832, 1.0804195804195804, 1.1450381679389312, 3.0, 1.35361488904796, 1.003150291484575, 1.1374376942167719, 2.0, 1.1014492753623188, 1.381957773512476, 1.3771626297577855, 1.0142142963736756, 1.2059369202226344, 1.2777777777777777, 1.136616362192216, 1.0237311623072927, 1.0418485147120935, 1.0704692922891204, 1.0146662171274443, 1.170408163265306, 1.2, 1.0458498023715415, 1.0966057441253263, 1.3448275862068966, 1.1216526396327466, 1.1597051597051597, 1.1445400599969344, 1.7857142857142858, 1.6666666666666667, 1.0839698190066194, 1.1504854368932038, 2.0, 1.0377358490566038, 1.0037105751391466, 1.1225315326793222, 1.0666666666666667, 1.1926015279453157, 1.01264800861141, 1.1073205228248146, 1.0074324324324324, 1.046535677352637, 1.1370745170193193, 1.0724094881398252, 1.0976702508960574, 1.1114754098360655, 1.0, 1.020169536249093, 1.070448307410796, 1.3157894736842106, 1.218158846032359, 1.1636363636363636, 1.1117717003567182, 1.0151734104046244, 1.3354716981132075, 1.0480669892882388, 1.0, 1.054054054054054, 1.066429418742586, 1.0444724351953267, 1.0130512886314478, 1.0, 1.102008032128514, 1.0075779430702565, 1.1288632792037716, 2.0, 1.1634768740031898, 1.0721009229924627, 1.0438366649983808, 1.0011443905133972, 1.0188071899914817, 1.004131342255885, 1.0151171579743008, 1.1558823529411764, 2.0, 1.1637586107329951, 1.5510204081632653, 1.0, 1.0517241379310345, 1.25, 1.0041830578606, 1.0982800982800982, 1.0555762290896817, 1.0540765391014975, 1.0698617149955867, 3.389473684210526, 1.1350969634417947, 1.0498929688786431, 1.08, 1.303030303030303, 1.1321018713168143, 1.1658163265306123, 1.4086838226958396, 1.0469244298100209, 1.6666666666666667, 1.0365277180919639, 1.1613924050632911, 8.0, 1.5909090909090908, 1.0097782115809775, 1.123015873015873, 1.2014856462766503, 1.2708333333333333, 1.18074284362432, 1.0083497053045187, 1.0108695652173914, 1.5316733469177546, 1.0326741186586414, 1.0826937360732856, 1.0716145833333333, 1.1125748502994013, 1.1304347826086956, 1.1383812010443863, 1.0904277848369335, 1.0578512396694215, 1.0245283018867926, 1.0450822799298014, 1.0970873786407767, 1.0585183588417044, 2.0, 1.1664145234493193, 1.0198412698412698, 1.2301587301587302, 1.0869346733668341, 1.1272522522522523, 1.0166051660516606, 1.1382113821138211, 1.0372188822088622, 1.0, 1.4081632653061225, 1.0, 1.0, 1.2613636363636365, 1.037037037037037, 1.0356125356125356, 1.2524271844660195, 1.181031720602371, 1.0425311203319503, 1.0801144731557102, 1.0568987077949146, 1.0631763793033038, 1.121628586153582, 1.0162999213615682, 1.0956268221574343, 1.9671272635497508, 1.0507722159770305, 1.0406852248394005, 1.1091127098321343, 1.2419354838709677, 1.3515625, 1.0355690621923554, 1.2078947368421054, 1.215121767037946, 1.220125786163522, 1.3008024851151954, 1.0223463687150838, 1.5, 1.0244530244530246, 1.0, 1.037037037037037, 1.3448275862068966, 1.3333333333333333, 1.0109128285876745, 1.019365591203058, 1.0792210323557063, 1.6544498899069535, 1.256281407035176, 1.0404551201011378, 2.0, 4.0, 1.0077922077922077, 1.0320937675396171, 1.05969176660671, 1.10581545619023, 1.0682996602896477, 1.1725768321513002, 1.0779199534697734, 1.0572337042925277, 1.065800390160773, 1.1067453075333278, 1.0005572075939435, 1.297872340425532, 2.25, 1.0063957655621105, 1.0, 1.0324324324324323, 1.099526066350711, 1.4368686868686869, 1.5714285714285714, 1.0001305994514822, 1.1538461538461537, 1.105263157894737, 1.081611004416465, 1.0082295843004854, 1.036257710760795, 1.0000189503406323, 1.0166270783847982, 1.2258064516129032, 1.103448275862069, 1.0660550458715596, 1.0191387559808613, 1.9300037133308579, 1.4049122602799522, 1.0462727774710106, 1.0, 1.0587542913192742, 1.1342465753424658, 2.0, 1.0334612239763508, 1.0760210555999437, 1.092840283241542, 1.0212754962894914, 1.0034203980099503, 1.062992125984252, 1.8571428571428572, 1.0677063522251806, 1.07324147933285, 1.0744877238323796, 1.2032046613255645, 1.0146498543886935, 1.0418447875095274, 1.1963993453355155, 1.1267552182163187, 1.3979933110367893, 1.0755895792277541, 1.0278241513633835, 1.1557971014492754, 1.0238435860753456, 12.40176600441501, 1.007679180887372, 1.202154750244858, 1.1363636363636365, 1.4, 1.0469168900804289, 1.462998102466793, 1.0538901987201077, 1.059889434889435, 1.0833333333333333, 1.0837297811607993, 1.0699622957687474, 1.0758620689655172, 1.0546883731326602, 2.0, 1.0530035335689045, 1.5, 1.161214953271028, 1.0769230769230769, 1.0033154404799496, 1.2857142857142858, 1.112781954887218, 1.0121155638397017, 1.0, 1.1669423657607982, 1.1250919793966152, 1.5, 2.0, 1.015267175572519, 1.1015384615384616, 1.0126200274348423, 1.0829545454545455, 1.1198738170347002, 1.1380345086271568, 1.0997304582210243, 1.0670862346009642, 1.191304347826087, 1.1795918367346938, 1.1538461538461537, 1.0, 1.8916015625, 1.1198402130492677, 1.0286259541984732, 1.0829879817654373, 1.0976039585773, 1.0621929963555696, 1.1109642531265096, 1.156102825745683, 1.2892670157068062, 1.0937161430119176, 1.875, 1.0, 1.096774193548387, 1.0059611189617088, 6.219138056975895, 1.2222222222222223, 1.0748792270531402, 1.0478128880916242, 1.0458383899676376, 1.004701473091274, 1.0, 1.1578947368421053, 1.0095628415300546, 1.067133614293346, 1.0321825001913802, 1.045427308815819, 1.105263157894737, 1.0423863938347064, 1.0172091154748129, 1.2261735419630158, 1.5117107942973524, 1.4444444444444444, 1.083259127337489, 1.0103567318757192, 1.0291952429831386, 1.3333333333333333, 1.1816881258941345, 1.0, 1.1835443037974684, 1.0498701454671011, 1.032258064516129, 1.078200332951376, 1.071705426356589, 1.125, 1.0543409287568504, 1.1440158615717375, 1.024119759091962, 1.1307251908396947, 1.0727081138040042, 1.0873881603137638, 1.12, 1.5, 1.0, 1.25, 1.1838440111420614, 1.5, 1.091076923076923, 1.0764185845385097, 1.0314685314685315, 1.043091168091168, 1.0516016765921936, 1.0947409126063419, 1.1111111111111112, 1.089058524173028, 1.0299367770579912, 1.1769836385629098, 1.0555281259736835, 1.1665941003592033, 1.5, 1.1421188630490957, 1.072992700729927, 1.0710607302475914, 1.1661237785016287, 1.1537338846995864, 1.0681063122923589, 1.9730769230769232, 1.0415932613961683, 1.0194954128440368, 1.1820454545454546, 1.25, 1.055314955386869, 1.03212967905131, 1.2029397818871503, 1.168842105263158, 1.4074074074074074, 1.0146341463414634, 1.0260838473227853, 1.0189696349368815, 1.116751269035533, 1.0129066206918436, 1.7714285714285714, 1.09163313212609, 1.0971937029431895, 1.0748587570621468, 1.0205596801827528, 1.0019323671497584, 1.0433369447453955, 1.0865753424657534, 1.0002211852979834, 1.1859122401847575, 1.0264666715987276, 1.0734626725693257, 1.1538461538461537, 1.031570639305446, 1.020848182466144, 1.0454646577004754, 1.1342685370741483, 1.1041666666666667, 1.0126118795768917, 1.146341463414634, 1.072239136451702, 1.5625, 1.0, 1.3333333333333333, 1.2195473425447148, 2.9410398658237646, 1.126904432132964, 1.0423731841339936, 1.0592255125284737, 1.181403308613805, 1.1098845290281194, 1.0350205115830116, 1.1092436974789917, 1.125, 1.0, 1.0872381630790464, 1.2142857142857142, 1.75, 1.0372514758945834, 1.059296305530704, 1.0067497403946002, 1.1193181818181819, 1.1362631288004423, 1.0405053834610116, 1.298566207478212, 1.400611620795107, 1.3846153846153846, 1.1015479876160992, 1.1666666666666667, 1.265625, 1.46875, 1.0350443289818794, 1.311199207135778, 13.210724365004703, 2.0, 1.009683852460489, 1.0430613668061366, 1.279062450841592, 1.2883165829145728, 1.3333333333333333, 1.2173913043478262, 3.0, 1.2793451758969, 1.5, 1.25, 1.0714285714285714, 1.0133333333333334, 1.0, 1.0479075490211347, 1.0606888759962136, 1.1880199667221298, 1.152542372881356, 1.0, 1.0555555555555556, 1.2027027027027026, 1.0875, 1.1702127659574468, 1.0160004118977888, 1.0236348763834866, 1.2075471698113207, 1.0761497708784329, 1.0344475410687393, 2.5, 1.0016153535508932, 1.4377790720248496, 1.5, 2.0, 1.1842738700187216, 1.0738881829733165, 1.0256410256410255, 1.1576086956521738, 1.0, 1.0711610486891385, 1.3361344537815125, 3.0, 1.162110065216693, 1.0757061978100773, 1.0496843331907424, 1.1785179640718564, 1.4285714285714286, 1.0260061519929446, 1.152594887683966, 1.0714285714285714, 1.2142857142857142, 1.0819444444444444, 1.0, 1.394736842105263, 1.0480200273099682, 1.1387482787378056, 1.1443983402489626, 1.1432926829268293, 1.0621239829318068, 1.0701468189233279, 1.0916030534351144, 1.1587301587301588, 1.0251579790547958, 1.4807502467917077, 1.0609271240819893, 1.3513513513513513, 1.1607142857142858, 1.1818181818181819, 1.0, 1.0890365448504984, 1.0026737967914439, 1.0087238285144566, 1.002849002849003, 1.5, 1.1492398961809418, 1.0881092662024638, 1.1474103585657371, 1.0310431768042863, 1.084984174063171, 1.8327062228654125, 1.031939103821706, 1.2357320099255582, 1.0625, 1.0732142857142857, 1.0868315284135313, 1.2702888583218708, 1.008130081300813, 1.6666666666666667, 1.0263157894736843, 1.0545234518444333, 1.0885860306643953, 1.0438414589308038, 1.0036227603859027, 1.018111254851229, 2.0, 1.1211764705882352, 1.0052505536127616, 1.1582792207792207, 1.2159468438538206, 1.0853093718651954, 1.1437125748502994, 1.4016064257028114, 1.008919202518363, 1.0083819931443376, 1.1895833333333334, 1.1382488479262673, 1.0691421254801536, 1.09375, 1.1763638013978397, 1.092850761463506, 1.1354893505814714, 1.5722479594087801, 1.1161616161616161, 1.002710027100271, 9.578947368421053, 1.0656108597285068, 2.3333333333333335, 2.0, 1.2941176470588236, 1.0895140664961638, 1.0382741823242867, 1.0860772431919399, 1.008512286273067, 1.3161455902939805, 1.0476637267780071, 1.18, 1.1091761553918285, 1.064783240940062, 2.0, 1.6666666666666667, 1.2181099532878188, 1.0, 1.0537772087067863, 1.1539528432732316, 1.1289698978182823, 1.0825153351912624, 2.0, 1.148564997186269, 1.2378378378378379, 1.0813326800587948, 1.0021810512187523, 4.85632183908046, 1.236986301369863, 1.0409462226096122, 1.0827582573881895, 1.0144927536231885, 1.1833333333333333, 1.0779874213836478, 1.0, 1.0, 1.019888880254876, 5.0, 1.2, 1.8, 1.0223214285714286, 1.1145833333333333, 1.0875763747454175, 1.9653979238754324, 1.1666666666666667, 1.0591125022387868, 1.1320093457943925, 1.1940298507462686, 1.4326923076923077, 1.25, 1.1026746242263483, 1.082066869300912, 1.1079881656804733, 1.0327265503288339, 1.3333333333333333, 1.0467272433007329]
origin-bjaq_15.71 	max: 327.1471	99th: 9.5905	95th: 2.0000	median: 1.0928	mean: 1.6695

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 12.016066 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[6.3484907e-04 5.9604645e-08 1.7881393e-07 2.9802322e-07 0.0000000e+00]
Distance score: 0.0001270771026611328
SAUCE Drift detection: True
Detection latency: 0.0360s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.3560 nats / 39.4664 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.100163 | Model-update-time: 2.489786


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 45.0000	99th: 17.5033	95th: 2.4768	median: 1.1087	mean: 1.7320
ReportEsts: [1.0346666666666666, 1.0085049239033124, 1.0345342810880425, 1.068421052631579, 1.3636363636363635, 1.0, 1.0444568452380953, 1.0568457411626369, 1.2, 1.1335044929396663, 1.0813825254398717, 1.1098083466275837, 1.1312199036918138, 1.126530612244898, 1.0269452013321223, 17.0, 1.3076923076923077, 7.8, 1.0909090909090908, 1.0734265734265733, 1.0698075974346324, 1.0628702606635072, 12.272727272727273, 1.0061349693251533, 1.1505096733929685, 1.0407898233830244, 2.0, 1.0260098017233095, 1.5, 1.4, 1.0451612903225806, 1.0, 1.0556567257432834, 1.0150767390871038, 1.1255453223460978, 1.0262383207474721, 1.0609064138475903, 1.2572815533980584, 27.0, 1.0923566878980893, 1.1609498680738786, 1.0700808625336926, 1.0722901294099176, 1.0934785980148884, 1.1586956521739131, 1.004188378075325, 1.125, 1.3703703703703705, 1.0144230769230769, 1.0529801324503312, 1.181159420289855, 1.1679774735411206, 1.346656976744186, 1.1044973544973544, 1.024017865281196, 1.3206106870229009, 1.0941120918237623, 1.0764117947249847, 1.2413793103448276, 1.2435897435897436, 1.0374012995366788, 1.5925925925925926, 1.1186922530206111, 1.0993150684931507, 1.0079681274900398, 1.153061224489796, 4.0, 1.1123334879713698, 1.0746111257579751, 1.75, 1.0, 1.221217488580218, 1.0, 1.091853471842537, 1.4409448818897639, 1.1578542752199539, 1.2027027027027026, 1.0246754363339352, 1.3666666666666667, 1.303030303030303, 1.0728213667369935, 1.0582716049382717, 14.676470588235293, 1.0, 1.6363636363636365, 1.0871613663133097, 1.0163934426229508, 1.1389891696750902, 1.2, 16.0, 1.098610741823983, 1.2882427307206068, 1.2666009966392398, 1.0917151861545857, 1.1259742790335152, 1.2813370473537604, 1.0423728813559323, 1.1424148606811146, 1.005181347150259, 17.833333333333332, 1.125673249551167, 1.12961719274681, 21.714285714285715, 1.194954128440367, 1.2147239263803682, 1.0391432791728212, 1.046298689311427, 1.34375, 1.0211297832689497, 1.0811799679853646, 1.3001889139750265, 1.1896095301125083, 1.0280020181634713, 1.3333333333333333, 2.125, 1.2560747663551401, 1.066167960479887, 1.0504158004158004, 1.275, 1.0911649614925567, 2.0, 1.1151415223962626, 1.0038277511961722, 1.0, 1.0769230769230769, 1.5, 1.1425661914460286, 1.0225974883527555, 1.011555611379765, 1.0089285714285714, 1.8, 1.0572543916720885, 1.0, 9.0, 1.302078726227333, 1.0833333333333333, 2.31927946743245, 1.071590909090909, 1.0792144265167556, 4.0, 1.2142857142857142, 1.0501138952164009, 1.1178654292343388, 1.2547227300426569, 1.0065275260534663, 1.2156862745098038, 1.0104956268221574, 1.136334906455419, 3.0, 1.177757520510483, 1.0019512195121951, 1.0876986462625073, 1.2865713781542263, 1.5, 1.5034677626509119, 1.012, 1.13, 1.280701754385965, 1.1912408759124087, 1.082882882882883, 1.1227058206607237, 1.1738750291443227, 1.0646510743487354, 1.0617283950617284, 1.0069444444444444, 1.10609243697479, 1.0050251256281406, 1.5714285714285714, 1.0822880437284716, 1.2140077821011672, 1.1920341394025604, 1.1834544532702382, 1.0365764447695685, 1.025739917833487, 1.320754716981132, 1.1761006289308176, 1.0898524441513477, 1.1124367317425885, 1.1130284728213977, 1.1248923341946597, 1.0180155955902124, 1.0561754222842088, 1.0444145756443863, 1.050561797752809, 1.070572569906791, 1.031406541177275, 1.0688872753675802, 1.3053435114503817, 1.180143139942135, 1.0694789081885856, 1.1428571428571428, 1.2602568493150685, 1.0461010940473943, 1.6818181818181819, 1.3177966101694916, 1.1910112359550562, 1.2150960746784145, 1.0975755166931638, 1.0639412997903563, 1.100513549303963, 1.1315522679483327, 1.149290259422418, 1.312494367441106, 1.1442284617230623, 1.068100047503976, 1.0892193308550187, 1.0939517962710323, 1.0544554455445545, 1.0625, 2.475609756097561, 1.0, 1.1510791366906474, 1.2105781057810578, 1.3846153846153846, 1.1844660194174756, 1.1739990113692536, 1.6923076923076923, 1.058851204919703, 1.013793103448276, 1.0080926039745954, 1.3333333333333333, 1.2413294797687862, 1.023183488832344, 1.2259750703659027, 1.1130710863535291, 1.1363636363636365, 1.1371285356247762, 1.1608294930875576, 1.3533354925458096, 1.0027777777777778, 1.034364261168385, 1.0710093896713615, 1.0747304951580485, 1.5940594059405941, 1.0105417583059226, 1.0812756740607963, 1.0095238095238095, 1.0044802867383513, 1.0541176470588236, 3.5, 1.1415683553088134, 2.0, 1.0659949622166247, 1.0965996168582375, 1.1893213776238027, 1.2692307692307692, 1.1666666666666667, 1.6666666666666667, 1.118620878369134, 1.290909090909091, 1.1087043107938357, 1.2, 1.0, 1.4285714285714286, 1.0624807213385155, 26.938650306748468, 1.0495283018867925, 1.0940639269406394, 1.4222972972972974, 1.2044476327116211, 1.1146493619441054, 1.0909090909090908, 2.0, 1.053816949633651, 1.0655613213517277, 1.0928462709284628, 1.0015189324075078, 1.1350471123486563, 1.3154402718378346, 1.2710651828298887, 1.0623947033960925, 1.1758373205741626, 1.898332912351604, 1.1418396168488272, 1.3636363636363635, 1.0744828047936799, 1.0, 1.3636363636363635, 1.391304347826087, 1.0828516377649327, 1.0982658959537572, 1.0211347556379027, 1.001652589056188, 1.1727019498607243, 1.1647940074906367, 1.0293876704515996, 1.0028735632183907, 1.0715929602888086, 1.0649509387838252, 2.0, 7.737688442211056, 1.0218368657675017, 1.0184203855485678, 1.150767537153691, 1.0756267752997621, 1.450856055802156, 1.398531375166889, 1.1674062410535357, 1.0266170681498068, 1.1241270851665326, 1.0447272985849392, 1.0690661478599222, 12.833333333333334, 1.3636363636363635, 1.2542220625224578, 15.5, 1.1991247264770242, 1.1182747219717464, 1.0914127423822715, 1.5294117647058822, 1.063063063063063, 1.0, 1.073881932021467, 1.0045855045002368, 1.0434782608695652, 1.3626804990887424, 1.0070337648106293, 1.169398907103825, 45.0, 2.5555555555555554, 1.007959972708665, 1.4285714285714286, 1.0239331026528258, 1.1117216117216118, 1.0, 1.1099585307356954, 1.4285714285714286, 1.0769230769230769, 1.0078401636965229, 2.0, 1.3691275167785235, 1.0210135970333745, 1.0202513966480447, 1.2125340599455041, 1.3363636363636364, 1.0319148936170213, 1.1046030445836834, 1.0890025933973506, 14.797759800871189, 1.0047378867317829, 1.0879012669861485, 3.0, 1.1111111111111112, 1.1272893341745214, 1.5, 1.0808555033907146, 1.588235294117647, 1.0, 1.2222222222222223, 1.3790393013100437, 1.0865724381625441, 1.3421052631578947, 1.0635155096011817, 1.4848484848484849, 2.0, 1.0526202093187829, 20.181818181818183, 1.0294117647058822, 1.0074644249759457, 1.1470588235294117, 1.0253651037663336, 1.133849557522124, 1.75, 1.0, 1.4057971014492754, 1.1428571428571428, 1.2372034956304618, 1.0264856583111468, 1.2385156749840052, 1.0164835164835164, 1.5, 1.027770230699101, 1.1347583643122676, 1.1666666666666667, 1.033457249070632, 1.0795892368878945, 1.4, 1.0777286195559523, 1.4285714285714286, 1.1248001180840856, 1.0618195694628387, 1.0402384500745157, 1.1704101308041066, 1.285184588102531, 1.2110091743119267, 1.0516962843295639, 1.112491359731411, 1.1359724612736661, 1.1142857142857143, 1.0604352259827219, 1.027302612153304, 1.7826086956521738, 1.0704707560627675, 1.3222222222222222, 1.0971316818774446, 1.0157715013311726, 1.1574074074074074, 3.0, 1.0495049504950495, 1.0708035003977725, 1.3653846153846154, 14.384615384615385, 1.236910994764398, 1.0140750362077289, 1.0451688923802043, 1.0885825792980013, 1.0891089108910892, 1.007936507936508, 1.0502793296089385, 1.0, 1.0991751817627982, 1.3673469387755102, 1.2803471482631257, 1.0075694103371566, 2.1718300026180293, 1.3390530664124562, 3.0, 1.4321408290743896, 1.0, 1.043554006968641, 1.1666666666666667, 1.1022855061216086, 1.0849753694581281, 1.329976254810448, 1.099009900990099, 1.1586776859504133, 3.0, 1.0997506234413965, 1.0096215930140249, 1.113967437874893, 2.0, 1.082191780821918, 1.448176583493282, 1.4436860068259385, 1.0394717206387107, 1.1771929824561405, 1.263157894736842, 1.2022813688212928, 1.0091941480763014, 1.0520018329627807, 1.0678843664605207, 1.0594694237396811, 1.2428991185112634, 1.2, 1.0676088617265087, 1.044811320754717, 1.3, 1.0646332607116922, 1.2284382284382285, 1.1546861166153717, 1.9230769230769231, 2.3333333333333335, 1.0980543886800795, 1.1631701631701632, 3.0, 1.303370786516854, 1.0686456400742115, 1.0575700292146417, 1.0, 1.1050670640834575, 1.0657721952612047, 1.1189822143588788, 1.1073883161512028, 1.02734375, 1.1539132964794878, 1.0868180007964954, 1.1442652329749103, 1.160655737704918, 1.0, 1.083976515601293, 1.0453378956372967, 1.3157894736842106, 1.2221556886227545, 1.2181818181818183, 1.0477272727272726, 1.0425824175824177, 1.2134912091855041, 1.072422954303932, 1.0, 1.0945945945945945, 1.0885373401371101, 1.0523475445223962, 1.0969202898550725, 1.25, 1.1063748079877112, 1.0168926402844598, 1.182818229439497, 2.0, 1.186602870813397, 1.0235812143281962, 1.1818529749462714, 1.006128049926689, 1.0425088829352638, 1.0299514523163005, 1.0157367668097281, 1.2053937854211452, 2.0, 1.4282900783404087, 1.1580381471389645, 1.25, 17.5, 1.3076923076923077, 1.0237503830416208, 1.1173652694610778, 1.0422634149566539, 1.08100147275405, 1.0437100213219617, 4.393939393939394, 1.1330131117746332, 1.059946363779776, 1.1333333333333333, 1.1, 1.0878877059919545, 1.2270408163265305, 1.591512295525945, 1.085560806216883, 2.0, 1.0805875347360063, 1.0303951367781155, 11.0, 1.0909090909090908, 1.013723760704956, 1.0929368029739777, 1.0316239316239317, 1.0, 34.84615384615385, 1.169961559582647, 1.1091512940528634, 1.2062430323299889, 1.008625144083628, 1.1151167554281032, 1.0787037037037037, 1.1379518072289156, 1.076856887734394, 1.813793103448276, 1.0061480652382475, 9.015368309485957, 1.0164835164835164, 1.1086349524547165, 1.1379310344827587, 1.0895171580149083, 2.0, 1.0829986613119142, 1.1349206349206349, 1.0795762723530788, 1.1157407407407407, 1.0727272727272728, 1.0469565217391303, 1.1869918699186992, 1.0698074541648859, 1.0, 1.52, 1.2, 1.0, 1.2954545454545454, 1.1090909090909091, 1.0054945054945055, 1.2427184466019416, 1.2355014418455623, 1.2258064516129032, 1.079488489415371, 1.0370143149284254, 1.0781775889179108, 1.1873457191113421, 1.0311829686829688, 1.1083052749719415, 2.35377386546125, 1.1035492578564114, 1.0373783922171018, 1.0910138248847927, 1.2248275862068965, 1.6788990825688073, 1.0010121867282076, 1.1251461988304094, 1.2739758353785162, 1.1479289940828403, 1.1069492360768851, 1.076086956521739, 1.5, 1.0012330456226881, 1.1764705882352942, 1.4, 1.014336917562724, 1.1125298350770776, 1.2021709633649933, 1.1559633027522935, 1.0217391304347827, 1.1449033977348435, 1.0851856694560669, 1.1392649903288201, 1.0, 13.777777777777779, 1.0995628946090334, 1.1409090909090909, 1.120754716981132, 1.0211093644733886, 1.0, 1.3445378151260505, 1.124716553287982, 1.0965287096546366, 1.0921450151057401, 1.1774558826826917, 1.1116879520991243, 1.011912450274339, 1.2058823529411764, 2.75, 1.0007675859422118, 1.0, 1.1418918918918919, 1.0357142857142858, 1.5656565656565657, 1.5714285714285714, 1.0693313759508876, 1.0714285714285714, 1.1, 1.0694110793278828, 1.0116325711993581, 1.0505993752759744, 1.0000180931616895, 1.0498812351543942, 1.1515151515151516, 1.0740740740740742, 1.0869565217391304, 1.11986301369863, 2.498686186186186, 1.5784502262443438, 1.0011478784040533, 1.0, 1.0837466080284457, 16.793877551020408, 2.0, 1.0812668794500369, 1.1049194308541677, 1.0441708906589429, 1.0124220543451197, 1.0260595492109568, 1.1317829457364341, 2.4285714285714284, 1.1240015214910613, 1.1000685400959562, 1.1216956873117332, 1.2546245919477692, 1.0067239205092036, 1.0581519380966156, 1.2519561815336464, 1.0673539518900343, 1.3277591973244147, 1.0656092728454918, 1.0251836306400839, 1.3831521739130435, 1.0815217391304348, 16.548, 1.0507185122569738, 1.19333986287953, 1.0416666666666667, 1.4, 1.0965250965250966, 1.381720430107527, 1.0572163291546126, 1.0562390158172232, 1.1666666666666667, 1.1560418648905804, 1.1214914118139925, 1.121212121212121, 1.0719325197007197, 2.0, 1.0378006872852235, 1.5, 1.25, 1.0769230769230769, 1.04587681727695, 1.2413793103448276, 1.1223021582733812, 1.024669603524229, 1.0, 1.1450945996742263, 1.1444610778443114, 1.5, 1.3333333333333333, 1.0451127819548873, 1.1198830409356726, 1.0426796326310102, 1.0325027085590466, 1.1347626339969372, 1.1600846262341327, 1.0203045685279188, 1.4285714285714286, 1.1844262295081966, 1.3346938775510204, 1.1153846153846154, 1.0, 2.2397388059701493, 1.1538461538461537, 1.007380073800738, 1.094384583506009, 1.0854331834789601, 1.0457944272906514, 1.067519872915826, 1.185865018417931, 1.3015873015873016, 1.1189989785495404, 2.0, 1.0, 1.096774193548387, 1.0207320345272142, 8.551578947368421, 1.2810457516339868, 1.0175824175824175, 1.04415345133908, 1.0253582068378493, 1.0164883861034875, 1.0769230769230769, 1.1, 13.062012756909994, 1.0335721943237601, 1.0962259817806017, 1.0588256584106455, 1.131578947368421, 1.0433791400164651, 1.0203045851707349, 1.166882276843467, 1.615071283095723, 1.5, 1.0671422576584138, 1.017391304347826, 1.0383687994542545, 1.3333333333333333, 1.238197424892704, 1.0, 1.273469387755102, 1.0627882584519892, 1.11864406779661, 1.0716310690300561, 1.0306691449814127, 1.15, 1.081048141377209, 1.2115356885364095, 1.0517697651339728, 1.2146946564885497, 1.000919963201472, 1.0387238401873262, 1.018181818181818, 1.5, 1.0, 1.25, 1.235170158653264, 1.5, 1.0787787736809942, 1.0779957618429148, 1.0808597748208801, 1.043662210187849, 1.052573268921095, 1.051121158992341, 1.1720430107526882, 1.02200488997555, 1.0136437301910441, 1.1663999027493568, 1.1082328691608945, 1.1883553639597995, 1.8571428571428572, 1.1155778894472361, 1.0899653979238755, 1.1008919926058507, 1.263843648208469, 1.0928571428571427, 1.125, 1.8929889298892988, 1.0629104457608491, 1.0507328072153326, 1.2041387559808612, 1.375, 1.0719165017827805, 1.0364702522467055, 1.0996965756393584, 1.224, 1.3666666666666667, 1.0327102803738317, 1.0193142538866045, 1.0885071275651401, 1.1191626409017714, 1.0097268034747577, 1.1944444444444444, 1.0004402700322865, 1.1151594014313597, 1.076086956521739, 1.0100974930362117, 1.019644527595884, 1.031925849639547, 1.0997888067581838, 1.0012120176840702, 1.2378752886836029, 1.0734937841517975, 1.0554581340337734, 1.0, 1.0939226519337018, 1.0204495521379078, 1.0328327548345966, 39.65384615384615, 1.006560962274467, 1.2399577167019027, 1.0014869888475837, 1.0077021822849808, 1.0448771959388297, 12.175438596491228, 1.2859154929577465, 1.0672048603886646, 1.0485091232754784, 1.0657894736842106, 1.0832809964120709, 1.087905396744007, 1.0379661016949153, 1.106029106029106, 1.0906973383319307, 1.0873552123552124, 1.1116504854368932, 1.0092592592592593, 1.0263157894736843, 1.1383381552076242, 1.2857142857142858, 1.75, 1.1034108414925403, 1.0097866510080251, 1.0014749262536873, 1.1761363636363635, 1.2642555438225977, 1.0142084103540205, 1.3446724768062974, 1.3846153846153846, 1.4615384615384615, 1.0635391923990498, 1.5, 1.321875, 1.4848484848484849, 1.0385849654950443, 1.373637264618434, 18.33883192153366, 2.196078431372549, 1.0488505747126438, 1.0937672366243796, 1.188235294117647, 1.5, 1.2100965107646622, 1.2028985507246377, 1.9185475956820413, 1.0, 1.014511447920026, 1.1512519161982626, 1.108944099378882, 1.4842105263157894, 21.692307692307693, 1.5106680657572578, 1.0086190097881973, 1.052257355916527, 1.0047846889952152, 1.1333333333333333, 1.0625, 1.105263157894737, 1.2297297297297298, 1.0119047619047619, 1.127245508982036, 1.0032544020828174, 1.0245133885705928, 1.1327433628318584, 1.0823045267489713, 1.0675053760777953, 2.5, 1.0222835160049357, 1.231513805141225, 1.5, 2.0, 1.1462480857580397, 1.0747371583057976, 1.0769826241261449, 1.0966921119592876, 1.0, 1.0869565217391304, 1.304812834224599, 3.0, 1.2640269072007337, 1.1270167329995293, 1.0378763883426207, 1.078294080203692, 1.4285714285714286, 1.017004211065097, 1.2106893880712626, 1.0393772893772895, 1.3928571428571428, 1.1402777777777777, 1.0, 1.3026315789473684, 1.0056231915706721, 1.1478443009251178, 1.1573122529644269, 1.34472049689441, 1.08419039743656, 1.10207336523126, 1.1172161172161172, 1.171875, 1.0359803859135197, 1.3510057471264367, 1.0497470828882933, 1.3884892086330936, 1.0598290598290598, 1.2318840579710144, 1.0, 1.0776942355889725, 1.0398936170212767, 1.013653405673777, 1.0008904719501335, 1.5, 1.1324362606232294, 1.1329900030293851, 1.1671117893933614, 1.1292834890965733, 1.1168906212243783, 2.1164392634786062, 1.045513307984791, 1.16, 1.1458333333333333, 1.08600314229114, 1.1122304842621464, 1.1771919068056407, 1.0919003115264798, 1.6666666666666667, 1.0, 1.0385656557730787, 1.0568720379146919, 1.0260624948288701, 1.0741563299862178, 1.0091296409007913, 2.0, 1.0916030534351144, 1.018896993789765, 1.1341275941583397, 1.06, 1.0671523742889302, 1.1778425655976676, 1.189837008628955, 1.0440660991487232, 1.0044072305365073, 1.554639175257732, 1.1970046082949308, 1.0832266325224071, 1.15625, 1.1773983880752232, 1.039125340112411, 1.171873260172962, 1.8070508760819084, 1.1343852013057671, 1.012845215157354, 13.692307692307692, 1.0827586206896551, 2.6666666666666665, 2.0, 1.3529411764705883, 1.1508951406649617, 1.083614295347269, 1.0250320924261873, 1.0158298759789675, 1.4189595872742906, 1.0679352997145575, 1.2222222222222223, 2.5, 1.063725965618408, 2.2, 1.8333333333333333, 1.1309904153354633, 1.0, 1.1590296495956873, 1.1033022861981372, 1.047778230737872, 1.0752494015745853, 2.0, 1.0509915014164306, 1.0983397190293742, 1.129502505227443, 1.0196313262110817, 7.240442655935614, 1.3071917808219178, 1.0010526520984815, 1.1122243454010226, 1.0613668061366806, 1.0422535211267605, 1.0491017964071856, 1.0, 1.0, 1.045782184976202, 5.0, 1.1818181818181819, 1.2857142857142858, 1.023983315954119, 1.153061224489796, 1.0872121509064183, 2.2744355996346077, 1.1666666666666667, 1.100932855615497, 1.1880841121495327, 1.1753554502369667, 1.4711538461538463, 1.25]
origin-bjaq_15.71 	max: 45.0000	99th: 17.5033	95th: 2.4768	median: 1.1087	mean: 1.7320

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 11.930563 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[5.9431791e-04 1.1920929e-07 3.5762787e-07 1.1920929e-07 0.0000000e+00]
Distance score: 0.00011898278899025172
SAUCE Drift detection: True
Detection latency: 0.0372s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.6306 nats / 39.8625 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.088767 | Model-update-time: 2.508484


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 97.5215	99th: 22.5525	95th: 3.1986	median: 1.1164	mean: 2.0968
ReportEsts: [1.0207253886010363, 1.0032209576980888, 1.0412585656369964, 1.0478547854785478, 1.25, 1.0, 1.1010560901196902, 1.0639202981741551, 1.2, 1.1989730423620026, 1.119598617246015, 1.1600022481334007, 1.0112743423300308, 1.1545988258317026, 1.0282909930715936, 21.125, 1.3923076923076922, 10.2, 1.0909090909090908, 1.0008361204013378, 1.1134681795757277, 1.0178934633188386, 1.011703511053316, 1.0066833751044277, 1.2042854171000623, 1.0420911396358232, 2.0, 1.0762074240579438, 1.5, 1.4, 1.8695652173913044, 1.0, 1.0630440825761898, 1.0064897177894014, 1.107856810785681, 1.0399164824367477, 1.0107085428854905, 1.2470588235294118, 36.0, 1.1082217973231359, 1.0034300546954669, 1.0046912804979407, 1.1947712418300653, 4.195208805438654, 1.1608695652173913, 1.0275681950087057, 1.0384615384615385, 97.52150537634408, 1.125, 1.0177474402730375, 1.4, 1.3288288288288288, 1.3, 1.0588235294117647, 1.0709612481127329, 1.0902618559189092, 1.0396584165581126, 1.1957671957671958, 1.294871794871795, 1.0295652789327483, 1.7037037037037037, 1.1240180241455535, 1.125, 1.0801526717557253, 1.2135922330097086, 3.75, 1.0547118847539017, 1.0857751731486414, 70.64406779661017, 1.5454545454545454, 1.5751611808618935, 1.0140421263791375, 1.136686714051394, 1.5900383141762453, 1.1314244638792381, 1.197252208047105, 1.0568576904160236, 1.1513513513513514, 1.2524271844660195, 1.0870147255689424, 1.1203801478352693, 18.416666666666668, 1.0, 1.5833333333333333, 1.0631341600901916, 1.0923076923076922, 1.3596187175043328, 1.6666666666666667, 21.0, 1.0942538238941713, 1.345313346577569, 1.212645202355063, 1.0794178581476839, 1.033215152080612, 1.1951219512195121, 1.0117508813160987, 1.2608047690014903, 1.4198606271777003, 17.73469387755102, 1.5872563005230622, 1.16, 4.0, 1.035338314127728, 2.247098464994384, 1.041607898448519, 1.0073939781735453, 1.4375, 1.0162564431817296, 1.050072719717432, 1.112472664203303, 1.0776545166402536, 1.0470900748611447, 1.5, 2.375, 1.27803738317757, 1.0341530710696465, 1.0675209462789552, 1.308641975308642, 1.140491303908936, 1.0, 1.1045011845222428, 1.0239234449760766, 1.0, 1.0530973451327434, 1.8571428571428572, 1.0783938814531548, 1.024308216013242, 1.0496488549618321, 1.1071428571428572, 1.5, 1.0436628259551244, 1.0, 12.0, 1.377045555064131, 1.0833333333333333, 1.059610705596107, 1.03089999118088, 1.1009445731598646, 5.0, 1.019718309859155, 1.0935314480855145, 1.086286594761171, 1.0140845070422535, 1.1666666666666667, 1.0615384615384615, 1.541329581428069, 3.0, 1.2333637192342752, 1.0074280408542247, 1.0927717700626067, 1.2751014646197283, 1.5, 1.763386766712142, 1.0579896907216495, 1.192, 1.1875993640699523, 1.0, 1.0611419909044972, 1.1029086621136932, 1.124213968307202, 1.0594227504244482, 1.08994708994709, 1.2131147540983607, 1.1705426356589148, 1.0228091236494599, 1.8571428571428572, 1.05312530434952, 1.2363636363636363, 1.1476683937823835, 1.0623003044622057, 1.0560681334279631, 1.0628505916554067, 1.3479052823315119, 1.1475728155339806, 1.0649493442236708, 1.1235129461161653, 1.2208800690250217, 1.1246882793017456, 1.0196433186869993, 1.0619556611243073, 1.0012787396741771, 1.1028571428571428, 14.0, 1.0145499972443186, 1.105471206540293, 1.2915129151291513, 1.154782608695652, 1.1092233009708738, 2.0, 1.011049723756906, 1.0502685551937951, 2.1, 1.3777239709443099, 1.3342245989304813, 1.3002690083794564, 1.1147537976076907, 1.1352169525731584, 1.0732162756377435, 1.1703898619448327, 1.2031326480665687, 1.42370412754558, 1.2022679935200185, 1.06250368373694, 1.1380775358470525, 1.0837609811255111, 1.0422535211267605, 1.09375, 2.8275862068965516, 1.0, 1.2121212121212122, 1.3459776433938062, 1.3234421364985163, 1.1296296296296295, 1.222936233316856, 1.6428571428571428, 1.0774237040171255, 1.038876889848812, 1.0119225967540575, 1.1, 1.0722543352601157, 1.0309194467046379, 1.2713395370210812, 1.2177864887788552, 1.1818181818181819, 1.0311710193765795, 1.0659629744612016, 1.460480649597276, 1.008108108108108, 1.0669934640522876, 1.030885780885781, 1.1347706924904075, 1.6633663366336633, 1.009652361621987, 1.109441369052183, 1.0805970149253732, 1.0982986767485823, 1.0475651189127972, 4.0, 1.2298467688207861, 2.0, 1.0401701323251418, 1.1070448307410796, 1.201833073322933, 1.16793893129771, 1.1666666666666667, 2.0, 1.0430285838970106, 1.3454545454545455, 1.1266523758485174, 1.2, 21.932173913043478, 1.072, 1.0, 1.072843684817738, 1.0818181818181818, 1.0698080279232112, 1.5475409836065575, 1.2771418661116891, 1.0472007552120834, 1.1492537313432836, 2.0, 1.0923661403300486, 1.0890966503622066, 1.0905109489051095, 1.037364727840491, 1.1735594053323504, 1.326904081796097, 1.3282988871224166, 1.0497032120455214, 1.2476076555023923, 1.862364001267561, 1.252118383888002, 1.4545454545454546, 1.0547853332914165, 1.1087420042643923, 1.4318181818181819, 1.5909090909090908, 1.0393412625800549, 1.0628272251308901, 1.0134181887169935, 1.0439919822766115, 1.105849582172702, 1.1487889273356402, 1.0160860535287433, 1.0461095100864553, 1.0115164321481713, 1.0644602691014826, 2.0, 9.617109900672862, 1.0203829524397776, 1.0071605463978754, 1.0813076923076923, 1.0419034562059128, 1.4109067850348764, 1.418558077436582, 1.248147630364882, 1.040474669714593, 1.0891316025067144, 1.0450944628954102, 1.0404312668463611, 17.0, 1.3636363636363635, 1.301113905856989, 20.125, 1.24945295404814, 1.1167721850146506, 1.0872387980274594, 1.5142857142857142, 1.2105263157894737, 1.4230769230769231, 1.1366375121477161, 1.2346277992742436, 1.1428571428571428, 1.333099677555026, 1.033684430076129, 1.0995575221238938, 25.333333333333332, 1.5, 1.0052321778940485, 1.4285714285714286, 1.033012265879479, 1.1721611721611722, 1.3529411764705883, 1.1095848630330416, 1.5238095238095237, 1.0769230769230769, 1.0033683376263127, 2.0, 1.4423076923076923, 1.0034482758620689, 1.0066093853271645, 1.1902313624678664, 1.0611353711790392, 1.0421052631578946, 1.1770229047102012, 1.0776672991438092, 18.630856460757983, 1.0500319988622626, 1.0470687881904532, 3.0, 1.1111111111111112, 1.1766260235922226, 1.5, 1.1319770474700053, 1.6470588235294117, 1.0, 1.2222222222222223, 1.3430962343096233, 1.1475265017667844, 1.2777777777777777, 1.007654455986878, 1.5606060606060606, 2.3333333333333335, 1.0585908103807866, 23.916666666666668, 1.1408450704225352, 1.0081115765514903, 1.1762295081967213, 1.0007315288953913, 1.1858407079646018, 1.75, 1.0, 1.288676236044657, 1.1323529411764706, 1.1670403587443947, 1.0682800020093435, 1.2571253822629969, 1.1482479784366577, 1.5, 1.023863777483199, 3.0632911392405062, 1.3703703703703705, 4.0, 1.373134328358209, 1.0, 1.0333333333333334, 1.4528301886792452, 1.1165354698558783, 1.0684680951394296, 1.1025260029717683, 1.2847986767974362, 1.3428985974528453, 1.2168141592920354, 1.124394184168013, 1.1303566360798412, 1.167785234899329, 1.105263157894737, 1.1058753804110084, 1.0385578933489046, 1.0657718120805368, 1.0048076923076923, 1.2571428571428571, 1.2229166666666667, 2.0, 1.1666666666666667, 1.725, 1.1356877323420074, 1.4295774647887325, 1.1237113402061856, 1.09640522875817, 3.8294573643410854, 1.0214978594266515, 1.065217391304348, 1.0738206398422372, 1.2, 1.03125, 1.1033519553072626, 1.0, 1.1088789536299344, 1.34, 1.3352971833858285, 1.0352630432414769, 2.5455246913580245, 1.395932634254846, 3.125, 1.1882510013351135, 1.1666666666666667, 1.0066445182724253, 1.25, 1.135449724668762, 1.1544117647058822, 1.483922572388418, 1.0249221183800623, 1.0225035161744023, 3.0, 1.2233666862860506, 1.016595923674047, 1.0710974609412258, 2.0, 1.0512820512820513, 1.5441458733205373, 1.282857142857143, 1.0964035218624086, 1.125461151740993, 1.0, 1.186131386861314, 1.0209626578484268, 1.0606487318454965, 1.1273043622353867, 1.0752451809266148, 1.2283105022831051, 18.38235294117647, 1.026027397260274, 1.0565769738867865, 1.305084745762712, 1.1306209850107067, 1.0, 1.5, 1.2726114649681528, 1.038910505836576, 1.1534713763702802, 1.1309799684385617, 1.006335282651072, 1.0, 1.3644067796610169, 1.206896551724138, 1.0767875529115662, 1.3333333333333333, 1.0, 1.0391585530523773, 1.0, 1.0, 1.006355140186916, 2.0, 1.0050393700787401, 1.1863799283154122, 1.2327868852459016, 1.0833333333333333, 1.1101490863513424, 1.0415647921760391, 1.25, 1.3184, 1.2727272727272727, 1.0390879478827362, 1.013080444735121, 1.217048955837042, 1.0050014289797085, 1.0, 1.135135135135135, 1.1116620084155657, 1.0644000719553877, 1.1440217391304348, 1.0, 1.106308626080559, 1.014860432061355, 1.2352016762702986, 2.0, 1.2416267942583732, 1.0590211033256858, 1.2088497659493038, 1.03245308211557, 1.0619054265502068, 1.1155593412833618, 1.1047197640117994, 1.0970748636588994, 1.5, 1.5491556595886975, 14.156686626746508, 1.0741638390693165, 1.0307112068965518, 1.3197831978319783, 1.0015628342153744, 1.1458823529411766, 1.079612495057335, 1.1753958587088915, 1.057484959185482, 5.19811320754717, 1.101760668457177, 1.095, 1.2, 1.3055555555555556, 1.0973863951407616, 1.3061224489795917, 1.7846226688060605, 1.133260660684284, 2.6666666666666665, 1.3231939163498099, 1.8093841642228738, 13.9, 1.3636363636363635, 1.0570502069696026, 1.093189964157706, 1.0251328156926849, 1.0, 45.92307692307692, 1.2229544206479956, 1.1145355012664433, 1.2555183946488295, 1.0180706574314127, 1.1163522012578617, 1.0567272727272727, 1.2108433734939759, 1.0423266138708904, 1.8344827586206895, 1.0060242803695503, 21.61111111111111, 1.2307692307692308, 1.0634146341463415, 1.295054484492875, 1.1781834640917321, 1.0692450052833138, 1.0673339208527424, 1.0193730186685452, 1.02652683528686, 1.281661858342971, 2.0, 1.1316614420062696, 2.5361451995462514, 1.029700272479564, 2.142857142857143, 1.0259067357512954, 1.4115232577029295, 1.1707021791767553, 1.0539765581769707, 1.4838976052848885, 1.1722158438576349, 1.5, 1.0074349442379182, 1.2857142857142858, 1.1259706643658327, 1.1526104417670682, 1.5, 1.0989896811755977, 1.588235294117647, 1.076215505913272, 1.0740244913491988, 1.074665797195957, 1.0588235294117647, 1.0678055190538764, 1.1008094186902133, 1.1651566140305463, 1.2515076268180205, 1.3398246329526917, 1.3032209331145916, 4.333333333333333, 1.1422594142259415, 22.54595791805094, 21.0, 1.0, 1.016548463356974, 1.1111111111111112, 1.6, 1.0141342756183747, 1.1742278771781849, 1.2564450474898237, 1.217125382262997, 1.0691489361702127, 1.0912851007598283, 1.0370193170264936, 1.150278293135436, 1.0, 15.6, 1.0348951507208388, 1.0692640692640694, 1.074668807707748, 1.0042220814861726, 1.0, 1.3610243597751406, 1.2069716775599129, 1.0700377557581653, 1.1050359712230216, 1.2552189609166535, 1.149056483893513, 1.963235294117647, 1.0, 3.169585253456221, 1.2341932220536167, 1.6666666666666667, 1.0003571124904345, 3.0, 1.3440324663346246, 1.0754916269780304, 1.7142857142857142, 1.0181314836786224, 1.0625, 1.0952380952380953, 1.0326236845288497, 1.0007649646203862, 1.063774552733642, 1.0000173101723229, 1.173396674584323, 1.1176470588235294, 1.0689655172413792, 1.0778145695364238, 1.2692307692307692, 2.77646656404994, 1.6941487939241588, 1.0455193160227993, 1.0, 1.0457329339711208, 22.2, 2.0, 1.1116231390657476, 1.1094049766629441, 1.0640569395017794, 1.0059616374770328, 1.0325235436286357, 1.1134751773049645, 2.5714285714285716, 1.213769494104222, 1.1355599214145382, 1.1083061431143115, 1.2123448507212344, 1.0000238485900714, 1.0484963787698627, 1.151197604790419, 1.112216884008236, 1.4648829431438126, 1.0736440611060671, 1.0312655086848634, 1.3251811594202898, 1.1087719298245613, 21.111969111969113, 1.039714058776807, 1.19333986287953, 1.12, 1.6, 1.066831683168317, 1.3293103448275863, 1.0732758620689655, 1.099009900990099, 1.1666666666666667, 1.1741198858230257, 1.1780477586929199, 1.0175438596491229, 1.0507034396429737, 2.0, 1.209142558299855, 1.5, 1.27803738317757, 1.1538461538461537, 1.0185682520430852, 1.1612903225806452, 1.1849315068493151, 1.025041736227045, 1.0, 1.024221370388117, 1.0595980595980596, 1.75, 2.0, 1.1203007518796992, 1.187150837988827, 1.0639873083024856, 1.018887722980063, 1.091937765205092, 1.2047457627118645, 1.0405727923627686, 1.625, 1.1603053435114503, 1.3755102040816327, 1.3076923076923077, 1.0, 2.6923076923076925, 1.1185185185185185, 1.09375, 1.0961458765022793, 1.0897776859717525, 1.092185410785916, 1.0691833920637352, 1.1169149031430021, 1.3287037037037037, 1.1797696544817227, 1.7, 1.0, 1.0303030303030303, 1.0345492085340675, 10.59318637274549, 1.3398692810457515, 1.0333333333333334, 1.0679245283018868, 1.0275010189755898, 1.025356589147287, 1.0897435897435896, 1.0476190476190477, 16.661040303134687, 1.019013698630137, 1.1315471178136722, 1.0301418439716312, 1.1710526315789473, 1.0781231104123836, 1.3297145996285349, 1.0056088510405445, 1.0709583028529628, 1.0746723064051316, 1.0205479452054795, 1.0180283851169927, 1.0468262226847034, 1.0320386350001343, 7.111111111111111, 25.9781050955414, 1.0, 1.4173553719008265, 1.062311023943777, 1.044776119402985, 1.0630349477232626, 1.0035810205908684, 1.175, 1.248583857540763, 1.2443042537851479, 1.0747405753316694, 1.2452290076335877, 1.0811567164179106, 1.0042447223951554, 1.0321428571428573, 1.4285714285714286, 1.0, 1.1111111111111112, 1.2913649025069638, 1.6666666666666667, 1.053297573362626, 1.104257393565161, 1.0794701986754967, 1.0283733677252942, 1.0433857076634054, 1.0107697740112995, 1.2580645161290323, 1.0494699646643109, 1.02522957234842, 1.1382832335213287, 1.1549744745104618, 1.2353364966586342, 1.75, 1.0808823529411764, 1.0766773162939298, 1.0644427702438752, 1.289902280130293, 1.0704129993229519, 1.049204052098408, 1.78125, 1.030818278427205, 1.0365726227795193, 1.2921052631578946, 1.4375, 1.0710127999221297, 1.0314365230167195, 1.1200883002207505, 1.2795789473684211, 1.2571428571428571, 1.0535714285714286, 1.0360980765842955, 1.018489360043651, 1.0998463901689708, 1.007707152246898, 1.0571428571428572, 1.0244963852039026, 1.0968342644320297, 1.0968586387434556, 1.0295997309115372, 1.0113438045375218, 1.0076923076923077, 1.0350877192982457, 1.0072388550013023, 1.2990762124711317, 1.0486873423567444, 1.1102015066054811, 1.3076923076923077, 1.1160220994475138, 1.0959613393165344, 1.0274623445766082, 50.629629629629626, 1.0892857142857142, 1.2416582406471184, 1.0824195259992926, 1.0355329949238579, 1.0418071036412315, 14.28888888888889, 1.343661971830986, 1.0306220864812732, 1.0352570828961176, 1.1597744360902256, 1.0567723309526018, 1.1340270966159882, 1.0374193548387096, 1.1492842535787322, 1.0972295589561882, 1.1153474903474903, 1.1368584758942457, 1.0316742081447965, 1.043929225137279, 1.0865702963438362, 1.3333333333333333, 1.75, 1.1420477455774858, 1.0330628859413507, 1.020076481835564, 1.2329545454545454, 1.3218946350894152, 1.005071729569162, 1.4219848186674164, 1.038917089678511, 1.6153846153846154, 1.080045740423099, 1.3333333333333333, 1.365625, 1.5, 1.0355090348964995, 1.4340931615460852, 23.205139186295504, 2.537037037037037, 1.0152143845089903, 1.0711688311688312, 1.2823529411764707, 1.5, 1.2546399406087603, 1.2608695652173914, 1.9509098603470165, 1.1666666666666667, 1.045844948003991, 1.1147058823529412, 1.132856290995826, 1.5473684210526315, 28.76923076923077, 1.5743266876530255, 1.0767164942594065, 1.0313236369545786, 1.1852986217457886, 1.096774193548387, 1.0625, 1.15, 1.3108108108108107, 1.0777777777777777, 1.462809917355372, 1.0071184244480682, 1.020805705181701, 1.103448275862069, 1.065341196293176, 1.099075255479931, 2.5, 1.0511848587884256, 1.1311977715877437, 1.5, 2.0, 1.1123046875, 1.0124174071542493, 1.0785784891683639, 1.1175059952038369, 1.0, 1.1223021582733812, 1.3222506393861893, 9.862068965517242, 1.3597614453604632, 1.109953861694286, 1.0587523989062686, 1.1210374639769451, 1.4285714285714286, 1.021562445849334, 1.2641363284275755, 1.0276845637583893, 1.4666666666666666, 1.2666666666666666, 1.0, 1.0573529411764706, 1.0175671196552867, 1.2523612808130176, 1.019622641509434, 1.407514450867052, 1.1390812812682736, 1.098942598187311, 1.087719298245614, 1.0, 1.0421988310423207, 1.3039489429597129, 1.0633859921646784, 1.2484472049689441, 1.1951219512195121, 1.2465753424657535, 1.0, 1.1152657601977751, 1.0225563909774436, 1.0140933023141911, 1.022279348757498, 1.5, 1.1407495336611837, 1.1241711874623268, 1.1787934186471665, 1.199848828420257, 1.9908959414617544, 2.521693674856247, 1.117300380228137, 1.0876494023904382, 1.1458333333333333, 1.0374950922654103, 1.0832185666921703, 1.1648158971361777, 1.1051752921535893, 1.6666666666666667, 1.024390243902439, 1.0096673395626579, 1.0417910447761194, 1.00128500019275, 1.0890647765308132, 1.0295683027794205, 2.0, 1.0993723849372385, 1.0277577876015216, 1.1192342752962625, 1.13946587537092, 1.0700080169224677, 1.0255681818181819, 1.3367065317387306, 1.0393474088291748, 1.0113532373285612, 1.8395303326810175, 1.217741935483871, 1.1434058898847632, 1.1875, 1.1312271208021645, 1.1158369490751312, 1.2164839597570236, 1.9922217790187475, 1.137859007832898, 1.0140845070422535, 17.121951219512194, 1.0064102564102564, 3.0, 2.5, 1.411764705882353, 1.2020460358056266, 3.8607594936708862, 1.0396169193934557, 1.0239563542186323, 1.784655212991292, 1.015668044077135, 1.2253521126760563, 2.0, 1.0344061831401585, 2.0, 1.5833333333333333, 1.14069731564332, 1.125, 1.0739856801909309, 1.1149425287356323, 1.0419705313290668, 1.0797768884376258, 2.0, 1.0270628814009022, 1.0959902794653706, 1.101251959136658, 1.0334213449387257, 8.513686131386862, 1.3613013698630136, 1.0577181469437034, 1.1250499600319743, 1.0362903225806452, 1.4507042253521127, 1.0664375715922108, 1.0, 5.0, 1.0695003035025257, 5.0, 1.0833333333333333, 1.4210526315789473, 1.0169660678642714, 1.184203258768296, 1.0879120879120878, 1.0258302583025831, 1.5708824121225253, 1.2272727272727273, 1.25, 1.2]
origin-bjaq_15.71 	max: 97.5215	99th: 22.5525	95th: 3.1986	median: 1.1164	mean: 2.0968

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.085052 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[4.3541193e-04 1.1920929e-07 1.7881393e-07 1.1920929e-07 5.9604645e-08]
Distance score: 8.71777519932948e-05
SAUCE Drift detection: True
Detection latency: 0.0386s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.6095 nats / 39.8321 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.090622 | Model-update-time: 2.519886


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 190.8000	99th: 27.6794	95th: 5.0003	median: 1.1323	mean: 2.5439
ReportEsts: [1.0897097625329815, 1.0227459016393443, 1.0549494625381037, 1.1035058430717863, 1.2, 1.0, 1.0391481764855903, 1.0490852480456558, 1.2, 1.220795892169448, 1.1589788489009722, 1.209305542945833, 1.0455773126266037, 1.1226415094339623, 1.1051034482758622, 24.92, 1.5153846153846153, 12.2, 1.0, 1.1869983948635634, 1.1542920572274298, 1.0104676386016245, 1.0696452036793693, 1.0296950240770466, 1.2427917620137299, 1.0290525901122711, 2.0, 1.0858543286191502, 1.2, 1.6, 2.0, 1.0, 1.0696008692197065, 1.0004217917616511, 1.2190986166889781, 1.2056980730582811, 1.0299911989709567, 1.2687927107061503, 45.0, 1.0887940234791889, 1.132026955133889, 1.007248822954606, 1.17359413202934, 5.006418485237484, 1.2630434782608695, 1.0119709537264912, 1.0769230769230769, 119.77777777777777, 1.2067307692307692, 1.0071382219338092, 1.6, 1.2682926829268293, 1.335, 1.0277777777777777, 1.0245453916891378, 1.0628693853427895, 1.0322847682119205, 1.2148337595907928, 1.3461538461538463, 1.0515069939754864, 1.6666666666666667, 1.1243274090983206, 1.1763698630136987, 1.1666666666666667, 1.2685185185185186, 4.5, 1.1383446993180408, 1.0098135426889108, 88.13559322033899, 1.6363636363636365, 1.5907702748557855, 1.0009661835748793, 1.1869874248223073, 1.7022058823529411, 1.0760964592743698, 1.3002028397565923, 1.0821327566128764, 1.1809954751131222, 1.1944444444444444, 1.1249079456944577, 1.0202205882352942, 22.35135135135135, 1.0, 1.4615384615384615, 1.0660888407367282, 1.1911764705882353, 1.286549707602339, 3.0, 26.0, 1.1064617917409796, 1.4043705977966408, 1.3475537497883867, 1.0660268525563927, 1.11286277319957, 1.1345646437994723, 1.028921023359288, 1.0184921763869133, 1.173734610123119, 21.0, 1.6742748454588683, 1.24, 6.0, 1.074361254851229, 2.3755916159567274, 1.0256756756756757, 1.0288648152722397, 1.5806451612903225, 1.0173712605439889, 1.1105610561056105, 1.3362536323025545, 1.119939117199391, 1.061634349030471, 1.5, 2.3333333333333335, 1.3464953271028037, 1.088400563677999, 1.0839981229469733, 1.353658536585366, 1.1878818827972377, 2.0, 1.1216250315417613, 1.0861244019138756, 1.0, 1.0862068965517242, 1.75, 1.0576576576576577, 1.023100728257396, 1.022507138458093, 1.1607142857142858, 1.5, 1.0, 1.0, 14.0, 1.0972930785045305, 1.0, 1.0616465079984394, 1.2769230769230768, 1.061890876029759, 1.1825962910128387, 1.0026666666666666, 1.0509608701976694, 1.1501547987616099, 1.0273972602739727, 1.3333333333333333, 1.0808823529411764, 1.6000703482237073, 3.0, 1.2835004557885141, 1.0347666971637695, 1.0534391534391534, 1.370742897476619, 1.5, 1.7898141879184533, 1.053416149068323, 1.236, 1.2755267423014587, 1.0, 1.0237748665696265, 1.1381422252466826, 1.1788648716976362, 1.0688524590163935, 1.0831234256926952, 1.265625, 1.305084745762712, 1.0183908045977013, 1.5714285714285714, 1.0539698315964892, 1.2698961937716262, 1.2308707124010554, 1.067177263911323, 1.0501852475581004, 1.0704675739968021, 1.329225352112676, 1.1647940074906367, 1.0404472459852918, 1.1038703274892492, 1.2959447799827437, 1.0146561443066517, 1.0113524185587364, 1.1264768312707758, 1.0490664350846721, 1.1420765027322404, 1.050743437386671, 1.1040609137055837, 1.016260162601626, 21.552423900789176, 1.2440944881889764, 1.3793103448275863, 1.1766169435554097, 1.6681656804733729, 1.1235931782089346, 1.103448275862069, 1.0969798657718122, 1.0672607516466486, 1.0, 1.2727272727272727, 1.0238772213247174, 1.062857142857143, 1.002710027100271, 1.2730496453900708, 1.0670200681560016, 1.135949544498949, 1.0940382975424452, 1.1874668082846522, 1.0776397515527951, 1.0572519083969465, 2.9855397727272726, 1.182307058059526, 1.2380952380952381, 1.0256410256410255, 1.2975563009103976, 1.3581661891117478, 1.1929824561403508, 1.2753336628769154, 1.6, 1.0757013588561168, 1.027542372881356, 1.1051363863863863, 1.3855421686746987, 1.173913043478261, 1.012468193384224, 1.3174220230915044, 1.2482864543933245, 1.173913043478261, 1.017585931254996, 1.0878917579919414, 1.5629061897718615, 1.0052083333333333, 1.065217391304348, 1.0207197382769901, 1.182093915585602, 1.7227722772277227, 1.0084781178311668, 1.0840595697738555, 1.0797720797720798, 1.015126050420168, 1.0556161395856052, 4.5, 1.2138728323699421, 2.0, 1.0108695652173914, 1.0415717539863325, 1.1805945036455412, 1.125, 1.25, 2.0, 1.1331548639868378, 1.4181818181818182, 1.1020408163265305, 1.2, 26.100066711140762, 1.0, 1.1428571428571428, 1.1418875960382084, 1.069767441860465, 1.1209341117597997, 1.6539682539682539, 1.3314494680851063, 1.0861836252645787, 1.125, 2.0, 1.058108272753117, 1.014713203163892, 1.1496503496503496, 1.064816196587574, 1.1235524715000225, 1.438707633829585, 1.4006359300476947, 1.0215512058253724, 1.2870813397129186, 2.4814133235185865, 1.1901019280363503, 1.1236559139784945, 1.1929538468758065, 1.1428571428571428, 1.5, 1.7272727272727273, 20.59310074480596, 6.0, 1.0865057405463856, 2.0, 1.0096194716596179, 1.4452133794694348, 1.0849358974358974, 1.009457248245833, 1.0615079365079365, 1.0337624645534063, 1.066603032253768, 2.2, 11.344393241167435, 1.1199524940617578, 1.0175234517571476, 1.035427672702343, 1.0446128244166697, 1.0297308488612837, 1.4846461949265688, 1.24555548424363, 1.077499219806512, 1.1002915951972556, 1.0441032725566604, 1.0936093609360935, 21.5, 1.4545454545454546, 1.3562702120014374, 24.75, 1.2954048140043763, 1.1629164836543893, 1.0474520883684515, 1.4722222222222223, 1.2203389830508475, 1.844155844155844, 1.1076923076923078, 1.3065576923076923, 1.0869565217391304, 1.4507219963549698, 1.0233492358489964, 1.210126582278481, 31.333333333333332, 3.5714285714285716, 1.0308397582829756, 1.5714285714285714, 1.041337300507313, 18.361671469740635, 6.0, 1.0458284572570287, 1.195, 1.0769230769230769, 1.023914430805996, 2.0, 1.5408805031446542, 1.0200892857142858, 1.0226843100189036, 1.181159420289855, 1.063157894736842, 1.030612244897959, 1.1984628638356774, 1.065390718861027, 22.1487106017192, 1.0323241795043536, 1.0611356281259194, 3.0, 1.2222222222222223, 1.2243523046509208, 1.5, 1.1799687010954616, 1.7058823529411764, 1.25, 1.1578947368421053, 1.4473049074818987, 1.1863957597173145, 1.3076923076923077, 1.022857142857143, 1.6363636363636365, 2.6666666666666665, 1.0720491364259233, 29.25, 1.0945945945945945, 1.000598602333157, 1.2088353413654618, 1.0020979020979022, 1.2422566371681416, 1.75, 1.0, 1.3225806451612903, 1.0955882352941178, 1.1223021582733812, 1.1221931983724318, 1.2629482071713147, 1.0873015873015872, 1.5, 1.0314685121107265, 3.2823529411764705, 1.6521739130434783, 6.0, 1.2110552763819096, 1.0, 1.341025641025641, 1.4867256637168142, 1.1269708606279647, 1.1004108025345354, 1.0811554332874829, 1.3980517815944629, 1.4056101886184105, 1.2393162393162394, 1.1663974151857834, 1.121729341056416, 1.1348837209302325, 1.25, 1.1180491211107977, 1.0472878998609179, 1.1325136612021858, 1.1013824884792627, 1.3428571428571427, 1.2525458248472505, 2.0, 1.2142857142857142, 1.0411368735976065, 1.1687388987566607, 1.0876288659793814, 1.2395833333333333, 1.0736196319018405, 4.402985074626866, 1.0063061650992686, 1.1101147776183644, 1.0420178581584485, 1.2621359223300972, 1.0290678249248246, 1.1284916201117319, 1.0, 1.128093396638762, 1.2884615384615385, 1.3945299222768575, 1.0307284154131464, 2.775785834874186, 1.4569431204321577, 3.625, 1.1454693214140592, 1.1666666666666667, 1.0365079365079366, 1.3333333333333333, 1.150571353676178, 1.1788235294117646, 1.630575736270604, 1.0382352941176471, 1.062015503875969, 3.0, 1.4126055880441846, 1.003247533701275, 1.1818714199440001, 2.0, 1.0632911392405062, 1.5806142034548945, 1.4707692307692308, 1.1280032830920759, 1.118237347294939, 1.0, 1.1306179775280898, 1.0034114506081282, 1.0463935086252285, 1.0781623137864371, 1.1148304329749956, 1.2543383947939262, 21.97142857142857, 1.0624434389140271, 1.0905801930803358, 1.560747663551402, 1.0620239390642001, 25.0, 1.5, 1.1627200971463267, 1.065891472868217, 1.198944376776289, 1.0914812746073048, 1.0166358595194085, 1.0, 1.376, 1.2666666666666666, 1.0381306672866775, 1.4166666666666667, 1.0, 1.06891721529626, 1.0, 1.0, 1.0249266862170088, 4.5, 1.0111144487834185, 1.246415770609319, 1.321311475409836, 1.0769230769230769, 1.0459558823529411, 1.1871859296482412, 1.0039353769676884, 1.0, 25.662650602409638, 1.3181818181818181, 1.1424116424116424, 1.0139416983523448, 1.0660637161216535, 1.0043010752688173, 1.0, 1.2027027027027026, 1.1381404190676636, 1.1476884331714337, 1.1974637681159421, 1.0, 1.1159957627118644, 1.0409901805648885, 1.288632792037716, 2.0, 1.299043062200957, 1.0511945392491469, 190.8, 1.2477231329690346, 1.0480477373068433, 1.1192374168543444, 1.0628378378378378, 1.1010194624652456, 1.5, 1.6457383096021894, 16.898843930635838, 1.0947666195190948, 1.0290964777947933, 1.4015748031496063, 1.0134423095369613, 1.082618025751073, 1.0447394557874705, 1.0289148797920729, 1.0989235283150323, 6.0, 1.141237138014181, 1.0988274706867671, 1.24, 1.4202898550724639, 1.074364287742489, 1.3724489795918366, 1.970375112021508, 1.1883045733197728, 3.3333333333333335, 1.2085463842220598, 1.858356940509915, 16.8, 1.5909090909090908, 1.0240651977893498, 1.05, 1.022300469483568, 1.0, 56.92307692307692, 1.2762218561230094, 1.2064582012817804, 1.359375, 3.0, 1.0833333333333333, 1.0466582597730139, 1.1734513274336282, 1.0977443609022557, 1.1531823085221145, 1.0779816513761469, 1.0087336244541485, 1.4496350364963504, 1.164835164835165, 1.0775142094884584, 13.75, 1.0221056972839215, 2.0, 1.1717506631299734, 1.2976190476190477, 1.1047367891040003, 1.1071428571428572, 1.0198019801980198, 1.0239234449760766, 1.1605839416058394, 1.1226190476190476, 1.0, 1.3653846153846154, 1.0, 1.0, 1.4204545454545454, 1.2413793103448276, 1.0012755102040816, 1.3640776699029127, 1.3463633450817045, 1.3333333333333333, 1.060651355313461, 1.0804082035101559, 1.1048839786906932, 1.079244198577484, 1.0235604025401588, 1.0977329974811083, 3.217416115042228, 1.1897281312874561, 1.0056285178236397, 1.1284796573875804, 1.1141868512110726, 1.4097222222222223, 1.0079565871007956, 1.164079822616408, 1.390480460638097, 1.0718232044198894, 1.1162477558348294, 1.2061855670103092, 21.736842105263158, 1.0196078431372548, 1.6666666666666667, 1.0070621468926553, 1.2172058108764918, 1.4884662713950105, 1.0556592039800996, 1.0621601604133173, 1.5208333333333333, 1.0244036194132164, 1.0724613029426773, 1.2429577464788732, 1.0125, 1.0300332068858167, 1.2927677329624478, 1.3684849957477827, 1.5, 1.3328445747800586, 1.1094429989177739, 1.006715868667457, 1.2307692307692308, 1.0414388139506623, 1.3333333333333333, 1.304325403054017, 1.1340036563071298, 2.1286764705882355, 1.0, 3.485256226739193, 1.287556904400607, 1.6666666666666667, 1.0458124309157384, 3.0, 1.4030249110320285, 1.0530451866404715, 1.7142857142857142, 1.0174481370174773, 1.1875, 1.0909090909090908, 1.0622647699144077, 1.0203396155999254, 1.059169026535413, 1.0000145181227653, 1.190023752969121, 1.0857142857142856, 1.206896551724138, 1.0443740095087164, 1.3583617747440273, 3.364003511852502, 1.82237873685834, 1.0920677644078531, 1.0, 1.0736792533607329, 29.342733188720175, 2.0, 1.1510013302476447, 1.082301419510722, 1.0806993947545394, 1.0178039835694022, 1.008398939901785, 1.1748251748251748, 2.2857142857142856, 1.1551920882464815, 1.1358629130966953, 1.092001780679626, 1.2336173001310615, 1.0048423160811535, 1.063975101223803, 1.2611190817790532, 1.145429833503228, 1.5016722408026757, 1.061703052888999, 1.009510223490252, 1.4411231884057971, 1.0025305778152678, 23.552859618717505, 1.0401819560272934, 1.281488736532811, 1.0, 1.6, 1.15, 1.277900552486188, 1.0484490398818316, 1.0880503144654088, 1.25, 1.2483349191246431, 1.23292836196062, 1.010928961748634, 1.036883696063218, 2.0, 1.2937717998670135, 1.205298013245033, 1.280373831775701, 1.1538461538461537, 1.0651764445183092, 1.125, 1.0849673202614378, 1.0319148936170213, 1.0, 1.0458321858073993, 1.051667756703728, 1.75, 1.3333333333333333, 1.1353383458646618, 1.1796246648793565, 1.0435431699427717, 1.0461699895068206, 1.0750670241286864, 1.2306201550387597, 1.0067567567567568, 2.2857142857142856, 1.2373540856031129, 1.9918367346938775, 1.3076923076923077, 1.0, 3.494240837696335, 1.1795481569560047, 1.2576754385964912, 1.0315917971745279, 1.1087035066942332, 1.0879432624113474, 1.0608023966165414, 1.0345152988275665, 1.3140407288317255, 1.6153846153846154, 1.5769230769230769, 3.5, 1.335, 1.0037844374785658, 12.367088607594937, 1.3954248366013071, 1.0352697095435686, 1.0064461714561117, 1.0411137961335677, 1.0130126260154644, 1.1153846153846154, 1.0, 19.24365155898425, 1.0602199157332237, 1.1928347240297021, 1.0256004109764973, 1.263157894736842, 1.073177791929601, 1.3920496894409937, 1.0039414058383391, 1.0667134831460674, 1.081168517982622, 1.0627177700348431, 1.037509377344336, 1.049049049049049, 1.0422091503645086, 6.833333333333333, 1.3727272727272728, 1.2056336607991702, 1.0569734151329244, 1.1628577041451116, 2.2222222222222223, 1.032258064516129, 1.0377777777777777, 1.3165829145728642, 1.0583161219778885, 1.166513824855847, 1.0178275542945177, 1.1310447649931046, 1.3147848592688451, 1.186246418338109, 1.0444939134355276, 1.0857142857142856, 1.6428571428571428, 1.0, 1.1111111111111112, 1.3490614024464092, 1.6666666666666667, 1.0880745604744757, 1.0698899192465767, 1.015900751354185, 1.0200153964588146, 1.0608190328076121, 1.100973338975878, 1.3154121863799284, 1.0329920364050056, 1.0081288321114477, 1.123191232469583, 1.213675910169451, 1.1996951219512195, 1.875, 1.1642857142857144, 1.0018326206475259, 1.104108204439361, 1.3745928338762214, 1.0162845511034926, 1.166158536585366, 1.7272727272727273, 1.0613038094187173, 1.041708043694141, 1.3361004784688995, 1.375, 1.0641034613069829, 1.0232158991290679, 1.0526970954356847, 1.3347368421052632, 1.5666666666666667, 1.0580357142857142, 1.038502446288024, 1.002084281289906, 1.0704845814977975, 1.0052521008403361, 1.263157894736842, 1.1080235416821873, 1.0415430267062316, 1.0783817951959545, 1.0630779392338177, 1.0229982964224873, 1.0335570469798658, 1.0854700854700854, 1.0097102578343702, 1.3510392609699768, 1.025944575982926, 1.0782624505265512, 1.125, 1.2036306235201262, 1.0469093191088799, 1.042897097221767, 61.07142857142857, 1.072653884964682, 1.1555555555555554, 1.0540723217303143, 1.028950542822678, 1.0350821805101122, 16.893617021276597, 1.402112676056338, 1.0213678546362006, 1.0695164971985889, 1.0883458646616542, 1.0231339314817038, 1.1072069676218337, 1.016941321423071, 1.1490082244799227, 1.0967106543656817, 1.1880429536679538, 1.1981981981981982, 1.0214592274678111, 1.0555884092253105, 1.075128064755797, 1.369047619047619, 1.4, 1.2386865313634061, 1.0789051034253594, 1.0390516039051605, 1.2784090909090908, 1.515002459419577, 1.0096512295287503, 1.4827101490019678, 1.1205501618122977, 1.6538461538461537, 1.0187431091510475, 1.5, 1.44375, 1.4722222222222223, 1.016116561571107, 1.4796828543111993, 27.663512957630605, 2.962962962962963, 1.0265604249667994, 1.0022966906775237, 1.0311004784688995, 1.111328125, 1.0550417090058368, 1.3291868233126007, 1.0714285714285714, 3.3333333333333335, 32.89280677009873, 1.4193548387096775, 1.25, 1.0, 1.0527404343329887, 1.0279329608938548, 1.045922256097561, 1.0471077972889304, 1.1091445427728615, 1.0461538461538462, 1.125, 1.1904761904761905, 1.445945945945946, 1.043010752688172, 2.2, 19.573724007561438, 1.327660058375346, 1.0491803278688525, 1.0565832836045568, 1.1279522489357512, 2.5, 1.086702586748674, 1.2239365537130498, 1.5, 1.6, 1.2122983399579144, 1.0596263200649878, 1.1837983969892933, 1.1923076923076923, 1.5, 1.015625, 1.3529411764705883, 11.6, 1.4803494700658837, 1.0923417232758734, 1.0297724401495747, 1.2923387096774193, 1.4285714285714286, 1.0171748802372849, 1.3199070487993803, 1.0873397435897436, 1.6129032258064515, 1.273611111111111, 1.0, 5.940677966101695, 1.1445168295331163, 1.2708248482380093, 1.0764790764790764, 1.5549132947976878, 1.073300457907714, 1.156344410876133, 1.1140939597315436, 1.196969696969697, 1.0493619774005405, 1.1246946254071661, 6.0, 1.1725195388884406, 1.2037037037037037, 1.0411184210526316, 1.1219512195121952, 1.0, 1.1119271445358403, 1.0119331742243436, 1.0058246546526806, 1.069609507640068, 1.5, 1.1263620100829403, 1.121063733614585, 1.1910783280646295, 1.196176226101413, 2.196226930963773, 2.7617302052785924, 1.1236501901140685, 1.1701754385964913, 1.2708333333333333, 1.1125831972874545, 1.0972138443730741, 1.028169014084507, 1.2272727272727273, 1.6666666666666667, 1.0952380952380953, 1.0177735737787237, 1.0504322766570606, 1.0087175729879418, 1.1644811970860405, 1.0005473453749316, 1.3333333333333333, 1.0868706811451134, 1.0554380609092247, 1.1215066828675577, 1.1741573033707866, 1.053972806115627, 1.1717451523545706, 1.4566371681415928, 1.0313075506445673, 1.022085971752059, 2.279591836734694, 1.2799539170506913, 1.1971830985915493, 1.25, 1.22035012739377, 1.152264426588751, 1.2768776761948848, 2.224756335282651, 1.1093216203025866, 1.008191925102399, 20.302325581395348, 1.0382165605095541, 3.3333333333333335, 2.5, 1.4705882352941178, 1.0035335689045937, 2.0, 2.0300157977883098, 1.4102564102564104, 1.4, 1.1114143920595534, 1.0769230769230769, 1.1144578313253013, 3.5, 1.0869702930683827, 2.1666666666666665, 1.9166666666666667, 1.0102335345053792, 1.125, 1.0261723009814614, 1.1325060048038431, 1.1190730837789662, 1.0591806530843593, 2.0, 1.0336069779374037, 1.0890173410404624, 1.0829650025360482, 1.0500631430180614, 9.85321888412017, 1.4092465753424657, 1.0951064202675598, 1.143315820198482, 1.0129533678756477, 1.0441176470588236, 1.0801317233809, 1.0, 6.0, 1.0907254224374847, 5.0, 1.0, 1.5, 1.0449330783938815, 1.233346458831197, 1.148421052631579]
origin-bjaq_15.71 	max: 190.8000	99th: 27.6794	95th: 5.0003	median: 1.1323	mean: 2.5439

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.079397 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[5.1963329e-04 1.7881393e-07 1.7881393e-07 0.0000000e+00 1.1920929e-07]
Distance score: 0.00010402202315162867
SAUCE Drift detection: True
Detection latency: 0.0410s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.5730 nats / 39.7795 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.108249 | Model-update-time: 2.547153


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 219.1915	99th: 42.7605	95th: 7.0000	median: 1.1457	mean: 3.2973
ReportEsts: [1.0458937198067633, 1.0147492625368733, 1.048414326329277, 1.0409711684370258, 1.2, 1.0, 1.0693393847705497, 1.056568320303518, 1.2, 1.281129653401797, 1.2026266832034018, 1.2601695611384203, 1.0516569200779726, 1.1584699453551912, 1.0461863288466613, 27.333333333333332, 1.5653846153846154, 11.833333333333334, 1.0833333333333333, 1.2314814814814814, 1.1727923038973853, 1.015560367114788, 1.0480887792848335, 1.0123743232791957, 1.3110463906802579, 1.0296459560919353, 2.0, 1.135868377509288, 1.2, 1.6, 2.12, 1.0, 1.066657266498135, 1.0006926471758248, 1.0004299226139295, 1.1631165280783688, 1.0790400108320357, 1.2516556291390728, 52.0, 1.0919983634344497, 1.0369453774085204, 1.0180120645248747, 1.2641509433962264, 4.737184491282852, 1.308695652173913, 1.0689873417721518, 1.0, 134.25247524752476, 1.1778846153846154, 1.009386733416771, 1.8, 1.5045871559633028, 1.395, 1.0789473684210527, 1.0491239190474035, 1.0979812545061283, 1.1394725999175936, 1.1216216216216217, 1.4102564102564104, 1.0865862191829043, 1.7962962962962963, 1.1261355093346699, 1.2294520547945205, 1.0788530465949822, 1.3888888888888888, 5.25, 1.0593719739936367, 1.0328753680078508, 100.5, 1.6363636363636365, 1.7488971835765186, 1.0242537313432836, 1.2329141607435756, 1.808849557522124, 1.1250823632769602, 1.1357504215851602, 1.0866804560103902, 1.1692307692307693, 1.308258407608943, 1.13276740237691, 1.0473801560758083, 1.018707978330385, 1.1, 1.0410283358260237, 1.1415525114155252, 1.0835762876579202, 1.4784102060843964, 1.064516129032258, 1.2269518922695188, 1.1836551833565114, 1.0769230769230769, 1.4, 1.1212235649546827, 1.0635445518858426, 1.1202046035805626, 1.0342245989304812, 1.0912806539509536, 1.0905797101449275, 24.0188679245283, 1.7189728958630528, 1.12, 8.0, 1.045428103840098, 2.5646496815286626, 1.0764248704663213, 1.0641165884470165, 1.368421052631579, 1.0002823770403535, 1.0795690795690795, 1.1782607099592526, 1.127859237536657, 1.0837789661319073, 1.6666666666666667, 2.875, 1.4042056074766356, 1.0622327869393684, 1.1335489833641406, 1.2530120481927711, 1.2438587011383002, 2.0, 1.1347225587593894, 1.1311004784688996, 1.0, 1.1367521367521367, 1.875, 1.1023890784982935, 1.0289829719320815, 1.0669460681592589, 1.1875, 1.5, 1.0023087137597328, 1.6, 1.181425485961123, 1.02015732546706, 1.035708575387731, 1.0, 1.0221992772328343, 1.0136509318244766, 1.5545454545454545, 1.2142857142857142, 1.098360655737705, 1.2637508283631544, 1.4076782449725778, 1.045680412037187, 1.3072289156626506, 1.0857894736842104, 1.136978417266187, 3.0, 1.3381950774840474, 1.1748466257668713, 1.0722828913156526, 1.4603846832539262, 1.5, 1.1977054302712768, 1.0455089820359282, 1.3, 1.2877138413685847, 7.0, 1.0489282385834109, 1.1364960272153226, 1.1796833879914166, 1.0477657935285054, 1.108433734939759, 1.2238805970149254, 1.0196078431372548, 1.0066225165562914, 1.2067932067932068, 1.0666666666666667, 1.8942307692307692, 21.97904761904762, 1.0407978241160472, 1.5723270440251573, 1.153558992376949, 1.1712328767123288, 1.1787155346334903, 1.075208913649025, 1.000945055207972, 1.097938144329897, 1.1315104166666667, 1.3333333333333333, 1.1928172942817294, 1.2906585924144525, 1.289537712895377, 1.0099807433782655, 1.6486486486486487, 1.0259993500162496, 24.617916891527255, 1.2254650416933932, 1.2777777777777777, 1.1819096841319565, 1.7648234510326448, 1.1428524024422617, 1.1724137931034482, 1.0714065866420437, 1.0165493732131075, 1.375748502994012, 1.25, 1.044887132008738, 1.3571428571428572, 1.1449481626894056, 1.1841239397496734, 1.3294175232501224, 1.5967132018931196, 1.265536723163842, 1.0502230428835213, 1.2368560807222517, 1.0235294117647058, 1.0227732793522266, 3.2448979591836733, 1.230304489635094, 1.2395209580838322, 1.1342478075106814, 1.438135730046822, 1.3314917127071824, 1.125, 1.3277310924369747, 1.5625, 1.0841425331185695, 1.0432098765432098, 1.1118992935430416, 1.2380952380952381, 1.4901185770750989, 1.0282387911815705, 1.395844103624562, 1.3138367375008597, 1.0769230769230769, 1.0192604006163328, 1.119350367602748, 1.6661042759002578, 1.0658227848101265, 1.0356083086053411, 1.022693945461211, 1.1022043068672867, 1.2758620689655173, 1.013210591615935, 1.0412716354645002, 1.0599455040871935, 1.1703056768558953, 1.1042105263157895, 3.3333333333333335, 1.207324643078833, 2.0, 1.132561436672968, 1.0969124133585382, 1.0539716693562848, 1.0276073619631902, 1.3333333333333333, 2.0, 1.0661693807585173, 1.4545454545454546, 1.1013719920681708, 1.2, 29.918347742555234, 1.0323809523809524, 1.125, 1.127915376307941, 1.116910229645094, 1.0901835594573024, 1.7014925373134329, 1.3959341723136496, 1.1038484763686172, 1.12, 2.0, 1.0785846197003108, 1.0731652535234995, 1.146900269541779, 1.0413283662877701, 1.0936290186837232, 1.5011074127042385, 1.444356120826709, 1.026480525275706, 1.3438995215311005, 42.6671664167916, 1.2333292398378977, 1.1789473684210525, 1.2394237311996996, 1.140724946695096, 1.5909090909090908, 1.5384615384615385, 23.741385838697465, 7.0, 1.0474358974358975, 2.25, 1.0084966854009876, 1.5126874279123415, 1.0688622754491017, 1.0081500212589791, 1.0159134309357098, 1.04097347411795, 1.0743896268727113, 2.1818181818181817, 12.936873156342182, 1.0538990825688073, 1.0558656877428545, 1.1349057304431782, 1.0751263068030734, 1.0293759093947854, 1.5507343124165553, 1.3506409843458094, 1.0142531005121245, 1.1219628629749128, 1.0388738778000524, 1.090702947845805, 26.5, 1.5454545454545454, 1.4286740927057133, 22.830942225668863, 1.4611650485436893, 1.121360171975767, 1.4545454545454546, 1.6666666666666667, 1.1056329014917732, 7.0, 1.053082191780822, 1.0295566502463054, 1.1401869158878504, 1.0504058780119998, 1.0208398133748056, 1.218978102189781, 32.0, 3.7142857142857144, 1.0078281814532317, 1.5714285714285714, 1.0477825835114656, 20.742506811989102, 7.0, 1.0657368738414812, 1.26, 1.1666666666666667, 1.7642853747801701, 1.425256603590018, 1.0422595946528677, 1.340352874217416, 19.38760139049826, 1.014510278113664, 1.1298405466970387, 1.0202429149797572, 1.0198019801980198, 1.2317088887252374, 1.0837551714995652, 25.221401204159825, 1.0852113389870595, 1.0270388615216202, 3.0, 1.2222222222222223, 1.244760742627368, 1.5, 1.2274387063119458, 1.7647058823529411, 1.0, 1.1, 1.3098373353989157, 1.232332155477032, 1.2344827586206897, 1.008044243338361, 1.696969696969697, 3.0, 1.0519912157068405, 31.846153846153847, 1.3376623376623376, 1.0092049948341586, 1.171003717472119, 1.014246947082768, 1.2920353982300885, 2.0, 1.0, 1.158121964382083, 1.0220588235294117, 1.0148731408573928, 1.159830712814588, 1.2431460674157304, 1.1376623376623376, 2.0, 1.094980586282537, 3.6206896551724137, 1.4444444444444444, 8.0, 1.3631436314363143, 1.0, 1.4692307692307693, 1.719626168224299, 1.1414480910329072, 1.062369408728573, 1.14010989010989, 1.4029307492318601, 1.462840561018862, 1.1851851851851851, 1.2180936995153473, 1.167902958373331, 1.1959564541213064, 1.0909090909090908, 1.1523179962263657, 1.0594347969397846, 1.044740024183797, 1.0176991150442478, 1.3428571428571427, 1.1487455197132617, 2.0, 1.2619047619047619, 1.1326126126126126, 1.0882852292020373, 1.2958579881656804, 1.103448275862069, 1.0544315992292872, 4.79020979020979, 1.0095470435854228, 1.0632519766242694, 1.0928071208848746, 1.2545454545454546, 1.0191607284243864, 1.2067039106145252, 1.0, 1.1543660019817499, 1.2407407407407407, 1.4473046158029503, 1.0193510555121188, 3.0673166926677067, 1.5023832221163012, 4.25, 1.1770543866613736, 1.1666666666666667, 1.0201550387596898, 1.3076923076923077, 1.1809730705751245, 219.0, 1.1388591019619096, 1.1122994652406417, 1.4285714285714286, 2.135593220338983, 34.0, 1.0, 1.1834758351665797, 1.0518932785679516, 1.1465230203987906, 2.0, 1.2781385281385282, 13.65785030951041, 1.0694444444444444, 1.5714285714285714, 1.0410803127221038, 1.0943579766536966, 1.0843460570694363, 1.0163265306122449, 1.447171453437772, 1.0760623113938503, 1.0271317829457365, 1.299248120300752, 1.0954198473282444, 1.1988950276243093, 1.0967852257181943, 1.28, 1.1496062992125984, 1.0831858407079646, 1.0216606498194947, 1.2521315468940317, 1.0911777397125932, 1.0233172019357677, 1.0, 1.5, 1.1612903225806452, 1.0234738967868353, 1.3846153846153846, 1.0, 1.0131889136667729, 1.0, 1.0, 1.0227990178884603, 5.0, 1.0408955223880596, 1.2974910394265233, 1.3508196721311476, 1.0714285714285714, 1.0465608465608465, 1.2033898305084745, 1.0119808306709266, 1.5, 25.57286432160804, 1.3727272727272728, 1.1237623762376239, 1.1277974087161367, 1.006694548426269, 1.2453987730061349, 22.73878020713464, 1.3492063492063493, 3.941250590644196, 1.4130034339253632, 1.2481884057971016, 1.0, 1.1210526315789473, 1.0432336824582091, 1.3436354112100577, 1.6875, 1.3923444976076556, 1.0046597312527092, 219.19148936170214, 1.018284106891702, 1.0580794915304892, 1.1116679245283019, 1.0829493087557605, 1.1456350101511392, 1.5, 1.7542110690959092, 19.295475530932595, 1.0834635126087926, 1.015362457993279, 1.3842482100238664, 1.0179548666804301, 1.1335504885993486, 1.0553213180411434, 1.016822429906542, 1.045704806312769, 17.6, 1.1413819216559193, 1.033677120606188, 1.28, 1.2289156626506024, 1.0784801754447035, 1.4668367346938775, 2.057979334098737, 1.230132552664258, 4.0, 1.014967925873129, 1.1397260273972603, 18.0, 1.3409090909090908, 1.0246463691690297, 1.0759075907590758, 1.0121951219512195, 1.0, 63.142857142857146, 1.328116419549698, 1.1065878378378378, 1.40625, 3.0, 1.5, 1.1458333333333333, 1.2017699115044247, 1.1168831168831168, 1.0723240115718418, 1.1185944363103952, 1.185, 1.510948905109489, 1.1373626373626373, 1.077546360750682, 15.75, 1.0108163876593337, 2.0, 1.0098792535675083, 1.3253968253968254, 1.1216809863598853, 1.1151515151515152, 1.0908248378127896, 1.0291411042944785, 1.1614035087719299, 1.0796713181309865, 1.0, 1.509433962264151, 1.3333333333333333, 1.0, 1.141304347826087, 1.2833333333333334, 1.046740467404674, 1.4223300970873787, 1.4014738865748158, 1.3055555555555556, 1.0084497802269894, 1.1107276671267994, 1.1162807990962262, 1.0634032159576634, 1.0066549209525244, 1.1789038262668046, 3.47953153540346, 1.2422760502065686, 1.0513513513513513, 1.0559585492227979, 1.1280898876404495, 1.6434108527131783, 1.009362445414847, 1.2204899777282852, 1.4478950349254296, 1.0206185567010309, 1.1376796054042462, 1.1557788944723617, 24.95, 1.0377358490566038, 1.6666666666666667, 1.0243790248390063, 1.2453439983627248, 1.5868919299919755, 1.0561864913329349, 1.1078273750383871, 1.653061224489796, 1.0261490766949724, 1.0680875294883267, 1.1677215189873418, 1.0301204819277108, 1.0292643134652344, 1.3463143254520167, 1.2800930822932093, 1.6622516556291391, 1.3692162417374882, 1.0831142434217793, 1.027482926438485, 1.2692307692307692, 1.1690685653647348, 1.0707964601769913, 1.391304347826087, 1.0520833333333333, 1.1559633027522935, 1.0432741375790977, 1.096654275092937, 1.0588235294117647, 1.1439215471429354, 1.0, 1.2824324324324323, 2.1333333333333333, 1.1216494845360825, 1.4352941176470588, 1.2692307692307692, 1.0395757065067306, 1.1578947368421053, 1.2048624950179354, 1.0051376647618713, 1.72109375, 1.153125, 1.0353863980746947, 1.312095032397408, 1.2369556688897607, 1.2, 1.1591901275308514, 1.0158304992927438, 1.263157894736842, 1.0959792477302206, 1.0706431838085044, 1.156537753222836, 1.0028552039194916, 1.0, 1.0724876441515652, 1.0258636119563271, 1.2053140096618358, 1.320754716981132, 1.0866474448200438, 1.3043478260869565, 2.2857142857142856, 2.292532037118869, 1.1699230313795146, 1.0627203442554956, 1.1697042127278159, 1.0054506564066075, 1.0648469052782366, 1.1456043956043955, 1.07673343605547, 1.5752508361204014, 1.0962536851278437, 1.0108744902582691, 1.2545289855072463, 1.199025182778229, 30.933333333333334, 1.0301507537688441, 1.4415279138099901, 1.0, 1.6, 1.091743119266055, 1.22933829391443, 1.0522875816993464, 1.0911854103343466, 1.25, 1.2816365366317792, 1.2714704650188522, 1.0207253886010363, 1.0466811860863905, 2.0, 1.3092980161325485, 1.0797720797720798, 1.0018110473890733, 1.3023450586264658, 1.3210770121598148, 1.055598435046443, 1.0588235294117647, 1.0934579439252337, 1.0007570022710068, 1.0, 1.0742470642666726, 1.0758665794637017, 1.75, 1.3333333333333333, 1.1428571428571428, 1.1494845360824741, 1.0141144339194814, 1.2037037037037037, 1.2692307692307692, 1.283720930232558, 82.0, 1.1691394658753709, 1.3244444444444445, 1.243445692883895, 1.4612244897959183, 1.1923076923076923, 1.0, 3.326655052264808, 1.1961009174311927, 1.118421052631579, 1.0225154959589835, 1.1092227411635818, 1.103958002348553, 1.0749216159519996, 1.18333013145978, 1.403225806451613, 1.6923076923076923, 1.6428571428571428, 3.5, 1.3859934853420195, 1.0304787212626323, 14.612232030264817, 1.4542483660130718, 1.0942307692307693, 1.0016217781639154, 1.0576460141012336, 1.0079530206049159, 1.2179487179487178, 1.0454545454545454, 22.043531954306886, 1.017594731410036, 1.2469723646941744, 1.0421494332059873, 1.355263157894737, 1.028764993336295, 1.4827767148611886, 1.0098231694564197, 1.0317567567567567, 1.0775576735545132, 1.1057692307692308, 1.0707898658718331, 1.0183044315992293, 1.0405332626293593, 7.6923076923076925, 1.2661290322580645, 1.2029111808936648, 1.1146305612487837, 1.1221963937928001, 2.2222222222222223, 1.0263157894736843, 1.1195402298850574, 1.1146469770198797, 1.072206572769953, 1.2470886775624035, 1.0062393765853404, 1.141482652098052, 1.3691362018764155, 1.2723521320495186, 1.0960888187556357, 1.0839285714285714, 1.7857142857142858, 1.0, 1.25, 1.3971660409349642, 1.6666666666666667, 1.1736982136069936, 1.045637972147362, 1.1881254169446298, 1.3220338983050848, 1.824016563146998, 1.0471912365359384, 1.1108304673845633, 37.924702774108326, 1.1134020618556701, 1.152019002375297, 6.4, 1.066682800603161, 1.619047619047619, 1.4381479975604798, 1.0, 1.157992565055762, 1.019177891476106, 1.0951933909125047, 1.0, 1.5, 1.1176468908321386, 1.0213246362267938, 1.1064150237862767, 1.0893932376100046, 1.078220900122752, 1.0367575199950319, 1.004335829720142, 1.3903157894736842, 1.6666666666666667, 1.0416666666666667, 1.0320703886277656, 1.0217694747973212, 1.0830985915492957, 1.0039645393976102, 1.1142857142857143, 1.059700529237124, 1.0551763367463025, 1.0722154222766218, 1.0490988191423245, 1.014354066985646, 1.0054054054054054, 1.0957398076042144, 1.0081763865669557, 1.4087759815242493, 1.047994504207716, 1.0818862406587557, 1.2666666666666666, 1.2209944751381216, 1.0280387551379917, 1.035455345106673, 68.63333333333334, 1.0233349538162373, 1.1970397779833488, 1.098153547133139, 1.0125284738041003, 1.0293899999086416, 19.07070707070707, 1.4598591549295774, 1.0499103173984248, 1.0666402221340738, 1.2932330827067668, 1.0505930442940428, 1.0496518738269662, 1.0109418896939228, 1.21044921875, 1.1064049123750617, 1.208313223938224, 1.1901306240928882, 1.087719298245614, 1.0, 1.0836269011451494, 1.4285714285714286, 1.4, 1.2535333588362403, 1.1284994323373854, 1.011703511053316, 1.3238636363636365, 1.4914074396345443, 1.033428090989259, 1.5366882204104582, 1.03579766536965, 1.7307692307692308, 1.1045092838196287, 1.3333333333333333, 1.503125, 1.6176470588235294, 1.0178024486578365, 1.5411298315163529, 31.592286501377412, 3.4339622641509435, 1.0572171651495448, 1.0149353016220157, 1.0200918484500574, 1.0900735294117647, 1.0674436438946213, 1.3720340935268371, 1.0714285714285714, 4.0, 38.03137789904502, 1.3125, 1.25, 1.1333333333333333, 1.0692383778437191, 109.5, 1.2898936170212767, 1.094953897736798, 1.06847356003625, 1.3333333333333333, 1.1875, 1.3170731707317074, 1.364864864864865, 1.1195652173913044, 2.1538461538461537, 22.30956678700361, 1.4053295932678822, 1.0158730158730158, 1.0628695441494105, 1.1539706026706997, 1.6666666666666667, 1.1125011068981896, 1.4367088607594938, 1.5, 1.6, 1.1750056091541397, 1.0995356037151702, 1.2387485559803255, 1.0665236051502145, 1.5, 1.13, 1.2305882352941175, 13.225806451612904, 1.5337721191195512, 1.1276601093583056, 1.0398217185375271, 1.3545376538131508, 1.4285714285714286, 1.0193778553462347, 1.3679318357862122, 1.0053680981595092, 1.78125, 1.288888888888889, 1.0, 7.156521739130435, 1.1405537459283388, 1.339054711894649, 1.128719723183391, 1.5871313672922251, 1.2212981082844097, 1.1189979123173277, 1.1121794871794872, 1.173913043478261, 1.0371383002961951, 1.0786878844088645, 7.0, 1.2189617476464956, 1.1728395061728396, 1.080936729663106, 1.0588832487309645, 1.0, 1.1098346875875595, 1.0400943396226414, 1.008637073810796, 1.0507131537242471, 1.5, 1.1295862607338016, 1.1487185088102518, 1.205553674229597, 1.1927109974424552, 2.39556014728867, 3.0131471785922046, 1.2024334600760456, 1.2692307692307692, 1.3541666666666667, 1.1333815726000964, 1.1150446634777231, 1.041712204007286, 1.037037037037037, 1.25, 1.0813953488372092, 1.0277907500021228, 1.0454545454545454, 1.0214052172276715, 1.2178302815514865, 1.0267952840300107, 1.6, 1.1596385542168675, 1.055434955260232, 1.1063442107006791, 1.0163487738419619, 1.0648755464004835, 1.1135135135135135, 1.175618073316283, 1.0296198054818744, 1.0278512425424722, 2.4274952919020714, 1.3456221198156681, 1.2407170294494239, 1.28125, 1.2075824947343787, 1.1294703962376724, 1.2924051463830906, 2.337215650591447, 1.1293556085918854, 1.4873949579831933, 1.0, 1.0764331210191083, 3.6666666666666665, 2.5, 1.5294117647058822, 1.0170648464163823, 2.0, 2.0489731437598735, 1.564102564102564, 1.4666666666666666, 1.121475797334795, 1.1851851851851851, 1.0979827089337175, 2.6666666666666665, 1.036321446670045, 2.3333333333333335, 2.0833333333333335, 1.0503276539973787, 1.125, 1.0745614035087718, 1.152190923317684, 1.0901190639113179, 1.0888051603568845, 2.0, 1.1921146953405017, 1.0867975951903808, 1.082461463769875, 1.1578947368421053, 1.1879535558780843, 1.0, 112.0, 2.8333333333333335, 1.0108991825613078, 1.2608695652173914, 31.777403035413155, 1.855140186915888, 1.0120244613712857, 1.2504509921828022, 1.3362974939369443]
origin-bjaq_15.71 	max: 219.1915	99th: 42.7605	95th: 7.0000	median: 1.1457	mean: 3.2973

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.072560 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[ 5.1587820e-04 -2.9802322e-08  0.0000000e+00  5.9604645e-08
  0.0000000e+00]
Distance score: 0.00010318159911548719
SAUCE Drift detection: True
Detection latency: 0.0412s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.5051 nats / 39.6815 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.106684 | Model-update-time: 2.551691


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 257.0000	99th: 44.3338	95th: 10.0000	median: 1.1552	mean: 3.5883
ReportEsts: [1.0088300220750552, 1.0186538461538461, 1.0431636805665663, 1.0486725663716814, 1.0714285714285714, 1.0, 1.0945778145695364, 1.0711180700777279, 1.4, 1.3209242618741976, 1.118198674367554, 1.3101300026372333, 1.0550516108852048, 1.1109154929577465, 1.0412867274569402, 30.678571428571427, 1.646153846153846, 13.666666666666666, 1.0833333333333333, 1.0958395245170878, 1.22496299950666, 1.0339116167310787, 1.0423529411764705, 1.0186428038777031, 1.342625338048679, 1.033826359710625, 2.0, 1.173706721613437, 1.2, 1.6, 2.1481481481481484, 1.0, 1.0710825842333311, 1.103639918652272, 3.5, 1.0441192988236352, 1.2380952380952381, 1.509090909090909, 1.5217391304347827, 2.111111111111111, 1.4917370547190598, 1.0634920634920635, 1.0608695652173914, 1.0943396226415094, 4.666666666666667, 1.1462212486308871, 1.2010309278350515, 1.3595505617977528, 3.5407407407407407, 1.1565420560747663, 1.017598491724623, 1.158273381294964, 1.0327899162651781, 1.3040865384615385, 1.0228786464354296, 2.0, 1.4313725490196079, 1.1921135216264156, 1.308411214953271, 1.0142857142857142, 1.04, 1.0, 3.300455235204856, 1.0977484898407468, 1.0893271461716938, 1.0710810003392526, 1.588235294117647, 1.148936170212766, 1.6297805320642311, 1.0870931499193002, 1.6666666666666667, 1.0, 1.0866504854368932, 1.254471504875778, 1.2976744186046512, 1.9143835616438356, 1.0985886402753873, 1.2692998204667865, 1.0396623539385896, 1.1446808510638298, 1.3534442339791077, 1.122297515327525, 1.0407070166041779, 1.0149181125344575, 28.0, 1.061714151315204, 1.6, 1.1281053029940538, 21.847890088321883, 1.6341463414634145, 1.2, 36.0, 1.1094860714235442, 1.5204984648726747, 1.3938415159345392, 1.0734209391525384, 1.063859707171809, 1.072139303482587, 1.0164271047227926, 1.1383812010443863, 1.0663667041619798, 29.96, 1.8397527341892534, 1.32, 10.0, 1.05595916694609, 2.936046511627907, 1.0534493474207582, 1.1112601009209924, 1.5714285714285714, 1.0100373090529116, 1.0866438971777819, 1.3439223738776824, 1.108062234794908, 1.094943460635801, 1.6666666666666667, 2.7777777777777777, 1.4705607476635514, 1.09071011078413, 1.1305676855895197, 1.4761904761904763, 1.292139968766515, 2.0, 1.1071761416589003, 1.14066985645933, 1.0, 1.1856540084388185, 2.0, 1.0857605177993528, 1.0145721139787227, 1.0433828408104935, 1.2142857142857142, 1.5, 1.0007347645128075, 1.6333333333333333, 1.211297071129707, 1.0125365530203647, 1.0993140165864645, 1.0, 1.0159760359460808, 1.0605552896122548, 1.715151515151515, 1.2253521126760563, 1.1176470588235294, 1.3141153081510935, 1.4759293113954906, 1.0210892137648964, 1.3550295857988166, 1.085670576236614, 1.093421311094841, 3.0, 1.3969917958067457, 1.2108433734939759, 1.2194871794871796, 1.305454898408179, 1.238938053097345, 1.0239942014797523, 1.1304347826086956, 1.3814057319195037, 1.1177291503851736, 1.4156193895870737, 1.0884843020177504, 1.0073322215193514, 1.0763538513286244, 1.0366035679594399, 34.166260162601624, 1.5001439014562827, 1.0414686825053996, 1.1703703703703703, 1.0239130434782608, 1.13467177983307, 1.0, 1.9615384615384615, 24.50091407678245, 1.0083927822073018, 1.6540880503144655, 1.0769642354266404, 1.2054794520547945, 1.2227953684903694, 1.1565217391304348, 1.0204520371562587, 1.118811881188119, 1.0864345738295318, 1.3, 1.221331163799783, 1.351899942447255, 1.3350180035573294, 1.0284530821259417, 1.6475409836065573, 1.0422711616741467, 27.445652173913043, 1.2724389470345703, 1.2473118279569892, 1.2440767673569093, 1.9418540866703236, 1.1487224528904503, 1.2241379310344827, 1.1897551546391754, 1.0556993450242975, 1.4114285714285715, 1.25, 1.0540015147689978, 1.3571428571428572, 1.0568314349555834, 1.2129782355071006, 1.3470386686245717, 1.664014220339624, 1.3473377703826954, 1.0375359585323491, 1.2862453531598512, 1.058659217877095, 1.0014265335235377, 3.5722772277227723, 1.273675838568687, 1.3136094674556213, 1.1258977608787495, 1.5181974831601484, 1.384, 1.126984126984127, 1.3830944142362827, 1.625, 1.0917297141390099, 1.0433070866141732, 1.1736206110351117, 1.3647058823529412, 1.7509881422924902, 1.0282929148834998, 1.4433913493020851, 1.3698736904843776, 1.1153846153846154, 1.0058351568198396, 1.0507052053285402, 3.4056174856026673, 1.1206896551724137, 1.022695035460993, 1.0342220777109412, 1.1098871381184316, 1.3103448275862069, 1.0147993680102636, 1.0702172923081106, 1.0753246753246752, 1.0464285714285715, 1.1035532994923858, 3.6666666666666665, 1.2302158273381294, 2.0, 1.1576086956521738, 1.0574462072584878, 1.1225473321858863, 1.05625, 1.625, 2.0, 1.182407192724837, 1.4727272727272727, 1.1019144434697352, 1.2, 33.26339969372129, 1.0986328125, 1.125, 1.1248004761518275, 1.103515625, 1.1299694189602447, 1.1045142459119706, 1.0720551378446115, 1.138405756047816, 1.0875, 2.0, 1.0633305632294918, 1.0478445360063957, 1.1037613488975357, 1.0593195602114618, 1.1761073300136988, 1.588766162123297, 1.4880763116057234, 1.0275126470408973, 1.3851674641148326, 47.56978417266187, 1.294854476237259, 1.195, 1.2199957765315939, 1.2430703624733475, 1.6363636363636365, 1.5555555555555556, 26.517642779192432, 8.0, 1.059521014322611, 2.5, 1.0014207482769777, 1.5351787773933103, 1.0476858345021038, 1.023197385323907, 1.0514705882352942, 1.014078642464034, 1.0684224538696268, 2.3636363636363638, 14.411631205673759, 1.0392156862745099, 1.0755026256943672, 1.096040296903802, 1.1245837000528076, 1.0928347176409807, 1.6481975967957276, 1.3612419958922315, 1.077964394679937, 1.1448076192886976, 1.0598421155538176, 1.2009456264775413, 27.142857142857142, 1.5454545454545454, 1.4861660079051384, 25.755739555890102, 1.4784688995215312, 1.0757024586051178, 1.5, 1.198092443140132, 1.1198030634573304, 1.0, 1.0179885527391659, 1.0886699507389161, 1.2149532710280373, 1.1126304092845238, 1.0384615384615385, 1.0916666666666666, 37.42857142857143, 4.5, 1.0117670131398313, 1.7142857142857142, 1.0505196484116992, 23.766756032171582, 9.0, 1.0592464967915038, 1.240566037735849, 1.0714285714285714, 1.8499028526810843, 1.4447146957240842, 1.0066694456023344, 1.3974169741697418, 21.572697003329633, 1.048723897911833, 1.1233766233766234, 1.062240663900415, 1.0666666666666667, 1.3126083702933071, 1.0997623717785376, 28.04954128440367, 1.071717210591133, 1.0760569599293521, 3.0, 1.3333333333333333, 1.289562476238753, 1.75, 1.276473656755347, 1.8235294117647058, 1.2, 1.0476190476190477, 1.3698732289336317, 1.2862190812720848, 1.2876712328767124, 1.0033670033670035, 1.7575757575757576, 2.857142857142857, 1.0643629750167511, 36.23076923076923, 1.0740740740740742, 1.0075416782588225, 1.1913357400722022, 1.0096153846153846, 1.342920353982301, 2.0, 1.0, 1.129837067209776, 1.3529411764705883, 1.152657004830918, 1.205442809062139, 1.2328767123287672, 1.1526717557251909, 1.5, 1.0977618076754114, 3.8461538461538463, 1.1764705882352942, 10.0, 1.2464454976303319, 1.1428571428571428, 1.3794871794871795, 1.6833333333333333, 1.1499127176736066, 1.0756729910854614, 1.1061946902654867, 1.4960354477611941, 1.5174915363533774, 1.2301587301587302, 1.260096930533118, 1.13581304705744, 1.0688383527965581, 1.3076923076923077, 1.1456868275100476, 1.0498806802062648, 1.0077864293659622, 1.0042735042735043, 1.4285714285714286, 1.210144927536232, 2.0, 1.3095238095238095, 1.0184347826086957, 1.12012987012987, 1.422907488986784, 1.1333333333333333, 1.0595625872498837, 5.492957746478873, 1.0008914877300614, 1.033311345646438, 1.048519581753033, 1.5698924731182795, 1.0146614268440146, 1.2597765363128492, 1.0, 1.1594451231770873, 1.1355932203389831, 1.513584555074664, 1.0261307011897098, 3.170621225194133, 1.571020019065777, 4.333333333333333, 1.0556309362279512, 1.0, 1.001457725947522, 1.3076923076923077, 1.177455788048905, 257.0, 1.117520027368361, 1.0792079207920793, 1.25, 2.266025641025641, 20.5, 1.0, 1.1714704757046295, 1.0657844676715342, 1.1446417434053637, 3.75, 1.278688524590164, 15.373224043715847, 1.0266666666666666, 10.0, 1.3157894736842106, 1.0111138675266684, 1.0446426359469838, 1.0158730158730158, 1.506005221932115, 1.0811793658008997, 1.047709923664122, 1.3396501457725947, 1.078125, 1.5272734060956032, 1.5096952908587258, 1.449370194667103, 2.6, 1.0241019108280254, 2.013183520599251, 1.037415500707436, 1.1724587533223008, 1.0201680672268907, 1.0, 1.4809160305343512, 1.1875, 1.0499842258853223, 1.4074074074074074, 1.0, 1.1089434164655403, 1.0, 1.0, 1.0201680672268907, 5.5, 1.0366998577524893, 1.3557347670250897, 1.4032786885245903, 1.0714285714285714, 1.020329138431752, 1.1953216374269007, 1.0167372066179299, 1.0, 30.765625, 1.4272727272727272, 1.1349206349206349, 1.1047091412742382, 1.0094379827040674, 1.391566265060241, 25.755896667914637, 1.3968253968253967, 4.543419158803774, 1.4677870511450208, 1.2998188405797102, 1.2, 1.115416053621056, 1.0312918864489626, 1.396542692509167, 1.8666666666666667, 1.4218500797448166, 1.051611553712394, 245.08163265306123, 1.1799049558723693, 1.0688380592110536, 1.1343128998848138, 1.095602294455067, 1.1583818992115187, 1.5, 1.7817312798725438, 21.491585473870682, 1.0748198389147945, 1.0409219190968957, 1.3973214285714286, 1.002694084011436, 1.278436018957346, 1.0679562693037687, 1.147459315841913, 1.138457068138893, 8.0, 1.0113655557946517, 1.2117590822179731, 1.3466666666666667, 1.2470588235294118, 1.1384756360500217, 1.4234693877551021, 2.134368897169409, 1.2834682834458073, 4.666666666666667, 1.08085250338295, 1.1326259946949602, 1.6774193548387097, 1.6265181286341732, 1.020233677868806, 1.010015012642225, 1.1056714820759765, 1.4583976089471655, 1.0043859649122806, 1.0963697171469462, 1.0484140233722872, 1.0310421286031042, 2.469722118113187, 1.175408426483233, 1.2004094165813715, 1.1873661670235547, 1.1109022556390977, 1.0384615384615385, 1.0887265135699373, 1.0691291087766859, 1.022670025188917, 1.0051928783382789, 1.0604026145245955, 1.1327433628318584, 1.093907844552108, 2.0, 1.1809759110562075, 1.380952380952381, 1.1273427590350604, 1.1030534351145038, 1.0032840722495895, 1.1175213675213675, 1.1855670103092784, 1.0906317012573565, 1.0, 1.0285659874309656, 1.0, 1.0, 1.2082191780821918, 1.3442622950819672, 1.0759193357058126, 1.5145631067961165, 46.61746987951807, 1.0932387180403333, 1.6538461538461537, 1.6276771004942339, 1.1, 23.337359982429167, 1.2309713321764084, 1.128099173553719, 1.1486486486486487, 3.7393638780936795, 1.2903417512154256, 1.0442516268980477, 1.1494483450351054, 1.1694725028058361, 1.3154761904761905, 1.0542929732363484, 1.176954732510288, 1.5050028317915802, 1.0154639175257731, 1.1556603773584906, 1.1127450980392157, 27.80952380952381, 1.037037037037037, 1.6666666666666667, 1.0336933045356371, 1.3038202956844038, 1.6335024965212408, 1.0241518113858539, 1.152085553769171, 1.48, 1.01058734560121, 1.0359744990892532, 1.1352941176470588, 1.0290697674418605, 1.0238028183982315, 1.3998609179415855, 1.2743752257725527, 1.7870967741935484, 1.3618625277161862, 1.1315666539261902, 1.009820292432793, 1.3076923076923077, 1.0420793710056442, 1.091703056768559, 1.391304347826087, 1.1222222222222222, 1.1148915187376727, 1.0531496062992125, 1.174721189591078, 1.0735294117647058, 1.2219909056045581, 1.0, 1.2918918918918918, 2.3125, 1.051266213712168, 1.3945945945945946, 1.32, 1.0067777076530473, 1.218045112781955, 1.3585703305149885, 1.0557211192481903, 1.7828125, 1.127497062279671, 1.0151703556329272, 1.3520518358531317, 1.2863868183601412, 73.76470588235294, 1.4826498422712935, 3.80143358243099, 1.9557098941136286, 1.1819585180493983, 1.0, 1.0164361595510123, 30.691176470588236, 2.0, 1.1940139635071367, 1.0883802035445929, 1.095123419626731, 1.0109512344043408, 1.0768972657897764, 1.269736842105263, 3.142857142857143, 2.4334548496982014, 1.1947608200455582, 1.0636777452141921, 1.195358401880141, 1.010513905146658, 1.0551183512317175, 1.2060766182298548, 1.1153608883405306, 1.588628762541806, 1.041824660111086, 1.0272288098375055, 1.3704710144927537, 1.066536203522505, 27.386066763425255, 1.0483193277310925, 1.4121449559255632, 1.037037037037037, 1.8, 1.08859357696567, 1.1791995921488656, 1.0769441401971522, 1.0811594202898551, 1.3333333333333333, 1.3472882968601332, 1.3242563887725178, 1.0956937799043063, 1.0584476918726724, 2.0, 1.3583136451934688, 1.1873111782477341, 1.0374963945774445, 1.3417085427135678, 1.3656629994209613, 1.0780185441319605, 1.0285714285714285, 1.0835820895522388, 1.0, 1.0, 1.0901677539608574, 1.0706344015696534, 1.75, 1.3333333333333333, 1.2330827067669172, 1.1890547263681592, 1.0386491649115932, 1.1481481481481481, 1.3461538461538463, 1.3348837209302327, 93.0, 1.0804597701149425, 1.37, 1.1896551724137931, 1.5224489795918368, 1.5, 1.0, 3.489051094890511, 1.176079734219269, 1.1605968639352555, 1.0445980574615763, 1.1086415886817478, 1.069103075537254, 1.091449793970939, 1.1246406624996703, 1.4199178644763861, 1.0947976878612717, 1.5357142857142858, 4.0, 1.4021739130434783, 1.0354047361089616, 16.087740384615383, 1.5130718954248366, 1.1634408602150537, 1.014384025270758, 1.0713148446849472, 1.0135027907576075, 1.205128205128205, 1.0909090909090908, 24.66874814154029, 1.0164884345409149, 1.6666666666666667, 1.9594158600781117, 1.0263157894736843, 1.0003964598467798, 1.0431568379467255, 1.071142083822738, 1.132055378061768, 1.8513238289205702, 2.3, 1.0309621289662232, 1.033550792171482, 1.0521732832229456, 8.5, 1.2928759894459103, 1.2441805191437874, 1.0297873123344128, 1.195929214229631, 2.3333333333333335, 1.065217391304348, 1.1115973741794312, 1.1253083306839733, 1.0826434028965675, 1.2902277552353554, 1.031007430160641, 1.1547618637320824, 1.4238110643804593, 1.1986754966887416, 1.1399064472497746, 1.1517857142857142, 1.7142857142857142, 1.0, 1.0, 1.4808526099067458, 1.8333333333333333, 1.0488206253428414, 1.0380187380004207, 1.1795366795366795, 1.4011299435028248, 1.7349896480331264, 1.0600373324283048, 1.1411928058490444, 44.310756972111555, 30.256830601092897, 1.1045454545454545, 7.4, 1.0414344856499032, 1.6818181818181819, 1.4833807684488718, 1.0, 1.1840148698884758, 1.0157134014573175, 1.0946724502280059, 1.072, 1.625, 1.1283419963700365, 1.028158844765343, 1.1014347287004782, 1.001908396946565, 2.3183183183183185, 1.0913043478260869, 1.0353303564045315, 30.3, 1.490909090909091, 1.175, 1.1805049616882302, 1.0476449275362318, 1.0372111351929518, 1.1234735413839891, 1.0023446336642037, 1.2, 1.0356189885200124, 1.06979280261723, 1.0665873959571939, 1.0728155339805825, 1.0844370860927153, 1.0121422376409366, 1.1025187803800265, 1.0139457047229454, 1.4630484988452657, 1.0562891522826625, 1.07112962653897, 1.1111111111111112, 1.2636148382004735, 1.0102249488752557, 1.0550512027158594, 77.6774193548387, 1.0849872773536895, 1.133746678476528, 1.0836707152496625, 1.0243362831858407, 1.0330627345324344, 21.519607843137255, 1.5183098591549296, 1.1034859237307961, 1.0957966764418376, 1.3402255639097744, 1.0333102993372492, 1.1016582287768728, 1.0612737699969816, 1.1747616886064458, 1.098623095808985, 1.255550193050193, 1.1502808988764044, 1.1466666666666667, 1.0072802912116485, 1.0856701198676575, 1.4642857142857142, 1.4, 1.327498681775416, 1.1717110181928945, 1.047291487532244, 1.4034090909090908, 1.7068264014466545, 1.0071113240826646, 1.614562833848749, 1.048689138576779, 1.6923076923076923, 1.0317297850562948, 1.8333333333333333, 1.5625, 1.2954545454545454, 1.0047418707977824, 1.6342913776015857, 35.17986425339367, 3.457627118644068, 1.0675844806007508, 1.036084190603039, 1.0264608599779492, 1.0511945392491469, 1.0656538037486218, 1.4565768256162175, 1.0714285714285714, 4.666666666666667, 42.841479524438576, 1.3636363636363635, 1.25, 1.1333333333333333, 1.0274881516587677, 128.75, 1.3430851063829787, 1.0312950568380155, 1.0931626311116462, 1.391304347826087, 1.1875, 1.2608695652173914, 1.472972972972973, 1.1978021978021978, 1.7166666666666666, 24.74137931034483, 1.4420605738978811, 1.015625, 1.063781016694061, 1.1786202675526798, 1.6666666666666667, 1.1297067586398035, 133.632183908046, 11.258064516129032, 1.2766627312081857, 1.0698897795591182, 1.0194136486819414, 1.2729405599818977, 1.5580524344569289, 2.0, 1.2071005917159763, 1.0759345794392523, 1.2222222222222223, 1.1539938379472088, 1.249400479616307, 1.036943072665111, 1.2243391521197007, 1.3711957744249401, 1.25, 1.018192486816056, 1.4244771494965143, 1.0440528634361232, 1.8823529411764706, 1.3541666666666667, 1.0, 8.155172413793103, 1.1741585233441911, 1.3562770310893892, 1.077896138482024, 1.6866840731070496, 1.2857142857142858, 1.6185567010309279, 1.0961538461538463, 1.0, 1.0279574117798502, 1.137280701754386, 1.0389510308098457, 1.069031556039173, 1.076555023923445, 1.2027972027972027, 1.3924050632911393, 1.125, 1.1091152815013405, 1.0065934065934066, 1.0053167960449283, 1.0723076923076924, 1.5, 1.1412064825930373, 1.2240328855611833, 1.2043819489862655, 1.2882292469802108, 2.5789284614595096, 3.2977833069441305, 1.0390625, 1.0161550888529887, 1.375, 1.0936231884057972, 1.1174654568728588, 1.010683398338138, 1.0619469026548674, 1.25, 1.0568181818181819, 1.01646708601482, 1.0973574408901252, 1.0733227103003782, 1.2762118527269148, 1.012115093387178, 1.6, 1.1104972375690607, 1.006010542555927, 1.1168749011545152, 1.117948717948718, 1.0432220620622312, 1.194736842105263, 1.1843621399176956, 1.025294374182294, 1.0359078625659504, 2.5034246575342465, 1.3951612903225807, 1.2816901408450705, 1.34375, 1.163946266069623, 1.0870791260004729, 1.289368022124347, 2.5148846221595913, 1.1128228364295423, 1.303448275862069, 1.125, 1.138004246284501, 2.75, 2.5, 1.588235294117647, 1.0643564356435644, 1.6, 2.251184834123223, 1.6923076923076923, 1.4666666666666666, 1.0257682362138434, 1.103448275862069, 1.065934065934066, 4.5, 1.0383284016841112, 2.5, 2.0833333333333335, 1.1440747869122903, 1.125, 1.0494845360824743, 1.1114337568058077, 1.0005262119318556, 1.0664354661580255, 2.0, 1.038489122639254, 1.0081762434703612, 1.4756317518178883, 1.1568627450980393, 1.2525399129172714, 1.0, 131.0, 3.1666666666666665]
origin-bjaq_15.71 	max: 257.0000	99th: 44.3338	95th: 10.0000	median: 1.1552	mean: 3.5883

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.166175 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=128.941094