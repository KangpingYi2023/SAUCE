Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 0, 'transformer': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.6675	95th: 1.6667	median: 1.0810	mean: 1.1749
ReportEsts: [1.0606060606060606, 1.02109375, 1.066938645602766, 1.0337972166998013, 1.5, 1.0, 1.05229005569675, 1.0392544124617773, 1.0, 1.016971279373368, 1.1412576111736357, 1.0426803705456757, 1.005039899202016, 1.158139534883721, 1.057223595902508, 1.0, 1.0344827586206897, 1.0400283386468296, 3.0, 2.0, 1.35, 1.116058534706845, 1.0806298322673449, 1.088667058132707, 1.1006413418845584, 1.0, 1.1366572036905607, 2.0, 1.4, 1.0215827338129497, 1.0, 1.0479952501008025, 1.0043612519068943, 1.271920088790233, 1.0489058598913203, 1.225504023894466, 1.1283422459893049, 1.005773373124997, 1.120015152558716, 1.0595238095238095, 1.1271676300578035, 1.079268292682927, 1.0, 1.0076625126305154, 1.1710621387283238, 1.8615384615384616, 1.0618556701030928, 1.187279151943463, 1.0126001219760115, 1.0462962962962963, 1.1619268879807423, 1.0189003436426116, 1.0394408850250303, 2.0, 1.2441558441558442, 1.1866874674987, 1.206140350877193, 1.3658536585365855, 1.1055900621118013, 1.25, 1.0749272991639405, 1.0946450809464507, 1.0636363636363637, 1.0481927710843373, 1.0, 1.0468512211029786, 1.2910991447576814, 1.75, 1.0, 1.050806376433299, 1.0371287128712872, 1.0633720930232557, 1.0447058823529412, 1.1262803558547727, 1.08, 1.0505836575875487, 1.0, 1.111482254697286, 2.6666666666666665, 1.0026036796754751, 1.28, 1.0477841076837282, 1.1288343558282208, 1.0818858560794045, 1.1045142296368988, 1.0, 1.0667163479143513, 1.0221340946283313, 1.0147058823529411, 1.75, 1.1448979591836734, 1.074824570174871, 1.0778816199376946, 1.002805049088359, 1.0369318181818181, 1.0467532467532468, 1.0305343511450382, 1.1490196078431372, 1.0, 1.2269542369170134, 1.0096472282217424, 1.0343053173241852, 1.2359457455623883, 1.2592592592592593, 1.0303833983276405, 1.049641624634988, 1.2788976377952757, 1.2093287827076222, 1.0462906192519927, 1.3333333333333333, 1.6666666666666667, 1.0862149532710281, 1.0439992530743991, 1.049273531269741, 1.077922077922078, 1.06139234124083, 1.0, 1.0813623462630084, 1.1559734513274336, 1.0, 1.0164835164835164, 1.0, 1.162907268170426, 1.0331049461102837, 1.0436437058321038, 1.1313131313131313, 1.8, 1.1514900662251655, 1.0, 1.1428571428571428, 1.0989357025283455, 1.3, 1.0994466145833333, 1.0068267316472708, 1.103734439834025, 1.0093457943925233, 1.03988603988604, 1.0023382696804364, 1.039972432804962, 1.0712979890310785, 1.0324530836726982, 1.1911764705882353, 1.0130463144161774, 1.0824500127782308, 2.0, 1.019598906107566, 1.006857142857143, 1.076820307281229, 1.107817187224281, 1.5, 1.0810123516589973, 1.06973058637084, 1.0224948875255624, 1.1074561403508771, 1.127007299270073, 1.0557990559676331, 1.0959071117561683, 1.1300315907469682, 1.0333988212180747, 1.082236842105263, 1.2857142857142858, 1.2212389380530972, 1.0235640648011781, 1.2857142857142858, 1.0498552196149218, 1.0501566920068015, 1.1626506024096386, 1.325477948135529, 1.1601700921332387, 1.1164029577800747, 1.3010526315789475, 1.1442307692307692, 1.1162002517672123, 1.0990899898887765, 1.0131118881118881, 1.1107871720116618, 1.039018250471995, 1.1327511300302804, 1.0540850829598176, 1.0, 1.05, 1.0033984706881902, 1.0283094098883572, 1.2577943229409028, 1.0657894736842106, 1.1070310739414577, 1.2994426292523544, 1.0835010713590028, 1.1153846153846154, 1.0345454545454544, 1.010779484207476, 1.0, 1.4545454545454546, 1.0028650982607643, 1.0500595947556615, 1.0064965197215778, 1.2962962962962963, 1.0405144694533761, 1.050848589794314, 1.0375281379643926, 1.0626410835214446, 1.1818277643090545, 1.6440677966101696, 1.0491803278688525, 1.2173913043478262, 1.0, 1.4285714285714286, 1.1685065447090364, 1.3066202090592334, 1.1494252873563218, 1.013840830449827, 1.0031277926720286, 1.0293811614905737, 1.0406725113749862, 1.0829230552820368, 1.1210191082802548, 1.0086705202312138, 1.0019442644199612, 1.0368774771669826, 1.0158975769662792, 1.0, 1.091511387163561, 1.1185866503850472, 1.0147982576444765, 1.1468788249694002, 1.0136834319526626, 1.2807540219923081, 1.0357142857142858, 1.0050465903921006, 1.1344765342960288, 1.015228426395939, 1.1428571428571428, 1.1435009487666035, 1.0402321083172148, 1.1220472440944882, 2.0, 1.2009080590238366, 1.116960696739616, 1.2074542897327707, 1.0850202429149798, 1.0, 1.6666666666666667, 1.0703469865109654, 1.1090909090909091, 1.1108972988382866, 1.5, 1.0, 1.0256410256410255, 1.005100039231071, 1.0714285714285714, 1.0193370165745856, 1.1360759493670887, 1.0400667779632722, 1.005457598656591, 1.0341263235322584, 1.0178571428571428, 2.0, 1.0565973721547097, 1.0626321545752826, 1.161120840630473, 1.0117273240378786, 1.1647733995976808, 1.0266201949790372, 1.102543720190779, 1.092952836998046, 1.0269138755980862, 1.0767734211313977, 1.0881999198182548, 1.0909090909090908, 1.0080647114383279, 1.1355932203389831, 1.1590909090909092, 1.5625, 1.0065454545454546, 1.0555555555555556, 1.188034188034188, 1.0821748199986543, 1.0947075208913648, 1.3533834586466165, 1.0229210833472284, 1.1409395973154361, 1.0321405073345673, 1.031655408734112, 1.1111111111111112, 1.0318843215714806, 2.5, 1.0412056383435395, 1.019438444924406, 1.0514405352510128, 1.0810810810810811, 1.6666666666666667, 1.391304347826087, 1.0142857142857142, 1.0813014540174377, 1.0, 1.0168195718654434, 1.01131221719457, 1.0080128205128205, 1.0172418800241625, 1.0558659217877095, 1.150943396226415, 1.0109872533643742, 1.148455015108685, 1.0968024913373393, 1.1367521367521367, 1.0, 1.090692124105012, 1.2608695652173914, 1.1801470588235294, 1.1092670598146588, 1.0195996663886573, 1.0732394366197182, 1.372093023255814, 1.0054869684499315, 1.0221518987341771, 1.2857142857142858, 1.0072608633686555, 1.04, 1.1875, 1.074581326619965, 1.2380952380952381, 1.1666666666666667, 1.0043238445444747, 2.0, 1.2030178326474623, 1.0508720930232558, 1.044298605414274, 1.1246278179498086, 1.0638888888888889, 1.0459770114942528, 1.101191845127775, 1.0676630721420284, 1.0110192837465564, 1.0090433717793847, 1.0949116392443632, 2.0, 1.125, 1.0636897552503486, 1.25, 1.07035175879397, 1.3529411764705883, 2.0, 1.4666666666666666, 1.3122489959839359, 1.0629107981220658, 1.1120689655172413, 1.0140692640692641, 1.0, 1.1797603195739015, 1.0499120492524185, 2.5, 1.3150684931506849, 1.0, 1.100417520686252, 1.0113636363636365, 1.0135922330097087, 1.1428571428571428, 1.1363636363636365, 1.4009546539379476, 1.1388888888888888, 1.030879529059379, 1.0247215955415994, 1.0652482269503547, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.2307692307692308, 1.0693420393829862, 1.3333333333333333, 1.0203735144312394, 1.2023809523809523, 1.1833583208395801, 1.0839415103717074, 1.247167868177137, 1.017640391064091, 1.011600928074246, 1.0023809523809524, 1.5, 1.0983981693363845, 1.0936170212765957, 1.0463762933101424, 1.1904761904761905, 1.5714285714285714, 1.0274599542334095, 1.011169900058789, 1.0314314363447676, 1.0073529411764706, 1.1464387464387464, 1.0057455540355678, 1.0666666666666667, 1.0907770515613653, 1.0826271186440677, 1.1923076923076923, 1.0254957507082152, 1.1081081081081081, 1.0708579975813124, 1.078164187081882, 1.0186134271654046, 1.048780487804878, 1.353658536585366, 1.088145896656535, 1.0, 1.0479937885746622, 1.0388774760774462, 1.0115165336374001, 1.0586669518614904, 1.0642108476645975, 1.151572926596759, 1.5714285714285714, 1.2510561255280628, 1.0, 1.2365499573014518, 1.25, 1.0345261714337102, 1.0028985507246377, 1.0248280309544282, 1.0948616600790513, 1.2061955469506291, 3.0, 1.235613463626493, 1.006449427090646, 1.0932959352584146, 2.0, 1.0793650793650793, 1.2437619961612285, 1.2936802973977695, 1.1025461725144996, 1.0623700623700623, 1.1666666666666667, 1.080241587575496, 1.0299696692503972, 1.0346412296284853, 1.0881206607613119, 1.092982456140351, 1.165837479270315, 1.2222222222222223, 2.142857142857143, 1.0591397849462365, 1.5, 1.2267782426778242, 1.3636363636363635, 1.0972109333271405, 1.4705882352941178, 1.0914983190477632, 1.081475880321023, 1.080814312152992, 1.0, 1.163265306122449, 1.08, 1.2854641856742697, 1.2844638949671772, 1.0, 1.0368884750376048, 1.0745123282657125, 1.031496062992126, 1.5, 2.0, 1.0116504854368933, 1.0099547511312217, 1.0098360655737706, 1.2222222222222223, 1.0677984010143344, 1.0474777448071217, 1.4705882352941178, 1.041013174404015, 1.0454545454545454, 1.1666666666666667, 1.0193548387096774, 1.3336137989061843, 1.1117421825143587, 1.0, 1.0571428571428572, 1.0811736114806734, 1.0377645383242062, 1.0539528702473178, 1.0, 1.1070559610705597, 1.0199956003112616, 1.0220010476689365, 2.0, 1.0538277511961722, 1.0109346183592123, 1.0298335506169844, 1.0677995718841466, 1.0047884727131329, 1.009470512268618, 1.0127659574468084, 1.1955159112825458, 2.0, 1.0563853429117784, 2.642857142857143, 1.25, 1.1554404145077721, 1.1346153846153846, 1.0079139712677476, 1.2184265010351967, 1.0475466865454823, 1.007397133610726, 1.0690231238882746, 1.1094278371432436, 1.0553359455367153, 1.271604938271605, 4.0, 1.0031352778778058, 1.1653846153846155, 1.0482695161769071, 1.0550061863975984, 1.0953830542871639, 1.0448460508701471, 2.488095238095238, 2.4285714285714284, 1.0035910795150216, 1.0027631388365847, 1.0051463074779377, 1.1317743132887899, 1.0481102969533358, 1.0083160083160083, 1.070240891235217, 1.0134843581445523, 1.2208398133748055, 3.0, 1.0909090909090908, 1.0015337423312884, 1.0620300751879699, 1.114018691588785, 1.1109643328929988, 1.0666666666666667, 1.3092105263157894, 1.148905109489051, 1.1304347826086956, 1.0402324800574254, 1.2840909090909092, 1.0117623231756714, 2.0, 1.1003952569169961, 1.003968253968254, 1.6588235294117648, 1.1058659217877096, 1.1146341463414635, 1.0197628458498025, 1.0461329715061058, 1.1117358993650919, 1.0, 1.2127659574468086, 1.5, 1.5, 1.1477272727272727, 1.008130081300813, 1.0123456790123457, 1.1407766990291262, 1.0661646908042295, 1.051044083526682, 1.0502059685920382, 1.1511918274687856, 1.0434782608695652, 1.102716513967436, 1.2378378378378379, 1.1221779548472774, 1.0328979196903725, 1.0710875331564986, 1.130057803468208, 1.1236738405577447, 1.0432777580702377, 1.1403662336752916, 1.0799981115819042, 2.0, 1.031941031941032, 1.0660098522167487, 1.4615384615384615, 1.0, 1.1333333333333333, 1.25, 1.2840909090909092, 1.3333333333333333, 1.1666666666666667, 1.001012002919084, 1.1301239179771445, 1.0279689076282366, 1.001057801284473, 1.2054054054054053, 1.1258549931600548, 1.0, 1.203125, 1.0224964739069111, 1.0841634127553323, 1.0842111662078489, 1.0434559744845655, 1.0327572198833002, 1.1272727272727272, 1.1411057283698793, 1.1385435168738898, 1.00274311410905, 1.0820986840866733, 1.2727272727272727, 1.0328879753340185, 1.0, 1.2387640449438202, 1.2078668994556845, 3.0, 1.092184368737475, 1.0773439500826523, 1.4285714285714286, 1.0015152608413305, 1.1, 1.1176470588235294, 1.0411443739861377, 1.6153846153846154, 1.041393229638761, 1.0375907731738574, 1.3103448275862069, 1.0740740740740742, 1.0948453608247424, 1.0353897656623625, 1.032008830022075, 1.0684949143813571, 1.1550489195037947, 1.0, 1.0248750814686074, 1.1189024390243902, 2.0, 1.005519608525244, 1.1207889955878536, 1.1485335856196783, 1.018294119519883, 1.0442966664217308, 1.0761904761904761, 1.5714285714285714, 1.023753894080997, 1.0556451612903226, 1.098518656779733, 1.2246732026143792, 1.010685324680564, 1.0702155226458991, 1.228937728937729, 1.1487179487179486, 1.2307692307692308, 1.0774321165258047, 1.0769716088328076, 1.0806159420289856, 1.0980392156862746, 1.0386776046835593, 3.0, 1.1332144979203802, 1.0383225992899017, 1.0631467840209092, 1.3571428571428572, 1.33703652270518, 1.034351145038168, 1.1428571428571428, 1.088100444381745, 1.0420575865415722, 1.1135371179039302, 1.088235294117647, 1.3333333333333333, 1.0808230002880206, 1.5, 1.1495327102803738, 1.0, 1.0279812992812782, 1.3846153846153846, 1.219409282700422, 1.0251572327044025, 1.0, 1.6335978835978835, 1.197337509788567, 1.25, 2.0, 1.1176470588235294, 1.2482758620689656, 1.035076923076923, 1.1927409261576971, 1.1091854419410745, 1.2300884955752212, 1.1014466214978942, 1.0597402597402596, 1.1136363636363635, 1.530612244897959, 1.1153846153846154, 1.0, 1.1056729699666297, 1.1572871572871573, 1.0062370062370063, 1.1605146086329206, 1.0656628791412455, 1.0524483133841132, 1.094151127975573, 1.2039473684210527, 1.146206896551724, 1.0219512195121951, 1.5714285714285714, 1.0, 1.2142857142857142, 1.0162100629885407, 1.090026478375993, 1.107843137254902, 1.0812807881773399, 1.034516991218022, 1.036567609168943, 1.0099166887311195, 1.0985915492957747, 1.2222222222222223, 1.030511060259344, 1.0671394485683987, 1.079943783068783, 1.0236916166044272, 1.0066225165562914, 1.0127869587975773, 1.003832438336562, 1.3214890016920473, 1.3569246435845215, 1.2857142857142858, 1.0572792362768497, 1.2595744680851064, 1.1818181818181819, 1.103542234332425, 1.0701001430615165, 1.0, 1.0233644859813085, 1.0340479614702833, 1.037037037037037, 1.0798446094937868, 1.0085470085470085, 1.1944444444444444, 1.0473429093493047, 1.0250180245133382, 1.0924993284985227, 1.0515267175572518, 1.029511918274688, 1.2047391112469024, 1.2121212121212122, 1.3571428571428572, 1.0, 1.4285714285714286, 1.0753300230107787, 1.3333333333333333, 1.1309499593165175, 1.1134833880781865, 1.0621176470588236, 1.0673286991062563, 1.0528669988118653, 1.0239013933547696, 1.028673835125448, 1.001386962552011, 1.0147040176579707, 1.143747656542932, 1.0498570767155826, 1.1811092376249548, 1.6666666666666667, 1.032258064516129, 1.007905138339921, 1.1207840826371798, 1.01628664495114, 1.2504613762193515, 1.0741444866920151, 2.1829787234042555, 1.0640141770105473, 1.0402684563758389, 1.0560167464114834, 1.1875, 1.0702056809356835, 1.0098462052825141, 1.3423280423280424, 1.0581052631578947, 1.0625, 1.1404151404151404, 1.1355932203389831, 1.5625, 1.0891150962810525, 1.6153846153846154, 1.0853391684901532, 1.091127098321343, 1.0298611111111111, 1.0645276931349705, 1.0047281323877069, 2.75, 1.0926829268292684, 1.0871355564542815, 1.0530196122006779, 1.0129187705066025, 1.0115707874337005, 1.11748201899087, 1.0, 1.0875536480686696, 1.0815550390872597, 1.0152291166205865, 1.0410821643286574, 1.0069444444444444, 1.1486276540652511, 1.0239363951619724, 1.3579881656804733, 1.052984512502067, 1.0, 1.3333333333333333, 1.0555464906425376, 1.012825994014536, 1.2343431470155977, 1.1180798813826336, 1.0670391061452513, 1.125, 1.098037476220047, 1.0530461851216568, 1.1029411764705883, 1.0054347826086956, 1.0229226361031518, 1.098328670298925, 1.1071428571428572, 1.75, 1.0690710938190822, 1.1701445142894173, 1.027533684827182, 1.0114942528735633, 1.276249094858798, 1.0293233513219484, 1.1723362384031488, 1.1560693641618498, 1.2692307692307692, 1.0148247978436657, 1.0770975056689343, 1.13125, 1.6538461538461537, 1.0146161582299698, 1.1902874132804757, 1.1625207296849087, 1.048780487804878, 1.0267362156016986, 1.0599308490203612, 1.0657630522088353, 1.2473757179639533, 1.3333333333333333, 1.037037037037037, 2.0, 1.154649947753396, 1.3461538461538463, 1.0, 1.1538461538461537, 1.0357615894039736, 1.0615942028985508, 1.012745183506233, 1.0335785887116686, 1.089090909090909, 1.2830188679245282, 1.1428571428571428, 1.032258064516129, 1.1081081081081081, 1.0294117647058822, 1.1049913941480207, 1.0280252325023806, 1.0292122741271197, 1.3617021276595744, 1.0879136661127182, 1.0471547970572044, 2.5, 1.07183321424926, 1.2195121951219512, 3.0, 2.0, 1.2014792899408284, 1.0929498673169333, 1.042343214658126, 1.2422360248447204, 1.0, 1.2403846153846154, 1.065359477124183, 3.0, 1.5, 1.0221327967806841, 1.1466594972442532, 1.0130379746835443, 1.6666666666666667, 1.030196641181824, 1.0441518202943454, 1.0072314049586777, 1.0, 1.0187793427230047, 1.0247099831914248, 1.1515151515151516, 1.2115232833464877, 1.0200345222164038, 1.2005649717514124, 1.109375, 1.1023885084349423, 1.036283185840708, 1.1074380165289257, 1.0952380952380953, 1.0392821110135917, 1.3857627118644067, 1.066399602949518, 1.346774193548387, 1.2156862745098038, 1.2537313432835822, 1.0867208672086721, 1.0511310814998451, 1.0092984364925854, 1.079961678482468, 1.0403930131004366, 1.5, 1.6666666666666667, 1.0348398644761234, 1.1398416886543536, 1.1307138688971017, 1.017838514500313, 1.0630540224117746, 1.065165444898951, 1.145124716553288, 1.0666666666666667, 1.0986557660561276, 1.0999568531569106, 1.1959126145172656, 1.117338003502627, 1.6666666666666667, 1.0869565217391304, 1.085496973558458, 1.1268174474959611, 1.0078153030184853, 1.0743385594260042, 1.0042613636363635, 2.0, 1.0780856423173804, 1.0049405044166786, 1.1850582590815628, 1.144486692015209, 1.064136032041196, 1.0796178343949046, 1.3973509933774835, 1.021919431279621, 1.0318516179838075, 1.069871201279569, 1.0518433179723503, 1.0611413043478262, 1.0, 1.1430803789432562, 1.0401316390894964, 1.0161073825503355, 1.014535447995524, 1.0728358208955224, 1.002269288956127, 1.2, 1.2394736842105263, 1.6666666666666667, 2.0, 1.1764705882352942, 1.0051413881748072, 1.0418641390205372, 1.0854966139954854, 1.0012916470638553, 1.0344640434192673, 1.085623438564615, 1.184782608695652, 1.1395348837209303, 1.0581591924633655, 1.6, 1.5, 1.1153427638737758, 1.1428571428571428, 1.0698005698005697, 1.1449421238047308, 1.0295628661559262, 1.096695395302787, 2.0, 1.0170278637770898, 1.176356589147287, 1.0950300382304752, 1.0403359725497032, 1.1843434343434343, 1.1126712328767123, 1.1502262240738252, 1.114068213151112, 1.0396694214876032, 1.2678571428571428, 1.0726256983240223, 1.0, 1.0, 1.0416472944458353, 5.0, 1.5714285714285714, 2.076923076923077, 1.0048484848484849, 1.119047619047619, 1.079268292682927, 1.0925853275794428, 1.0, 1.0769708255741774, 1.016355140186916, 1.1736842105263159, 1.3100961538461537, 1.4285714285714286, 1.0854126679462572, 1.0160753880266076, 1.1244541484716157, 1.0193380438824842, 1.0279434485737544, 1.0375481673985125, 1.1159420289855073, 1.0, 1.2414434995980876, 1.0509820585979106, 1.0276183644189383, 1.1774193548387097, 1.079865075246497]
origin-bjaq_15.71 	max: 5.0000	99th: 2.6675	95th: 1.6667	median: 1.0810	mean: 1.1749

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.909075 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[9.2756748e-04 1.1920929e-07 5.9604645e-08 2.9802322e-07 4.1723251e-07]
Distance score: 0.00018569230451248586
SAUCE Drift detection: True
Detection latency: 0.0212s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.9119 nats / 40.2684 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.150057 | Model-update-time: 2.659135


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 22.5526	99th: 4.5538	95th: 2.0000	median: 1.0914	mean: 1.2792
ReportEsts: [1.0091463414634145, 1.014807502467917, 1.0654846108417684, 1.0887573964497042, 1.5, 2.0, 1.0155730794028666, 1.082066967160335, 1.0, 1.0385109114249038, 1.0870685637525015, 1.0091654669416308, 1.091841093549765, 1.074398249452954, 1.041974479516454, 1.0, 1.0888888888888888, 1.087849805171803, 4.0, 1.5, 1.3478260869565217, 1.0836147147680824, 1.0956220628246351, 1.0782560089435438, 1.0920620009394082, 2.0, 1.0557002076398272, 1.4, 1.1666666666666667, 1.0202702702702702, 1.0, 1.0002622019039242, 1.0062723045311992, 1.0623349181193873, 1.0112914608327452, 1.1702582791950562, 1.179948586118252, 5.0, 1.0064102564102564, 1.1276297335203367, 1.010406328009865, 1.061198470038249, 1.0127472623192233, 1.0369565217391303, 1.0008695337125466, 1.1, 1.48, 1.0505050505050506, 1.0275157232704402, 1.2241379310344827, 1.1988304093567252, 1.1588709677419355, 1.0699404761904763, 1.125363117299409, 1.1592920353982301, 1.097920831667333, 1.0610965001011532, 1.0428828641667531, 1.3582089552238805, 1.0964987514927804, 1.3888888888888888, 1.08187031835206, 1.02276707530648, 1.0829694323144106, 1.0689655172413792, 1.0833333333333333, 1.1645705521472394, 1.2849936948297604, 1.75, 1.0, 1.084646219819148, 1.0079726651480638, 1.0066042927903136, 1.2120535714285714, 1.0872213639373207, 1.0393374741200827, 1.0984848484848484, 1.3333333333333333, 1.0487439070116236, 1.0453890489913544, 1.024693623936526, 1.2307692307692308, 1.0394892045745936, 1.177142857142857, 1.0748538011695907, 1.1584887144259077, 1.0, 1.0353742260134313, 1.067576318223867, 1.074766355140187, 1.75, 1.1503172279160565, 1.0949637956465383, 1.0346820809248556, 1.0783783783783785, 1.0385996409335727, 1.0147420147420148, 1.0, 1.4210526315789473, 1.0, 1.1933766372058354, 1.0560115190784738, 1.0970088924818109, 1.157024455967011, 1.4074074074074074, 1.0263907551733404, 1.0039341037619867, 1.2712855585290912, 1.0987387387387388, 1.0192853091321612, 1.0, 1.25, 2.622400658842907, 1.0633950104057466, 1.0051605504587156, 1.0246913580246915, 1.004826968973747, 1.0, 1.085817524841915, 1.052366565961732, 1.5, 1.0099502487562189, 1.1428571428571428, 1.3478260869565217, 1.0222329010642623, 1.0210564139417895, 1.018181818181818, 1.8, 1.1573373676248109, 2.0, 1.0666666666666667, 1.090978504600634, 1.1818181818181819, 1.4369552585705985, 1.0043644298963448, 1.074751029876415, 1.3333333333333333, 1.4166666666666667, 1.061881188118812, 1.069175991861648, 1.129189518586228, 1.0503790618118585, 1.2198581560283688, 1.0241785492870428, 1.1850278398370124, 2.0, 1.064721969006381, 1.009814612868048, 1.0941101152368757, 1.177166049055938, 1.5, 1.2185759263744247, 1.015625, 1.044, 1.1644736842105263, 1.0554699537750385, 1.0166341442924187, 1.2262631871182677, 1.1558145301264566, 1.0357815442561205, 1.0378548895899053, 1.1785714285714286, 1.263157894736842, 1.0450070323488045, 1.2857142857142858, 1.0703587838053215, 1.1365030674846626, 1.2414965986394557, 1.270179575548703, 1.0622972096041532, 1.0859071341998578, 1.2560483870967742, 1.0960698689956332, 1.1686447695280155, 1.0414258188824663, 1.098360655737705, 1.0340386384544618, 1.0433082706766916, 1.0760380190095047, 1.0427090654905808, 1.0064102564102564, 1.059077809798271, 1.064158813968564, 1.0140313257505127, 1.252, 1.0057392588829144, 1.1930379746835442, 1.0, 1.14625, 1.0599175224387483, 1.45, 1.1985472154963681, 1.1469849246231156, 1.099979596000816, 1.1755224801418986, 1.0942701845770582, 1.140547263681592, 1.074554230324305, 1.4663341645885286, 1.125, 1.0612244897959184, 2.0, 1.133279887764305, 1.2239583333333333, 1.0158730158730158, 1.6164383561643836, 2.0, 1.3793103448275863, 1.0083032007499666, 1.3496732026143792, 1.148936170212766, 1.0662382600098863, 1.3076923076923077, 1.009011802153738, 1.0153846153846153, 1.1110179088201988, 1.4, 1.0245664739884393, 1.003697996918336, 1.1113648113044976, 1.0226486028012745, 2.0, 1.0517173312277932, 1.0784794031302007, 1.0129669560306054, 1.0971896955503513, 1.0509175561554274, 1.2186372538913515, 1.0, 1.0063096702903676, 1.1153893467831222, 1.0365521003818876, 1.1542857142857144, 1.0019723865877712, 1.0, 1.1401799100449774, 2.0, 1.1252326508907204, 1.1088110403397027, 1.2368772241992882, 1.1958333333333333, 1.0833333333333333, 1.6666666666666667, 1.096104287292078, 1.1818181818181819, 1.0844362096347273, 1.5, 1.0, 1.3984962406015038, 1.0264699800096506, 4.553780617678381, 1.0285714285714285, 1.1205673758865249, 1.0512820512820513, 1.0448234827449425, 1.1121371789458223, 1.0169491525423728, 2.0, 1.079815412833296, 1.0610898993405067, 1.082236842105263, 1.0006346310215577, 1.0967075464201521, 1.1292320991211642, 1.1399046104928459, 1.0990082617261876, 1.0741626794258374, 1.3559955690944336, 1.01571902247329, 1.3, 1.0122777405257926, 1.1523341523341524, 1.25, 1.5789473684210527, 1.1007272727272728, 1.1111111111111112, 1.165289256198347, 1.1452871211152322, 1.256267409470752, 1.2551724137931035, 1.0261221987603024, 1.1732954545454546, 1.0282807875891138, 1.0075161843870781, 1.3333333333333333, 1.8694434721736086, 1.1387163561076605, 1.0427446969360075, 1.0411615825229785, 1.072376241085163, 1.3246670894102728, 1.2376502002670227, 1.0427997162449751, 1.0033022533022533, 1.1074721258290383, 1.0982808258616434, 1.0428265524625269, 1.0, 1.1818181818181819, 1.1385195831836148, 4.583333333333333, 1.0940919037199124, 1.1062800581590426, 1.0361111111111112, 1.4242424242424243, 1.0555555555555556, 1.5714285714285714, 1.0047732696897376, 1.056105657888133, 1.0952380952380953, 1.2543109491097715, 1.0232922758056313, 1.0623229461756374, 1.5, 1.118954248366013, 1.0283400809716599, 1.2857142857142858, 1.0118679747098676, 1.0054945054945055, 1.1111111111111112, 1.0743507925389784, 1.2727272727272727, 1.3636363636363635, 1.0081970167183902, 2.0, 1.0588235294117647, 1.0204081632653061, 1.2078853046594982, 1.0634071810542398, 1.0199501246882794, 1.0326086956521738, 1.0208080085806222, 1.0924076385998982, 4.211462450592886, 1.0450922118633716, 1.0364258815474152, 2.0, 1.1111111111111112, 1.0196840599539772, 1.0, 1.018597236981934, 1.411764705882353, 1.5555555555555556, 1.375, 1.3462998102466792, 1.00354609929078, 1.316831683168317, 1.058641975308642, 1.0, 1.1520504731861199, 1.0811994481222231, 7.5, 1.2502857142857142, 1.0, 1.0414078958168038, 1.043956043956044, 1.0084137030339562, 1.2096774193548387, 1.080550098231827, 1.3458646616541354, 1.3148148148148149, 1.0326109158525676, 1.024910378650203, 1.052278820375335, 1.0, 1.1428571428571428, 1.5714285714285714, 2.0, 1.4615384615384615, 1.0370531822144726, 1.1666666666666667, 1.0263157894736843, 1.2926829268292683, 1.2271813667533695, 1.1210063204858098, 1.29351184346035, 1.0006743239901998, 1.068445475638051, 1.054176072234763, 6.787878787878788, 1.1059907834101383, 1.037037037037037, 1.0498703309463906, 1.125, 1.4666666666666666, 1.0352112676056338, 1.3308823529411764, 1.0596466431095406, 1.0311004784688995, 1.2068376068376068, 1.0145115314848405, 1.036144578313253, 6.190446061372983, 1.053412462908012, 1.25, 4.555555555555555, 1.1055825242718447, 1.0486594747143703, 1.1425467188179053, 1.0208613074919515, 1.1511627906976745, 1.1683168316831682, 1.0467836257309941, 3.0, 1.0130220624720134, 1.0122436642879464, 1.0434449329275166, 1.0543612912628435, 1.4927107959022852, 1.198284080076263, 1.8571428571428572, 1.1136023916292974, 1.0, 1.0487364620938628, 1.2, 1.0252137820129736, 1.0267379679144386, 1.0198815940620305, 1.1578947368421053, 1.1, 4.0, 1.1962616822429906, 1.0089440444759767, 1.1278101854886282, 2.0, 1.1538461538461537, 1.3464491362763915, 1.2602739726027397, 1.0555249271481453, 1.0100806451612903, 1.2777777777777777, 1.0057518488085455, 1.0289197366079375, 1.0750567888980092, 1.040321177773912, 1.0775607432110528, 1.2570480928689884, 1.128, 2.375, 1.0712468193384224, 1.3928571428571428, 1.1662688941925219, 1.5056179775280898, 1.235384768343607, 1.9285714285714286, 2.0, 1.0813274981765135, 1.1259445843828715, 1.0, 1.25, 1.034548944337812, 1.0811472768288752, 1.1428571428571428, 1.2130879345603272, 1.0528249740900097, 1.0939715858185075, 1.380952380952381, 1.0138966092273485, 2.3333333333333335, 1.0036873156342183, 1.0367383512544803, 1.140983606557377, 1.0909090909090908, 1.0258683404672881, 1.0555032925682033, 1.3888888888888888, 1.0171139375374576, 1.1, 1.058385093167702, 1.0603514132925898, 1.3492822966507176, 1.063770472761064, 2.0, 1.027027027027027, 1.0807629391031586, 1.033909887473235, 1.0222957378058162, 2.0, 1.1013058129738837, 1.0168430313088834, 1.0759559979046622, 1.0, 1.1028708133971292, 1.0684166467352307, 1.0219919333470722, 1.0216227697536109, 1.0319550915518374, 1.0275778297642613, 1.0032154340836013, 1.0501665278934222, 2.3333333333333335, 1.081400657414171, 1.6122448979591837, 1.75, 1.114678899082569, 1.2307692307692308, 1.0083403264879587, 1.1657407407407407, 1.040944495442028, 1.0435547734271888, 1.0732806568882671, 1.3178831680802772, 1.0695711753254522, 1.1195652173913044, 2.0, 1.0053207994889113, 1.133719806763285, 1.0048816124045057, 1.0269570784465967, 1.1103331723804926, 1.1637508747375787, 2.0096153846153846, 2.4285714285714284, 1.1182734646581691, 1.0221639177766257, 1.0069868841150094, 1.1547788873038516, 1.1099112996529117, 1.034412955465587, 1.008119973961265, 1.0249617931737136, 1.151026392961877, 2.0262968299711814, 1.0524886877828055, 1.1524721718871342, 1.0273972602739727, 1.0946450809464507, 1.2380952380952381, 1.2227011494252873, 1.0687430478309232, 1.1472191930207198, 1.0180904522613066, 1.0708889729783946, 1.13, 1.049827188940092, 4.0, 1.0467091295116773, 1.0952380952380953, 1.2966101694915255, 1.084544253632761, 1.0901916572717023, 1.0204081632653061, 1.004950495049505, 1.0724488560706935, 2.0, 1.1372549019607843, 1.1666666666666667, 1.0, 1.1477272727272727, 1.0366088631984585, 1.0363086232980332, 1.1844660194174756, 1.1267222044216598, 1.0494505494505495, 1.072069398868952, 1.115547489413188, 1.0276075828493605, 1.070649346426481, 1.0180488128301275, 1.109375, 22.55263157894737, 1.0048926847168358, 1.0027870680044593, 1.0703703703703704, 1.15007215007215, 1.15, 1.1079063454360367, 1.1314060446780552, 1.1583915423824807, 1.2679738562091503, 1.1714909885308575, 1.2740740740740741, 1.5, 1.0278514588859415, 1.0625, 1.1295238095238096, 1.2758620689655173, 1.0, 1.008548839308596, 1.0519723312768743, 1.024484181568088, 1.3448556624722428, 1.2102564102564102, 1.0857519788918206, 2.0, 1.2027972027972027, 1.2897364771151179, 1.0343966316991364, 1.0284019769357495, 1.0293075582650262, 1.2534801579056722, 1.14214463840399, 1.087965367965368, 1.0808080808080809, 1.0679081552570802, 1.1228824928894692, 1.3953488372093024, 1.0745967741935485, 2.5, 1.123123307900566, 2.0, 1.008108108108108, 1.1262135922330097, 1.4006734006734007, 1.25, 1.0290335083330397, 1.0, 1.1111111111111112, 1.0682352771923262, 1.098155467720685, 1.1256632899179932, 1.000019892777927, 1.0142517814726841, 1.2666666666666666, 1.0689655172413792, 1.0986717267552182, 1.0655188904830224, 1.4435767278406872, 1.282033492068498, 1.0961947325031458, 1.0, 1.0907304968205553, 1.0985915492957747, 3.0, 1.0413353456626044, 1.0636475712994164, 1.084063047285464, 1.0149373560668484, 1.043991833560179, 1.0990990990990992, 1.3, 1.0391783948269304, 1.0279456193353473, 1.1290624193964405, 1.2028985507246377, 1.0105570418127539, 1.2270584973662324, 1.3413793103448275, 1.0653643876784373, 1.3444816053511706, 1.0513014376410679, 1.064252336448598, 1.138586956521739, 1.0503489531405783, 9.627167630057803, 1.1266375545851528, 1.1069539666993145, 1.0909090909090908, 1.4, 1.0892351274787535, 1.5312810327706057, 1.0745738636363635, 1.0799213887979038, 1.0833333333333333, 1.0456707897240722, 1.0402178466694596, 1.070921985815603, 1.08883974619448, 3.0, 1.0520446096654275, 2.0, 1.1635514018691588, 1.0, 1.0210505411577797, 1.3333333333333333, 1.2345679012345678, 1.0410958904109588, 2.0, 1.640625, 1.219298245614035, 1.0, 2.0, 1.1083333333333334, 1.2077922077922079, 1.0921417565485363, 1.1304863582443654, 1.1368948247078463, 3.815959741193386, 1.1453488372093024, 1.1116883116883116, 1.229665071770335, 1.5020408163265306, 1.0344827586206897, 1.0, 1.5248152059134108, 1.0573333333333332, 1.0642105263157895, 1.0020764119601329, 1.0181346072716686, 1.0746136306055232, 1.0829725982079383, 1.1092416818010487, 1.1739690721649485, 1.0866279069767442, 1.5, 1.5, 1.1724137931034482, 1.0223181159994525, 3.6106870229007635, 1.1666666666666667, 1.057356608478803, 1.0267772684275631, 1.0079611354156068, 1.009714417763841, 1.0263157894736843, 1.2222222222222223, 1.0245133381398703, 1.0124251024913276, 1.0139324810533568, 1.0670886245692142, 1.0592105263157894, 1.0728281480441042, 1.013567685353599, 1.2721617418351479, 1.4343177189409368, 1.25, 1.035920177383592, 1.4353846153846155, 1.1304347826086956, 1.2444444444444445, 1.1258941344778255, 2.0, 1.1488372093023256, 1.0437284052366311, 1.1428571428571428, 1.0877862017826607, 1.0646186440677967, 1.393939393939394, 1.062866517305126, 1.165021581289524, 1.1660623153370937, 1.0896946564885497, 1.1481481481481481, 1.1328970470869912, 1.1428571428571428, 1.125, 2.0, 1.4285714285714286, 1.016131868131868, 1.3333333333333333, 1.0356826633610767, 1.095930380067996, 1.0795287187039764, 1.0416981132075471, 1.00317680081933, 1.0391997562709454, 1.0788530465949822, 1.0589777195281782, 1.0059305205381646, 1.0831499633259984, 1.0084941159552285, 1.2323587413187003, 1.5714285714285714, 1.1486988847583643, 1.018939393939394, 1.142483274983535, 1.1042345276872965, 1.2195937258935459, 1.0574506283662477, 2.128630705394191, 1.028870510835361, 1.0061652281134401, 1.137858851674641, 1.1764705882352942, 1.0343073974103196, 1.0393422914298331, 1.2813131313131314, 1.1132631578947367, 1.1, 1.0071868583162218, 1.0932642487046633, 1.5, 1.0429173073066382, 1.4137931034482758, 1.0421263791374122, 1.0825688073394495, 1.052596089008766, 1.0041480536056158, 1.0376470588235294, 2.1666666666666665, 1.018181818181818, 1.1495091731313651, 1.0557394706413445, 1.0328039404697529, 1.001600149140114, 1.057742782152231, 1.0714285714285714, 1.0250809061488673, 1.039461020211742, 1.0304576080256753, 1.062124248496994, 1.0763888888888888, 1.0017072129748186, 1.2272727272727273, 1.0040650406504066, 1.4375, 1.0, 1.0, 1.099698479286838, 1.9282832226994664, 1.157206986977199, 1.0554501036943302, 1.0528301886792453, 1.1486810551558753, 1.1131589785831961, 1.0413368513632366, 1.1709558823529411, 1.0, 1.0432658757850664, 1.0909515197479727, 1.1547619047619047, 1.75, 1.0031223829364875, 1.1059457638537982, 1.0357342266890006, 1.0625, 1.0711346266901822, 1.0226914996385843, 1.231093618217599, 1.2735562310030395, 1.25, 1.048407643312102, 1.0812003530450132, 1.20625, 1.5333333333333334, 1.052612179993471, 1.2537165510406343, 1.230514096185738, 1.25, 1.0327772437518972, 1.0605894197327477, 1.1258701472556893, 1.1883037641978786, 1.3333333333333333, 1.0769230769230769, 2.5, 1.213166144200627, 1.2758620689655173, 1.25, 1.1538461538461537, 1.059119496855346, 1.0187074829931972, 1.0184405425647, 1.01683786443597, 1.3782837127845884, 1.2363636363636363, 1.0666666666666667, 1.0285714285714285, 1.1486486486486487, 1.0945945945945945, 1.1737649063032367, 1.0285152283453505, 1.0304439939428223, 1.2549019607843137, 1.0884629346332357, 1.0025658203561159, 2.5, 1.0131804674815428, 1.1455399061032865, 1.5, 2.0, 1.2178802361540624, 1.0725059181602976, 1.0385657212828854, 1.1911764705882353, 1.5, 1.0846774193548387, 1.1246458923512748, 3.0, 1.0262370508369323, 1.1058262479214382, 1.0505717020097718, 1.0065284618027717, 1.8333333333333333, 1.0237448419263675, 1.0952749806351665, 1.0671936758893281, 1.2063808574277168, 1.0222222222222221, 1.0, 1.2236842105263157, 1.13165816796707, 1.0460425515408933, 1.3284023668639053, 1.0848056537102473, 1.1217535565897847, 1.0704347826086957, 1.084942084942085, 1.2982456140350878, 1.0315077133935038, 1.1696319435012903, 1.0581372002230898, 1.8055555555555556, 1.18348623853211, 1.0651340996168583, 1.4285714285714286, 1.100843288826423, 1.0317919075144508, 1.00397613196034, 1.0080402010050251, 1.5, 1.6666666666666667, 1.1023330602833652, 1.154970760233918, 1.089732528041415, 1.0271308289784729, 1.2537801389456478, 1.034821955538068, 1.1064814814814814, 1.0208333333333333, 1.1793950284516321, 1.1246375113506546, 1.2012113055181697, 1.2802547770700636, 2.0, 1.0533333333333332, 1.07760465552844, 1.1305355303810505, 1.0029605068387708, 1.0348326419507583, 1.0183798502382573, 2.25, 1.0788530465949822, 1.0226070946886172, 1.1593736593736594, 1.288808664259928, 1.0798259244246273, 1.0059880239520957, 1.3576642335766422, 1.0082599118942732, 1.0181772382852123, 1.0060087666706636, 1.077188940092166, 1.005148005148005, 1.03125, 1.1091726618705036, 1.2669472751439965, 1.1547505886137963, 2.637251482385769, 1.1101295641931683, 1.025695931477516, 4.538461538461538, 1.1544117647058822, 2.0, 2.0, 1.1666666666666667, 1.0537084398976981, 1.0325615050651231, 1.0243304617380962, 1.0060460866917065, 1.1954522227899846, 1.0017906884202148, 1.1616161616161615, 1.0528301886792453, 1.0230064924255036, 2.0, 1.5833333333333333, 1.0752153744201458, 1.125, 1.0089514066496164, 1.1436018957345973, 1.0038659793814433, 1.100584499263623, 2.0, 1.0396617089530475, 1.1593406593406594, 1.0702920921396344, 1.0175561288671884, 2.926605504587156, 1.1863013698630136, 1.0918968340031043, 1.1132698991510455, 1.0044910179640718, 1.1451612903225807, 1.0756972111553784, 1.0, 2.0, 1.0086379229497273, 5.0, 1.375, 2.25, 1.038231780167264, 1.1494252873563218, 1.0828059071729959, 3.3170149253731345, 1.0, 1.1589075108628182, 1.033296943231441, 1.1691542288557213, 1.3221153846153846, 1.25, 1.0190097259062776, 1.0107181136120043, 1.0751565762004176, 1.0092150170648464, 1.020377590291968, 1.0466150698336447, 1.11387397569935, 6.0, 1.2453655404863173]
origin-bjaq_15.71 	max: 22.5526	99th: 4.5538	95th: 2.0000	median: 1.0914	mean: 1.2792

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.874865 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[7.8815222e-04 0.0000000e+00 0.0000000e+00 2.9802322e-07 2.9802322e-07]
Distance score: 0.00015774965868331492
SAUCE Drift detection: True
Detection latency: 0.0334s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.9786 nats / 40.3645 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.063077 | Model-update-time: 2.491680


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 219.5000	99th: 7.9272	95th: 2.7977	median: 1.0993	mean: 1.7584
ReportEsts: [1.0058997050147493, 1.003287928604979, 1.0358359209021082, 1.085343228200371, 1.3636363636363635, 3.0, 1.1139142146705345, 1.0618225922994873, 1.0, 1.0834403080872914, 1.1138107416879794, 1.0593723384478368, 1.0475095785440613, 1.079002079002079, 1.061700767263427, 21.88888888888889, 1.3, 22.84375, 1.4, 1.1675824175824177, 1.0627775037000493, 1.1075471698113208, 1.3865717192268565, 1.3333333333333333, 1.160381386082254, 1.0351905604422589, 4.0, 1.0604535672901838, 1.6, 1.0, 1.0127388535031847, 1.0, 1.0632290578849235, 1.004510901344917, 1.0968229954614221, 1.0528482273270483, 1.1131961715276208, 1.2, 10.0, 1.0541401273885351, 1.141711229946524, 1.025785010314004, 1.0363851259205383, 1.0028238698686083, 1.0934782608695652, 1.0606326567928324, 1.2380952380952381, 1.4230769230769231, 1.1555555555555554, 1.0480349344978166, 1.2222222222222223, 1.1465148291828307, 1.2528735632183907, 1.0, 1.0792804476787472, 1.5267175572519085, 1.0654349939941659, 1.0782304031794174, 1.048035320576225, 1.4328358208955223, 1.0363648805188839, 1.5185185185185186, 1.0958472686733556, 1.0085616438356164, 1.109704641350211, 1.0208333333333333, 2.0, 1.0731033553429457, 1.2048477682530299, 1.75, 1.0, 1.1662160902395824, 1.0242024202420241, 1.0415527610716238, 1.33125, 1.0880508438907361, 1.16, 1.1288566243194191, 1.25, 1.0078659370725034, 1.062623599208965, 1.0298647674393202, 1.0588235294117647, 1.067644494589466, 1.1746031746031746, 1.0795964125560538, 1.232090284592738, 1.037037037037037, 1.0266676302666764, 1.0367691695798706, 1.094170403587444, 1.75, 1.0757839721254356, 1.0460436017747134, 1.043010752688172, 1.0442132639791937, 1.0591304347826087, 1.0420560747663552, 2.0, 1.3775510204081634, 1.0, 1.1203638908327502, 1.189056875449964, 1.0175706646294882, 1.1138668343683673, 1.4, 1.0208161477326385, 1.0148741418764302, 1.3091536293848993, 1.1318681318681318, 1.0039756162205142, 1.25, 1.2, 4.215522388059702, 1.061743858770133, 1.0365394948952176, 1.0235294117647058, 1.0462029939017512, 2.0, 1.0876585928489042, 1.0086124401913876, 2.0, 1.1083743842364533, 1.125, 1.219626168224299, 1.0260231971630842, 1.0056493375479185, 1.0089285714285714, 1.8, 1.0737647877522616, 3.0, 1.03125, 1.0994721214120753, 1.0833333333333333, 1.9467142857142856, 1.0408140970318014, 1.0479586908874772, 1.0, 1.3076923076923077, 1.0368663594470047, 1.0360540811216825, 1.186471663619744, 1.0439576515880655, 1.2448979591836735, 1.0141426045963464, 1.0946503874770936, 3.0, 1.1267092069279854, 1.0219895287958116, 1.1218905472636815, 1.2142226927827775, 1.5, 1.3483894405425043, 1.0179806362378976, 1.1, 1.2236842105263157, 1.1605839416058394, 1.0315192603557828, 1.0580960903853682, 1.3186237330207544, 1.0536633663366337, 1.1456953642384107, 1.065613608748481, 1.0353982300884956, 1.0323450134770888, 1.5714285714285714, 1.0837362492589422, 1.1987951807228916, 1.0352303523035231, 1.2176143279429665, 219.5, 1.001004366812227, 1.3650485436893205, 1.1453362255965294, 1.0308231173380036, 1.0284664830119377, 1.0664365832614322, 1.0674255691768826, 1.025141242937853, 1.0157405949944909, 1.0315893204490383, 1.0783132530120483, 1.091164095371669, 1.0311856454703365, 1.103419516263553, 1.2359550561797752, 2.607515657620042, 1.026246719160105, 1.1428571428571428, 1.2032705479452055, 1.0639192920462281, 1.8333333333333333, 1.2584745762711864, 1.2541866028708133, 1.113958323260649, 1.004428499355345, 1.0747065101387407, 1.0847499792685962, 1.0929820466941542, 1.0841899167890356, 1.8954758190327614, 1.0979394556092597, 1.0477772914444525, 1.039830058417419, 1.0829673477181592, 1.186602870813397, 1.0625, 1.9615384615384615, 3.0, 1.3333333333333333, 1.1820214063135077, 1.2546012269938651, 1.2673267326732673, 1.1176470588235294, 1.5, 1.0556251421012381, 1.004739336492891, 1.066763750420074, 3.0, 1.0895953757225434, 1.002651738361815, 1.1504537882704349, 1.12130069000298, 3.0, 1.1323529411764706, 1.1108184584719973, 1.011060266825084, 1.0399556048834628, 1.0170203725124525, 1.0512915292830423, 1.0689655172413792, 1.006729027060955, 1.1317448769249423, 1.1043771043771045, 1.0225776105362183, 1.0193236714975846, 3.0, 1.1984240687679084, 2.0, 1.1285333333333334, 1.0359275376986135, 1.1941562566165573, 1.1466165413533835, 1.0769230769230769, 1.6666666666666667, 1.0683856144493729, 1.2181818181818183, 1.0834121131908994, 1.5, 1.0, 1.3496503496503496, 1.029160061502521, 7.510164569215876, 1.0329113924050632, 1.1970731707317073, 1.3564356435643565, 1.095853936858121, 1.1110412848040498, 1.0819672131147542, 2.0, 1.1126943606405197, 1.1017988834516508, 1.1224806201550388, 1.0101335442918762, 1.1588127050164012, 1.234862385321101, 1.2217806041335453, 1.0673500640685065, 1.124401913875598, 1.6017321613236815, 1.0911212083998527, 1.25, 1.0314622890443415, 1.019189765458422, 1.3181818181818181, 1.7, 1.1072535647861128, 1.0923076923076922, 1.0087134079211089, 1.0007241681594694, 1.2952646239554317, 1.2902542372881356, 1.03412515463131, 1.0618301731244848, 1.0613377049180328, 1.045514116379882, 1.5555555555555556, 2.7921254587921256, 1.1544021024967148, 1.025159038046713, 1.0110421679118653, 1.0797336620627773, 1.331008243500317, 1.3164218958611482, 1.1044005388414908, 1.0209398496240603, 1.0991879123882404, 1.0212696101523133, 1.054639175257732, 1.0, 1.2727272727272727, 1.194394538268056, 7.171428571428572, 1.1422319474835887, 1.0363427697016068, 1.0830945558739256, 1.3714285714285714, 1.0695652173913044, 1.2727272727272727, 1.0152657369016207, 1.0271886349499368, 1.3, 1.2421141174821253, 1.012672698880951, 1.1002785515320335, 1.3673469387755102, 1.2259675405742823, 1.0086997413590406, 1.2857142857142858, 1.0109365356833784, 1.065934065934066, 1.05, 1.091332815447786, 1.125, 1.2307692307692308, 1.0001369863013698, 2.0, 1.0078740157480315, 1.0268199233716475, 1.1505016722408026, 1.0514388489208633, 1.09, 1.0206185567010309, 1.0381358742510998, 1.1081051333979044, 6.761989342806395, 1.0129959937162227, 1.0375008152351137, 3.0, 1.2222222222222223, 1.0780483471359898, 1.2, 1.0349504434011476, 1.4705882352941178, 1.4545454545454546, 1.2941176470588236, 1.3198562443845463, 1.0326855123674912, 1.1596638655462186, 1.25, 1.4242424242424243, 2.0, 1.0397166513623421, 51.0, 1.2, 1.0214239135621166, 1.1288888888888888, 1.0008196721311475, 1.0973451327433628, 1.3333333333333333, 1.3333333333333333, 1.4265927977839334, 1.102189781021898, 1.0974178403755868, 1.0178443603640455, 1.2519410977242302, 1.0025445292620865, 1.3333333333333333, 1.0197658434848558, 1.1928783382789319, 1.2727272727272727, 1.0219298245614035, 1.00186776242062, 1.75, 1.2455104673082646, 1.099009900990099, 1.1532943325303757, 1.0574469922362564, 1.0384387936132466, 1.1050220750551876, 1.2266645171691117, 1.023076923076923, 1.0096930533117932, 1.1347711122128574, 1.1254545454545455, 1.2424242424242424, 1.0457021484176507, 1.0536857319843072, 2.3636363636363638, 1.12751574742664, 1.345679012345679, 1.0625, 1.0616238450254813, 1.5555555555555556, 1.3333333333333333, 1.118279569892473, 7.0, 1.15, 8.0, 1.2320185614849188, 1.2781774580335732, 1.1025641025641026, 1.0945023572814363, 1.2282608695652173, 1.1160714285714286, 1.0, 5.0, 1.0017237639699084, 1.0362801801201826, 1.0523729004621802, 1.039962011682999, 1.7707125657718719, 1.2758182395932633, 2.142857142857143, 1.2255253716043055, 1.0, 1.1211009174311926, 1.1818181818181819, 1.0747938239544512, 1.094437257438551, 1.1370202228642179, 1.0892857142857142, 1.0640732265446224, 5.0, 1.1977077363896849, 1.0060160095460646, 1.1310752330226366, 2.0, 1.1791044776119404, 1.4117082533589251, 1.231012658227848, 1.001343083121922, 1.1450980392156862, 1.3157894736842106, 1.003903200624512, 1.007615461954778, 1.0701846583186851, 1.1650744304257057, 1.132837812083095, 1.0072992700729928, 1.2, 1.025528520143598, 1.155425219941349, 1.3448275862068966, 1.11144806671721, 2.0631578947368423, 1.200948784082535, 2.0714285714285716, 5.0, 1.0389604373204855, 1.145320197044335, 3.0, 1.4545454545454546, 1.0222634508348794, 1.0837205009076645, 1.0666666666666667, 1.1681764474202443, 1.0318703659411623, 1.1219678852066963, 1.0892890639654849, 1.0497354497354496, 1.119671613514367, 1.048951048951049, 1.0994623655913978, 1.0885245901639344, 1.3636363636363635, 1.0240533676363877, 1.1385948026948989, 1.3157894736842106, 1.0574568384963878, 1.1545454545454545, 1.1415094339622642, 1.0238957277335263, 1.4382107657316148, 1.0361044636354177, 3.0, 1.054054054054054, 1.0733269445775435, 1.0663417689895482, 1.0376673208166134, 3.0, 1.0685014061872238, 1.0198702062793061, 1.1293871136720797, 1.5, 1.1531100478468899, 1.0559643883473262, 1.1229722966408573, 1.0222681917741543, 1.106179259845464, 1.0253083247687564, 1.0, 1.0512622856041627, 2.6666666666666665, 1.1830688723835245, 1.2173913043478262, 1.8, 1.0244897959183674, 1.2692307692307692, 1.016708566862536, 1.0148883374689825, 1.0747678125866371, 1.0588719637710993, 1.0449294785882954, 1.582236842105263, 1.1183951183951184, 1.0033513160045775, 1.0666666666666667, 1.1235955056179776, 1.0987921274808214, 1.2091836734693877, 1.4007165223278513, 1.0465648125776128, 1.6666666666666667, 1.020100502512563, 1.479876160990712, 4.423076923076923, 1.04, 1.0224240222066023, 1.1274900398406376, 1.191636057702173, 1.4186046511627908, 1.1931628018168778, 1.0246020260492041, 1.0140310959423589, 2.9274628879892037, 1.0103181427343078, 1.1501360375958447, 1.0970149253731343, 1.085480093676815, 1.2727272727272727, 1.3201174743024964, 1.094403379091869, 1.1111111111111112, 1.0355086372360844, 1.0544834928955953, 1.118811881188119, 1.0511344153617557, 6.0, 1.25, 1.0952380952380953, 1.5045871559633028, 1.1056196688409432, 1.0029469548133596, 1.0457875457875458, 1.1496598639455782, 1.1076177087304613, 3.0, 1.0363636363636364, 1.6, 1.0, 1.2727272727272727, 1.2222222222222223, 1.0635155096011817, 1.1990291262135921, 1.1818327459147708, 1.0782881002087683, 1.0713727576518313, 1.0599916387959867, 1.036648839224357, 1.2441726117336365, 1.0103810111666012, 1.0949852507374631, 48.77142857142857, 1.0431610376406064, 1.0327868852459017, 1.04, 1.12, 1.702970297029703, 1.162344272625915, 1.148005148005148, 1.215239758353785, 1.1479289940828403, 1.142077922077922, 1.0703125, 1.5, 1.0037735849056604, 1.1764705882352942, 1.2211350293542074, 1.2258064516129032, 1.1428571428571428, 1.001777220979948, 1.0280066499808174, 1.0665388237697013, 1.6791836141778036, 1.203883495145631, 1.0024301336573511, 1.5, 11.0, 1.0207792207792208, 1.0400725911301585, 1.0361150257773337, 1.098727263358582, 1.4646870777444552, 1.1766109785202863, 1.1108015110146987, 1.1104, 1.154203197524497, 1.1093171684201324, 1.0038525525644884, 1.3370786516853932, 2.3333333333333335, 1.086617454458864, 3.0, 1.0391891891891891, 1.1153846153846154, 1.4713804713804715, 1.2222222222222223, 1.0206147800313052, 1.0833333333333333, 1.05, 1.0233595438451282, 1.0754138565297364, 1.2840670859538783, 1.0000189503406323, 1.0546318289786223, 1.2258064516129032, 1.0666666666666667, 1.0362976406533575, 1.1516021042563367, 1.9741761418385044, 1.3597150771666007, 1.0466195315952276, 1.0, 1.0185952451415605, 1.0652741514360313, 4.0, 1.0356306562875768, 1.0859395182439466, 1.0781122864117167, 1.025009252591443, 1.0395794182413503, 1.0731707317073171, 1.0769230769230769, 1.0692278432864206, 1.0438162544169611, 1.1323283339218004, 1.14859715968133, 1.013531658333464, 1.310828700026476, 1.2715447154471544, 1.0899780541331383, 1.3210702341137124, 1.0589685440623249, 1.0093201754385965, 1.0833333333333333, 1.0589420654911839, 21.006451612903227, 1.1136363636363635, 1.1422135161606268, 1.0833333333333333, 1.4, 1.0893098782138024, 1.4611497157296274, 1.0456698240866036, 1.0763215514544886, 1.0833333333333333, 1.1236917221693625, 1.0733137829912023, 1.0588235294117647, 1.048326639892905, 2.0, 1.0604982206405693, 2.5, 1.1331775700934579, 1.0769230769230769, 1.064208638751691, 1.2857142857142858, 1.1752988047808766, 1.0247479376718607, 3.0, 1.6340579710144927, 1.133432171979244, 1.0, 2.0, 1.0390625, 1.147239263803681, 1.0018791946308725, 1.0941446613088404, 1.0907715582450832, 1.1516709511568124, 1.013157894736842, 1.0288236821604777, 1.050387596899225, 1.4816326530612245, 1.0689655172413792, 1.0, 1.954639175257732, 1.049443757725587, 1.0056818181818181, 1.0147119767923747, 1.014765186840892, 1.089566848845746, 1.0576676920190058, 1.1814095883272537, 1.2421580928481806, 1.1344676180021953, 1.8571428571428572, 2.0, 1.096774193548387, 1.0132247382818125, 6.103372434017595, 1.2222222222222223, 1.027972027972028, 1.0184031710079275, 1.072975046487133, 1.021419167871812, 1.0129870129870129, 1.1578947368421053, 1.0383008356545962, 1.0416591415327192, 1.0392559136492383, 1.019991201916027, 1.0855263157894737, 1.0607583065380493, 1.0059099141124497, 1.1818181818181819, 1.470977596741344, 1.5, 1.1091565178168696, 1.0491228070175438, 1.0310413371451401, 2.0, 1.1816881258941345, 3.0, 1.1716101694915255, 1.0292506185931425, 1.0169491525423728, 1.077946233535913, 1.0140977443609023, 1.1951219512195121, 1.002250842693545, 1.3203718292106508, 1.1449771689497716, 1.1393129770992367, 1.007936507936508, 1.0808966861598441, 1.0218978102189782, 1.0, 3.0, 1.25, 1.0189541412237204, 1.5, 1.096208298633224, 1.0746755583275363, 1.0462833099579243, 1.0616130770612537, 1.0489606645677654, 1.063066538090646, 1.1111111111111112, 1.0087390761548065, 1.000533833259073, 1.09809183695032, 1.0594827792824102, 1.1782576767209727, 1.7142857142857142, 1.0811111111111111, 1.0105263157894737, 1.2084127699400327, 1.0553745928338762, 1.1619304262616366, 1.0476190476190477, 1.9961089494163424, 1.0522795001285106, 1.0080275229357798, 1.1973444976076555, 1.1111111111111112, 1.040496602223322, 1.0349932078400932, 1.1402247191011237, 1.168842105263158, 1.0588235294117647, 1.0112191473448018, 1.073241586971734, 1.004153564161636, 1.107890499194847, 1.0114928245857084, 1.088235294117647, 1.011975585258441, 1.003434065934066, 1.0068587105624143, 1.0490543735224587, 1.0146198830409356, 1.084070796460177, 1.0477707006369428, 1.0093784291875432, 1.1847575057736721, 1.0002587723838112, 1.104891322165033, 1.2142857142857142, 1.0149960536700868, 1.0438843849136412, 1.0416939625113586, 1.151302605210421, 1.1180555555555556, 1.0130718954248366, 1.1153846153846154, 1.0679800221975582, 1.4375, 1.0, 1.25, 1.016875, 2.9039700953854086, 1.1026129674331935, 3.1875, 1.0075597749648382, 1.1560402684563758, 1.0970553634451534, 1.0002715505536615, 1.2977941176470589, 1.03125, 1.0294117647058822, 1.0952534567338177, 1.2142857142857142, 1.75, 1.0514883014030045, 1.056213623468164, 1.0614464382816748, 1.0738636363636365, 1.105263157894737, 1.0387953571055109, 1.2814169243744729, 1.1465968586387434, 1.2, 1.039855072463768, 1.0619246861924687, 1.259375, 1.4411764705882353, 1.0396379712049704, 1.32804757185332, 59.37005649717514, 1.42, 1.0029776227141483, 1.1387626703949667, 1.5277035858384953, 1.2560235588077815, 1.3333333333333333, 1.0769230769230769, 3.0, 1.2744688261929642, 1.0606060606060606, 1.5, 1.0714285714285714, 1.1308523409363747, 1.0541455160744502, 1.0149277283342801, 1.0511071450178475, 1.163575042158516, 1.2363636363636363, 1.0, 1.1470588235294117, 1.135135135135135, 1.0985915492957747, 1.1792, 1.0235035811087052, 1.0247728736199757, 1.2190476190476192, 1.06854724443404, 1.033785712432208, 2.5, 1.096510303406855, 1.253716616234706, 1.5, 2.0, 1.2388099705172877, 1.0762581636573185, 1.0338823585456192, 1.2212885154061626, 2.0, 1.206896551724138, 1.3447368421052632, 3.0, 1.133956134320109, 1.099151667489564, 1.051188995012165, 1.0624097723486952, 1.7142857142857142, 1.0252393732995129, 1.152594887683966, 1.004757373929591, 1.1637534498620055, 1.0930555555555554, 1.0, 1.1578947368421053, 1.0268130888009366, 1.1316692849246524, 1.3863636363636365, 1.118380062305296, 1.1076723447723695, 1.0848026868178002, 1.0618181818181818, 1.2741935483870968, 1.018351751791816, 1.491835724888669, 1.0753929644764437, 1.8238341968911918, 1.146551724137931, 1.0464285714285715, 1.5, 1.1013245033112582, 1.0415512465373962, 1.0060048156371613, 1.0170454545454546, 1.5, 1.0280112044817926, 1.075477524372491, 1.1292246520874751, 1.1029713114754098, 1.0721982345826973, 1.6825138832452933, 1.0159315589353612, 1.303030303030303, 1.1458333333333333, 1.077286051333381, 1.1031634560827466, 1.1970569417786308, 1.2832278481012658, 2.3333333333333335, 1.0246913580246915, 1.0489711232378354, 1.0783333333333334, 1.0330939017652019, 1.0190824965544398, 1.0018939393939394, 2.5, 1.1019698725376594, 1.00515895147797, 1.138675817521195, 1.2081911262798635, 1.0422769604966984, 1.0227272727272727, 1.1414441147378833, 1.0299741602067183, 1.0067791938048105, 1.0556575538844597, 1.1232718894009217, 1.0524967989756722, 1.09375, 1.1500266004610746, 1.2681952040387043, 1.1332138980790103, 4.101830282861897, 1.1031390134529149, 1.015551048005409, 7.926470588235294, 1.0827586206896551, 2.3333333333333335, 2.0, 1.105263157894737, 1.104859335038363, 1.0439330543933054, 1.0634441087613293, 1.007359250469616, 1.3995067817509248, 1.074587324230691, 1.1220657276995305, 1.014336917562724, 1.057414296850738, 2.4, 1.75, 1.1927500871383758, 1.25, 1.0122100122100122, 1.1522131887985547, 1.0200963295133698, 1.0804967968528443, 2.0, 1.079150579150579, 1.198961937716263, 1.1306352459016393, 1.0027524328470303, 4.969849246231155, 1.2397260273972603, 1.0552781373939133, 1.1084122261292941, 1.0112994350282485, 1.2456140350877194, 1.1078680203045685, 1.0, 3.0, 1.0199019470731745, 5.0, 1.3333333333333333, 2.0, 1.004390779363337, 1.1397849462365592, 1.1029633350075339, 5.565229885057471, 1.1428571428571428, 1.0236391115898096, 1.0800627943485086, 1.2156862745098038, 1.4014423076923077, 1.25, 1.1561671087533156, 1.119289340101523, 1.1103896103896105, 1.1207520640509432, 1.3, 1.016435098843715]
origin-bjaq_15.71 	max: 219.5000	99th: 7.9272	95th: 2.7977	median: 1.0993	mean: 1.7584

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 12.015514 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[7.4476004e-04 5.9604645e-08 0.0000000e+00 2.9802322e-07 5.3644180e-07]
Distance score: 0.00014913082122802734
SAUCE Drift detection: True
Detection latency: 0.0352s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.9529 nats / 40.3276 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.075325 | Model-update-time: 2.520224


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 145.9255	99th: 21.0250	95th: 4.0000	median: 1.1123	mean: 2.1899
ReportEsts: [1.002824858757062, 1.017300250398361, 1.0595630834856034, 1.0805604203152364, 1.3043478260869565, 4.0, 1.0784999281574787, 1.068157491248879, 1.2, 1.1270860077021823, 1.1225135061119824, 1.1084940532548215, 1.0947724708537043, 1.1122047244094488, 1.0249619482496195, 32.888888888888886, 1.3423076923076922, 31.4, 1.3636363636363635, 1.1333333333333333, 1.0247903305377406, 1.025615639316854, 97.0, 1.04014272970562, 1.1436238818389848, 1.0300400573956714, 5.0, 1.026911429552621, 2.25, 1.0, 1.0445859872611465, 1.0, 1.1043120906811656, 1.003169268728464, 1.069115514741421, 1.110168418386729, 1.0710996700627244, 1.1587677725118484, 15.0, 1.0867834394904459, 1.1019108280254777, 1.0363895045008071, 1.0428160743776378, 1.0007204878519806, 1.1521739130434783, 1.0580532822566602, 1.0454545454545454, 1.3703703703703705, 1.149171270718232, 1.0360360360360361, 1.167883211678832, 1.1940640406354266, 1.3330903790087463, 1.0319148936170213, 1.0327250999678264, 1.1450381679389312, 1.055102747843845, 1.0734089947485004, 1.0242718446601942, 1.2435897435897436, 1.0308022224388342, 1.5925925925925926, 1.1179250720461096, 1.0599315068493151, 1.1869918699186992, 1.0510204081632653, 3.0, 1.1645074553898802, 1.1219377924580236, 1.75, 1.0, 1.202945837606041, 1.0230366492146596, 1.0896664844177146, 1.468937875751503, 1.0857635685346383, 1.0917667238421955, 1.1164330692667073, 1.1855670103092784, 1.303030303030303, 1.0858237475583403, 1.017570281124498, 23.5, 6.0, 1.25, 1.0701754385964912, 1.3333333333333333, 1.025531914893617, 1.8, 7.875, 1.079718112754898, 9.07081755714486, 1.4126169438669438, 1.0973574038025653, 1.074402467232074, 1.0225563909774436, 1.0125, 1.3204845814977975, 1.0791666666666666, 9.294117647058824, 1.128755364806867, 1.1529215358931553, 7.0, 1.1888361045130642, 1.2392638036809815, 1.036903039073806, 1.0524380733093177, 1.4838709677419355, 1.0106164550980168, 1.0393683274021353, 1.18820508503115, 1.1412151067323482, 1.0273972602739727, 1.375, 1.3333333333333333, 5.666411629686304, 1.0635573115102201, 1.132329209252286, 1.1797752808988764, 1.093926096586287, 2.0, 1.1281483531691114, 1.0277511961722487, 2.5, 1.2019230769230769, 1.4285714285714286, 1.3144796380090498, 1.0227783752077426, 1.0318483293705418, 1.0357142857142858, 1.5, 1.033009708737864, 4.0, 3.0, 1.2987616099071206, 1.0833333333333333, 2.260377358490566, 1.0956511110048204, 1.038085868877802, 1.1111111111111112, 1.2142857142857142, 1.017353579175705, 1.2400921658986175, 1.2358318098720293, 1.0132983851960833, 1.269736842105263, 1.0217765042979943, 1.1271795196354546, 3.0, 1.178669097538742, 1.0019512195121951, 1.1112412177985949, 1.2616904887947769, 1.5, 1.476749818357956, 1.0092226613965745, 1.134, 1.280701754385965, 1.2671532846715328, 1.034691092677405, 1.0622683111323317, 1.1107289470764452, 1.0511224297302395, 1.1719745222929936, 1.0348977135980746, 1.0047483380816715, 1.0309278350515463, 1.5714285714285714, 1.049041766250208, 1.2880844645550529, 1.1635036496350364, 1.1751132740392682, 1.125, 1.0415614433077944, 1.3145009416195856, 1.139344262295082, 1.141329769462078, 1.0260869565217392, 1.1492666091458155, 1.0766028309741882, 1.043550165380375, 1.015147993181466, 1.0320599865963502, 1.0585106382978724, 1.080368906455863, 1.066436288053101, 1.0927026274254943, 1.1338028169014085, 3.406679764243615, 1.0174129353233832, 1.1428571428571428, 1.2602568493150685, 1.0249173050139275, 1.608695652173913, 1.3177966101694916, 1.1921322690992018, 1.2471661019785, 1.0668383220684476, 1.1019367991845057, 1.0413072794576836, 1.0977787259881675, 1.1443954968184042, 12.875, 1.1247614503816794, 1.0867644646004855, 1.0892193308550187, 1.0326552950834627, 1.1581632653061225, 1.109375, 2.4545454545454546, 5.0, 1.2403100775193798, 1.1363792314730101, 1.2276657060518732, 1.1851851851851851, 1.171033119130005, 1.7857142857142858, 1.1108079618031872, 1.0562060889929743, 1.0090594462540716, 4.0, 1.1820809248554913, 1.008412787436904, 1.2283445344362112, 1.1038786878481535, 4.0, 1.0816179126038281, 1.0867631078511275, 8.980582524271844, 1.0702247191011236, 1.086021505376344, 1.033352501437608, 1.0649735063036725, 1.5643564356435644, 1.006885432703381, 1.2219083562944268, 1.1028938906752412, 1.0432330827067668, 1.0092485549132948, 5.0, 1.1762688614540466, 2.0, 1.080970625798212, 1.0746629294930652, 1.076689599352489, 1.304, 1.0714285714285714, 1.6666666666666667, 1.060546458085567, 1.309090909090909, 1.1419911771239963, 1.2, 1.0, 1.1372549019607843, 1.0344184218172288, 11.62170542635659, 1.0209302325581395, 1.1506591337099812, 1.5497630331753554, 1.1299638989169676, 1.0375305684483704, 1.0634920634920635, 2.0, 1.073439076634389, 1.0278958063920192, 1.1070381231671553, 1.012716804476889, 1.1730203765798297, 1.3647994151512381, 1.2980922098569156, 1.0647657660323755, 1.1860047846889952, 1.9422354617277555, 1.132260837529166, 1.3076923076923077, 1.012437863341478, 1.1466992665036675, 1.3863636363636365, 1.6521739130434783, 1.0670871559633028, 1.0755813953488371, 1.0142584778306873, 1.0207795043487755, 1.0278551532033426, 1.2333333333333334, 1.0180648202227618, 1.0887397464578672, 1.0615390403571698, 1.1063092604088736, 1.6, 3.6330041414463206, 1.0197956577266922, 1.0287172070226187, 1.0745291596311208, 1.0886903992763923, 1.4128091312618896, 1.384512683578104, 1.1851851851851851, 1.1198119496193384, 1.1123035431972472, 1.0526587728740582, 1.0348162475822051, 4.870967741935484, 1.3636363636363635, 1.2545813869924543, 9.81578947368421, 1.2035010940919038, 1.032398980706225, 1.1569620253164556, 1.3783783783783783, 1.0165289256198347, 1.8888888888888888, 1.0587281570888127, 1.0090798007331516, 1.2083333333333333, 1.306603112294967, 1.0211015165303896, 1.4506024096385541, 21.0, 6.0, 1.0178981184029372, 1.4285714285714286, 1.0214328200383318, 1.0952380952380953, 1.1578947368421053, 1.088525514519312, 1.24, 1.3846153846153846, 1.0079808605449632, 2.0, 1.007462686567164, 1.0012033694344165, 1.1320754716981132, 1.1222910216718267, 1.3628318584070795, 1.0957446808510638, 1.0982345669881988, 1.1182207038496812, 9.786416443252904, 1.0336127072429822, 1.0451127819548873, 3.0, 1.2, 1.1341531370715627, 1.1666666666666667, 1.0803338549817423, 1.5294117647058822, 2.0, 1.2222222222222223, 1.3868488471391973, 1.0803886925795052, 1.2222222222222223, 1.0247524752475248, 1.4696969696969697, 1.8333333333333333, 1.0131717862349807, 77.0, 1.3064516129032258, 1.0423013898161073, 1.103305785123967, 1.0297805642633229, 1.157079646017699, 1.4285714285714286, 1.0, 1.3726968174204355, 1.1358024691358024, 1.0010224948875255, 1.02662380067313, 1.245949738487052, 1.0666666666666667, 1.6666666666666667, 1.02268127678698, 1.0052306229196386, 1.1666666666666667, 1.0, 1.0846383296047726, 1.4, 1.232158776333693, 1.1372549019607843, 1.1292597817209888, 1.0719192674266491, 1.0137513751375138, 1.2061278337192396, 1.285184588102531, 1.0189473684210526, 1.0274636510500808, 1.101244075829384, 1.101010101010101, 1.3428571428571427, 1.0496606900492893, 1.082280480101074, 2.6818181818181817, 1.185839437024271, 1.3647058823529412, 1.0378151260504203, 1.0150811897222343, 1.3181818181818181, 2.0, 1.1041666666666667, 10.5, 1.0923076923076922, 10.2, 1.250257466529351, 1.4040632054176072, 1.0673758865248226, 1.0882262733145476, 1.5119047619047619, 1.2871287128712872, 1.0335195530726258, 7.0, 1.067399623877221, 1.3958333333333333, 1.2814801386780268, 1.1078780893153917, 2.1918713711478337, 1.3304734667937719, 2.4285714285714284, 1.3594666666666666, 1.0, 1.0612582781456954, 1.2727272727272727, 1.0432227577677884, 1.1282051282051282, 1.4228718677803447, 1.088135593220339, 1.0832106038291605, 6.0, 1.2429788576838119, 1.0082398409660467, 1.1500545905707196, 2.0, 1.1311475409836065, 1.4712092130518235, 1.3498349834983498, 1.0697657066109536, 1.3307839388145315, 1.2173913043478262, 1.0059612518628913, 1.003363640070127, 1.0615247129992438, 1.1165198929797766, 1.2061068702290076, 1.1654135338345866, 1.2, 1.031587057010786, 1.0498753117206983, 1.2580645161290323, 1.060781476121563, 2.5346534653465347, 1.181668686169292, 1.0, 8.0, 1.1036214410547973, 1.1642512077294687, 6.0, 1.2, 1.0575139146567718, 1.0753644314868804, 1.0, 1.1030122722201563, 1.0903126426289365, 1.1022427594576303, 1.076303062869425, 1.0821501014198782, 1.1037306642402185, 1.0446775446775447, 1.1442652329749103, 1.1508196721311474, 1.5, 1.0817501154429712, 1.0634648370497428, 1.3157894736842106, 1.2031084201984894, 1.2181818181818183, 1.1275167785234899, 1.00893470790378, 1.3019140483929217, 1.069195208033007, 4.0, 1.135135135135135, 1.3044776119402985, 1.0667386220543262, 1.1014492753623188, 2.0, 1.088235294117647, 1.0182772882779123, 1.182294394971189, 2.0, 1.2161084529505581, 1.002539572454308, 1.1631877999234552, 1.0472796208530806, 1.1318207314580897, 1.0230373335511804, 1.0022091310751104, 1.0403472931562818, 3.0, 1.355570436092743, 1.2331288343558282, 1.8333333333333333, 12.428571428571429, 1.3269230769230769, 1.0015431210612644, 1.130952380952381, 1.0595948641958957, 1.1208198489751888, 1.0975130959874535, 1.845679012345679, 1.0960735816973257, 1.070414847161572, 1.12, 1.3924050632911393, 1.0899496297854991, 1.2168367346938775, 1.583110679297223, 1.0832963414565622, 2.0, 1.014057008980867, 1.2668621700879765, 6.074074074074074, 1.0961538461538463, 1.0094360022803672, 1.1136363636363635, 1.0341176470588236, 4.0, 12.125, 1.1694124107633168, 1.1362143297064258, 1.2100334448160535, 1.0, 1.1128704831506293, 1.0665054413542927, 1.1409638554216868, 1.0459135373934996, 1.7379310344827585, 1.0305358171691954, 4.685403050108932, 1.0494505494505495, 1.1046979740974554, 1.1379310344827587, 1.0695815858128859, 8.0, 1.1350792556857339, 1.1626984126984128, 1.0020297946724412, 1.1725768321513002, 1.0705765407554673, 1.048695652173913, 1.0613496932515338, 1.1143694343337225, 4.0, 1.1666666666666667, 1.5, 1.0, 1.4090909090909092, 1.15, 1.055944055944056, 1.2621359223300972, 1.2348606215956424, 1.0413533834586466, 1.010894699395233, 1.0131362069826682, 1.042152537929305, 1.130542028708743, 1.006345317818094, 1.0672546857772878, 63.625, 1.0986231142106355, 1.0673705379587732, 1.0889639639639639, 1.1344430217669654, 1.016304347826087, 1.2199815793300692, 1.096085409252669, 1.2747309797998867, 1.127906976744186, 1.1886138613861386, 1.079144385026738, 1.5, 1.009501187648456, 1.2777777777777777, 2.4, 1.1141732283464567, 1.1114441074601151, 1.2021709633649933, 1.1314984709480123, 1.1483516483516483, 1.081890044739659, 1.0323964681009825, 1.073446327683616, 1.0, 79.0, 1.141435011269722, 1.094170403587444, 1.0703580349708577, 1.0126410835214448, 1.0, 1.276818742293465, 1.2151029748283753, 1.1413272697265875, 1.149618320610687, 1.1891158598111982, 1.0227923395502683, 1.0069120301852423, 1.3789473684210527, 3.0, 1.0208612975391498, 4.0, 1.0932432432432433, 1.0497737556561086, 1.696969696969697, 1.2, 1.0240725368750399, 1.0, 1.1, 1.0495764566543937, 1.126531862745098, 1.1154819863680623, 1.0000180931616895, 1.0308788598574823, 1.1515151515151516, 1.03125, 1.0354131534569984, 1.0985401459854014, 2.340125111706881, 1.5891237806447922, 1.0005409541904158, 1.0, 1.0864156811006926, 16.49044585987261, 2.0, 1.0799862143665995, 1.1093700963909436, 1.099695585996956, 1.009942292604651, 1.036589514810303, 1.0676691729323309, 1.0625, 1.0711297071129706, 1.079891672308734, 1.1261945242422466, 1.1927835051546392, 1.000869278498846, 1.2496194824961948, 1.300462249614792, 1.065825375170532, 1.354515050167224, 1.074682293794837, 1.0280811232449298, 1.2056159420289856, 1.0227583067819754, 32.13245033112583, 1.078544061302682, 1.2133202742409404, 1.2, 1.4, 1.1241914618369988, 1.3896064884349655, 1.0633484162895928, 1.0645065398335316, 1.1666666666666667, 1.1332064700285442, 1.110180142438207, 1.1768707482993197, 1.0820588485656726, 2.0, 1.0434782608695652, 3.0, 1.2476635514018692, 1.0769230769230769, 1.0501318470574135, 1.2, 1.2702702702702702, 1.0034662045060658, 4.0, 1.5574324324324325, 1.167175572519084, 1.1666666666666667, 2.0, 1.0150375939849625, 1.1778425655976676, 1.013986013986014, 1.0542035398230087, 1.1112737920937041, 1.1495098039215685, 1.002469135802469, 1.0836772983114447, 1.2170212765957447, 1.5918367346938775, 1.2222222222222223, 1.0, 2.1414324569356302, 1.0396158463385354, 1.027027027027027, 1.0599875673435557, 1.0816053784965187, 1.0021500752526338, 1.0557619391676312, 1.129842737057601, 1.3194103194103195, 1.187073042564372, 1.5555555555555556, 2.5, 1.096774193548387, 1.006479665228194, 8.461647727272727, 1.2810457516339868, 1.0270880361173815, 1.0734696596283222, 1.0598515974734777, 1.0130581274896144, 1.0, 1.1, 8.63329962925514, 1.0931169429097607, 1.0966852943428003, 1.0025929920374492, 1.1578947368421053, 1.05854845941964, 1.032875501350577, 1.1087762669962917, 1.5458248472505092, 1.4, 1.053425774877651, 1.0457516339869282, 1.0415976892975503, 1.75, 1.238197424892704, 4.0, 1.2655601659751037, 1.0527117871588902, 1.064516129032258, 1.0704142948589994, 1.050467289719626, 1.3333333333333333, 1.0193300760159516, 1.498347512087643, 1.2701786193929627, 1.1669847328244274, 1.0616302186878728, 1.025664739884393, 1.0256410256410255, 1.1, 4.0, 1.25, 1.0597921128642447, 1.5, 1.0675108175814165, 1.081349838438083, 1.0173050748590318, 1.0549940037690595, 1.0258922995628572, 1.0443119266055045, 1.17921146953405, 1.03584229390681, 1.0116205776348326, 1.1590456055572336, 1.1069913476979125, 1.214493129375162, 1.8571428571428572, 1.1236203090507726, 1.030612244897959, 1.198412423307567, 1.221498371335505, 1.099443671766342, 1.0256, 1.9285714285714286, 1.0121233113959127, 1.0272034820457019, 1.2233133971291865, 1.105263157894737, 1.0663579306562672, 1.0354844094897144, 1.1490036231884058, 1.224, 1.1428571428571428, 1.0385714285714285, 1.0426292629262925, 1.0430785658274522, 1.1371340523882896, 1.007912252789302, 1.3928571428571428, 1.0342109291290371, 1.0418027433050294, 1.0273794002607561, 1.0993563958165729, 1.013170272812794, 1.0088321884200195, 1.0580380071905495, 1.027585170381383, 1.2401847575057736, 1.01835255354201, 1.0831266366156516, 1.4285714285714286, 1.0734017363851618, 1.0711974110032363, 1.1902050113895217, 145.92546583850933, 1.0717022441160373, 1.0784729586426298, 1.4831460674157304, 1.0198675496688743, 1.0307082276639088, 6.9921875, 1.2859154929577465, 1.0711719989975774, 1.0667112896028559, 1.0601503759398496, 1.0585191805030136, 1.1078128483613083, 1.0332203389830508, 1.0944558521560575, 1.0979198203867808, 1.0451556467181466, 1.275735294117647, 1.0148514851485149, 1.0583279325988335, 1.094579081632653, 1.2976190476190477, 1.75, 1.104268979849257, 1.0145526057030483, 1.05609881626351, 1.1988636363636365, 1.2613268608414239, 1.0170239861597516, 1.3643519820073096, 1.2596685082872927, 1.15625, 1.0299022426682, 1.0079617834394905, 1.3125, 1.5294117647058822, 1.0310286868992087, 1.360753221010902, 84.96205962059621, 1.8478260869565217, 1.0899873257287707, 1.0192210419828023, 1.223529411764706, 1.7, 1.1997030438010394, 1.2415458937198067, 2.0613065326633166, 1.0, 1.018971814861255, 1.183030303030303, 1.1143683945646703, 1.4736842105263157, 5.943396226415095, 1.4452605806225953, 1.0110291913924354, 1.0432037792570323, 1.2727272727272727, 1.0461538461538462, 1.0625, 1.162162162162162, 1.2837837837837838, 1.1341463414634145, 1.2180685358255452, 1.0169996716987, 1.0216632414180846, 1.1327433628318584, 1.0978798565837113, 1.0682987880940775, 2.5, 1.168016842312617, 1.1482333985498907, 1.5, 2.0, 1.19, 1.0914292671049428, 1.0982647945026023, 1.2914438502673797, 2.5, 1.0543478260869565, 1.0049019607843137, 3.0, 1.2263622823686509, 1.1094501029983979, 1.0339550570365927, 1.1285714285714286, 2.1666666666666665, 1.020227394070949, 1.2153369481022462, 1.055045871559633, 1.1305460750853242, 1.1555555555555554, 1.0, 1.105263157894737, 1.0429169969425887, 1.1704970811272086, 1.648936170212766, 1.2600619195046439, 1.039916875919993, 1.072107765451664, 1.0481099656357389, 1.1506849315068493, 1.0289110114965285, 1.2056990204808549, 1.0547114926568217, 1.279503105590062, 1.1219512195121952, 1.0437710437710437, 1.75, 1.1167883211678833, 1.0287206266318538, 1.0174486691042983, 1.0501824817518248, 1.5, 1.0546448087431695, 1.0902621722846442, 1.1693823417961349, 1.0533313635692125, 1.108412863232923, 2.042264544743021, 1.0357794676806085, 1.6187683284457477, 1.1041666666666667, 1.0677304478838516, 1.096634961234114, 1.2220137585991244, 1.0232198142414861, 2.6666666666666665, 1.0609756097560976, 1.0577457344590657, 1.0774091627172195, 1.0016360466675607, 1.0596101594802125, 1.0029904306220097, 2.75, 1.1074197120708749, 1.0214761715377676, 1.1283616250238413, 1.0335570469798658, 1.0625107672351768, 1.0376344086021505, 1.2073515551366636, 1.0555267254800207, 1.0042155079595847, 1.11836636347208, 1.1820276497695852, 1.0998719590268886, 1.15625, 1.160461144321093, 1.198237885462555, 1.1848246583601285, 5.369660804020101, 1.0761954808197582, 1.0115904700579523, 11.070422535211268, 1.0608108108108107, 2.6666666666666665, 2.0, 1.2, 1.1687979539641944, 1.0864280891289668, 1.0821309273735322, 1.0089317982342918, 1.6510017313875835, 1.0579209819716149, 1.052863436123348, 1.1859649122807017, 1.0615088841463782, 2.8, 1.75, 1.1703511053315996, 1.375, 1.06479217603912, 1.1637072325682114, 1.0243262580491295, 1.072252676985186, 2.0, 1.1103556485355648, 1.0156041016495765, 1.0821825796637625, 1.0195783993505627, 6.581613508442777, 1.2965753424657533, 1.005043522286916, 1.0991383731664786, 1.093841642228739, 1.0441176470588236, 1.0705596107055961, 1.0, 4.0, 1.0459084501817641, 5.0, 1.2, 2.076923076923077, 1.058888888888889, 1.1546391752577319, 1.1165467625899281, 7.640940525587829, 1.2857142857142858, 1.058989549696153, 1.1101736972704714, 1.1255411255411256, 1.5625, 1.1111111111111112]
origin-bjaq_15.71 	max: 145.9255	99th: 21.0250	95th: 4.0000	median: 1.1123	mean: 2.1899

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 11.953218 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[ 6.3312054e-04  1.1920929e-07 -5.9604645e-08  2.3841858e-07
  4.1723251e-07]
Distance score: 0.00012676716141868383
SAUCE Drift detection: True
Detection latency: 0.0369s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 28.0647 nats / 40.4888 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.084482 | Model-update-time: 2.508228


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 187.0000	99th: 43.8900	95th: 5.0229	median: 1.1346	mean: 2.8657
ReportEsts: [1.0567567567567568, 1.013467293715263, 1.050297216243449, 1.0620915032679739, 1.25, 5.0, 1.0405202158718925, 1.0437946894445949, 1.2, 1.2041078305519897, 1.0554233496739802, 1.1597342014586927, 1.1099137931034482, 1.0409683426443204, 1.0395119116792562, 43.888888888888886, 1.4192307692307693, 42.0, 1.4545454545454546, 1.1024349286314021, 1.1139615194869266, 1.0126071608673726, 1.1366279069767442, 1.0155482815057284, 1.185812356979405, 1.032133966960851, 6.0, 1.027348506134682, 2.0, 1.125, 1.2813163481953291, 1.0, 1.1566245703341351, 1.0024903907547742, 1.0756029684601114, 1.071030977734753, 1.0222145328719723, 1.14123006833713, 20.0, 1.0223070477609162, 1.0458573125057093, 1.0034820611904378, 1.2274562584118438, 1.430678750482067, 1.1804347826086956, 1.101606133139071, 1.2608695652173914, 11.307245611719678, 1.0384615384615385, 1.0852047556142668, 1.5, 1.3047210300429184, 1.295, 1.2121212121212122, 1.1679052219395776, 1.126731131688929, 1.0608796970579668, 1.12565445026178, 1.294871794871795, 1.0095923783007787, 1.6481481481481481, 1.1363008064584517, 1.1558219178082192, 1.1484375, 1.08, 4.0, 1.0942170036418435, 1.0620114643043252, 91.44776119402985, 1.5454545454545454, 1.4842212419409568, 1.0386571719226856, 1.1399671951886277, 1.5984555984555984, 1.1080413825534916, 1.1964285714285714, 1.1451732047743088, 1.6283783783783783, 1.2524271844660195, 1.065340089440277, 1.0511811023622046, 32.5, 8.0, 1.2, 1.0804469273743016, 1.35, 1.2195121951219512, 1.2638888888888888, 10.875, 1.1406162733176952, 11.32854650382499, 1.17328370554177, 1.0668335163572287, 1.1625379869232895, 1.0389294403892944, 1.074698795180723, 1.210126582278481, 1.0163487738419619, 54.875, 1.5668093200190205, 1.1379310344827587, 4.0, 1.0384903753001138, 1.3810991268618387, 1.0130494505494505, 1.0155163764065076, 1.4285714285714286, 1.013983942629979, 1.0398830653581124, 1.4488161901955006, 1.160012574662056, 1.0427949709864603, 1.3333333333333333, 1.375, 6.967771470426662, 1.0814127260512496, 1.1473684210526316, 1.096774193548387, 1.1403784833352137, 2.0, 1.1675977653631284, 1.076555023923445, 3.0, 1.2568807339449541, 1.2222222222222223, 1.355263157894737, 1.0133592414568937, 1.0157611940298508, 1.0803571428571428, 1.5, 1.0416666666666667, 5.0, 5.0, 1.3606811145510835, 1.0833333333333333, 1.0115690527838033, 1.033500113713896, 1.0003561484167585, 1.0279329608938548, 1.0393586005830904, 1.047286356821589, 1.1056547619047619, 1.1470588235294117, 1.5714285714285714, 1.0150375939849625, 1.6116778051354204, 3.0, 1.230173199635369, 1.0046210720887245, 1.1291784702549574, 1.3509793541556379, 1.5, 1.4731169774763866, 1.0231362467866323, 1.19, 1.0597402597402596, 5.0, 1.032795156407669, 1.067550923732828, 1.161640373049769, 1.0097087378640777, 1.112994350282486, 1.0389610389610389, 1.2595419847328244, 1.0213836477987421, 1.5714285714285714, 1.0484158173854683, 1.2645429362880887, 1.031017369727047, 1.1101321252732126, 1.0, 1.0559855838145555, 1.3558394160583942, 1.1125954198473282, 1.092824646819379, 1.0296495956873315, 1.187230371009491, 1.045346062052506, 1.0384615384615385, 1.0400281690140845, 1.0048019207683074, 1.1595744680851063, 10.0, 1.030157761701386, 1.0345524178275325, 1.27, 4.194706994328922, 1.0315533980582525, 4.0, 1.0309859154929577, 1.0436207348538158, 1.9090909090909092, 1.3777239709443099, 1.2266304347826087, 1.3949485266536072, 1.1134498751337851, 1.0847953216374269, 1.069231502587081, 1.0937860902051668, 1.208516886930984, 17.25, 1.1560379918588874, 1.0887100675686572, 1.1380775358470525, 1.0551187980433263, 1.1238532110091743, 1.09375, 2.825, 7.0, 1.2121212121212122, 1.389851639446453, 1.2322404371584699, 1.2173913043478262, 1.2219476025704399, 1.9333333333333333, 1.1670821190136624, 1.032258064516129, 1.0470682473566164, 5.0, 1.2615606936416186, 1.0119112073632919, 1.2002125337469125, 1.2180386493363593, 6.0, 1.05, 1.114675845496907, 13.764044943820224, 1.0804289544235925, 1.1267361111111112, 1.0948948948948949, 1.1328704549607163, 1.6534653465346534, 1.008163663113145, 1.0514602992357647, 1.0858895705521472, 1.0211827007943513, 1.0277161862527717, 7.0, 1.207236842105263, 2.0, 1.0146502835538753, 1.1158254760584212, 1.1701880209342896, 1.2899628252788105, 1.1428571428571428, 2.0, 1.1343433901125366, 1.3272727272727274, 1.113547469479673, 1.2, 187.0, 1.0615866388308977, 2.857142857142857, 1.0660280533698254, 1.018018018018018, 1.1616712079927338, 1.7174887892376682, 1.1792814788978025, 1.0612802746169983, 1.0461538461538462, 2.0, 1.1011343354283152, 1.0208895669522358, 1.0680555555555555, 1.0013538524814916, 1.126654647245813, 1.417162301269587, 1.3275039745627981, 1.063716814159292, 1.2446172248803828, 2.0927049863144114, 1.2960825248679848, 1.1875, 1.0394818588469186, 1.0597014925373134, 1.4545454545454546, 2.0, 1.075041689827682, 1.1290322580645162, 1.0365238293021324, 1.0193573094732444, 1.3899721448467968, 1.2098540145985401, 1.0027134814643144, 1.0900548159749412, 1.0164426750126572, 1.1324249611341919, 1.8, 4.39945155393053, 1.0060240963855422, 1.4012922310446831, 1.0562654222960592, 1.054674394919722, 1.504121750158529, 1.4492656875834447, 1.263169104074968, 1.0469362457703775, 1.1143405343945423, 1.0186514583499509, 1.0313653136531364, 5.457142857142857, 1.4545454545454546, 1.3135106000718648, 12.4, 1.24945295404814, 1.006295907660021, 1.0064334644336208, 1.358974358974359, 1.0234375, 2.5, 1.0287881399758663, 1.8838514025777104, 1.1851851851851851, 1.3343614187578858, 1.0256286961254755, 1.0022935779816513, 44.0, 4.857142857142857, 1.033370660694289, 1.5714285714285714, 1.0285254067259706, 1.1813186813186813, 1.2173913043478262, 1.0730087502804577, 1.2692307692307692, 1.5384615384615385, 1.0270893433187909, 2.0, 1.0217391304347827, 1.016184971098266, 1.0798816568047338, 1.118421052631579, 1.0402542372881356, 1.1030927835051547, 1.1476611425464651, 1.0986230394880412, 11.873544093178037, 1.0006569723732959, 1.1604790419161677, 3.0, 1.3, 1.165681684675223, 1.3333333333333333, 1.127282211789254, 1.6470588235294117, 1.6666666666666667, 1.1578947368421053, 1.2821138211382115, 1.1325088339222615, 1.2032520325203253, 1.0357734349122225, 1.5454545454545454, 2.0, 1.0352343689634098, 102.0, 1.15625, 1.012661777290022, 1.1285140562248996, 1.0202702702702702, 1.1935840707964602, 1.7142857142857142, 1.0, 1.3940609951845906, 1.3206106870229009, 1.0098814229249011, 1.069422816094841, 1.2442356959863365, 1.0658536585365854, 2.0, 1.0366414371589112, 3.2419354838709675, 1.3225806451612903, 1.1111111111111112, 1.046689628779181, 1.0, 1.1948717948717948, 1.2604166666666667, 1.2274225105550407, 1.0336220798310334, 1.0230891719745223, 1.2198116463685222, 1.3478961792680961, 1.0071428571428571, 1.0953150242326333, 1.0996878842334248, 1.131578947368421, 1.4324324324324325, 1.1266873106569006, 1.0654891355736682, 1.0980861244019138, 1.1256038647342994, 1.2285714285714286, 1.1408450704225352, 10.0, 1.1666666666666667, 2.1884057971014492, 1.139047619047619, 1.4864864864864864, 1.0268199233716475, 1.0926225094238018, 59.0, 1.1170212765957446, 1.0677455777192322, 1.0513532078582224, 1.3055555555555556, 1.1065573770491803, 1.106145251396648, 9.0, 1.0447711573270289, 1.3137254901960784, 1.3374045455575445, 1.1710702858912168, 2.429783693843594, 1.413409596441055, 2.375, 1.3381188118811882, 1.1666666666666667, 1.0353846153846153, 1.25, 1.0488244606829564, 1.2076830732292918, 1.596078088067933, 1.0803858520900322, 1.1083213773314204, 7.0, 1.1903935185185186, 1.0147198843183078, 1.146110489059268, 2.0, 1.056338028169014, 1.538387715930902, 1.2463768115942029, 1.0923369646321444, 1.046492406240314, 1.2916666666666667, 1.33545197740113, 1.038789963577499, 1.077572374139199, 1.1425466401014308, 1.1485376784187757, 1.123325635103926, 8.541666666666666, 1.047378104875805, 1.0715674949895844, 1.0827067669172932, 1.1349462365591398, 1.0, 2.0, 1.2512987012987014, 1.0263157894736843, 1.174989849776695, 1.0974199476920903, 1.0949948927477018, 1.0, 1.3421052631578947, 1.0857142857142856, 1.0317277026283955, 1.0833333333333333, 1.0, 1.0430384042333205, 3.6666666666666665, 1.0, 1.0116104868913858, 2.5, 1.0018867924528303, 1.200716845878136, 1.2360655737704918, 1.8333333333333333, 1.1227076324295797, 1.1030664395229983, 1.25, 1.2520016484163428, 1.2636363636363637, 1.0658873538788523, 1.0221932114882506, 1.2830578512396693, 1.077230564239225, 5.0, 1.135135135135135, 1.738532110091743, 1.1005576542543622, 1.1503623188405796, 2.0, 1.1055350553505534, 1.0025672617141492, 1.2357255107386067, 2.5, 1.272328548644338, 1.0198015857205467, 1.2165042541290076, 1.0067839651732269, 1.1981180890429126, 1.0488335444200594, 1.0014154281670204, 1.047945951836112, 2.5, 1.490845613607762, 6.923848972439063, 1.043705463182898, 1.025731584258325, 1.2091152815013404, 1.0012142893999072, 1.1167048054919908, 1.0608557844690967, 1.0599290780141843, 1.0614754098360655, 2.175757575757576, 1.1020136544007098, 1.0447839046199703, 1.1866666666666668, 1.0803571428571428, 1.0679474839740566, 1.3571428571428572, 1.751333436901248, 1.1407227182567554, 2.3333333333333335, 1.1489598811292718, 1.3166666666666667, 7.777777777777778, 1.1296296296296295, 1.7439446366782008, 1.0857142857142856, 1.0115511551155116, 5.0, 15.11864406779661, 1.2240527182866556, 1.103266955547982, 1.261984392419175, 1.0088961394833103, 1.0924305819703308, 1.0748259860788862, 1.1837349397590362, 1.0530474211795393, 1.896551724137931, 1.038723781569131, 31.571428571428573, 1.2307692307692308, 1.0925619834710745, 1.3387622149837133, 2.402058848045345, 1.0580229573303628, 1.0563829787234043, 1.1303834808259587, 1.01875, 1.052302120037007, 2.5, 1.167192429022082, 2.5218354430379746, 1.09828699803426, 2.7142857142857144, 1.0259067357512954, 1.821410234468595, 1.1803874092009685, 1.063131948287137, 4.95303867403315, 1.1779563719862227, 1.4285714285714286, 1.049306625577812, 1.375, 1.0651041666666667, 1.0372549019607844, 1.5, 1.0108148248866482, 1.588235294117647, 2.1, 1.0128235665222514, 1.0895867768595042, 1.0588235294117647, 1.1413929040735873, 1.0763413755851639, 1.1799163179916319, 1.2746161252723864, 1.3024121204066716, 1.145169320455142, 3.3333333333333335, 1.1108949416342413, 8.153736218864843, 28.0, 1.0, 1.0033975084937712, 1.5294117647058822, 2.8, 1.1791666666666667, 1.1467167955781274, 1.2564450474898237, 1.1957186544342508, 1.0578947368421052, 1.1099655893664395, 1.0719095570519552, 1.052064631956912, 1.0, 106.0, 1.048214579562284, 1.0635593220338984, 1.102747909199522, 1.0157246068848278, 1.0, 1.2616279069767442, 1.1859956236323852, 1.1316989142538976, 1.1518248175182482, 1.1940489270578738, 1.0028761837951596, 1.9154411764705883, 5.0, 3.0873213175885645, 1.2341932220536167, 1.6666666666666667, 1.0005444676977524, 3.0, 1.3164970930232558, 1.0467879965619045, 1.0909090909090908, 1.0087473131120133, 1.2307692307692308, 1.0952380952380953, 1.080985356750684, 1.1394245031148027, 1.0333076626877167, 1.0000173101723229, 1.1235154394299287, 1.1176470588235294, 1.0, 1.0186625194401244, 1.0359477124183007, 2.8913280116110305, 1.7126924541646265, 1.0465748363943423, 1.0, 1.0703209520375045, 20.9079754601227, 2.0, 1.09918320810437, 1.075813228904642, 1.0572246065808297, 1.0090033178361757, 1.0131364386780508, 1.1692307692307693, 1.3125, 1.1331304678585012, 1.1414342629482073, 1.1037050541313738, 1.2052649116961014, 1.009069449621071, 1.290063321967852, 1.0980966325036603, 1.1024603977081227, 1.4816053511705685, 1.0624305633726991, 1.036764705882353, 1.2382246376811594, 1.1114012184508268, 46.76086956521739, 1.0444839857651245, 1.1907933398628796, 1.2592592592592593, 1.6, 1.152605459057072, 1.3316062176165804, 1.0628677609166925, 1.157413914265636, 1.1666666666666667, 1.1941008563273072, 1.1780477586929199, 1.0632183908045978, 1.0445184346328331, 2.0, 1.1764839922524781, 3.5, 1.3130841121495327, 1.1538461538461537, 1.0084508667185832, 1.1612903225806452, 1.2142857142857142, 1.0424088210347753, 5.0, 1.5962145110410095, 1.020013342228152, 1.3333333333333333, 2.0, 1.0751879699248121, 1.222841225626741, 1.0777106852192175, 1.0020986358866737, 1.1100278551532032, 1.1009389671361502, 1.0666666666666667, 1.0764262648008611, 1.2541666666666667, 1.3510204081632653, 1.1666666666666667, 1.0, 2.9135802469135803, 1.0412595005428882, 1.0828970331588132, 1.158101947782843, 1.1405143887621172, 1.056602408767044, 1.0546829623198684, 1.1893140623148917, 1.3776722090261282, 1.213544241225902, 1.875, 3.0, 1.0294117647058822, 1.00179984251378, 10.475287745429926, 1.3398692810457515, 1.163771712158809, 1.0590417706134458, 1.0272099557496956, 1.01370636878363, 1.1153846153846154, 1.0, 10.855100714749838, 1.0351515151515152, 1.135175687055041, 1.0251026778380155, 1.1907894736842106, 1.1389281109951501, 1.5674803787392118, 1.1540451027091396, 1.0057183702644745, 1.0371485246331844, 1.0578778135048232, 1.087288817377313, 1.0588235294117647, 1.039433935608372, 5.0, 42.445573294629895, 5.0, 1.371900826446281, 1.0723820008256502, 1.125, 1.061808962497119, 1.075591985428051, 1.25, 1.0375531234721125, 1.5815542753868745, 1.2974415793714746, 1.2337786259541985, 1.008896797153025, 1.007918169522092, 1.0267857142857142, 1.0476190476190477, 5.0, 1.1111111111111112, 1.0924885891921337, 1.6666666666666667, 1.080955133777862, 1.0624486086467304, 1.0680709966842208, 1.0761047463175122, 1.0144568454072238, 1.0406955571740715, 1.2437275985663083, 1.0011441647597255, 1.0096150152503438, 1.1518485746162428, 1.1567097284471395, 1.219290421683762, 2.0, 1.106029106029106, 1.069078947368421, 1.327758327844986, 1.224755700325733, 1.076975476839237, 1.0454545454545454, 1.812720848056537, 1.0496347228190803, 1.0708994708994708, 1.280645933014354, 1.05, 1.051578880919893, 1.0289329837426202, 1.0677609427609427, 1.2795789473684211, 1.4230769230769231, 1.0225872689938398, 1.0369893195907087, 1.0458468781526735, 1.122238586156112, 1.0061888264774141, 1.4137931034482758, 1.0597312095569935, 1.1358797745773326, 1.0037220843672456, 1.063891020721412, 1.0565870910698496, 1.0478983382209188, 1.0619118375433383, 1.028364549365898, 1.2933025404157044, 1.0365938258758238, 1.0643662043093916, 1.5333333333333334, 1.10655090765588, 1.0078500480615187, 1.2306010928961748, 185.9702380952381, 1.0803149606299212, 1.1734693877551021, 1.136, 1.057618437900128, 1.0462991935239672, 39.1, 1.343661971830986, 1.0344465956760245, 1.0796573875802997, 1.1071428571428572, 1.074651289643887, 1.0723325930207794, 1.0399742101869762, 1.066287878787879, 1.0926062951790085, 1.1148347007722008, 1.3639705882352942, 1.0613207547169812, 1.0179640718562875, 1.085088844110643, 1.3333333333333333, 1.4, 1.1627878123675313, 1.0256140448038102, 1.056019656019656, 1.2727272727272727, 1.2753831417624522, 1.0270251128751438, 1.415518695529941, 1.2971246006389776, 1.2058823529411764, 1.0400438837081734, 1.0312024353120244, 1.371875, 1.5714285714285714, 1.0118128612976194, 1.4578790882061448, 107.69509043927648, 1.9038461538461537, 1.1010962241169306, 1.0410891089108911, 1.223529411764706, 1.8181818181818181, 1.2442464736451373, 1.2367149758454106, 2.3334925943621596, 1.1666666666666667, 1.0067423595170206, 1.2309468822170901, 1.0495093666369313, 1.5473684210526315, 7.381818181818182, 1.5638335082196573, 1.0077462295546271, 1.0354485717388944, 1.315625, 1.0149253731343284, 1.0625, 1.0217391304347827, 1.2837837837837838, 1.0116279069767442, 1.1712962962962963, 1.011391960295587, 1.0173358549122296, 1.0940170940170941, 1.0702560367527592, 1.099306584484087, 2.5, 1.2432707559006653, 1.105972207489127, 1.5, 2.0, 1.2222222222222223, 1.085450748346676, 1.160836995486322, 1.1994884910485935, 3.0, 1.1520912547528517, 1.0381861575178997, 3.3125, 1.3157201747369716, 1.117266610942874, 1.0558717475580235, 1.165097300690521, 2.0, 1.0305484051956253, 1.2664601084430673, 1.0153015301530153, 1.0951625693893736, 1.1819444444444445, 1.0, 1.1692015209125475, 1.0781216069489685, 1.3015069529295398, 1.6516290726817042, 1.393846153846154, 1.1091895985862157, 1.1063330727130571, 1.0, 1.3484848484848484, 1.0535085406823081, 1.9625594294770206, 1.059280134962505, 1.1238532110091743, 1.1526717557251909, 1.0414012738853504, 2.0, 1.1182310469314078, 1.0147783251231528, 1.004662278352205, 1.0328282828282829, 1.5, 1.0520833333333333, 1.1647396439860256, 1.1296162201303404, 1.1283646888567294, 3.13202519379845, 2.366311834690044, 1.0706083650190115, 1.2065439672801637, 1.1666666666666667, 1.032253826446824, 1.1102831214737272, 1.2269161134580566, 1.1172214182344429, 3.0, 1.0465116279069768, 1.0346153846153847, 1.067064083457526, 1.0126405040644082, 1.1026501279779484, 1.0155889145496535, 2.4, 1.128893662728249, 1.0145255716337125, 1.1175514626218852, 1.2897196261682242, 1.0365845420418247, 1.0562659846547315, 1.4250902527075813, 1.025340215861098, 1.0135380479374334, 1.1714907432992538, 1.2580645161290323, 1.1600512163892445, 1.1875, 1.1754923051464505, 1.2939266615737204, 1.231968975765337, 6.584137515078408, 1.104199066874028, 1.0172413793103448, 13.786666666666667, 1.0374449339207048, 3.0, 2.5, 1.1428571428571428, 1.2097186700767264, 37.666666666666664, 1.0578337240294147, 1.0110715028683654, 1.6052356020942409, 1.0922697991663508, 1.112033195020747, 1.2171581769436997, 1.0448072588568456, 2.6666666666666665, 1.6666666666666667, 1.0, 1.3333333333333333, 1.045766590389016, 1.1827326068734283, 1.0636270572486022, 1.0888354630483468, 2.0, 1.0415113099676858, 1.0029288702928871, 1.1554567807830527, 1.0356780841397517, 8.152603231597846, 1.3592465753424658, 1.0522851634763304, 1.078562816493851, 1.0076335877862594, 1.028169014084507, 1.0994152046783625, 1.0, 7.0, 1.0694899856633877, 5.0, 1.1818181818181819, 1.35, 1.06524064171123, 1.4033374033374033, 1.0418315432447711, 1.0574712643678161, 2.0248138304870666, 1.5909090909090908, 1.5238095238095237, 1.6666666666666667]
origin-bjaq_15.71 	max: 187.0000	99th: 43.8900	95th: 5.0229	median: 1.1346	mean: 2.8657

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 11.994600 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[4.8440695e-04 1.1920929e-07 0.0000000e+00 3.5762787e-07 2.9802322e-07]
Distance score: 9.703636169433594e-05
SAUCE Drift detection: True
Detection latency: 0.0381s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.9995 nats / 40.3947 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.094454 | Model-update-time: 2.528503


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 282.1818	99th: 54.0689	95th: 8.1093	median: 1.1449	mean: 3.5509
ReportEsts: [1.0621761658031088, 1.0043023970497849, 1.0329645853441236, 1.1376451077943615, 1.25, 6.0, 1.0525796205682891, 1.0708731477503033, 1.2, 1.2259306803594352, 1.1401490122809816, 1.2103128796427198, 1.1167634004779787, 1.0638297872340425, 1.0405555555555555, 49.7, 1.4384615384615385, 46.025, 1.3076923076923077, 1.0578778135048232, 1.1449185989146522, 1.048792270531401, 1.1388888888888888, 1.0458265139116203, 1.2480549199084667, 1.0358979585652937, 7.0, 1.136367893603072, 1.8333333333333333, 1.25, 1.282542885973764, 1.0, 1.2087171963588856, 1.001036297224674, 1.0931787784217566, 1.0624710245711637, 1.022205673278722, 1.2456140350877194, 25.0, 1.0703696788648245, 1.029247660187185, 1.0044720798203084, 1.1832917705735662, 1.5349532104141572, 1.2652173913043478, 1.0208503062671614, 1.1666666666666667, 13.368121442125236, 1.0890052356020943, 1.005050505050505, 2.0, 1.3819742489270386, 1.35, 1.2647058823529411, 1.2043902020750565, 1.1213339459376674, 1.0908568967991963, 1.0857843137254901, 1.358974358974359, 1.0294664155147268, 1.7037037037037037, 1.1205908880384174, 1.1986301369863013, 1.199248120300752, 1.0363636363636364, 5.0, 1.0312030181828498, 1.0581516095534786, 106.58333333333333, 1.5454545454545454, 1.6362402443162538, 1.009460737937559, 1.1919081465281574, 1.7238805970149254, 1.1142943533146874, 1.191039729501268, 1.1672443566521313, 1.4111111111111112, 1.1944444444444444, 1.0763993165225496, 1.019170753455194, 41.0, 10.0, 1.6, 1.0898395721925134, 1.2222222222222223, 1.2407407407407407, 1.4039408866995073, 13.625, 1.091237579042457, 13.397529911231185, 1.250925436277102, 1.0175498798960734, 1.0323315118397085, 1.055187637969095, 1.0394431554524362, 1.3254593175853018, 1.0271668822768434, 60.888888888888886, 1.699476937708036, 1.2962962962962963, 5.0, 1.0556631171345596, 1.6189008731381613, 1.0229057591623036, 1.0430149264264794, 1.7419354838709677, 1.0052598416568501, 1.0392387679026878, 1.2159171737927763, 1.139885438649382, 1.0600510085787156, 1.4444444444444444, 2.0, 8.189074889867841, 1.0882094914805915, 1.1419325011558021, 1.0729166666666667, 1.1903164320196664, 2.0, 1.1522686490643426, 1.1090909090909091, 3.5, 1.3484162895927603, 1.5, 1.2707889125799574, 1.0123083125908214, 1.070014228124259, 1.1517857142857142, 1.5, 1.0225563909774436, 6.0, 7.0, 1.6804900914038696, 1.0, 1.003103448275862, 1.0569620253164558, 1.1388921255622102, 1.2475035663338088, 1.0635593220338984, 1.0478863239498781, 1.1332378223495703, 1.1527777777777777, 1.75, 1.0719424460431655, 1.5923320436158988, 3.0, 1.2880583409298085, 1.0281195079086116, 1.0969952556668423, 1.397211928710076, 1.5, 1.6192782756115283, 1.0786369593709044, 1.232, 1.0123915737298637, 6.0, 1.0098963242224317, 1.0357866455250175, 1.0610045103585353, 1.0384615384615385, 1.1743869209809263, 1.1, 1.2536231884057971, 1.0319148936170213, 1.7142857142857142, 1.072511781643078, 1.231645569620253, 1.0548112058465287, 1.0611011793400684, 1.0357142857142858, 1.1134151329243354, 1.372791519434629, 1.1151736745886653, 1.0684491978609625, 1.0064350064350065, 1.439171699741156, 1.116877971473851, 1.0178970917225951, 1.0017423188443486, 1.0420678909861818, 1.1504854368932038, 1.0212015856511567, 1.0178117048346056, 1.0087592859518795, 14.024752475247524, 1.2350069735006974, 1.0357142857142858, 1.16709453422752, 1.6248448606566626, 1.086356642161053, 1.1551724137931034, 1.1620171673819744, 1.0211112453868536, 6.0, 1.0625, 1.0281549004396173, 1.0573248407643312, 1.1675675675675676, 1.3333333333333333, 1.0566165353704147, 1.1045560894613702, 1.0387936119385377, 1.1874668082846522, 1.031987814166032, 1.0041407867494825, 40.58804523424879, 1.1754627906807054, 1.14, 1.1428571428571428, 1.460080311798748, 1.2005208333333333, 1.170731707317073, 1.2787938704893722, 2.0625, 1.2163163225233047, 1.1111111111111112, 1.121162556618017, 1.1265822784810127, 1.3873517786561265, 1.007157464212679, 1.2636280085013498, 1.2637140957751645, 8.0, 1.023872679045093, 1.111926605504587, 13.589285714285714, 1.0343980343980343, 1.0621848739495798, 1.0308608554412562, 1.1239174127535172, 1.7326732673267327, 1.01047456320715, 1.0442490060754177, 1.0909090909090908, 1.0588235294117647, 1.0384615384615385, 9.0, 1.217308907138345, 2.0, 1.011342155009452, 1.016607617360496, 1.1491815476190477, 1.3178571428571428, 1.1333333333333333, 2.0, 1.1092418156115722, 1.4181818181818182, 1.1221000171850835, 1.2, 233.5, 1.0075685903500473, 2.875, 1.1143665810577075, 1.0281385281385282, 1.1861281826163301, 1.8879310344827587, 1.2137123745819398, 1.0743958853247306, 1.1044776119402986, 2.0, 1.1196495376293585, 1.083882169800024, 1.0449141347424042, 1.0471808054841474, 1.0894799418732661, 1.4376721033679305, 1.4109697933227345, 1.0322882545624708, 1.2894736842105263, 2.393187752195585, 1.3682917843546605, 113.0, 1.172681198526479, 1.3198294243070363, 1.5, 1.84, 13.643867924528301, 1.1636615811373092, 1.0750858669380485, 3.0, 1.0085204958923302, 1.472318339100346, 1.192504258943782, 1.001896286977596, 1.0169491525423728, 1.0632227061120287, 1.1857122391480828, 1.8181818181818181, 5.100700525394045, 1.029276693455798, 1.4783414923601839, 1.169375956029141, 1.0540111940298507, 1.0342308866944925, 1.485313751668892, 1.2714097496706191, 1.0203467451750081, 1.088939489201176, 1.063458262350937, 1.03739982190561, 6.6, 1.4545454545454546, 1.3607617678763924, 15.121951219512194, 1.301969365426696, 1.09205716184779, 1.010843403389494, 1.3902439024390243, 1.0522388059701493, 3.4285714285714284, 1.181202510736703, 2.0575342465753423, 1.5, 1.5013318379363523, 1.0226314125794638, 1.2489082969432315, 54.0, 4.222222222222222, 1.0921437526117843, 1.5714285714285714, 1.0322082546141549, 13.014002036659878, 1.25, 1.0487690073417562, 1.1764705882352942, 1.8333333333333333, 1.0089904520264406, 2.0, 1.0135135135135136, 1.0428893905191874, 1.089385474860335, 1.1616161616161615, 1.1666666666666667, 1.018348623853211, 1.2093222734494555, 1.1126433686586015, 14.559602649006623, 1.0698817599233488, 1.0373938322977825, 3.0, 1.2727272727272727, 1.219943064048645, 1.5, 1.1799687010954616, 1.7058823529411764, 2.0, 1.1578947368421053, 1.341103341103341, 1.187279151943463, 1.1417910447761195, 1.063517395467603, 1.6515151515151516, 2.1666666666666665, 1.06862097497549, 128.0, 1.2272727272727273, 1.0286549138917058, 1.0315789473684212, 1.0086393088552916, 1.2433628318584071, 1.75, 1.0, 1.4232268121590024, 1.0338983050847457, 1.240418118466899, 1.116328427186417, 1.256802522480439, 1.1012048192771084, 2.0, 1.0275704047252494, 3.796875, 1.5925925925925926, 1.0666666666666667, 1.0336590662323561, 1.0, 1.358974358974359, 1.135135135135135, 1.1837808245263257, 1.0391102620087336, 1.0065, 1.2843597401981701, 1.4077059487344834, 1.0108481262327416, 1.1777059773828755, 1.1248910991723537, 1.1547049441786283, 1.5, 1.1308759183599517, 1.0691588785046728, 1.036924413553432, 1.1221719457013575, 1.2857142857142858, 1.1195445920303606, 12.0, 1.2142857142857142, 1.16626065773447, 1.1657559198542806, 1.25, 1.116370808678501, 1.061214249874561, 74.33333333333333, 1.4919354838709677, 1.0384477182896155, 1.0285095601707768, 1.7613636363636365, 1.036795123013281, 1.1452513966480447, 11.0, 1.0946051216104262, 1.2641509433962264, 1.3966372844485735, 1.2255965292841648, 2.6877975245953665, 1.4550365427391165, 2.625, 1.1416600159616919, 1.1666666666666667, 1.0864197530864197, 1.3333333333333333, 1.0564452534243616, 1.2674418604651163, 1.6371058107891787, 1.1349693251533743, 1.1275261324041812, 8.0, 1.1979921918572225, 1.0156114886486327, 1.12123745819398, 2.0, 1.0547945205479452, 1.6813819577735125, 1.2640449438202248, 1.1399417997313834, 1.0741748052911362, 1.2222222222222223, 1.1764309764309764, 1.0101475840435383, 1.046732031237822, 1.2228194902028784, 1.142502203074513, 1.1303203159280386, 9.846153846153847, 1.0725225225225226, 1.0556274989838648, 1.139344262295082, 1.0820433436532508, 11.0, 2.3333333333333335, 1.179838207840697, 1.0293040293040292, 1.1737718229801055, 1.0890515689909472, 1.0658800393313668, 1.0, 1.3414634146341464, 1.1944444444444444, 1.0591814547239953, 1.08, 1.0, 1.0624851127290051, 4.333333333333333, 1.0, 1.0205850487540629, 1.2307692307692308, 1.007843137254902, 1.257168458781362, 1.2950819672131149, 1.9230769230769231, 1.0582306830907056, 1.1727158948685856, 1.0189071265323084, 1.0, 24.78787878787879, 1.3272727272727274, 1.0644511581067473, 1.0049937578027466, 1.0734945471787578, 1.0152505446623095, 6.0, 1.1891891891891893, 1.638959390862944, 1.1165677280086346, 1.2019927536231885, 2.0, 1.1383714741883981, 1.05751309598186, 1.2891566265060241, 3.0, 1.3046251993620415, 1.0267963668552516, 282.1818181818182, 1.150943396226415, 1.2476834841442044, 1.0864920903797914, 1.0089163237311385, 1.016325257356764, 2.75, 1.6154421019509124, 8.10515086863761, 1.0535017221584386, 1.0047709923664123, 1.241025641025641, 1.009145919436809, 1.1762114537444934, 1.0398781395772871, 1.1726618705035972, 1.0897619117060888, 2.4051724137931036, 1.134347394775379, 1.047347404449515, 1.24, 1.9264705882352942, 1.0936254379458605, 1.2959183673469388, 1.8845359303526634, 1.1877651474711604, 2.6666666666666665, 1.0180722891566265, 1.3007915567282322, 8.793103448275861, 1.0357142857142858, 1.7651006711409396, 1.1063829787234043, 1.0300429184549356, 6.0, 18.131147540983605, 1.2764964305326743, 1.1150747427683945, 1.359375, 3.0, 1.25, 1.0039421813403417, 1.176991150442478, 1.065063649222065, 1.0179694519317162, 1.0641221374045802, 1.605095541401274, 1.4496350364963504, 1.098901098901099, 1.0905368516833485, 11.0, 1.072123186700197, 12.0, 1.247083047357584, 1.3571428571428572, 1.0304759963306493, 1.20824295010846, 1.1055088702147526, 1.0229709035222052, 1.1455696202531647, 1.1175937917890724, 6.0, 1.2285714285714286, 1.375, 1.0, 1.5454545454545454, 1.1063829787234043, 1.0072904009720534, 1.4368932038834952, 1.3420378083947453, 1.0032786885245901, 1.0336547923637078, 1.0881482942220468, 1.0550540099227532, 1.1485740570377185, 1.015555255800265, 1.0758196721311475, 105.15, 1.1882101916756764, 1.0480549199084668, 1.0393374741200827, 1.2671854734111543, 1.5671641791044777, 1.2856173348199138, 1.1709905660377358, 1.388686992637342, 1.0718232044198894, 1.169602529358627, 1.072347266881029, 10.523809523809524, 1.5918367346938775, 1.3333333333333333, 1.0244618395303327, 3.4025383595377914, 2.1301030651853834, 1.0625827814569537, 1.0614917715916685, 1.2105263157894737, 1.0025899672846237, 1.0397376543209877, 1.0029585798816567, 1.0124223602484472, 1.029987423700425, 1.2927677329624478, 1.3562467223365202, 1.5793103448275863, 1.325947808961103, 1.0995239575523739, 1.0220406257296288, 1.2307692307692308, 1.0131619222528314, 1.1195652173913044, 1.2417202950871136, 1.0563628668171559, 2.198529411764706, 6.0, 3.293069306930693, 1.287556904400607, 1.25, 1.0453702916418672, 3.0, 1.4106820642367377, 1.1180679100908657, 1.0, 1.0027208935987397, 1.3846153846153846, 1.0909090909090908, 1.0584914209402982, 1.1210084033613446, 1.1475790602108273, 1.0000145181227653, 1.166270783847981, 1.0857142857142856, 1.1666666666666667, 1.0345821325648414, 1.1602787456445993, 3.2624630884141044, 1.7858357228044355, 1.090194215748364, 1.0, 1.0793918189279081, 24.404624277456648, 2.0, 1.1445187872600318, 1.094380576115908, 1.0134861766689143, 1.0035342308364763, 1.0603556506884557, 1.1258741258741258, 1.4705882352941178, 1.1726892354507417, 1.1300613496932514, 1.1133254495121885, 1.232885686210285, 1.0063378151722622, 1.29768312660894, 1.1033519553072626, 1.0895474824729128, 1.5150501672240804, 1.052486958462354, 1.0607630711257654, 1.108695652173913, 1.0262828535669588, 49.550769230769234, 1.1231617647058822, 1.3449559255631733, 1.4074074074074074, 1.6, 1.1342042755344417, 1.2512848255342168, 1.0449940405244338, 1.1308316430020284, 1.25, 1.236917221693625, 1.2077922077922079, 1.0153846153846153, 1.058303186963779, 2.0, 1.2579266921520127, 1.2941486557722721, 1.3457943925233644, 1.1538461538461537, 1.027810440537067, 1.125, 1.3076923076923077, 1.0309769658459094, 6.0, 1.6088235294117648, 1.037313432835821, 1.2857142857142858, 1.3333333333333333, 1.0977443609022557, 1.208, 1.0616336633663366, 1.04302203567681, 1.1133333333333333, 1.1367713004484306, 1.0178571428571428, 1.0604810996563574, 1.1611721611721613, 1.6938775510204083, 1.15625, 1.0, 2.9542600896860987, 1.030590717299578, 14.1, 1.0385057822921129, 1.1861172227442238, 1.0622209821428572, 1.1055202220738607, 1.1438330923831392, 1.3696369636963697, 3.5, 1.2083333333333333, 1.0, 1.2032854209445585, 1.0446859831095843, 11.958542713567839, 1.3954248366013071, 1.2053941908713692, 1.0369026385386555, 1.01884328754326, 1.0134194648382095, 1.1538461538461537, 1.0, 13.017676767676768, 1.049486823855756, 1.1868636607211207, 1.014523039442181, 1.269736842105263, 1.021735203805166, 1.667326184163666, 1.0988252910034046, 1.0142760027192386, 1.0654980868383341, 1.0778816199376946, 1.0820866896816264, 1.1196319018404908, 1.0493640332404823, 7.0, 1.1961231470923603, 1.1688873844026388, 1.0263558805606339, 1.1324685534591195, 1.3571428571428572, 1.1745283018867925, 1.150375939849624, 1.4950884086444007, 1.087986585912317, 1.2148411492029194, 1.023795825117443, 1.3113326458118484, 1.3147848592688451, 14.0, 1.0501577998196574, 1.0982142857142858, 1.1428571428571428, 6.0, 1.1111111111111112, 1.1299188346981666, 1.6666666666666667, 1.0650132344052854, 1.0527064645839777, 1.0562248995983936, 1.0587774294670846, 1.0356112573695724, 1.0519806117332442, 1.3046594982078854, 1.0704845814977975, 1.0196594776979004, 1.1172277884190365, 1.2112168348392973, 1.1979366773390252, 2.0, 1.11011011011011, 1.07684355616816, 1.3366667822108218, 1.3094462540716612, 1.0023192072527936, 1.03125, 1.7568493150684932, 1.0405016200648025, 1.0952380952380953, 1.3347846889952153, 1.0952380952380953, 1.0724074091302367, 1.0425997434824656, 1.00395726157499, 1.3347368421052632, 1.3103448275862069, 1.0374261326329612, 1.0564016614442906, 1.046301845619535, 1.0987306064880114, 1.0033820576328354, 1.2285714285714286, 1.04064873742558, 1.0409885473176612, 1.0291970802919708, 1.1107444077741107, 1.0440917107583774, 1.0256880733944953, 1.06, 1.0008271267776705, 1.3545034642032332, 1.015406945977411, 1.0496353960023532, 1.5, 1.1554853985793212, 1.0406958187041175, 1.2415966386554622, 223.00571428571428, 1.021090534979424, 1.250984251968504, 1.6703296703296704, 1.0024783147459728, 1.0333433650047532, 46.0, 1.402112676056338, 1.018170474927864, 1.0900123304562268, 1.1672932330827068, 1.0397213855421688, 5.125, 1.027043451838347, 1.1528255528255529, 1.0976671729563423, 1.154319498069498, 1.4356617647058822, 1.0137614678899083, 1.0143184421534936, 1.089125724658898, 1.3928571428571428, 1.75, 1.2085586377312063, 1.0844571207044555, 1.0326136885622417, 1.2840909090909092, 1.3849721706864564, 1.0033216164831764, 1.4621872364351982, 1.2, 1.1944444444444444, 1.025735294117647, 1.0160583941605839, 1.44375, 1.6388888888888888, 1.0079661353036011, 1.5074331020812686, 128.69059405940595, 2.0545454545454547, 1.0835240274599542, 1.0483970406905057, 1.0641307375653843, 1.1513409961685823, 1.0476302470413366, 1.335176226675881, 1.1071428571428572, 3.0, 13.33890008638065, 1.0714285714285714, 1.8, 1.0666666666666667, 1.1003201707577375, 1.051246537396122, 1.0203319502074688, 1.0405325946348538, 1.2628398791540785, 1.0625, 1.125, 1.4166666666666667, 1.4054054054054055, 1.0344827586206897, 1.0979310344827586, 13.483372166913789, 1.3153784920965848, 1.0491803278688525, 1.0439698829077464, 1.1277182247431814, 2.5, 1.3067247382807627, 1.1582703163276173, 1.5, 1.6, 1.1409348441926346, 1.0821606648199447, 1.1633022496933318, 1.2493887530562346, 2.3333333333333335, 1.0445859872611465, 1.1125541125541125, 3.90625, 1.397479954180985, 1.1020864283554421, 1.0317648028610198, 1.008357839343755, 2.142857142857143, 1.0245105546107407, 1.322230828814872, 1.1499571550985432, 1.0772659732540861, 1.2847222222222223, 1.0, 1.1470588235294117, 1.08914223669924, 1.27708927290006, 1.41371158392435, 1.4550724637681158, 1.1070768561800195, 1.1061285500747384, 1.0185185185185186, 1.3013698630136987, 1.0295070815363057, 1.1195663187759652, 1.1666666666666667, 1.1817862121802036, 1.0493827160493827, 1.1043478260869566, 1.1469613259668507, 1.5833333333333333, 1.1414819136522754, 1.0436893203883495, 1.0059174649617615, 1.08153078202995, 1.5, 1.0471464019851116, 1.1743998107777822, 1.1669559180839986, 1.2022121384004538, 3.6336305007587253, 2.895721575297658, 1.155361216730038, 1.3382978723404255, 1.25, 1.092585575344196, 1.086241580674849, 1.1742043551088777, 1.2305555555555556, 3.3333333333333335, 1.0941176470588236, 1.0627882227740333, 1.0771428571428572, 1.0041167893943663, 1.1449655443985036, 1.0446075663466967, 2.6, 1.1323076923076922, 1.0368935412413673, 1.1248715313463515, 1.044776119402985, 1.048237818523396, 1.081578947368421, 1.310822510822511, 1.0008968609865472, 1.0219650310460295, 1.2226126544233022, 1.3029953917050692, 1.176696542893726, 1.25, 1.2214073829927488, 1.3119182332542434, 1.202042248886744, 7.670802077322562, 1.0812133072407044, 1.0289256198347108, 16.61038961038961, 1.0276008492569002, 3.3333333333333335, 2.5, 1.1363636363636365, 1.040439987059204, 1.6, 1.4293598233995586, 1.1481481481481481, 1.4, 1.0521173735808376, 1.0, 1.0512129380053907, 1.1431322207958923, 1.0361315747233952, 3.0, 1.9166666666666667, 1.0866098432774265, 1.4444444444444444, 1.1111111111111112, 1.1769629334396174, 1.0296755377324098, 1.0747767014718832, 2.0, 1.0014255167498218, 1.0001332445036641, 1.112134953745692, 1.0498964275359535, 10.804263565891473, 1.4147260273972602, 1.1018246256304403, 1.1148435256962388, 1.1275720164609053, 1.0704225352112675, 1.115990990990991, 1.0, 10.0, 1.0911416171208554, 5.0, 1.0833333333333333, 1.3846153846153846, 1.006769825918762, 1.4987449905083317, 1.0743417656169334]
origin-bjaq_15.71 	max: 282.1818	99th: 54.0689	95th: 8.1093	median: 1.1449	mean: 3.5509

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.106635 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[5.1528215e-04 5.9604645e-08 0.0000000e+00 2.3841858e-07 2.9802322e-07]
Distance score: 0.00010317564010620117
SAUCE Drift detection: True
Detection latency: 0.0410s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.9611 nats / 40.3394 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.103093 | Model-update-time: 2.523851


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 323.0870	99th: 73.6067	95th: 13.0000	median: 1.1651	mean: 4.3373
ReportEsts: [1.0820895522388059, 1.0123235937189425, 1.0317279397662324, 1.1318681318681318, 1.2, 7.0, 1.0338248399902779, 1.039618072421581, 1.2, 1.2670089858793325, 1.1320305156622292, 1.2597458744590428, 1.1144890038809832, 1.0456852791878173, 1.0345744680851063, 60.2, 1.5692307692307692, 55.525, 1.3846153846153846, 1.0624518118735544, 1.187962506166749, 1.2026901669758812, 1.1013333333333333, 1.0462020360219264, 1.3277303931766173, 1.0354597371571428, 8.0, 1.1677125284880272, 2.4, 1.375, 1.3012633624878522, 1.0, 1.259955775597093, 1.0013597213040195, 1.1802997858672377, 1.0508296330918439, 1.0761627513370795, 1.1758474576271187, 30.0, 1.0421244463046284, 1.0535938941541558, 1.010122742231512, 1.032426778242678, 1.6155120249111106, 1.2565217391304349, 1.076440868263473, 1.2, 15.264788048099113, 1.0240384615384615, 1.0773229369720598, 2.5, 1.2696629213483146, 1.425, 1.1842105263157894, 1.268928459141967, 1.2063800062092518, 1.1517587939698493, 1.1070559610705597, 1.4102564102564104, 1.049431936410171, 1.7592592592592593, 1.1335220846885212, 1.2517123287671232, 1.1245421245421245, 1.0909090909090908, 4.5, 1.0605950246526221, 1.0124192747143568, 124.85135135135135, 1.6363636363636365, 1.6443841194435018, 1.01640838650866, 1.2279934390377256, 1.7863397548161122, 1.0901211324642108, 1.2101806239737274, 1.0868693618443033, 1.435483870967742, 1.1957508644646684, 1.1406857546836338, 1.0345345345345345, 1.0183741869254248, 1.1818181818181819, 1.2314990512333965, 1.0041152263374487, 1.1032818532818534, 1.4592737978410206, 1.0303030303030303, 1.2248319722483196, 1.1572391842291665, 1.124031007751938, 1.4, 1.1578106272473032, 1.0672627732341011, 1.0760626398210291, 1.0604026845637584, 1.0975609756097562, 1.075, 73.44444444444444, 1.7189728958630528, 1.2333333333333334, 6.0, 1.0635429243676666, 1.4514637904468413, 1.0006234413965087, 1.0700095275062635, 1.7575757575757576, 1.0161618915080128, 1.053450862715679, 1.059767149566713, 1.1334106728538282, 1.0802234636871508, 1.4, 2.4285714285714284, 9.081376116440621, 1.0394237262092976, 1.205654354765162, 1.1818181818181819, 1.2437280667897797, 2.0, 1.1662132080138512, 1.1435406698564594, 4.0, 1.3305785123966942, 1.4444444444444444, 1.3222453222453223, 1.0196064202627448, 1.0151491324631756, 1.1875, 1.5, 1.0619823572006195, 2.689655172413793, 1.3381294964028776, 1.0013582780603392, 1.064026044492675, 1.0, 1.0598610368786745, 1.0441337830698583, 1.1053677932405566, 1.4696969696969697, 1.1595441595441596, 1.2637508283631544, 1.4076782449725778, 1.0277871929499192, 1.2873563218390804, 1.0145363408521304, 1.1693825322227909, 3.0, 1.3454876937101186, 1.3661971830985915, 1.1356020942408378, 1.4289747661902241, 1.5, 1.3044870055884108, 1.0203592814371258, 1.298, 1.037825059101655, 16.0, 1.0214808043875685, 1.0967482040149497, 1.0070496265791862, 1.0401854714064915, 1.2289473684210526, 1.2, 1.381679389312977, 1.0318543799772468, 1.1969476744186047, 1.2424242424242424, 1.9951923076923077, 39.65862068965517, 1.0713954566527584, 1.5911949685534592, 1.0119422572178478, 7.2395209580838324, 1.1617916412277294, 1.063953488372093, 1.0362510520620416, 1.0174563591022443, 1.228276877761414, 1.7647058823529411, 1.1587633658763365, 5.07043530834341, 1.043061228637038, 1.0253730421867226, 1.13579511614056, 1.0519093713434742, 15.971518987341772, 1.2124284546197874, 1.169811320754717, 1.2148988385374846, 1.7858870081336558, 1.1112843148515825, 1.1551724137931034, 1.10828025477707, 1.0207649706229491, 1.6386687797147386, 26.6, 1.0462623191444747, 1.1764705882352942, 1.0657439843794867, 1.1126390307671428, 1.3098384728340675, 20.9, 1.2340558566069195, 1.0413605191174435, 1.2368560807222517, 1.0588235294117647, 1.013019529293941, 45.93893129770992, 1.2259702734058622, 1.2777777777777777, 1.0264550264550265, 1.3631433592769269, 1.2139303482587065, 1.16793893129771, 1.3297083539298071, 2.375, 1.2614332072507803, 1.0547945205479452, 1.1860386517958645, 1.102102102102102, 1.2727272727272727, 1.0113776898342814, 1.3696794761330346, 1.293159571785526, 11.0, 1.0482233502538072, 1.1181236292019157, 17.10377358490566, 1.0712530712530712, 1.200652528548124, 1.4791126300692685, 1.0716559973045823, 1.2413793103448276, 1.0110439576890669, 1.022554152296355, 1.0845070422535212, 1.1253841425937308, 1.0537190082644627, 11.0, 1.1835866261398176, 2.0, 1.0453686200378072, 1.0921298657147713, 1.0704956163893362, 1.2727272727272727, 1.125, 2.0, 1.120672268907563, 1.4363636363636363, 1.1008099352051837, 1.2, 239.57142857142858, 1.0906642728904847, 3.25, 1.131603156578361, 1.0060362173038229, 1.2028862478777589, 2.0163934426229506, 1.2369849888214628, 1.0778923085907843, 1.0869565217391304, 2.0, 1.0803007004954723, 1.0796394120349104, 1.0264150943396226, 1.062116973088196, 1.111459120855384, 1.4642285799322892, 1.4697933227344993, 1.0304213063942143, 1.3468899521531101, 2.0014717136633897, 1.3121699619304925, 137.0, 1.1934583167132031, 1.1812366737739872, 1.5454545454545454, 2.227272727272727, 15.965637065637065, 1.181091877496671, 1.0622709504031274, 2.2, 1.0067158125472027, 1.511534025374856, 1.127591706539075, 1.0141802519534937, 1.0161507402422612, 1.0429581531153649, 1.2367869517002796, 2.0, 5.733221476510067, 1.0486111111111112, 1.622354251763832, 1.096915785295697, 1.043749445540095, 1.0354376310910602, 1.5240320427236316, 1.2746694417238003, 1.0199188491331612, 1.13223920936518, 1.0732918773867273, 1.0419103313840157, 8.058823529411764, 1.5454545454545454, 1.4306503772906936, 11.891093410572049, 1.2489795918367348, 1.085976081394657, 1.5384615384615385, 5.5, 1.08380295791973, 10.0, 1.088550983899821, 1.019704433497537, 1.1713395638629283, 1.016210386067316, 1.014058106841612, 1.2162162162162162, 64.0, 7.0, 1.0185708518368994, 1.5714285714285714, 1.0506578424416568, 14.850458155161881, 1.7, 1.0655157545791032, 1.2057416267942584, 1.8461538461538463, 32.78389538885065, 1.3876295179257674, 1.135518590998043, 29.38262910798122, 10.676007677543186, 1.082010582010582, 1.1165562913907285, 1.110204081632653, 1.0545454545454545, 1.2536330078033737, 1.1062952892978852, 16.085450346420323, 1.0272909348025006, 1.0684174932371506, 3.0, 1.4545454545454546, 1.2510319748394705, 1.6666666666666667, 1.2269170579029733, 1.7647058823529411, 1.7142857142857142, 1.1, 1.3037974683544304, 1.243816254416961, 1.0902777777777777, 1.0366718027734978, 1.6818181818181819, 2.0, 1.0771784064742873, 156.0, 1.3970588235294117, 1.0171297551178198, 1.150375939849624, 1.0020703933747412, 1.290929203539823, 2.0, 1.0, 1.0853658536585367, 1.1420118343195267, 1.1444672131147542, 1.1591776761943036, 1.20363106578505, 1.0961098398169336, 3.3333333333333335, 1.8706210311270342, 4.1911764705882355, 1.6666666666666667, 1.0303030303030303, 1.032213370280568, 1.0, 1.3871794871794871, 1.212962962962963, 1.2343686682081476, 1.0743449952933795, 1.0258978744197411, 1.3792457249941439, 1.458326616153474, 1.0169491525423728, 1.1825525040387723, 1.207530052166024, 1.133433283358321, 1.7179487179487178, 1.1535926745490335, 1.0707955338450803, 1.0618578767123288, 1.168141592920354, 1.3428571428571427, 1.0946428571428573, 14.0, 1.2619047619047619, 1.19520748100526, 1.1652173913043478, 1.2745901639344261, 1.0795660036166366, 1.0690325717063685, 89.66666666666667, 1.0863723608445297, 1.127235213204952, 1.09092284671901, 1.6732673267326732, 1.0597609561752988, 1.1983240223463687, 13.0, 1.0787300250345102, 1.2407407407407407, 1.4529469080691577, 1.2675799303201953, 3.0614028119787116, 1.513187162376867, 2.875, 1.445615716339243, 1.3333333333333333, 1.060693641618497, 1.3076923076923077, 1.0643999075922326, 28.075, 1.0923748642403657, 1.3279569892473118, 1.4285714285714286, 1.9393939393939394, 23.0, 13.0, 1.1643098094408328, 1.0739046553283944, 6.742439024390244, 1.2, 1.1769331585845346, 11.101216433325682, 1.0694444444444444, 1.2380952380952381, 1.0025423728813558, 1.0178890876565294, 1.0304153721640603, 1.1346938775510205, 1.4499564838990426, 1.0963220846140675, 1.0178403755868544, 1.3293051359516617, 1.1081081081081081, 1.1689895470383276, 1.106971975393028, 1.28, 1.0419580419580419, 1.0369685767097967, 1.0586080586080586, 1.2285830288266342, 1.1028326002050164, 1.034564393939394, 1.0, 1.4873949579831933, 1.2972972972972974, 1.0719159663865547, 1.12, 1.0, 1.0251608538568941, 5.0, 1.0, 1.012006861063465, 1.5833333333333333, 1.0180232558139535, 1.293010752688172, 1.3573770491803279, 2.1538461538461537, 1.178763440860215, 1.1596638655462186, 1.0296771606176058, 1.5, 26.813186813186814, 1.3727272727272728, 1.144702842377261, 1.0658716638273709, 1.006036692226871, 1.216867469879518, 25.829268292682926, 1.3492063492063493, 1.9331536695612497, 1.408045846314784, 1.2454710144927537, 2.3333333333333335, 1.138732274047497, 1.0284534093768347, 1.3420639078051335, 1.5238095238095237, 1.370414673046252, 1.0114411681651319, 323.0869565217391, 1.0178799489144317, 1.3131285900016958, 1.083359231404445, 1.0268500327439423, 1.0711850397768365, 3.0, 1.6851535836177474, 9.206967213114755, 1.0609485815602837, 1.0479098168154064, 1.221698113207547, 1.0056207496441563, 1.1252653927813163, 1.047156666058727, 1.2088652482269504, 1.0378341841726106, 49.666666666666664, 1.1779793627395396, 1.00494607405372, 1.2666666666666666, 1.7108433734939759, 1.075604996322827, 1.405612244897959, 2.0322825674135965, 1.2451578101558154, 3.0, 1.0274111675126905, 1.13, 10.310344827586206, 1.0862068965517242, 1.70625, 1.0522875816993464, 1.0057428214731585, 7.0, 20.53125, 1.328940142778693, 1.1438031799267125, 1.421875, 3.0, 1.3333333333333333, 1.2163892445582587, 1.238938053097345, 2.0186915887850465, 1.3449830890642616, 1.083455344070278, 1.0737704918032787, 1.510948905109489, 1.1263736263736264, 1.108201438848921, 14.0, 1.1193074062215216, 14.0, 1.2263056092843327, 1.2817460317460319, 1.0359500690900125, 1.2032854209445585, 1.0412457912457913, 1.1219903691813804, 1.0108695652173914, 1.0546630542623827, 7.0, 1.0555555555555556, 1.5, 1.0, 1.0514018691588785, 1.1372549019607843, 1.0300480769230769, 1.3883495145631068, 1.3984299903876962, 1.0813559322033899, 1.0384495409111252, 1.1112206665352002, 1.0577060949869397, 1.078938560201363, 1.0107141596356832, 1.1187916026625704, 111.95555555555555, 1.244166314628785, 1.0175284837861525, 1.0835820895522388, 1.1770114942528735, 1.5524475524475525, 1.4373939599592807, 1.0854430379746836, 1.4465971304511989, 1.0154639175257731, 1.0703006705602423, 1.0702885205647636, 12.571428571428571, 1.7346938775510203, 1.6666666666666667, 1.0693069306930694, 3.8353479853479855, 2.360337906970643, 1.0255149093144789, 1.1102118973210253, 1.1333333333333333, 1.0368242360929747, 1.0409896602658788, 1.0086206896551724, 1.0, 1.0276712132168269, 1.3463143254520167, 1.291042374396567, 1.6842105263157894, 1.317219152854512, 1.0789104266345355, 1.0115611781062346, 1.3076923076923077, 1.0072205830284433, 1.2477064220183487, 1.391304347826087, 1.035294117647059, 1.037294073302144, 1.0063498566161408, 1.0780669144981412, 1.3472222222222223, 1.1176792855968882, 9.0, 1.2648648648648648, 1.1240963855421686, 1.0133689839572193, 1.4545454545454546, 3.0833333333333335, 1.0720018611143423, 1.2105263157894737, 1.0977630488815244, 1.0688682520395765, 1.56875, 1.1232227488151658, 1.0097569474692918, 1.4083812654067378, 1.2369556688897607, 1.2, 1.1650223283830097, 1.0484502142990249, 1.75, 1.0454545454545454, 1.0896175926826894, 91.1, 1.0471120528697102, 1.0, 1.0226904376012966, 1.0815023474178405, 1.5611222444889779, 1.1293532338308458, 1.0477340519964493, 1.1818181818181819, 1.9333333333333333, 1.069103972278298, 1.1595995288574794, 1.1023030772208244, 1.179239589619795, 1.0016642158373472, 1.2963464140730718, 1.161764705882353, 1.1167449139280126, 1.5752508361204014, 1.0492720715907573, 1.0880876312186216, 1.2880434782608696, 1.0100120144173008, 55.47701149425287, 1.0967184801381693, 1.3594515181194906, 1.68, 1.6, 1.1366742596810935, 1.2215473989965673, 1.0655549166187464, 1.0638644509612252, 1.25, 1.3225499524262607, 1.2697947214076246, 1.0621761658031088, 1.0659113994254485, 2.0, 1.199362993928536, 1.3499111900532859, 1.1551724137931034, 1.2889447236180904, 1.3115228720324261, 1.047700125733445, 1.0909090909090908, 1.2811387900355873, 1.0287009063444108, 7.0, 1.4230769230769231, 1.0444735120994113, 1.4285714285714286, 1.3333333333333333, 1.150375939849624, 1.1450381679389312, 1.130558341691742, 1.076271186440678, 1.294871794871795, 1.283720930232558, 72.0, 1.1770334928229664, 1.3211111111111111, 1.1643356643356644, 1.7755102040816326, 1.0, 1.0, 3.479147358665431, 1.048730964467005, 16.9, 1.0273712880295374, 1.2221781276809318, 1.0195573854863613, 1.0595481623018994, 1.2242302361605566, 1.4185303514376997, 4.5, 1.2, 1.1428571428571428, 1.185546875, 1.0220627081658435, 14.17680250783699, 1.4542483660130718, 1.125506072874494, 1.0484252900781434, 1.0882519328681879, 1.0178085848813667, 1.205128205128205, 1.0454545454545454, 14.614353782013103, 1.0216353478923312, 1.2488861670366684, 1.0167352003199377, 1.3355263157894737, 1.0827578399184874, 1.7811973392461198, 1.133385802521943, 1.0155239327296248, 1.0835233791804184, 1.1160220994475138, 1.108974358974359, 1.1184971098265897, 1.0425676161802877, 9.0, 1.1549450549450548, 1.2138803261214024, 1.0695842450765864, 1.1615254130803543, 1.3333333333333333, 1.2126696832579185, 1.1085450346420322, 1.569700157811678, 1.0472311580882352, 1.2212228182354936, 1.0240898524114013, 1.2256441843753207, 1.3691362018764155, 17.0, 1.0875788999098286, 1.1232142857142857, 1.1304347826086956, 7.0, 1.1111111111111112, 1.1490533146930393, 1.6666666666666667, 1.0016, 1.0259501200188652, 1.1985769728331177, 1.3615819209039548, 1.3167701863354038, 1.0538565641120279, 1.1132358412916756, 1.2391304347826086, 1.08, 1.1113861386138615, 3.2, 1.059532836455771, 1.0476190476190477, 1.4274242732262654, 1.0, 1.171003717472119, 1.0278673901233408, 1.0992984542211652, 1.282258064516129, 2.1666666666666665, 1.0547988730962317, 1.0266287487073422, 1.0889088320851643, 1.135640785781104, 1.078445989982769, 1.0180401592989816, 1.0063466878222926, 1.3903157894736842, 1.1470588235294117, 1.0069488313329122, 1.0507160734149055, 1.0300863346995728, 1.094722598105548, 1.003482748068748, 1.1555555555555554, 1.0289727235717194, 1.105171411969785, 1.0160919540229885, 1.093859649122807, 1.000809061488673, 1.061131386861314, 1.079045837231057, 1.0198110832612763, 1.405311778290993, 1.0247444237918215, 1.0523255430662228, 2.066666666666667, 1.2194159431728493, 1.1602936155684533, 1.1409869083585096, 255.8360655737705, 1.0750605326876512, 1.2345679012345678, 1.5123456790123457, 1.0408653846153846, 1.0590090132426058, 51.90909090909091, 1.4598591549295774, 1.0607502144583951, 1.115007012622721, 1.263157894736842, 1.015798611111111, 3.0232558139534884, 1.0149275790718297, 1.1575700047460844, 1.0835357513882764, 1.22988055019305, 1.5147058823529411, 1.0401785714285714, 1.0176503033645892, 1.069129737786986, 1.4404761904761905, 1.4, 1.2491702939382348, 1.132168471187661, 1.0462839341344015, 1.3409090909090908, 1.5531814980042264, 1.0283187188581127, 1.559460219285915, 1.142312579415502, 1.131578947368421, 1.03859649122807, 1.0680701754385964, 1.48125, 1.9090909090909092, 1.017276306546209, 1.5629335976214074, 149.7716346153846, 2.2857142857142856, 1.1122334455667788, 1.0512061565783632, 1.0628323579216303, 1.1757009345794394, 1.0312947560378953, 1.3828610919143054, 1.0714285714285714, 3.3333333333333335, 15.315957742563247, 1.0425531914893618, 2.0, 1.0666666666666667, 1.1274409044193217, 71.33333333333333, 1.3404255319148937, 1.0475500052067896, 1.0536746958370948, 1.3478260869565217, 1.1875, 1.3414634146341464, 1.3783783783783783, 1.0804597701149425, 1.233038348082596, 15.240072566014916, 1.384708691861567, 1.024, 1.059161295292879, 1.1545380807408459, 1.6666666666666667, 1.3648357390111685, 1.1483792421244863, 1.5, 1.6, 1.2176979071883531, 1.0990298467900121, 1.2043898198101635, 1.199063231850117, 2.6666666666666665, 1.1519434628975265, 1.1038374717832957, 4.171428571428572, 1.4727086998467738, 1.1004510822182632, 1.052018260078887, 1.041488262217629, 2.2857142857142856, 1.0300361284231876, 1.3694810224632068, 1.012448132780083, 1.0501742160278746, 1.3319444444444444, 1.0, 1.396551724137931, 1.162757871878393, 1.3311805434339907, 1.34375, 1.5681818181818181, 1.041914618369987, 1.0941259731068649, 1.0205278592375366, 1.5538461538461539, 1.0359411146161934, 1.0770055560970855, 1.1777777777777778, 1.229592988148898, 1.2469135802469136, 1.1410034602076125, 1.1106514994829368, 1.6153846153846154, 1.1466480446927374, 1.0299539170506913, 1.0129454136184581, 1.075058639562158, 1.5, 1.0068181818181818, 1.1916210605774675, 1.2897538256819694, 1.2182132871788045, 3.9852491455297714, 3.1040264349528823, 1.2076425855513309, 1.3306930693069308, 1.2916666666666667, 1.145357316480311, 1.1000281571167112, 1.1522435897435896, 1.0159786950732357, 3.6666666666666665, 1.054945054945055, 1.0398448519040904, 1.10124826629681, 1.18348623853211, 1.2035912581216774, 1.026998411858126, 2.8, 1.0924528301886793, 1.07875091648337, 1.099510603588907, 1.0229885057471264, 1.0403963011889035, 1.0773067331670823, 1.410299003322259, 1.0223978919631094, 1.029944047332209, 1.2685727627780607, 1.369815668202765, 1.259923175416133, 1.28125, 1.1508800715990453, 1.265420234142932, 1.2647576094345119, 8.635261707988981, 1.0858633776091082, 1.1105990783410138, 1.75, 1.0509554140127388, 3.6666666666666665, 2.5, 1.1304347826086956, 1.0203400121432908, 1.6, 1.370563674321503, 1.044776119402985, 1.4666666666666666, 1.0943187160029548, 1.0, 1.0459183673469388, 1.123076923076923, 1.0254073944278956, 3.1666666666666665, 2.1666666666666665, 1.1772766200399658, 1.5555555555555556, 1.0239043824701195, 1.1733333333333333, 1.0469016486640137, 1.0681076721200957, 2.0, 1.0006807351940095, 1.0852650098966352, 1.038855502299214, 1.1732745961820852, 1.2002902757619738, 3.125, 47.0, 1.04, 1.0247524752475248, 1.025, 14.354327563249, 1.8457943925233644, 1.0094253164156937, 1.2723992784125076, 1.3029389600602863]
origin-bjaq_15.71 	max: 323.0870	99th: 73.6067	95th: 13.0000	median: 1.1651	mean: 4.3373

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.029906 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[4.8714876e-04 2.3841858e-07 0.0000000e+00 1.1920929e-07 2.3841858e-07]
Distance score: 9.754896018421277e-05
SAUCE Drift detection: True
Detection latency: 0.0413s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 27.8409 nats / 40.1660 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.126101 | Model-update-time: 2.548811


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 360.4167	99th: 78.5150	95th: 15.3765	median: 1.1818	mean: 4.6767
ReportEsts: [1.0071599045346062, 1.0163872669052552, 1.0376308124990126, 1.170015455950541, 1.0714285714285714, 8.0, 1.052255683847161, 1.0460175229675794, 1.4, 1.3465982028241335, 1.1110130677759569, 1.3099830092994902, 1.1483830057070388, 1.0323624595469256, 1.0913731495661052, 70.8, 1.5807692307692307, 62.166666666666664, 1.5833333333333333, 1.0710059171597632, 1.2349531327084362, 1.0777132648503795, 1.1627906976744187, 1.0050395968322534, 1.354961514458082, 1.0275938746388467, 9.0, 1.197808373138522, 1.625, 1.5, 1.291360294117647, 1.0, 1.3107335078069178, 1.0638940218098534, 7.0, 1.1470630501167596, 1.3333333333333333, 2.6964285714285716, 3.8333333333333335, 1.1764705882352942, 1.4490145672664954, 1.054054054054054, 1.1787709497206704, 1.0313152400835073, 3.0, 1.1849315068493151, 1.113682092555332, 1.375, 3.9029850746268657, 1.051685393258427, 1.0117164192073966, 1.2205882352941178, 1.0283851908936197, 1.0675990675990676, 1.0205316718888318, 2.0, 1.5360230547550433, 1.0853389490573606, 1.244340878828229, 1.003584229390681, 1.069767441860465, 3.2, 5.0495739736638265, 1.1879491431730238, 1.129081245254366, 1.0805774982161924, 1.8666666666666667, 1.0, 1.46041600675747, 1.0161512436457607, 1.6, 8.0, 1.062208398133748, 1.2087518988582349, 1.3133192389006343, 1.9125214408233275, 1.0761056573221335, 1.2673267326732673, 1.1155276935794984, 1.3725490196078431, 1.2309357292357956, 1.1085450346420322, 1.1199796644636502, 1.0329430838909024, 15.0, 1.1351066836918697, 1.6, 1.0787078574319897, 9.583525789068513, 1.6341463414634145, 2.6, 16.555555555555557, 1.1041474784974423, 17.070851165002377, 1.1400392716886827, 1.0338506853970773, 1.1153220559531556, 1.0649895178197064, 1.0593952483801297, 1.10912343470483, 1.0121212121212122, 52.0, 1.7432239657631954, 1.1142857142857143, 7.0, 1.048517620457284, 1.6029789419619929, 1.0362232779097387, 1.1155298352094287, 1.8235294117647058, 1.016883245299159, 1.1305507909281494, 1.0808120115445732, 1.087479038569033, 1.0963648096364809, 1.5, 2.857142857142857, 10.058421971741547, 1.0610044618047285, 1.2285589899869396, 1.2450980392156863, 1.2868849052010285, 2.0, 1.1271814487210137, 1.247846889952153, 4.5, 1.4008097165991902, 1.5555555555555556, 1.3522267206477734, 1.0164273753411064, 1.0261357835630425, 1.2321428571428572, 1.5, 1.024072069247613, 2.8275862068965516, 1.4446043165467626, 1.0055724080219854, 1.1028982485404504, 1.0, 1.0372046254399196, 1.0282917052112241, 1.0527306967984935, 1.5454545454545454, 1.1455525606469004, 1.3141153081510935, 1.4808043875685557, 1.0169361468895588, 1.2826086956521738, 1.0114068441064639, 1.0919282912763937, 3.0, 1.398359161349134, 1.335483870967742, 1.0744466800804828, 1.2673394956926367, 1.1745689655172413, 1.007068763593776, 1.043956043956044, 1.3654509044351795, 1.073685065374516, 1.4165170556552962, 1.061337579284229, 1.0154491975555429, 1.7665463297232251, 1.0183000464468184, 63.337765957446805, 1.4657087438601908, 1.0401234567901234, 1.2101910828025477, 1.0296703296703296, 1.211111111111111, 1.4193548387096775, 1.8125, 44.666666666666664, 1.0590604026845638, 1.6540880503144655, 1.0206616808213969, 7.747191011235955, 1.1971986830031844, 1.0847457627118644, 1.0018789797835694, 1.099009900990099, 1.0, 1.588235294117647, 1.1793351929335192, 5.472877023572849, 1.0646857416258404, 1.021810368921185, 1.1252124645892352, 1.0189405765428243, 17.823170731707318, 1.2128526645768025, 1.1367521367521367, 1.266389966411454, 1.8480302102469892, 1.1110462456018555, 1.2241379310344827, 1.272063933287005, 1.0336024519697988, 1.5214067278287462, 32.2, 1.1096484186867877, 1.05, 1.0879314432815093, 1.1387323599444177, 1.3715124816446402, 27.333333333333332, 1.3395506570580755, 1.052095754726735, 1.2862453531598512, 1.0402219140083218, 1.0033349213911387, 52.48802395209581, 1.274617107749783, 1.1384615384615384, 1.058227848101266, 1.505317795532034, 1.2458233890214798, 1.129496402877698, 1.3826000988630747, 2.6875, 1.3148219342303797, 1.111545988258317, 1.181805255374815, 1.0057142857142858, 1.2924901185770752, 1.0282063645130184, 1.4157763225917628, 1.3328175503748023, 15.0, 1.058465286236297, 1.1111142984179803, 52.73144104803494, 1.0135135135135136, 1.1014263074484945, 1.5470057038870573, 1.056369331444646, 1.3103448275862069, 1.0114823405550346, 1.0562786069651742, 1.0975609756097562, 1.152962515114873, 1.09009009009009, 13.0, 1.0867526377491208, 2.0, 1.1429584120982987, 1.1055748417398408, 1.22, 1.3132911392405062, 1.1818181818181819, 2.0, 1.0993065617884497, 1.5454545454545454, 1.0992631797426318, 1.2, 278.14285714285717, 1.0430292598967297, 2.9, 1.1412609517265075, 1.0360721442885772, 1.2233169129720853, 1.0695647940804207, 1.0631994733377221, 1.089488158042429, 1.1267605633802817, 2.0, 1.0450330137650614, 1.0539991445680068, 1.0323741007194245, 1.00659162051529, 1.1227049283643544, 1.5464928766292816, 1.5151033386327504, 1.013171695489914, 1.4037081339712918, 2.1080558629480732, 1.404519218961071, 80.0, 1.2347544522396114, 1.2409381663113006, 1.6590909090909092, 2.08, 18.194086429112964, 1.3273657289002558, 1.066525685082386, 3.25, 1.003935750218856, 1.5501730103806228, 1.1529235382308844, 1.0162979654627002, 1.1175702155453953, 1.0809253582066836, 1.2868482349882473, 2.1818181818181817, 6.324462365591398, 1.1057947900053162, 1.615604186489058, 1.1764210222211522, 1.076296306322158, 1.0373625346999786, 1.5874499332443257, 1.3816383307573417, 1.055970479704797, 1.0783237988058396, 1.005346350534635, 1.004496402877698, 7.571428571428571, 1.5454545454545454, 1.483291412145167, 13.25181260457334, 1.2529182879377432, 1.0990603873037699, 1.5714285714285714, 1.021505376344086, 1.0522038300222398, 1.0, 1.1141630901287554, 1.1083743842364533, 1.2211838006230529, 1.0507297157307822, 1.012443095599393, 1.0909090909090908, 73.0, 2.090909090909091, 1.034153005464481, 1.7142857142857142, 1.0479637271326894, 16.556064880112835, 1.7272727272727273, 1.0657811818314025, 1.2222222222222223, 2.0, 37.11378848728246, 1.5049374908790194, 1.0429128738621587, 33.424311926605505, 11.879881729703092, 1.035264483627204, 1.1280409731113956, 1.126232741617357, 1.0168067226890756, 1.3035794992316732, 1.0843097149478016, 18.505738332058147, 1.0220383483172886, 1.0948811903175661, 3.0, 1.5, 1.311843645283866, 1.5714285714285714, 1.2769953051643192, 1.8235294117647058, 2.1666666666666665, 1.0476190476190477, 1.3161659513590844, 1.2791519434628975, 1.1838235294117647, 1.053321417932678, 1.7878787878787878, 2.142857142857143, 1.069250403440982, 184.0, 1.2571428571428571, 1.0230887503203212, 1.1041666666666667, 1.033112582781457, 1.329646017699115, 2.25, 1.0, 1.1303030303030304, 1.0304568527918783, 1.1199616122840692, 1.2092856784045813, 1.2507546356188013, 1.088937093275488, 3.0, 1.9865074141468892, 4.591549295774648, 1.5666666666666667, 1.0285714285714285, 1.073625993778085, 1.1428571428571428, 1.4743589743589745, 1.2592592592592593, 1.234232788463743, 1.091706398996236, 1.0224403927068724, 1.4995755117441751, 1.5145897146541996, 1.0572727272727274, 1.235864297253635, 1.1629008685134476, 1.2099352051835852, 1.972972972972973, 1.1408758885262529, 1.0852861630465824, 1.055327868852459, 1.1341463414634145, 1.4285714285714286, 1.1627056672760512, 16.0, 1.3095238095238095, 1.0388294879009567, 1.1747088186356074, 1.482490272373541, 1.1152482269503545, 1.063780260707635, 78.5, 1.2165137614678898, 1.0569828722002634, 1.0977892255022286, 1.7169811320754718, 1.0934466019417475, 1.2486033519553073, 16.0, 1.0457231319364193, 1.1551724137931034, 1.5131766785252996, 1.314608282292714, 3.227931292008962, 1.571337782014617, 2.7777777777777777, 1.3193172356369691, 1.3333333333333333, 1.1040462427745665, 1.2857142857142858, 1.0741087616319254, 31.951219512195124, 1.0600025863183757, 1.3882978723404256, 1.25, 2.1013071895424837, 28.0, 15.0, 1.1852162685603616, 1.07288847345071, 7.8, 1.2222222222222223, 1.2117706237424548, 12.186791630340018, 1.0266666666666666, 23.0, 1.04, 1.0198308688986697, 1.0599855019934759, 1.0892193308550187, 1.5108790252393385, 1.1138793103448277, 1.0307262569832403, 1.3553956834532375, 1.037037037037037, 1.891520069826162, 1.518005540166205, 1.449370194667103, 3.0, 1.0293930727677152, 1.1584539650046304, 1.068777491739809, 1.2077185017026106, 1.095346715328467, 1.0, 1.4427480916030535, 1.325, 1.0013554508487703, 1.0740740740740742, 1.0, 1.0484304128455522, 5.666666666666667, 1.0, 1.0487721691678036, 1.5714285714285714, 1.0344925077749505, 1.3458781362007168, 1.360655737704918, 2.066666666666667, 1.184993531694696, 1.1553509781357882, 1.0254059216809932, 1.0, 33.57396449704142, 1.4363636363636363, 1.1358024691358024, 1.0715859030837005, 1.0033486873426851, 1.3508771929824561, 25.666666666666668, 1.3968253968253967, 2.0419507937373846, 1.4624656038932982, 1.3025362318840579, 3.2, 1.1148459383753502, 1.0361219412872298, 1.396018858040859, 1.5909090909090908, 1.4310207336523126, 1.0474413452458777, 360.4166666666667, 1.100334448160535, 1.3511407563299258, 1.064993899889942, 1.0038071065989849, 1.0743898853278449, 3.25, 1.8384226267400214, 10.230205691744153, 1.0740900279991386, 1.1262553802008608, 1.2432432432432432, 1.0016934955758952, 1.1413934426229508, 1.0396587049875101, 1.0690226394257316, 1.0517241379310345, 20.0, 1.0040532020296034, 1.241442263806481, 1.3466666666666667, 1.105263157894737, 1.1203220539744534, 1.5739795918367347, 2.198146083077781, 1.285182084319003, 3.3333333333333335, 1.0766283524904214, 1.026829268292683, 1.5806451612903225, 1.6118927411382573, 1.054449506330961, 1.0041362643491194, 1.1601070950468542, 1.4656527188584652, 1.056316590563166, 1.2662475117735592, 1.0664221678891606, 1.0763765541740675, 6.649976776590804, 1.2484952708512467, 1.2149344096871846, 1.0622568093385214, 1.145612343297975, 1.4074074074074074, 1.127, 1.0634415801807835, 1.2513274336283187, 1.0584518167456556, 1.0565907713617868, 1.0530973451327434, 1.1079729195263244, 16.0, 1.1841477949940404, 1.3412698412698412, 1.0726991492652747, 1.2424242424242424, 1.048045602605863, 1.1834239130434783, 1.010752688172043, 1.1106120753769329, 8.0, 1.0505484409126444, 1.8571428571428572, 1.0, 1.087557603686636, 1.3617021276595744, 1.0300230946882216, 1.4805825242718447, 15.522480620155038, 1.035455300827133, 1.1904761904761905, 1.6342668863261944, 1.1865671641791045, 15.368796816479401, 1.2409667755727263, 1.0827067669172932, 1.0616534329752452, 119.91836734693878, 1.2998073935115242, 1.044776119402985, 1.074784276126558, 1.1913236929922135, 1.8015267175572518, 1.4027824906684765, 1.0776992936427852, 1.5014394940532376, 1.0104166666666667, 1.1365995432842018, 1.0773104265402844, 13.954545454545455, 1.86, 1.6666666666666667, 1.0345926263086027, 4.313502794303227, 2.4886800406675427, 1.1510251227259602, 1.1491771591668625, 1.0476190476190477, 1.0400701227147509, 1.000680040802448, 1.028169014084507, 1.0056818181818181, 1.0240847579858312, 1.3998609179415855, 1.3089078023803873, 1.8376623376623376, 1.3690637720488468, 1.0877944566256255, 1.0153955978584177, 1.3461538461538463, 1.0097626413835212, 1.2412280701754386, 1.434782608695652, 1.1264367816091954, 1.0204864440763666, 1.0264635124298316, 1.1561338289962826, 1.3866666666666667, 1.2168958527365366, 11.0, 1.3324324324324324, 1.101123595505618, 1.0178335535006604, 1.3870967741935485, 3.0, 1.031311245916939, 1.263157894736842, 1.2209856915739268, 1.0168846240942029, 1.7625, 1.1548387096774193, 1.0088826166362277, 1.4551181102362205, 1.2863868183601412, 5.508294930875576, 1.0603448275862069, 3.969701879455606, 1.985169146236409, 1.18331750052776, 1.0, 1.0900897308075772, 31.3048128342246, 2.0, 1.1808608364510957, 1.092442124949454, 1.0206435944140861, 1.0049954712019016, 1.0392892380438223, 1.2291666666666667, 1.9411764705882353, 1.0661852169096615, 1.1677814938684503, 1.135137818484183, 1.1862371888726209, 1.0239089730663977, 1.258669574700109, 1.260204081632653, 1.1088252832438878, 1.5785953177257526, 1.0528059470608457, 1.0783055198973042, 1.2391304347826086, 1.0431266846361187, 67.2089552238806, 1.1564147627416521, 1.4199804113614103, 1.4242424242424243, 1.8, 1.1387978142076502, 1.1634808853118712, 1.0859678313921242, 1.1864566929133857, 1.3333333333333333, 1.3520456707897242, 1.3225806451612903, 1.096938775510204, 1.025906673693288, 2.0, 1.320556066646223, 1.3922097011268986, 1.0895295902883155, 1.3517587939698492, 1.3752171395483497, 1.0307975237651203, 1.0285714285714285, 1.2006920415224913, 1.0424286759326993, 8.0, 1.5116279069767442, 1.0132538104705102, 1.5714285714285714, 1.3333333333333333, 1.2030075187969924, 1.1560975609756097, 1.0598619804204783, 1.0227272727272727, 1.3333333333333333, 1.3348837209302327, 85.0, 1.1457364341085272, 1.3788888888888888, 1.1262135922330097, 1.9673469387755103, 1.1142857142857143, 1.5, 3.5560235888795284, 1.0604878048780488, 19.7, 1.0610031248942386, 1.2527006285417481, 1.069262241849591, 1.0949268629950522, 1.1130741127348642, 1.4558521560574949, 1.6590909090909092, 1.3214285714285714, 1.2857142857142858, 1.171641791044776, 1.0185214331485875, 15.815821256038648, 1.5130718954248366, 1.1620553359683794, 1.0486788791873538, 1.047740809201068, 1.0115098783525316, 1.2435897435897436, 1.0909090909090908, 16.680539273153574, 1.1088199364769118, 1.0491725768321514, 2.4232719350366407, 1.0263157894736843, 1.0565321497401157, 1.0449705229710744, 1.0616134144671192, 1.272289156626506, 1.8609979633401221, 2.2, 1.0576923076923077, 1.1724137931034482, 1.0471439974158896, 11.0, 1.1197033898305084, 1.2469822246550084, 1.0023809523809524, 1.1252716735088142, 1.3125, 1.251082251082251, 1.0705128205128205, 1.1341150604617076, 1.0978123514613307, 1.3259550519452785, 1.0346960506947562, 1.0385097318519756, 1.4238110643804593, 21.0, 1.1390329125338143, 1.1821428571428572, 1.2727272727272727, 8.0, 1.25, 1.1713548216294924, 1.8333333333333333, 1.0157204943637104, 1.0100275817723403, 1.133457479826195, 1.497175141242938, 1.906832298136646, 1.0611339596721716, 1.0992340739454955, 1.3361204013377928, 24.52414398595259, 1.0023866348448687, 3.5, 1.0095523601443017, 1.0454545454545454, 1.47245375076235, 1.0, 1.241635687732342, 1.0029958327198705, 1.072112211221122, 1.245353159851301, 2.5, 1.0619362685620226, 1.0574740400869356, 1.0910253887030112, 1.1355, 1.9673913043478262, 1.0913043478260869, 1.029168534676001, 8.6, 1.481818181818182, 1.2244897959183674, 1.1158145961562618, 1.0673186614697214, 1.0725369744963316, 1.1937581274382314, 1.0002768929650163, 1.46875, 1.0515477702747877, 1.1008403361344539, 1.0271444082519001, 1.0768196335518574, 1.036888532477947, 1.0972727272727272, 1.040905134899913, 1.029100256007928, 1.4676674364896074, 1.0008666359150697, 1.068457751198639, 2.1875, 1.2912391475927387, 1.1125275417060119, 1.2562862669245647, 287.5315789473684, 1.0683403068340307, 1.2049632352941178, 1.2027972027972027, 1.0140350877192983, 1.050885759251039, 57.43478260869565, 1.5183098591549296, 1.1106215394213523, 1.1074757466235496, 1.2781954887218046, 1.0247736203656244, 2.8541666666666665, 1.0525231719876416, 1.1616161616161615, 1.098536711515944, 1.2891529922779923, 1.5275735294117647, 1.051948051948052, 1.0480611687602404, 1.1148920435072782, 1.5, 1.4, 1.2997797789518306, 1.1577409797026001, 1.0627977479428323, 1.3465909090909092, 1.6097777777777778, 1.0245222232648337, 1.6050042170368288, 1.2917808219178082, 1.15, 1.0124580737901294, 1.03205574912892, 1.590625, 1.6585365853658536, 1.0176982848923564, 1.628344895936571, 166.55045871559633, 2.3666666666666667, 1.1095596133190118, 1.068801384681956, 1.063902689737879, 1.1596491228070176, 1.0616787436953505, 1.4254780004607233, 1.2857142857142858, 3.6666666666666665, 17.1699610057819, 1.148936170212766, 2.2, 1.1333333333333333, 1.08051689860835, 83.33333333333333, 1.3457446808510638, 1.0420326367458208, 1.0656085161404076, 1.4202898550724639, 1.25, 1.2291666666666667, 1.5945945945945945, 1.1326530612244898, 1.223463687150838, 16.88584650983417, 1.4369811606838254, 1.0390625, 1.0285145136557057, 1.1778723820708554, 1.6666666666666667, 1.413626598252091, 6.010578718108277, 133.0, 1.2089728453364816, 1.0629015128271695, 1.0891985353946299, 1.2505627210689914, 2.6166666666666667, 1.8333333333333333, 1.0674157303370786, 1.0693146417445483, 2.75, 1.3793128454708072, 3.0399305555555554, 1.050754792305246, 1.2789604909858074, 1.006247337782195, 2.125, 1.0421372982466766, 1.4322230828814873, 1.0453781512605043, 1.0189666448659254, 1.325, 1.0, 1.1666666666666667, 1.1691096634093376, 1.3834487306297396, 1.6033755274261603, 1.574025974025974, 1.0732680449764236, 1.0383944153577662, 1.3038461538461539, 8.0, 1.023789712684141, 1.0090979481223383, 1.0006945611381841, 1.0626336003892876, 1.3783783783783783, 1.0129032258064516, 1.0082191780821919, 2.4444444444444446, 1.1485042735042734, 1.0197802197802197, 1.014315185179573, 1.1008339651250947, 1.5, 1.017738359201774, 1.2206931888884822, 1.2052345994254707, 1.1868131868131868, 4.344141265866505, 3.0911154345006486, 1.126969696969697, 1.4927234927234927, 1.3541666666666667, 1.115970026928931, 1.1094401227787725, 1.1316998468606432, 1.069672131147541, 4.0, 1.010204081632653, 1.036747967479675, 1.0918635170603674, 1.1428571428571428, 1.2573419964559953, 1.0460424211070873, 3.0, 1.1201478743068392, 1.037568629405364, 1.104614904895541, 1.0552486187845305, 1.0472823312505537, 1.0, 1.1867517956903433, 1.0041220115416323, 1.0366751752318413, 1.3131974347697122, 1.4608294930875576, 1.3277848911651728, 1.34375, 1.209709030604553, 1.2004024819721617, 1.3430400172117039, 9.680343255564495, 1.0887356321839081, 1.013157894736842, 1.6666666666666667, 1.0976645435244161, 4.0, 2.5, 1.1666666666666667, 1.0859174964438123, 1.6, 1.3464955577492597, 1.0434782608695652, 1.4666666666666666, 1.0992776860039517, 1.1612903225806452, 1.0096852300242132, 1.1845062093435836, 1.0434807010382918, 3.3333333333333335, 2.25, 1.0146682188591385, 1.5, 1.0780287474332648, 1.1381392045454546, 1.021296419539465, 1.0753550755166703, 2.0, 1.0060829893547687, 1.0572017308881105, 1.5483904968695321, 1.2011577424023154, 1.2518142235123366, 3.625, 55.0, 1.1538461538461537]
origin-bjaq_15.71 	max: 360.4167	99th: 78.5150	95th: 15.3765	median: 1.1818	mean: 4.6767

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.098869 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=128.512505