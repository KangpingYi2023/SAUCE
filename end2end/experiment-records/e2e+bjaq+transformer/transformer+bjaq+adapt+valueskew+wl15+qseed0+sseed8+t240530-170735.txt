Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 8, 'transformer': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.4592	95th: 1.6667	median: 1.0838	mean: 1.1703
ReportEsts: [1.0571428571428572, 1.02109375, 1.0505548080957134, 1.090146750524109, 1.5, 1.0, 1.0927672955974843, 1.036431974491593, 1.0, 1.03315649867374, 1.1218942082936543, 1.0427273751831398, 1.01259974800504, 1.1116279069767443, 1.0868950900741787, 1.0, 1.0888888888888888, 1.0100178890876566, 3.0, 2.0, 1.125, 1.0832593561650237, 1.0732416643281717, 1.0534351145038168, 1.120374938332511, 1.0, 1.152401511063141, 1.2, 1.2, 1.0503597122302157, 1.0, 1.0435425233397455, 1.0060005659170317, 1.1514983351831298, 1.026069921639542, 1.231224472784863, 1.195187165775401, 1.0098228647651928, 1.1550726634065707, 1.1428571428571428, 1.1142857142857143, 1.0335365853658536, 1.0, 1.0525683124193737, 1.0919656392117232, 1.9206349206349207, 1.03, 1.2084805653710247, 1.0305712543199836, 1.1481481481481481, 1.070105564363327, 1.29553264604811, 1.0392554747533014, 2.0, 1.1792207792207792, 1.2441778954747253, 1.356015779092702, 1.3592233009708738, 1.018987341772152, 1.25, 1.0983733187931661, 1.0965130759651307, 1.1, 1.0, 1.1, 1.0003807414073587, 1.2449602932193036, 1.75, 1.0, 1.017355842185129, 1.016990291262136, 1.0639906922629436, 1.004524886877828, 1.1253603690178744, 1.0776470588235294, 1.0588235294117647, 1.0, 1.1085594989561587, 2.0, 1.034061235616517, 1.391304347826087, 1.0266566668452348, 1.1349693251533743, 1.0913642052565706, 1.1030421982335623, 1.0, 1.07909068458609, 1.0351418375370471, 1.0, 1.75, 1.0856313497822931, 1.0559257930369212, 1.0996884735202492, 1.0112201963534362, 1.03988603988604, 1.0155844155844156, 1.0384615384615385, 1.1356589147286822, 1.0, 1.2430124223602483, 1.008207343412527, 1.1012006861063466, 1.2249405662416253, 1.36, 1.0114790106619993, 1.0201752057340059, 1.2939770554493308, 1.186575654152446, 1.0515021459227467, 1.1666666666666667, 1.6666666666666667, 1.0231308411214954, 1.0775974580238008, 1.0600126342387872, 1.12987012987013, 1.05837732528909, 1.0, 1.1551561021759698, 1.0862785862785862, 1.0, 1.0705882352941176, 1.1666666666666667, 1.213032581453634, 1.0232042361879967, 1.085112992156558, 1.108910891089109, 1.8, 1.1730132450331126, 1.0, 1.12, 1.0934046272914089, 1.1818181818181819, 1.06982421875, 1.0263083522266951, 1.06948109058927, 1.0293724966622162, 1.0252808988764044, 1.0261106780982072, 1.039972432804962, 1.0725167580743449, 1.0241716503689884, 1.2461538461538462, 1.0123939986953685, 1.0798578573949447, 2.0, 1.015496809480401, 1.0174418604651163, 1.1063829787234043, 1.1055232045173813, 1.5, 1.0573988859287964, 1.0481366459627328, 1.0309278350515463, 1.1074561403508771, 1.051094890510949, 1.135367498314228, 1.1147724923967284, 1.0971603838923518, 1.0981210855949897, 1.0263157894736843, 1.2857142857142858, 1.2545454545454546, 1.0500736377025037, 1.4285714285714286, 1.0762588125310215, 1.041883659044293, 1.165771812080537, 1.3396785919265353, 1.12585969738652, 1.1268983064323765, 1.2821052631578946, 1.1414868105515588, 1.1205577612084827, 1.0717896865520729, 1.0517687661777395, 1.0602526724975705, 1.045267489711934, 1.1318074191002367, 1.0386411889596603, 1.0, 1.253968253968254, 1.0367227505486467, 1.0287081339712918, 1.1295445048056831, 1.236842105263158, 1.1235022807262747, 1.2423601768210648, 1.1017249962123672, 1.1372549019607843, 1.0440909090909092, 1.0998511754616083, 1.0, 1.2727272727272727, 1.047536419030709, 1.042603550295858, 1.032857142857143, 1.2962962962962963, 1.0578778135048232, 1.0520201215721134, 1.0698045797865963, 1.0626410835214446, 1.1191103615473805, 1.497175141242938, 1.0666666666666667, 1.2173913043478262, 1.0, 1.3445378151260505, 1.1427219681438259, 1.2996515679442509, 1.103448275862069, 1.0108749382105784, 1.0031277926720286, 1.0176793653561154, 1.0402840972145155, 1.1386629196864368, 1.1503267973856208, 1.08125, 1.0045572916666667, 1.0348383020276868, 1.0002292368704582, 1.0, 1.034368530020704, 1.1150020680282828, 1.0059254947973908, 1.1539408866995073, 1.0308802835253037, 1.277156592664614, 1.0357142857142858, 1.0070177413227908, 1.141696750902527, 1.0005640157924423, 1.2307692307692308, 1.1583373378183566, 1.0444874274661509, 1.184251968503937, 2.0, 1.1814628699050809, 1.0908329611433676, 1.0586029067041725, 1.0551181102362204, 1.0, 1.6666666666666667, 1.1115879073530188, 1.1272727272727272, 1.0967878126869084, 1.5, 1.0, 1.1, 1.0878220140515222, 1.1428571428571428, 1.0497237569060773, 1.1075949367088607, 1.0418060200668897, 1.0046393926613244, 1.072530535607131, 1.0350877192982457, 2.0, 1.0705179610552507, 1.0679270169267971, 1.115586690017513, 1.0160754227898907, 1.1138015897711522, 1.019888597092819, 1.0834658187599364, 1.1049944545182473, 1.0263157894736843, 1.0764512268102933, 1.1162440027416038, 1.1, 1.0270050210340615, 1.1873417721518988, 1.1818181818181819, 1.3157894736842106, 1.0021818181818183, 1.1111111111111112, 1.0, 1.1186730368077518, 1.1615598885793872, 1.3959899749373434, 1.0026090610882177, 1.1078066914498141, 1.0120267275468218, 1.058856247155787, 1.25, 1.0932157148053838, 1.6666666666666667, 1.0198734964563239, 1.0153508771929824, 1.0482954804059896, 1.0526315789473684, 2.0, 1.565217391304348, 1.109375, 1.0441786688661887, 1.0, 1.0045871559633028, 1.0226244343891402, 1.0076121794871795, 1.017854653594164, 1.1524390243902438, 1.1446540880503144, 1.008758437631838, 1.0696323195642305, 1.0969949550339986, 1.1111111111111112, 1.0, 1.0823389021479715, 1.2727272727272727, 1.0771812080536913, 1.1312131423757372, 1.0095913261050875, 1.2591549295774649, 1.2040816326530612, 1.0139082058414464, 1.0224458204334366, 1.2857142857142858, 1.0065862155243759, 1.0479846449136276, 1.1176470588235294, 1.1512149737302977, 1.1428571428571428, 1.4, 1.0078742154314335, 2.0, 1.2304526748971194, 1.0465116279069768, 1.1017227235438884, 1.101207830070804, 1.080939947780679, 1.1097560975609757, 1.091018547328833, 1.0690262327272138, 1.0308988764044944, 1.0276904667604851, 1.044015107495642, 2.0, 1.0, 1.0523206654631048, 1.25, 1.0691578360290017, 1.3529411764705883, 1.0, 1.375, 1.3102409638554218, 1.0462107208872458, 1.2524271844660195, 1.0487012987012987, 1.0, 1.1737683089214381, 1.064045930605985, 2.0, 1.0428826682549137, 1.0, 1.0977150231534198, 1.0348837209302326, 1.0817178053418863, 1.1336405529953917, 1.1363636363636365, 1.3015521064301552, 1.2962962962962963, 1.0206036521623085, 1.0115849460349682, 1.0852601156069364, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.1428571428571428, 1.0693053688513348, 1.3333333333333333, 1.0134907251264755, 1.1222222222222222, 1.1998358263407516, 1.1201182348478904, 1.2523171987641606, 1.0262008218013507, 1.013921113689095, 1.0773809523809523, 1.5, 1.1650485436893203, 1.0468085106382978, 1.0558330257924304, 1.0952380952380953, 1.5714285714285714, 1.0044543429844097, 1.0023310023310024, 1.0275155338076427, 1.0110294117647058, 1.1464387464387464, 1.0183310533515733, 1.0810810810810811, 1.0907770515613653, 1.0677966101694916, 1.2115384615384615, 1.0240793201133145, 1.2947368421052632, 1.0484685133829807, 1.0501370129461503, 1.0341622946292972, 1.131578947368421, 1.121212121212121, 1.1015384615384616, 1.0, 1.0087529292545443, 1.0413881405212195, 1.0366708736502595, 1.0535690943876035, 1.0689972401103955, 1.1563393708293612, 1.8333333333333333, 1.1050106609808101, 1.0, 1.2083689154568744, 1.25, 1.034625026699493, 1.0478260869565217, 1.0511607910576097, 1.098814229249012, 1.1688555347091933, 3.0, 1.3095512082853855, 1.011599653943146, 1.0756621298510207, 2.0, 1.0327868852459017, 1.2706333973128598, 1.420408163265306, 1.1018210219098121, 1.291060291060291, 1.1666666666666667, 1.0638481449525452, 1.046930436271991, 1.0644020659515296, 1.1041609981731255, 1.1509868421052631, 1.097844112769486, 1.1428571428571428, 2.142857142857143, 1.1354466858789625, 1.5, 1.2371308016877638, 1.03125, 1.1676304863582443, 2.272727272727273, 1.039847649825432, 1.1089037446940144, 1.0838988278840223, 1.0, 1.175257731958763, 1.16, 1.2861074967470725, 1.2035010940919038, 1.0, 1.0131251726996409, 1.0577177539090405, 1.06672192291753, 1.5, 2.0, 1.0209708737864078, 1.0072202166064983, 1.039344262295082, 1.1111111111111112, 1.0877095423031042, 1.0729483282674772, 1.4705882352941178, 1.0173583170479366, 1.0454545454545454, 1.073490813648294, 1.0241935483870968, 1.2864955826672275, 1.0334653579013835, 1.0, 1.0277777777777777, 1.0764000494498702, 1.046700684263557, 1.0314009270364008, 1.0, 1.1165671311656713, 1.0101422675470422, 1.0220010476689365, 2.0, 1.0494417862838916, 1.037297488676458, 1.0217564106338506, 1.0021405792669609, 1.007526471889635, 1.0294243070362474, 1.0521662245800176, 1.128254580520733, 2.0, 1.0663600186056128, 1.9473684210526316, 1.25, 1.1398963730569949, 1.1346153846153846, 1.0040676157770145, 1.301991150442478, 1.1016208880478622, 1.0816888480954567, 1.039586255259467, 1.079399431895036, 1.0676630026468787, 1.2409638554216869, 4.0, 1.010870243668227, 1.170242914979757, 1.0462323288580264, 1.0398519101102042, 1.117199391171994, 1.0597420230821453, 2.458823529411765, 2.4285714285714284, 1.0095488564722075, 1.0352188784775995, 1.0121415074925635, 1.1160322108345535, 1.0215001928268415, 1.1305361305361306, 1.0792923841163709, 1.0237437879624516, 1.2095531587057011, 3.0, 1.0909090909090908, 1.0276073619631902, 1.0386029411764706, 1.0623885918003566, 1.1680555555555556, 1.0647058823529412, 1.3630136986301369, 1.148905109489051, 1.0705882352941176, 1.0850290434383567, 1.2282608695652173, 1.0234205380102552, 2.0, 1.124394184168013, 1.024390243902439, 1.3177570093457944, 1.0955307262569833, 1.0998796630565584, 1.0390143737166324, 1.1517509727626458, 1.1000470194869651, 1.0, 1.2553191489361701, 1.2, 1.0, 1.1818181818181819, 1.1068548387096775, 1.0046511627906978, 1.0970873786407767, 1.0661646908042295, 1.091647331786543, 1.055484244210222, 1.1706585098401339, 1.041860465116279, 1.0556982754209099, 1.0756756756756756, 1.0889175257731958, 1.0251572327044025, 1.0768, 1.2297687861271676, 1.1420209488601356, 1.0822480109461308, 1.0895891877425399, 1.0799981115819042, 2.0, 1.0515970515970516, 1.083083083083083, 1.4205607476635513, 1.0, 1.2142857142857142, 1.25, 1.2611607142857142, 1.2962962962962963, 1.1666666666666667, 1.0133038497788733, 1.1109136855405513, 1.0295338730955275, 1.0713188323764857, 1.2378378378378379, 1.1258549931600548, 1.0, 1.1, 1.0406229814110386, 1.0576407150636173, 1.0823500853930246, 1.121198314158788, 1.0252227151079665, 1.1532467532467532, 1.0532663907901705, 1.1065719360568385, 1.026930062560262, 1.087859334701331, 1.303030303030303, 1.0590094836670179, 1.0, 1.2422535211267605, 1.2070487294223902, 3.0, 1.1417597765363128, 1.028151801981958, 1.4285714285714286, 1.0278055462993816, 1.3, 1.1176470588235294, 1.0527728486005279, 1.6153846153846154, 1.02666086557171, 1.0580948312686886, 1.3103448275862069, 1.16, 1.109278350515464, 1.0286944045911048, 1.0490968040759612, 1.0739913940923356, 1.154292502398684, 1.0, 1.070497501629372, 1.1371951219512195, 2.0, 1.0155914846506908, 1.0623929405657928, 1.153263954588458, 1.0152249355280334, 1.0385378510378511, 1.0, 1.4285714285714286, 1.0171167744389502, 1.020967741935484, 1.0896611406173111, 1.1789225324419976, 1.013192399241538, 1.0562699396759498, 1.2197802197802199, 1.1116625310173698, 1.2040133779264215, 1.0934973445513112, 1.0649842271293375, 1.010989010989011, 1.0057773109243697, 1.0447942997398982, 3.0, 1.1219483499029355, 1.0482437402965479, 1.0121866924721121, 1.4615384615384615, 1.2908623802249688, 1.4414893617021276, 1.1428571428571428, 1.0769203639698102, 1.0420575865415722, 1.1550218340611353, 1.1470588235294117, 1.3333333333333333, 1.087125432693022, 1.5, 1.0864485981308412, 1.0833333333333333, 1.012040535291833, 1.3846153846153846, 1.2109704641350212, 1.0314465408805031, 1.0, 1.7275132275132274, 1.3158347676419966, 1.25, 2.0, 1.1271186440677967, 1.186206896551724, 1.0141694302080193, 1.201765447667087, 1.0996563573883162, 1.2595870206489677, 1.1014466214978942, 1.0597402597402596, 1.1893203883495145, 1.3142857142857143, 1.1538461538461537, 1.0, 1.126984126984127, 1.1255411255411256, 1.0341880341880343, 1.0325321176958144, 1.059934430285785, 1.0138789886368402, 1.0816855897785551, 1.1767640254482359, 1.2026049204052098, 1.0214797136038185, 1.5714285714285714, 1.0, 1.2592592592592593, 1.0574485846550807, 1.0979699911738747, 1.107843137254902, 1.085561497326203, 1.0451317296678122, 1.0786280140257716, 1.006918928210748, 1.1304347826086956, 1.2222222222222223, 1.0352490421455938, 1.001393774474016, 1.0823777011799018, 1.0295702582804889, 1.0066225165562914, 1.0736119314825754, 1.021659513807798, 1.2279874213836477, 1.330448065173116, 1.125, 1.0959920831271648, 1.8309278350515463, 1.1063829787234043, 1.1257668711656441, 1.0701001430615165, 1.0, 1.086848635235732, 1.0217118307997357, 1.0555555555555556, 1.0820496899354397, 1.0254237288135593, 1.2285714285714286, 1.0415804351118065, 1.0330209084354722, 1.079942250872952, 1.015267175572519, 1.0268065268065267, 1.193355302979353, 1.1864406779661016, 1.2142857142857142, 1.0, 1.25, 1.0677485769649995, 1.3333333333333333, 1.2488207547169812, 1.1134833880781865, 1.049623393885689, 1.0671300893743794, 1.052520211597964, 1.112861736334405, 1.025089605734767, 1.044382801664355, 1.0235142179538357, 1.1077287214098237, 1.04222558614729, 1.2572564133445743, 1.4285714285714286, 1.032258064516129, 1.007905138339921, 1.1123089188533397, 1.0423452768729642, 1.3171341294084977, 1.0700757575757576, 2.2017167381974247, 1.0835272514286618, 1.0456375838926175, 1.0773803827751196, 1.1875, 1.0637693267126351, 1.0330651298407025, 1.3654467168998923, 1.0581052631578947, 1.09375, 1.1105826397146255, 1.0864864864864865, 1.625, 1.061307072515667, 1.5769230769230769, 1.1633064516129032, 1.0756501182033098, 1.0256237356709372, 1.0091758708581138, 1.0240963855421688, 1.5714285714285714, 1.0467289719626167, 1.101088275304239, 1.058997722095672, 1.0125078602157902, 1.0500925418151905, 1.0581536224860673, 1.0769230769230769, 1.0829059829059828, 1.0242096838735495, 1.0362516183758204, 1.0220440881763526, 1.0138888888888888, 1.0311091073038774, 1.0430939693817136, 1.4036697247706422, 1.0035544193864687, 1.0, 1.3333333333333333, 1.0447032065069595, 1.0125373984898134, 1.2124994178736088, 1.0884626077286628, 1.0638467677573822, 1.1111111111111112, 1.1019014105331637, 1.107910303111319, 1.0845588235294117, 1.022099447513812, 1.0640834575260805, 1.1150051538801355, 1.0952380952380953, 1.75, 1.0528028736257755, 1.1599402572791366, 1.0168115942028986, 1.0284090909090908, 1.214699493120927, 1.0060792187259524, 1.1830193983694124, 1.4234875444839858, 1.3461538461538463, 1.034366576819407, 1.0944700460829493, 1.1375, 1.4827586206896552, 1.029008827801989, 1.193260654112983, 1.1616915422885572, 1.025, 1.0149663958270638, 1.0378409527468306, 1.0649598393574298, 1.2419290948702713, 1.3333333333333333, 1.12, 1.3333333333333333, 1.1407175200278648, 1.2307692307692308, 1.0, 1.1538461538461537, 1.0161507402422612, 1.059782608695652, 1.0911857529305682, 1.021406379621647, 1.1509090909090909, 1.36, 1.0666666666666667, 1.1612903225806452, 1.135135135135135, 1.0294117647058822, 1.1588447653429603, 1.027528822190554, 1.029716893621758, 1.3333333333333333, 1.1058520205439637, 1.0475051298733797, 2.5, 1.069145316593515, 1.3011152416356877, 3.0, 2.0, 1.2245562130177514, 1.1206340098974397, 1.0960604636591478, 1.1987577639751552, 1.0, 1.0573770491803278, 1.2484662576687116, 3.0, 2.0, 1.0103346456692914, 1.1633284043554242, 1.015222630978054, 1.6666666666666667, 1.0147391605057647, 1.0433772269558481, 1.0, 1.0, 1.0339805825242718, 1.0224420219127615, 1.0263157894736843, 1.1258480532974757, 1.048428075483408, 1.2177650429799427, 1.09765625, 1.1122857011536518, 1.0616500453309157, 1.103305785123967, 1.1896551724137931, 1.0223602076890899, 1.236726667675087, 1.0427412645590681, 1.218978102189781, 1.1764705882352942, 1.2238805970149254, 1.0707610146862483, 1.0673379483952172, 1.0163993332468284, 1.0927227438206553, 1.0884279475982532, 1.5, 1.6666666666666667, 1.0785654925525794, 1.18117854001759, 1.189457304026454, 1.0145003129563948, 1.0665663154373641, 1.0780897724943637, 1.2148760330578512, 1.0, 1.137096140240547, 1.0659016662899878, 1.2270426608821403, 1.1044487427466152, 1.6666666666666667, 1.056338028169014, 1.0359911827303132, 1.1706293706293707, 1.011151771349254, 1.0837558252675783, 1.0362215909090908, 1.6, 1.0808080808080809, 1.0117939791569035, 1.171350239890336, 1.1749049429657794, 1.0785712582844609, 1.1114649681528663, 1.1666666666666667, 1.0052173913043478, 1.03106775681433, 1.0729438504924658, 1.0622119815668203, 1.0413333333333334, 1.0, 1.128858024691358, 1.0581177438522718, 1.0313351498637602, 1.0126628529670354, 1.117537313432836, 1.0287443267776097, 1.2, 1.2904109589041095, 1.6666666666666667, 2.0, 1.1764705882352942, 1.0182291666666667, 1.0252764612954186, 1.00902372906532, 1.0232154313331336, 1.0084838533114395, 1.0253138075313808, 1.2391304347826086, 1.1136363636363635, 1.0026374646579737, 1.6, 1.5, 1.2429264349232012, 1.0, 1.0743919885550788, 1.1081344374086703, 1.011176205497972, 1.1113275226826378, 2.0, 1.074517631403859, 1.186046511627907, 1.1257720381807974, 1.0394873253392296, 1.2171717171717171, 1.13013698630137, 1.1343464911311878, 1.1479925880172945, 1.0079491255961843, 1.0757575757575757, 1.079608938547486, 1.0, 1.0, 1.0416383534208362, 5.0, 1.4285714285714286, 2.076923076923077, 1.0573979591836735, 1.0804597701149425, 1.0892461197339247, 1.0949391918399372, 1.0, 1.05276225946617, 1.012266355140187, 1.2054054054054053, 1.2451923076923077, 1.4285714285714286, 1.0380908673703533, 1.1430155210643016, 1.1368653421633554, 1.0156191892896989, 1.0336964148484746, 1.070818539487573, 1.1570541259982254, 1.0, 1.2350975166053222, 1.0319436015259233, 1.072632711621234, 1.1774193548387097, 1.087654191929751]
origin-bjaq_15.71 	max: 5.0000	99th: 2.4592	95th: 1.6667	median: 1.0838	mean: 1.1703

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.949299 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[5.9604645e-08 0.0000000e+00 1.7881393e-07 0.0000000e+00 6.8217516e-04]
Distance score: 0.0001364827185170725
SAUCE Drift detection: True
Detection latency: 0.0210s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.2558 nats / 36.4365 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.148822 | Model-update-time: 2.687968


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 20.0000	99th: 14.4370	95th: 2.0000	median: 1.0866	mean: 1.3944
ReportEsts: [1.0285714285714285, 1.0181501740427648, 1.0326414293510116, 1.0076923076923077, 1.5, 1.0, 1.0435426237876468, 1.0008377880693875, 1.0, 1.0352201257861635, 1.1700994123139452, 1.0424860257426167, 1.0052271813429836, 1.081140350877193, 1.0054750402576489, 1.0, 1.063157894736842, 1.0130828581013083, 3.0, 2.0, 1.0357142857142858, 1.0313612099644127, 1.0945158102766799, 1.1538461538461537, 1.0390376758965048, 1.0, 1.1640740868485497, 1.5, 1.4, 1.129496402877698, 1.0, 1.0494874931454845, 1.0005768911394766, 1.0715871254162042, 1.1251285063886034, 1.2281194384022147, 1.1297709923664123, 1.5, 1.081366965012205, 1.138655462184874, 1.0448156508653124, 1.0702086920453941, 1.0972289373643147, 1.0143737166324436, 1.0665501970503393, 1.2105263157894737, 1.6, 1.1914893617021276, 1.0239013107170394, 1.3214285714285714, 1.1620982107250153, 1.0554216867469879, 1.063953488372093, 1.1949881151064583, 1.0763358778625953, 1.0777525312923544, 1.0399472185568441, 1.0864625515194481, 1.2887323943661972, 1.0382906456511924, 1.290909090909091, 1.103465756763344, 1.00513698630137, 1.190909090909091, 1.0217391304347827, 1.0909090909090908, 1.0461480180459415, 1.328985979784806, 1.75, 1.0, 1.0098343226721007, 1.035799522673031, 1.0618101545253864, 1.0218818380743981, 1.1126440874093195, 1.1364705882352941, 1.0192307692307692, 1.0, 1.1177875049741346, 1.1026785714285714, 1.0084798423764778, 1.2142857142857142, 1.0124091381100726, 1.1494252873563218, 1.0640279394644936, 1.0982711555959963, 1.0384615384615385, 1.0630798337987213, 1.0141172027723475, 1.0845070422535212, 1.75, 1.0959666203059806, 1.0696717426578417, 1.0498442367601246, 1.0939691444600281, 1.0474885844748858, 1.1376623376623376, 2.0, 1.5287769784172662, 1.0, 1.2460627840608816, 1.1600536193029491, 1.0581967213114754, 1.2107803374432187, 1.5, 1.0146097024402168, 1.1037018255578093, 1.044098740035999, 1.1685271876125316, 1.0541012216404886, 1.3333333333333333, 1.6666666666666667, 1.0556173526140156, 1.0455205761943944, 1.0795180722891566, 1.0975609756097562, 1.0591972226696014, 2.0, 1.0938714499252615, 1.1705508474576272, 1.0, 1.0384615384615385, 1.0, 1.205513784461153, 1.021607489700318, 1.015012142173817, 1.0666666666666667, 1.8, 1.1365399534522886, 1.0, 1.12, 1.1008780449900928, 1.1818181818181819, 1.0595552791167782, 1.0266602264293203, 1.0078939059046417, 17.0, 1.5833333333333333, 1.0073891625615763, 1.0070814365199798, 1.0831408775981524, 1.039695836044242, 1.08, 1.0395660497766432, 1.0964866645857179, 2.0, 1.0168685121107266, 1.0697142857142856, 1.1056751467710373, 1.1709899417681313, 1.5, 1.2009163802978235, 1.0196374622356494, 1.031372549019608, 1.10625, 1.168026101141925, 1.0151031591961188, 1.1532664773056633, 1.057001239157373, 1.0414312617702448, 1.1206349206349207, 1.2941176470588236, 1.3529411764705883, 1.029535864978903, 1.8571428571428572, 1.0491036946087733, 14.5, 1.0955137481910275, 1.3629554281486962, 1.1479099678456592, 1.0384230043588576, 16.3596214511041, 1.032537960954447, 1.0652911508482348, 1.1018251681075888, 1.0089649551752242, 1.0922374429223745, 1.0746314496314497, 1.0554033610009403, 1.0035091801829055, 1.207142857142857, 1.007278020378457, 1.0517876650187932, 1.0265023887352276, 1.3347639484978542, 1.0504524897502971, 1.2903225806451613, 1.0, 1.0880292563998375, 1.1048616488039447, 1.4736842105263157, 1.1314285714285715, 1.9583333333333333, 1.0086777688603532, 1.09542503397252, 1.0026166593981682, 1.1070559610705597, 1.0803931753705998, 1.360730593607306, 1.0, 1.06, 2.0, 1.2168230209760724, 1.1581920903954803, 1.046875, 1.12, 1.0, 1.4576271186440677, 1.1417216556688663, 1.319078947368421, 1.2873563218390804, 1.0093589143659336, 13.583333333333334, 1.0440574905529547, 1.0570652173913044, 1.2307168475053343, 1.2, 1.1256830601092895, 1.014833127317676, 1.0505465413010548, 1.0834536826903238, 1.0, 1.1316770186335403, 1.0694166481357943, 1.0079175306245496, 1.13536866359447, 1.0257785687047158, 1.2789500772002058, 1.0, 1.004989953382628, 1.0630895504103883, 1.0161812297734627, 1.0666666666666667, 1.2697015245866439, 1.0269299820466786, 1.1330708661417324, 2.0, 1.1419320021586616, 1.065809340344666, 1.1514299109235817, 1.0229007633587786, 1.0833333333333333, 1.6666666666666667, 1.0129213068810383, 1.1206896551724137, 1.0989856240763134, 1.5, 1.0, 1.134, 1.0600386451663215, 1.00602954476937, 1.0267379679144386, 1.1898734177215189, 1.0064620355411955, 1.013215859030837, 1.2447687810921197, 1.087719298245614, 2.0, 1.165196471531676, 1.0516293139007287, 1.182136602451839, 1.0029351950856449, 1.0269156538521726, 1.0089360162358605, 1.086232980332829, 1.06033256486977, 1.0193732193732195, 1.1002761226565907, 1.0208768267223383, 1.1, 1.0751609648279838, 1.4300518134715026, 1.2444444444444445, 1.3181818181818181, 1.1366689053055743, 1.1111111111111112, 1.069767441860465, 1.0852925025859756, 1.029490616621984, 1.3705463182897861, 1.0314159140472465, 1.0353327855382086, 1.0272562473637268, 1.0575597892176734, 1.1111111111111112, 1.0557432432432432, 1.0787518573551262, 1.040804300076787, 1.2614649339490924, 1.126002395691413, 1.2156045265038713, 1.1693088142041852, 1.0465154102626657, 1.0871108572361174, 1.0830549217731422, 1.0484872298624754, 1.013157894736842, 1.0, 1.2727272727272727, 1.0771457765667576, 6.0, 1.0332640332640333, 1.0530944796026724, 1.122093023255814, 1.393939393939394, 1.2574257425742574, 1.0780856423173804, 1.0788105635267207, 1.071083143972499, 1.0, 1.156549520766773, 1.010430193579561, 1.168141592920354, 1.3125, 1.010540184453228, 1.0200150112584438, 1.2857142857142858, 1.0206535209615089, 1.0412926391382407, 1.1176470588235294, 1.1656769921190893, 1.2857142857142858, 1.4545454545454546, 1.0110472316634551, 2.0, 14.594827586206897, 1.0872093023255813, 1.3125, 1.0776661514683152, 1.2044025157232705, 1.058139534883721, 1.1059603499890789, 1.0861981215009484, 1.005813953488372, 1.0394650509108878, 1.0439411405709635, 3.0, 1.0, 1.0898900797550217, 1.25, 1.0689655172413792, 1.263157894736842, 20.0, 1.5625, 1.429718875502008, 1.0711111111111111, 1.3737373737373737, 1.0898268398268398, 1.0, 1.2470039946737683, 1.056706706087559, 2.0, 1.201905896366885, 1.0, 1.0906416302513737, 1.0449438202247192, 1.0186640716620505, 1.1546840958605664, 1.143418467583497, 1.5205811138014529, 1.4259259259259258, 1.003683566767299, 1.0168482422984757, 1.0774748923959827, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.4615384615384615, 1.0719424460431655, 1.1666666666666667, 1.0353535353535352, 1.206896551724138, 1.115141913482452, 1.0663385370057339, 1.2297955209347615, 1.051327161951542, 1.0109829763866007, 1.0869047619047618, 1.0, 1.3298969072164948, 1.148936170212766, 1.0337218841215636, 1.1428571428571428, 1.6428571428571428, 14.93984962406015, 1.2162162162162162, 1.0941617161503756, 1.0686274509803921, 1.1479674796747967, 1.0083203328133126, 1.0, 1.0952875952875953, 1.0963983050847457, 1.1923076923076923, 13.636363636363637, 1.0718711276332094, 1.0872215821812596, 1.1015761821366024, 1.002761113481764, 1.378787878787879, 1.099009900990099, 1.0346820809248556, 1.0, 1.0124618453625591, 1.076531428129272, 1.0401755871473772, 1.054262827160563, 1.0295333727111635, 1.1113074204946995, 1.5714285714285714, 1.1520127118644068, 1.0, 1.0495984218683951, 1.0, 1.0282764882991096, 1.0797101449275361, 1.0777924854902758, 1.0634328358208955, 1.0808163265306123, 3.0, 1.1414242728184554, 1.009533451446891, 1.1300286570559797, 2.0, 1.1384615384615384, 1.2336363636363636, 1.1638795986622072, 1.098104228428772, 1.1733067729083666, 1.2352941176470589, 1.139477977161501, 1.0536377871783487, 1.0410585644432833, 1.0864415093654052, 1.137609649122807, 1.018413597733711, 1.094488188976378, 2.142857142857143, 1.0833333333333333, 1.4444444444444444, 1.229050279329609, 15.177777777777777, 1.127469553450609, 1.6666666666666667, 12.0, 1.1335055105224128, 1.065, 3.0, 1.2658227848101267, 1.1017274472168905, 1.0095031990967256, 1.2142857142857142, 1.2887323943661972, 1.0032729103726084, 1.0826123573998927, 1.173913043478261, 1.0011261261261262, 2.3333333333333335, 1.0011009174311927, 1.0189655172413794, 1.0721311475409836, 1.2222222222222223, 1.0859709081113842, 1.1594202898550725, 1.4444444444444444, 1.093984962406015, 1.0521739130434782, 1.1264080100125156, 1.0884615384615384, 1.2946357085668534, 1.0070524307763455, 1.0, 1.0, 1.1517195901389876, 1.0490885471552784, 1.042381122167839, 1.0, 1.060385972193401, 1.0112758534762023, 1.0193836978131212, 2.0, 1.0076586433260395, 1.0448307518478415, 1.0468984602702622, 1.047587409683581, 1.022104939195821, 1.0908789386401327, 1.006394884092726, 1.144289947572373, 2.0, 1.0470859724063435, 1.2982456140350878, 1.25, 1.1968911917098446, 1.2115384615384615, 1.0016701085766138, 1.2607392607392607, 1.0034396796581166, 1.1028571428571428, 1.1080620338581746, 1.0690679060160082, 1.0481473751277008, 1.2359550561797752, 4.0, 1.0175051318346706, 1.1411809963454511, 1.0460315856820555, 1.053061057120597, 1.0970382855766916, 1.1059602649006623, 2.25, 2.25, 1.009542497401217, 1.0589486832077228, 1.0475572849113706, 1.137025204117856, 1.0276621058893516, 1.065979381443299, 1.0645418091756103, 1.0287179487179487, 1.2123893805309736, 1.0529854330078439, 1.1582938388625592, 1.145211122554068, 1.0091324200913243, 1.0612244897959184, 1.2272727272727273, 1.3936, 1.0669045495093665, 1.273224043715847, 1.0916754478398314, 1.0607164322091724, 1.2555555555555555, 1.0262877649564546, 2.0, 1.1722488038277512, 1.0413223140495869, 1.4519230769230769, 1.1408751334044824, 1.0415754923413567, 1.0303030303030303, 1.0872727272727272, 1.154806101580106, 1.0, 1.3191489361702127, 1.6666666666666667, 1.0, 1.2386363636363635, 1.0751879699248121, 1.0895061728395061, 1.0744186046511628, 1.059417885688433, 1.0496141124586549, 1.0448833034111311, 1.1699769559969275, 1.0217162572183616, 1.0825044558155579, 1.0085308126220909, 1.1835323695788813, 1.0294164770724517, 1.0597910535398452, 1.092896174863388, 1.1222366710013003, 1.1733333333333333, 1.0909090909090908, 1.0001842893342547, 1.06426735218509, 1.0940601788860884, 1.2356687898089171, 1.2577022746904694, 1.413533834586466, 1.5, 1.0731364275668074, 1.2857142857142858, 1.0234505862646566, 1.3333333333333333, 1.1666666666666667, 1.018512744859472, 1.1293371186860508, 1.0280982085241066, 1.0327577262284147, 1.2378378378378379, 1.1079691516709511, 1.0, 1.1323529411764706, 1.0688189731989854, 1.104802507503918, 1.085807053924768, 1.0821150191957187, 1.0366727553744555, 1.144963144963145, 1.1172857791733317, 1.133214920071048, 1.0171317593958857, 1.1428826863590038, 1.3055555555555556, 1.065934065934066, 11.0, 1.1023008635787186, 1.0, 1.0442359249329758, 1.1100478468899522, 1.3822363203806503, 1.4285714285714286, 1.0253099702838406, 1.4, 1.0555555555555556, 1.032099909412147, 1.0999259807549964, 1.0222520066405714, 1.000019892777927, 1.0169082125603865, 1.3333333333333333, 1.1111111111111112, 1.0724070450097847, 1.0803443328550932, 1.0241171403962102, 1.0705645757548872, 1.15586918406677, 1.0, 1.0316066725197541, 1.173780487804878, 2.0, 1.0562308277786747, 1.0888262509553197, 1.2223273415326394, 1.013778901170156, 1.0258774830381856, 1.017094017094017, 2.142857142857143, 1.0047272727272727, 1.0620967741935483, 1.0643539629086574, 1.1668512366186785, 1.0182125234187402, 1.044709642529455, 1.1892361111111112, 1.0644916540212443, 1.2374581939799332, 1.1178452737989093, 1.0569351907934585, 1.0307955517536356, 1.0463609172482553, 1.1029246344206973, 16.634241245136188, 1.0930460333006855, 1.1666666666666667, 1.1666666666666667, 1.0578279266572637, 1.6152828316242143, 1.0400283386468296, 1.0804184373978425, 1.0769230769230769, 1.036144578313253, 1.02203182374541, 1.2285714285714286, 1.1073401216631134, 3.0, 1.0190114068441065, 1.5, 1.0200892857142858, 1.0769230769230769, 1.021725451233648, 1.3333333333333333, 1.1365461847389557, 1.0660660660660661, 1.0, 1.0546166577309495, 1.2222222222222223, 1.5, 2.0, 1.0555555555555556, 1.2275862068965517, 1.0202312138728324, 1.2227602905569008, 1.0062893081761006, 1.3166666666666667, 1.0944444444444446, 1.0808080808080809, 1.1341991341991342, 1.3142857142857143, 1.0769230769230769, 1.0, 1.1531322505800463, 1.0994550408719346, 1.0895218718209563, 1.0274554496477415, 1.0762384039542963, 1.1096766000677278, 1.0896925731591365, 1.1676908617698092, 1.223463687150838, 1.0017211703958693, 1.8333333333333333, 1.5, 1.2142857142857142, 1.0720497837140472, 1.0451977401129944, 1.1018518518518519, 1.072139303482587, 1.0168357594471402, 1.013531836424775, 1.0015347149628917, 1.0684931506849316, 1.1578947368421053, 1.037708484408992, 1.0581919406150584, 1.0701844581541722, 1.016150858288435, 1.0592105263157894, 1.1051337874850762, 1.0074427652791036, 1.4158075601374571, 1.3463579353593826, 1.2857142857142858, 1.1079034548035969, 1.6754716981132076, 1.1555555555555554, 1.0052631578947369, 1.0788211103495544, 1.0, 1.0849056603773586, 1.0673956229785417, 1.0740740740740742, 1.0645429593279547, 1.069915254237288, 1.34375, 1.0686060964054098, 1.0199790406003855, 1.0771330211208634, 1.0241502683363148, 1.0930760499432464, 1.2131410771058802, 1.1313131313131313, 1.3571428571428572, 1.0, 1.4285714285714286, 1.0551827166168697, 1.5, 1.1487086776859503, 1.1022355228156333, 1.0094557680184912, 1.0389024619432436, 1.0527507046397084, 1.17481243301179, 1.0528052805280528, 1.1081830790568654, 1.026146691280886, 1.263006186726659, 1.0445964887273418, 1.2152313167259787, 1.4285714285714286, 16.025046382189238, 1.1422924901185771, 1.1180827599828818, 1.0293159609120521, 1.2990605427974948, 1.0053097345132744, 2.1198347107438016, 1.0223216286051409, 1.0751677852348993, 1.0644823901230076, 1.25, 1.0716114533603158, 1.0393971690123152, 1.218539865513929, 1.0512922465208747, 1.3461538461538463, 1.0662100456621004, 1.1229050279329609, 1.625, 1.0114384046968317, 1.7307692307692308, 1.1952054794520548, 1.058139534883721, 1.0348918353105374, 1.0471459841724196, 1.014722536806342, 2.75, 1.061611374407583, 1.0983277475212958, 1.0661292706617678, 1.0087169660490924, 1.0125603257195857, 1.0980338589466674, 1.25, 1.0410846343467544, 1.0301871603944455, 1.0888209295057816, 1.0305927342256214, 1.027027027027027, 1.0312366281557552, 1.0541871921182266, 1.0283482788544982, 1.4375, 1.0, 1.3333333333333333, 1.000212901852246, 1.0106886754160465, 1.2172233078699592, 1.1406913168381059, 1.0796324655436447, 1.0440835266821347, 1.1012116558672609, 1.0924419882563507, 1.1625441696113075, 1.0216216216216216, 1.0719619823489477, 1.0869307895836235, 1.065217391304348, 1.75, 1.0474666611787948, 1.1836782360909983, 1.0591848129536572, 1.0386740331491713, 1.2675597393193339, 1.0133934553640822, 1.2350295192578016, 1.3630573248407643, 1.2692307692307692, 1.050093926111459, 19.923076923076923, 1.162162162162162, 1.4333333333333333, 1.0506646971935008, 1.2477700693756195, 1.1530054644808743, 1.0731707317073171, 1.0573691669197287, 1.0630152042498626, 1.0645805592543276, 1.1270572745227123, 1.3333333333333333, 1.1666666666666667, 1.3333333333333333, 1.2041100661790316, 1.4615384615384615, 1.0, 1.1538461538461537, 1.104635761589404, 1.00339558573854, 1.0265264646107626, 1.0431099007851194, 1.1509090909090909, 1.2363636363636363, 1.0666666666666667, 1.0, 1.0945945945945945, 1.0714285714285714, 1.0974358974358975, 1.03019180297362, 1.0330381483401574, 1.3564356435643565, 1.0663902302697854, 1.0473821391880065, 2.5, 1.0636047826789465, 1.2972027972027973, 1.5, 2.0, 1.1857585139318885, 1.0987016518251649, 1.033923558094863, 1.279503105590062, 1.0, 1.1174089068825912, 1.2269938650306749, 3.0, 1.0188344988344988, 1.0993536068113878, 1.0394451219979903, 1.0618985386717357, 1.6666666666666667, 1.029178156678448, 1.047197640117994, 1.0676923076923077, 1.0881057268722467, 1.1097560975609757, 1.0, 1.0506329113924051, 1.1115804719087563, 1.0990671243769516, 1.2542857142857142, 1.0634328358208955, 1.1809461521691738, 1.1013215859030836, 1.1694214876033058, 1.0454545454545454, 1.0771615824399368, 1.660824345146379, 1.029464889243487, 1.867816091954023, 1.303921568627451, 14.436363636363636, 1.1428571428571428, 1.0947883875480937, 1.008955223880597, 1.0073202489390842, 1.1441048034934498, 1.5, 1.6666666666666667, 1.081488903057352, 1.1577405857740586, 1.2017117292355572, 1.0078129558530067, 1.053343949044586, 1.1332020189585128, 1.0564334085778782, 1.0392156862745099, 1.0893709004174121, 1.0924809242237965, 1.2825779036827196, 1.149805447470817, 1.6666666666666667, 1.0810810810810811, 1.1530583557572593, 1.143560507903602, 1.0479837766164886, 1.1063866770407402, 1.0242941562705188, 2.0, 1.036319612590799, 1.026003815657429, 1.1948840234120963, 1.1870503597122302, 1.0857175230865106, 1.1401273885350318, 1.255861365953109, 1.0414847161572052, 1.032296452667743, 1.0868202885305829, 1.0159066808059385, 1.0489690721649485, 1.0909090909090908, 1.1008276899924756, 1.1021823224582148, 1.0440319928657025, 1.0418806795732911, 1.127621330137807, 1.092284417549168, 1.1779661016949152, 1.1572481572481572, 1.6666666666666667, 2.0, 1.2352941176470589, 1.0245098039215685, 1.0074128984432913, 1.0495412165162055, 1.0118357216296106, 1.0785515320334262, 1.0378561466427576, 1.2119565217391304, 1.0436835891381346, 1.005323053118119, 1.6, 1.4615384615384615, 1.1611408199643494, 1.1428571428571428, 1.0133155792276964, 1.1517306780464676, 1.0409193330328976, 1.1030247422839388, 2.0, 1.1959752321981425, 1.2128440366972477, 1.0693333333333332, 1.0410830469744807, 1.0129589632829374, 1.112597911227154, 1.162343413893458, 1.0820282936484835, 1.0715421303656598, 1.5192307692307692, 1.103448275862069, 1.0, 1.0, 1.042090189012782, 6.0, 1.5714285714285714, 2.111111111111111, 1.0711009174311927, 1.0804597701149425, 1.0570381998953426, 1.1178224238496435, 1.0, 1.0829899941141847, 1.0183028286189684, 1.1435897435897435, 1.2727272727272727, 1.25, 1.0786567500563444, 1.0149732620320855, 1.1464968152866242, 1.0828611898016998, 1.0340402689679926, 1.032093969663337, 1.1040202417767782, 1.0, 1.2178070633613243]
origin-bjaq_15.71 	max: 20.0000	99th: 14.4370	95th: 2.0000	median: 1.0866	mean: 1.3944

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.862272 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[ 0.0000000e+00  0.0000000e+00  5.9604645e-08 -2.9802322e-08
  6.0796738e-04]
Distance score: 0.00012159943435108289
SAUCE Drift detection: True
Detection latency: 0.0333s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.1326 nats / 36.2586 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.076000 | Model-update-time: 2.488159


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 42.0000	99th: 29.6794	95th: 2.0000	median: 1.0984	mean: 1.8762
ReportEsts: [1.0888888888888888, 1.016900737919543, 1.0258770713006633, 1.015625, 1.3636363636363635, 1.0, 1.048390253449457, 1.064506398931357, 1.0, 1.0236686390532543, 1.1246823338311196, 1.0427320776279003, 1.035564053537285, 1.0781893004115226, 1.039680098431252, 1.245353159851301, 1.1725352112676057, 1.35, 1.2, 1.1072695035460993, 1.0135668475579673, 1.1213733075435204, 1.151659098847363, 1.4444444444444444, 1.2809449710001415, 1.033489118632866, 2.0, 1.173181216931217, 2.0, 1.4, 1.158273381294964, 1.0, 1.0470969449546434, 1.0074535466551657, 1.1942286348501665, 1.0970773975620502, 1.2257421272433124, 1.0825242718446602, 2.5, 1.067175572519084, 1.1548731642189587, 1.0250315403142563, 1.116272835023423, 1.095928132899964, 1.0218253968253967, 1.1147765799398117, 1.15, 1.6538461538461537, 1.6971830985915493, 1.032496307237814, 1.2941176470588236, 1.208065873934547, 1.0629316960859554, 1.0753138075313808, 1.1777925595096688, 1.381679389312977, 1.0496541267885908, 1.0642037638070816, 1.0719039098703482, 1.28, 1.0626978974179693, 1.6545454545454545, 1.0624756317186832, 1.0171232876712328, 1.1863636363636363, 1.02, 33.857142857142854, 1.0653590403314732, 1.1609228140131016, 1.75, 1.0, 1.0343517893315328, 1.077565632458234, 1.063157894736842, 1.016597510373444, 1.1298303787782171, 1.2070588235294117, 1.0923344947735192, 1.0, 1.1172440045679481, 1.1217391304347826, 1.002792173301368, 1.7142857142857142, 1.0098466588030155, 1.125, 1.1247058823529412, 1.082592121982211, 1.037037037037037, 1.0724431818181819, 1.003238548280915, 1.072072072072072, 1.75, 1.1302367941712204, 1.0510720627600647, 1.1481481481481481, 1.0841514726507715, 1.073972602739726, 1.0909090909090908, 4.0, 1.5204081632653061, 1.0, 1.2300119331742243, 1.3196940726577437, 1.0879811468970935, 1.2242348532167395, 1.6923076923076923, 1.0123309421871898, 1.0758570386579138, 1.0508993659146788, 1.174434544208362, 1.041528239202658, 1.3333333333333333, 2.0, 1.0832979175520612, 1.0698299813291468, 1.07307249712313, 1.0804597701149425, 1.0604641127406726, 2.0, 1.1255325191706902, 1.1843177189409368, 1.0, 1.1428571428571428, 1.1428571428571428, 1.3709273182957393, 1.0362840893452094, 1.0436546802854345, 1.0, 1.8, 1.1367959034381858, 1.0, 1.2142857142857142, 1.0984282925836502, 1.0833333333333333, 1.0434653170586483, 1.0034283241707949, 1.0228696741854637, 33.25, 1.6153846153846154, 1.0929095354523228, 1.0636456211812628, 1.0642504118616145, 1.0725195185426155, 1.132867132867133, 1.0395119116792562, 1.0464430032701688, 3.0, 1.0177027583367642, 1.0822857142857143, 1.0989486703772418, 1.2528674783836244, 1.5, 1.159891304347826, 1.1022222222222222, 1.0073394495412844, 1.1071428571428572, 1.042953020134228, 1.0145271801522526, 1.1871527594052596, 1.2034931205629202, 1.0613435237329043, 1.0476190476190477, 1.0690537084398977, 1.2040169133192389, 1.047106325706595, 1.7142857142857142, 1.055602398551624, 18.0, 1.224887556221889, 1.354367232627341, 1.0634920634920635, 1.0795500929747381, 29.677891654465594, 1.004201680672269, 1.08791782729805, 1.0967153284671534, 1.0278440731901353, 1.0266323024054982, 1.0814771395076201, 1.016420555227407, 1.0357779749262934, 1.2054794520547945, 1.0621387283236994, 1.1181879504384564, 1.0187144816774447, 1.4248927038626609, 1.1131030701754385, 1.0649717514124293, 1.0, 1.0871986879970295, 1.0691719399044994, 1.3478260869565217, 1.1256090958310774, 1.7468354430379747, 1.0591774827191804, 1.1223557550924383, 1.0905077262693157, 1.0504406893841576, 1.65334021150374, 1.0040268456375838, 1.0201638311279142, 1.0465534979423867, 1.0588328828112576, 1.0628192032686414, 1.22304205755244, 1.112994350282486, 1.078125, 1.05, 1.0, 1.4409448818897639, 1.0660424558644843, 1.296875, 1.2873563218390804, 1.0093624609897458, 26.583333333333332, 1.04397593422961, 1.1005434782608696, 1.211530986827899, 33.25, 1.0679611650485437, 1.017231308411215, 1.0366803145512447, 1.1015060862389108, 1.0, 1.1374741200828158, 1.0846760790076804, 1.013286384187438, 1.1484983314794215, 1.007798284377437, 1.0491837073087662, 1.0344827586206897, 1.0058410055891505, 1.0333924315638627, 1.08, 1.1787709497206704, 1.1463087248322148, 1.3333333333333333, 1.2984251968503937, 2.0, 1.1456415809420681, 1.0233521840873634, 1.2993436474449134, 1.150214592274678, 1.0833333333333333, 1.6666666666666667, 1.1533164349240304, 1.064516129032258, 1.0887250540231346, 1.5, 1.0, 1.0957642725598526, 1.0572957618920198, 1.001435544071203, 1.002469135802469, 1.2647679324894514, 25.334591194968553, 1.0068859984697782, 1.1299432841021273, 1.1403508771929824, 2.0, 1.1754878374766105, 1.1323529411764706, 1.2119089316987741, 1.135376382298221, 1.0220376378974692, 1.0419950757986343, 1.0878962536023056, 1.0511067012669821, 1.026615969581749, 1.0064614215127328, 1.0573498710548939, 1.0909090909090908, 1.1133961176244473, 1.561881188118812, 1.288888888888889, 1.736842105263158, 1.2714468629961588, 28.412955465587043, 1.0770397360776012, 1.0245640927380724, 1.0435897435897437, 1.355056179775281, 1.013077309505232, 1.0248306997742664, 1.1374702116723518, 1.0559738599232846, 1.0, 1.0632090761750406, 1.001308044473512, 1.0441432283802807, 1.042287761925695, 1.0613218743605484, 1.185601799775028, 1.1989117291414753, 1.0588280946837407, 1.1274633807988903, 1.122854561878952, 1.0484654118211245, 1.067099567099567, 1.0, 1.2727272727272727, 1.0769854132901135, 37.166666666666664, 1.0317460317460319, 1.0254575604962535, 1.058139534883721, 1.4411764705882353, 1.1683168316831682, 1.1076923076923078, 1.1599085048866709, 1.0558200420269386, 1.1, 1.173891001267427, 1.0196073449506187, 1.1096938775510203, 1.375, 1.0198511166253101, 1.02735781137509, 1.4285714285714286, 1.0272126356804898, 1.0514579759862779, 1.0555555555555556, 1.1749808450087567, 1.380952380952381, 1.3846153846153846, 1.0497955624232642, 2.0, 26.166666666666668, 1.1511627906976745, 1.306338028169014, 1.122472338801984, 1.1018276762402088, 1.058139534883721, 1.1018170694401959, 1.0887871752674267, 1.0336134453781514, 1.0125762051883425, 1.0996651038178165, 3.0, 1.1111111111111112, 1.1477067574670354, 1.5, 1.0677451971688574, 1.1904761904761905, 42.0, 1.6470588235294117, 1.4718875502008033, 1.0754400670578375, 1.2413793103448276, 1.1365461847389557, 1.3823529411764706, 1.3333333333333333, 1.1364548393691367, 1.0, 1.3035714285714286, 1.1176970905678085, 1.0222222222222221, 1.1355013550135502, 1.000996015936255, 1.75, 1.3333333333333333, 1.5655655655655656, 1.0, 1.1974358974358974, 1.1298244713611167, 1.236656462132304, 1.0787172011661808, 1.5, 1.0274982999383233, 1.080813088745662, 1.1666666666666667, 1.087719298245614, 1.0131427761950482, 1.75, 1.2029532638822518, 1.1020408163265305, 1.1890034364261168, 1.0566870332654448, 1.1136842105263158, 1.0476162344183848, 1.1134730977862484, 23.207373271889402, 1.094155844155844, 1.2842162727748334, 1.0593368237347296, 1.0714285714285714, 1.0048793571214887, 1.0493067519894987, 2.5, 1.9745435159269626, 1.4383561643835616, 1.0284757118927974, 1.1694588405447752, 17.5, 20.0, 1.1764705882352942, 1.060893098782138, 1.2884615384615385, 27.0, 1.0211764705882354, 1.0990094045683425, 1.1051529116045244, 1.1452229299363057, 1.103448275862069, 1.054054054054054, 1.0112994350282485, 1.0, 1.0601607786073806, 1.0755810294665809, 1.0148715824357912, 1.0414820396618607, 1.0681774717919297, 1.084680734447794, 1.5714285714285714, 1.1553299492385787, 1.0, 1.060163850486431, 1.0, 1.0321232313177382, 1.1188405797101448, 1.135726032698075, 1.0742049469964665, 1.151888341543514, 3.0, 1.0841536995871706, 1.0023967287816582, 1.1098660323024916, 2.0, 1.1492537313432836, 1.207612456747405, 1.1225806451612903, 1.0929569115631137, 1.0439770554493308, 1.0476190476190477, 1.0899159663865545, 1.1010587327926706, 1.0499981337016162, 1.2752031627498353, 1.225438596491228, 1.0198019801980198, 1.2, 1.0294585987261147, 1.052924791086351, 1.3448275862068966, 1.219198790627362, 28.451612903225808, 1.0720630984083102, 1.9230769230769231, 17.75, 1.172322090674304, 1.0046948356807512, 6.0, 1.457142857142857, 1.1261595547309833, 1.0367268849579727, 1.2, 1.2802046438410075, 1.0644034396273736, 1.1193935718617345, 1.0301358234295417, 1.2313953488372094, 1.1628776082217378, 1.0540201005025125, 1.0237510237510237, 1.1081967213114754, 1.2222222222222223, 1.0983689498156937, 1.2170753860127157, 1.5, 1.0317038249130701, 1.0495867768595042, 1.091127098321343, 1.036683785766691, 1.3231590995803129, 1.0210091269157913, 1.0, 1.054054054054054, 1.2033630100858335, 1.019042176409996, 1.1354413147061684, 1.0, 1.080859375, 1.0025984415276585, 1.013170272812794, 2.0, 1.0283344851416725, 1.1275245986535474, 1.0353578473224012, 1.0347447566284131, 1.0432448386993842, 1.141246150201374, 1.0166288737717308, 1.1700194678780014, 2.0, 1.0000935016362786, 1.48, 1.0, 1.2797927461139897, 1.25, 1.0335092770313499, 1.0745250852411106, 1.0407838588059826, 1.1345141215892771, 1.047846583758186, 1.1168032786885247, 1.2097304404996714, 1.2348409732285868, 1.1875, 1.3676470588235294, 1.1020749573167374, 1.025, 1.0229563744176196, 1.0632902489301037, 1.0, 1.1790432801822324, 1.8453608247422681, 2.5, 1.0681818181818181, 1.034147795882467, 1.1340996168582376, 1.0802032904865246, 1.3118279569892473, 1.3199329983249581, 1.0083579154375615, 1.2089201877934272, 1.010268446530732, 1.042483660130719, 1.1676881588624664, 1.1148217636022515, 1.0300480769230769, 1.25, 1.1966794380587484, 1.0540941875265168, 1.1756046267087277, 1.1622760800842993, 1.0565287512117287, 1.118811881188119, 1.1128278941338894, 2.0, 1.2425940752602083, 1.0277777777777777, 1.319672131147541, 1.1054916985951468, 1.075492341356674, 1.0710382513661203, 26.646153846153847, 1.0472746496299463, 1.0, 1.4680851063829787, 2.0, 1.0, 1.3409090909090908, 5.111111111111111, 1.1111111111111112, 1.1022222222222222, 1.0438496583143508, 1.0316122233930454, 1.1116934603302593, 1.180403123680878, 1.0210000582445105, 1.0516035552100083, 1.010395225080718, 1.2379248658318425, 1.0777015698826398, 1.0726024390578488, 1.161225514816675, 1.1430429128738622, 1.1454293628808865, 1.251908396946565, 1.051982262808974, 1.032418952618454, 1.0923148520297, 1.1757575757575758, 1.2286207889432768, 1.0721868365180467, 1.5, 1.090014064697609, 1.4285714285714286, 1.2995867768595042, 1.5185185185185186, 1.1666666666666667, 1.0435431292971387, 1.1208397798006693, 1.0298116787295342, 1.0196051070955139, 1.3837837837837839, 1.1218905472636815, 2.0, 3.0, 1.0763358778625953, 1.0190549482548068, 1.030517122951624, 1.1967194441280329, 1.0322902464168136, 1.1627906976744187, 1.0555161026879238, 1.2309058614564832, 1.0339126187908263, 1.0397870266653089, 1.0099958823779978, 1.3522727272727273, 21.0, 1.0599268335172174, 1.0, 1.0381194409148666, 1.1047619047619048, 1.3065967016491755, 1.5714285714285714, 1.0403067774849653, 1.4, 1.0, 1.0466200931470393, 1.1354319180087848, 1.0387634220354809, 1.0000189503406323, 1.0308788598574823, 1.3548387096774193, 1.0333333333333334, 1.1284916201117319, 1.1300813008130082, 1.035721452939996, 1.1919742006145608, 1.1564087696045946, 1.0, 1.0391394249704609, 1.2347560975609757, 2.0, 1.1138224508153238, 1.125514596540659, 1.2043519394512772, 1.0000482784473652, 1.0695863031817179, 1.0769230769230769, 2.142857142857143, 1.0418018018018018, 1.1435483870967742, 1.1214761188993527, 1.2145985401459853, 1.0962038776816503, 1.0607011732548848, 1.052892561983471, 1.0771502399409376, 1.374581939799331, 1.1022728486440878, 1.087514585764294, 1.0535714285714286, 1.0754627432368296, 1.0526315789473684, 29.826785714285716, 1.1866797257590598, 1.3333333333333333, 1.0, 1.0775401069518717, 1.643953934740883, 1.041386271870794, 1.0609308022045316, 1.2307692307692308, 1.0136752136752136, 1.0273972602739727, 1.1928571428571428, 1.2090662891104105, 2.0, 1.0671641791044777, 1.5, 1.1108742004264391, 1.0714285714285714, 1.0380739434401964, 1.2857142857142858, 1.1730769230769231, 1.0870813397129186, 1.0, 1.049847946749463, 1.1376488095238095, 1.5, 2.0, 1.0075757575757576, 1.2482758620689656, 1.0124324324324325, 1.2272202998846597, 1.028125, 2.323529411764706, 1.1722054380664653, 1.0129166666666667, 1.2378854625550662, 1.1142857142857143, 1.1923076923076923, 1.0, 1.0552016985138004, 1.0916129032258064, 1.098314606741573, 1.057293825113966, 1.057508647811922, 1.116349839939928, 1.0487788513150833, 1.3184282822440718, 1.1643489254108723, 1.0044223327805417, 1.5714285714285714, 2.0, 1.096774193548387, 1.081627077483494, 1.018250950570342, 1.096774193548387, 1.128395061728395, 1.0095026704584864, 1.0292709030100335, 1.0121065307728587, 1.0263157894736843, 1.1, 1.0436893203883495, 1.174575821845175, 1.0716090860438843, 1.0632874526736986, 1.138157894736842, 1.023103194267729, 1.0224751105909968, 1.2671532846715328, 1.3047269389628269, 1.125, 1.105592841163311, 31.695473251028808, 1.029497652998545, 1.3333333333333333, 1.0861275476660093, 1.0, 1.090497737556561, 1.0079917882542708, 1.0555555555555556, 1.0732067373818113, 1.041313559322034, 1.131578947368421, 1.064028483044417, 1.037562870057936, 1.1433344855398087, 1.0093299406276506, 1.2724177071509648, 1.2305660493258392, 1.095890410958904, 1.2857142857142858, 1.0, 1.25, 1.074170476169645, 1.5, 1.468655207280081, 1.1164088195882569, 1.0285315243415802, 1.0501875334881228, 1.0527143909970929, 1.1357984994640944, 1.108695652173913, 1.131761442441054, 1.0432579548732615, 1.2295884889388826, 1.0443777623123436, 1.1696146471874915, 1.4285714285714286, 30.16711349419124, 1.1185770750988142, 1.1154304158440662, 1.1205211726384365, 1.281081081081081, 1.0442477876106195, 2.0196850393700787, 1.049833814237189, 1.1785234899328858, 1.052591108463746, 1.25, 1.0759174153144853, 1.0517933074147148, 1.1680478821362799, 1.0443942814145974, 1.3103448275862069, 1.009009009009009, 1.3477355027531128, 1.0235955826874272, 1.0218413049488526, 1.0193796902973857, 1.303030303030303, 1.0447404099210464, 1.0758714969241285, 1.0884146341463414, 1.0430239704978488, 1.0894396551724137, 1.0247469066366703, 1.0653104925053534, 1.0081588026025339, 1.0676378772112383, 1.04597034137489, 1.0875678898934713, 1.2142857142857142, 1.0118389897395421, 1.1844110177769096, 1.0813652395196214, 1.0375802016498625, 1.0662251655629138, 1.0599913681484678, 1.318840579710145, 1.0744827586206898, 1.5, 1.0, 1.3333333333333333, 1.0129817444219067, 1.000383435582822, 1.2528410327861714, 1.1729049698482013, 1.0661218424962853, 1.1859943977591036, 1.0868541670382195, 1.0959415144859954, 1.1426146010186757, 1.0324324324324323, 1.141160949868074, 1.0884531974152072, 1.0404040404040404, 1.75, 1.044983477053636, 1.1742155665720295, 1.065865133298484, 1.005050505050505, 1.3461259956553222, 1.0264383579366825, 1.2735451222940681, 1.1428571428571428, 1.4230769230769231, 1.0364741641337385, 40.026315789473685, 1.1734104046242775, 1.3870967741935485, 1.0332899894467058, 1.3240832507433102, 1.1468797564687976, 1.1951219512195121, 1.0525101276857598, 1.0878023133543637, 1.0875106202209006, 1.1269571441352777, 1.3333333333333333, 1.12, 2.0, 1.2563566701497737, 1.4615384615384615, 1.0, 1.0714285714285714, 1.104635761589404, 1.0839936608557845, 1.1277244086354716, 1.0708359212014078, 1.1581818181818182, 1.1724137931034482, 1.0, 1.3225806451612903, 1.2297297297297298, 1.2285714285714286, 1.014018691588785, 1.0277840599996333, 1.029213588872422, 1.3644859813084111, 1.0587699908984527, 1.0472124401176572, 2.5, 1.019366752006084, 1.0127856548996697, 1.5, 2.0, 1.167248322147651, 1.126276334496575, 1.0439815641859302, 1.3043478260869565, 1.5, 1.2362869198312236, 1.0061728395061729, 3.0, 1.0602039022675338, 1.1047058823529412, 1.042625630350651, 1.0419910356216089, 1.6666666666666667, 1.0346423688510105, 1.05, 1.0543589743589743, 1.0839662447257383, 1.1612090680100755, 1.0, 1.1219512195121952, 1.0510099281068128, 1.1782742770698784, 1.147186147186147, 1.099644128113879, 1.1906603448732551, 1.1517779705117086, 1.28099173553719, 1.2105263157894737, 1.1295021859850878, 1.396583564173592, 1.040069589885088, 1.2404371584699454, 1.2450980392156863, 27.31858407079646, 1.0, 1.1104048176647707, 1.0739644970414202, 1.0004232747535362, 1.1539301310043668, 1.5, 1.1435185185185186, 1.0043873118940025, 1.1882728360590347, 1.134020618556701, 1.0062416208187537, 1.078699483439684, 1.0853123241418121, 1.3279569892473118, 1.1568627450980393, 1.1328844790928418, 1.0995771964874785, 1.323045267489712, 1.0098360655737706, 1.6666666666666667, 1.118421052631579, 1.1395902146536172, 1.026578073089701, 1.1247952577802043, 1.098091065560945, 1.1038709677419354, 2.0, 1.0116822429906542, 1.0817388811080846, 1.1822304679447537, 1.0612244897959184, 1.0808264587742409, 1.1751592356687899, 1.004721435316336, 1.0766045548654244, 1.0315551771856069, 1.095667870036101, 1.0139581256231307, 1.0509316770186334, 1.1428571428571428, 1.0891494509584962, 1.3044779235238857, 1.0224951535889464, 1.0233609645817634, 1.0952115812917596, 1.1437216338880485, 1.1983471074380165, 1.129496402877698, 1.6666666666666667, 2.0, 1.1764705882352942, 1.0323325635103926, 1.021632937892533, 1.0296280948927794, 1.0255155128545932, 1.008138101109741, 1.030614185206313, 1.375, 1.05848623853211, 1.034168452078715, 1.6, 1.4285714285714286, 1.1718856364874064, 1.0, 1.1131824234354195, 1.140017667844523, 1.1244704821991889, 1.0845819378341852, 2.0, 1.1287925696594427, 1.2439024390243902, 1.001995012468828, 1.042099444298973, 1.122680412371134, 1.13844714686623, 1.182758551429088, 1.0311806480248558, 1.1573926868044515, 1.144736842105263, 1.0681818181818181, 1.0, 1.0, 1.0422390332404587, 7.0, 1.7142857142857142, 2.269230769230769, 1.0374574347332577, 1.0106382978723405, 1.0580357142857142, 1.2216736608244878, 1.1666666666666667, 1.0797937031922968, 1.0089662447257384, 1.0469483568075117, 1.271551724137931, 1.25, 1.0608512874408829, 1.0241206030150753, 34.91428571428571, 1.040400374496376, 1.2222222222222223, 1.040188175220444]
origin-bjaq_15.71 	max: 42.0000	99th: 29.6794	95th: 2.0000	median: 1.0984	mean: 1.8762

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 11.909230 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[0.0000000e+00 1.1920929e-07 1.1920929e-07 0.0000000e+00 5.4425001e-04]
Distance score: 0.00010889768600463867
SAUCE Drift detection: True
Detection latency: 0.0351s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.0838 nats / 36.1883 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.075725 | Model-update-time: 2.498264


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 1717.2500	99th: 44.9543	95th: 2.7557	median: 1.1132	mean: 4.3156
ReportEsts: [1.2317460317460318, 1.0395247886680374, 1.001340832502729, 1.1115384615384616, 1.3043478260869565, 1.0, 1.0510366826156299, 1.0618823259020915, 1.2, 1.0317460317460319, 1.0337458663192705, 1.0430835201247441, 1.0126441056154705, 1.0715667311411992, 1.0553792904528412, 1.25177304964539, 1.162162162162162, 1.3636363636363635, 1.0909090909090908, 1.014406779661017, 1.084607794770597, 1.0469050253304606, 1.095, 1.156312625250501, 1.0219624708239143, 1.0321666736694257, 2.0, 1.1898944675407739, 1.5, 1.2, 1.2374100719424461, 1.0, 1.0444474156702448, 1.0093576105289719, 1.2913429522752498, 1.1462769863416067, 1.2366960496245512, 1.097447795823666, 3.5, 1.0794701986754967, 1.1111111111111112, 1.0231036653800882, 1.0932957341994973, 1.1364748871040022, 1.0285714285714285, 1.1312330958820616, 1.2380952380952381, 1.7037037037037037, 1.5207100591715976, 1.0063784549964565, 1.2755905511811023, 1.2638243097696167, 1.0589519650655022, 1.0437017994858613, 1.1921406411582214, 1.0610687022900764, 1.0999241356887395, 1.0595290566440945, 40.13157894736842, 1.043010752688172, 1.0568362630701622, 1.7272727272727273, 1.0890847878089838, 1.0839041095890412, 1.2818181818181817, 1.06, 51.142857142857146, 1.1555186262290542, 1.1037097210939615, 1.75, 1.0, 1.0159574468085106, 1.1455847255369929, 1.0691919191919192, 1.034068136272545, 1.1236623542565085, 1.0037397157816006, 1.0027442663078596, 1.2689655172413794, 1.4646464646464648, 1.0780829142415853, 1.0203574975173784, 1.2, 1.0, 48.1, 1.2857142857142858, 1.2941176470588236, 1.0813953488372092, 1.5, 33.42857142857143, 1.0694207765994408, 1.1031598513011152, 1.0852359962359468, 1.0446554055845774, 1.3124790151091215, 1.1818181818181819, 1.1809256661991585, 1.0724258289703317, 1.106612685560054, 32.5, 1.328087167070218, 1.150519611129735, 55.5, 1.1634162743779422, 1.3849693251533743, 1.0709969788519638, 1.2076990955217295, 1.6551724137931034, 1.0203495758702903, 1.0446470313230483, 1.0369881671916235, 1.167811579980373, 1.0456705385427667, 1.5, 28.928571428571427, 1.0835370823145885, 1.0575633748819464, 1.0727673649393605, 1.10752688172043, 1.0644367555118601, 1.0, 1.0621285791464072, 1.1945259042033236, 1.0, 1.2032967032967032, 1.0, 1.3408521303258145, 1.028843569002175, 1.0801333333333334, 1.0357142857142858, 1.5, 1.2002772002772002, 1.0, 31.6, 1.041237113402062, 1.0833333333333333, 1.0770767913217243, 1.0102197511252318, 1.057409147869674, 48.25, 1.6428571428571428, 1.1051344743276283, 1.0467756584922798, 1.0744625065547981, 1.1143298633702017, 1.125, 1.0265193370165746, 1.1336500462456907, 3.0, 1.0082482325216024, 1.1485714285714286, 1.0746527777777777, 1.2602788071289923, 1.5, 1.208905878706478, 1.1422222222222222, 1.0122377622377623, 1.1081593927893738, 1.0686528497409327, 1.0019394659203618, 1.132847163220995, 1.1169330140876441, 1.0750048327856176, 1.0855263157894737, 1.0760736196319018, 1.4109916367980884, 1.0309278350515463, 1.4285714285714286, 1.0559998691591843, 26.666666666666668, 1.28928046989721, 1.3596476510067115, 1.1124121779859484, 1.0026492942453855, 45.63897280966767, 1.0021052631578948, 1.1358965860125954, 1.129447388342165, 1.076984126984127, 1.0186084142394822, 1.0696394164602256, 1.0888346505501316, 1.057738743936577, 1.2026143790849673, 1.1372832369942196, 1.1193403322603084, 1.0388007054673722, 1.5321888412017168, 1.1669688085939522, 1.0875706214689265, 1.1428571428571428, 1.086668930591032, 1.0818138693705712, 1.8888888888888888, 1.1210092687950566, 1.9204545454545454, 1.1533347444581281, 1.106826481880326, 1.1133689839572192, 1.1483335924946871, 1.679594861660079, 1.0179871520342612, 1.0814655172413794, 1.0144714250674516, 1.0437037126920758, 1.0594831789371038, 1.279435016338147, 1.192090395480226, 1.140625, 1.105263157894737, 1.0, 1.4923076923076923, 1.112953862953863, 1.306547619047619, 1.5747126436781609, 1.0059397539244803, 39.75, 1.0467577967091375, 1.171195652173913, 1.1957935462627594, 50.5, 1.028395061728395, 1.053760366028024, 1.0328916350281645, 1.1452903284964353, 1.5, 1.2028985507246377, 1.0352290051037316, 1.0526315789473684, 1.1930379746835442, 1.1630218687872764, 1.0101465614430665, 1.0614730783388548, 1.2, 1.0072721966168476, 1.0334827274571645, 1.1012658227848102, 1.0300469483568075, 1.1946308724832215, 1.1428571428571428, 1.241732283464567, 2.0, 1.0329509397119845, 1.0246014293567896, 1.2890295358649788, 1.0229007633587786, 1.1666666666666667, 1.6666666666666667, 1.2229299363057324, 1.0606060606060606, 1.1053021647160548, 1.2, 1.0, 1.1065719360568385, 1.0588740089909225, 1.0186301369863013, 1.0165876777251184, 1.229957805907173, 35.607609988109395, 1.0161054172767203, 1.2350322293412825, 1.1754385964912282, 2.0, 1.2548783747661054, 1.0307228173870213, 1.3239929947460596, 1.1528314902690386, 1.016228983593234, 1.011527584375314, 1.0976616231086658, 1.0073001059231055, 1.0332986472424557, 1.0238857424279735, 1.125874984649392, 1.3636363636363635, 1.1539376321353065, 1.5138592750533049, 1.3555555555555556, 1.85, 1.2886723507917175, 43.42307692307692, 1.0633241252302026, 1.012025664527956, 1.1604651162790698, 1.3190578158458244, 1.0317087370565976, 1.131663974151858, 1.1924017627821204, 1.0509648116182413, 1.0, 1.0651162790697675, 1.0501955671447196, 1.0479336359723563, 1.0374544637403191, 1.06993006993007, 1.1389036721660457, 1.176878612716763, 1.0375705375705375, 1.1644293932840997, 1.076030412164866, 1.0363180698326395, 1.106060606060606, 4.0, 1.3636363636363635, 1.0753636645001547, 55.5, 1.0361216730038023, 1.02693842645382, 1.255813953488372, 1.4857142857142858, 1.3762376237623761, 1.1028938906752412, 1.232896652110626, 1.0261097458956394, 1.25, 1.198064125831821, 1.0173828233080626, 1.2659574468085106, 37.75, 4.666666666666667, 1.0227998176014592, 1.4285714285714286, 1.0297919085822864, 1.0949152542372882, 1.0, 1.2308997373029773, 1.4285714285714286, 1.6666666666666667, 1.0565463652108786, 2.0, 38.359375, 1.2194767441860466, 1.316326530612245, 1.036649214659686, 1.206266318537859, 1.021978021978022, 1.0965447154471544, 1.105372060236654, 1.0619946091644206, 1.0394690317638047, 1.0515743756786102, 3.0, 1.1111111111111112, 1.2354258552526338, 1.5, 1.068050193050193, 1.173913043478261, 62.0, 1.7222222222222223, 1.5311244979919678, 1.1098454027664768, 1.1984126984126984, 1.014880260404557, 1.4492753623188406, 1.3333333333333333, 1.197570229843123, 1.0, 1.3214285714285714, 1.1786719849835758, 1.1347826086956523, 1.1951219512195121, 1.0018957345971564, 1.75, 1.0, 1.5543175487465182, 1.11864406779661, 1.0328042328042328, 1.1312024129179388, 1.2159019087346732, 1.119533527696793, 1.5, 1.0296548620988515, 1.0731591448931117, 1.1666666666666667, 1.0066973629133529, 1.0582432264479245, 1.75, 1.0478901032179722, 1.2613636363636365, 1.15068562210123, 1.0818098238104568, 1.0472589792060492, 1.1260196905766526, 1.122540753232153, 30.937759336099585, 1.0689127105666156, 1.2585128403430157, 1.0941780821917808, 1.0666666666666667, 1.003166735508743, 1.0432990093593075, 1.6666666666666667, 2.4899474964784223, 1.5342465753424657, 1.0684713375796178, 1.1743218649796343, 25.5, 29.0, 1.3176470588235294, 1.0822784810126582, 1.4230769230769231, 37.666666666666664, 1.0358744394618835, 1.159592067514083, 1.091309571485783, 1.425208807896735, 1.2911392405063291, 1.063063063063063, 1.058659217877095, 1.0, 1.1972258344169917, 1.3958333333333333, 1.1097254409049846, 1.088302637330029, 1.0838592465098489, 1.0733521415747627, 1.375, 1.209053916581892, 1.1666666666666667, 1.007585953750153, 1.0909090909090908, 1.1162759693367403, 1.182608695652174, 1.0380575009214892, 1.0404040404040404, 1.2904347826086957, 3.0, 1.0029377203290246, 1.0130142514283287, 1.111317291192785, 2.0, 1.1594202898550725, 1.2995049504950495, 1.1756756756756757, 1.1207660997237971, 1.0791896869244935, 1.05, 1.1168736303871438, 1.109075186388389, 1.0547198686125938, 1.3290160852308335, 1.407127192982456, 1.022653721682848, 1.2, 1.0269961977186313, 1.0555555555555556, 1.2580645161290323, 1.2132564841498559, 40.01020408163265, 1.156167924292325, 1.6666666666666667, 26.0, 1.2625616897230674, 1.1220657276995305, 9.0, 1.4647887323943662, 1.1352313167259787, 1.0286036883703424, 1.1875, 1.2863086232980332, 1.0647752520936593, 1.1096906930509964, 1.0380476556495004, 1.2383720930232558, 1.1162097735399286, 1.0572, 1.024124513618677, 1.2262295081967214, 1.3333333333333333, 1.10528771503094, 1.3231871083258728, 1.4736842105263157, 1.1127946675337343, 1.047244094488189, 1.0402298850574712, 1.0274647887323944, 1.2808293925063658, 1.1153779920785258, 1.0, 1.0945945945945945, 1.4483939598360231, 1.096845694799659, 1.02880658436214, 1.25, 1.0518258945038732, 1.0041412663348381, 1.0057932263814617, 2.0, 1.0574067964368195, 1.1319970811167082, 1.113551388111991, 1.0208183776022972, 1.064626947022562, 1.182705520018953, 1.0404332129963898, 1.0777138157894737, 2.0, 1.0985551195148056, 43.0, 1.0, 38.7375, 1.3269230769230769, 1.042829694576915, 1.2021611886537595, 1.1025238126093435, 1.066747572815534, 1.0681893687707642, 1.0107948969578018, 1.3090670013746937, 1.3225874568874498, 1.2857142857142858, 1.1111111111111112, 1.0677883667433454, 1.0021551724137931, 1.0665615403767947, 1.0632684479160208, 1.0, 1.3608200455580866, 1.6288659793814433, 3.0, 1.1363636363636365, 1.0312352480587506, 1.2352941176470589, 1.0682157322532508, 1.0, 1.0555555555555556, 1.0092373282804359, 1.1492760770775354, 1.0317185697808535, 1.0583679737350737, 1.1428571428571428, 1.1884444444444444, 1.0836461126005361, 1.0116866074874566, 1.61875, 1.1993109869646184, 1.125, 1.010989010989011, 1.1249933261750382, 1.1379310344827587, 1.2045132985363882, 2.0, 1.222305389221557, 1.0952380952380953, 1.1264514173108988, 1.0169491525423728, 1.200218818380744, 1.0124555160142348, 38.47982062780269, 1.1072275890252348, 1.0, 1.574468085106383, 2.1666666666666665, 1.0, 1.375, 8.625, 1.117283950617284, 1.1016949152542372, 1.0414304993252361, 1.1471622300351583, 1.1204119820237657, 1.1897743443789388, 1.02051940615471, 1.043535041338365, 1.021730998910661, 1.2523415977961432, 1.1187817258883248, 1.0697476590605073, 1.2842515845928815, 1.2262678803641092, 1.1139896373056994, 1.3129770992366412, 1.0538977367979883, 1.0193236714975846, 1.0840226207007586, 1.1213872832369942, 1.3152893751799597, 1.0627503337783712, 1.5, 1.1533052039381153, 1.5, 23.5, 1.6919191919191918, 1.0613082111817356, 1.0346438302841572, 1.1314984709480123, 1.2597402597402598, 1.0917574553845255, 1.1715374441015305, 1.142620232172471, 1.0, 44.94736842105263, 1.000961846745752, 1.227027027027027, 1.082180634662327, 1.0789089137847052, 1.0, 1.127624309392265, 1.1529933481152994, 1.1076709796672828, 1.2451154529307282, 1.069698707914872, 1.0426294405667258, 1.0044007711517655, 1.3440860215053763, 15.5, 1.012929381471539, 1.0, 1.0046838407494145, 1.008695652173913, 1.3122332859174966, 1.5714285714285714, 1.0094418475064235, 1.4, 1.0526315789473684, 1.0642966567540777, 1.064601186552406, 1.0198532000758376, 1.0000180931616895, 1.1116389548693586, 1.375, 1.1851851851851851, 1.1281138790035588, 1.063943161634103, 1.0226574500768049, 1.192789835592405, 1.156680994699507, 1.0, 1.0338489022612947, 1.044562168899969, 5.0, 1.200247218788628, 1.103614709881801, 1.3434247871333964, 1.0033384152934561, 1.077326279177995, 1.0555555555555556, 2.0, 1.062037363412055, 1.1717741935483872, 1.0959196815361198, 1.2036463708290335, 1.1483736715634059, 1.0596515486725664, 1.2110236220472441, 1.0764580369843528, 1.3645484949832776, 1.117490007017972, 1.0843644544431945, 1.044015444015444, 1.0512239347234815, 1.061277033985582, 41.45742904841402, 1.2493633692458375, 1.3888888888888888, 1.1428571428571428, 1.0063532401524777, 1.6287352852399637, 1.0217809096732864, 1.067826599823061, 1.2857142857142858, 1.0598650927487352, 1.0223713646532437, 1.1071428571428572, 1.2071236304668143, 2.0, 1.1604477611940298, 1.5, 1.0857142857142856, 1.1428571428571428, 1.0356842737094838, 1.2, 1.1875, 1.0631868131868132, 1.0, 1.041784659264541, 1.107168718320058, 1.5, 2.0, 1.0451127819548873, 1.4, 1.0281839936187185, 1.2304299889746417, 1.053125, 2.742857142857143, 1.2779456193353473, 1.4911660777385158, 1.3215859030837005, 1.2244897959183674, 1.0769230769230769, 1.0, 1.069967707212056, 1.069767441860465, 1.1358355674709562, 1.1022585992540406, 1.0537236446784186, 1.1246749387027268, 1.0864974983503848, 1.3917004048582995, 1.115606936416185, 1.0133333333333334, 1.375, 3.0, 1.0303030303030303, 1.1988844198224178, 1.0250178699070764, 1.094972067039106, 1.158273381294964, 1.0051309038284437, 1.1276120401337792, 1.008608150004247, 1.0384615384615385, 1.1, 1.1867704280155642, 1.1892895015906682, 1.10506577598078, 1.0474203518782692, 1.1710526315789473, 1.059369202226345, 1.0228789541798404, 1.0691676436107855, 1.356422621657168, 1.0, 1.0934736842105264, 42.69953488372093, 1.0291310237563656, 1.3333333333333333, 1.0934933670246367, 1.0, 1.018181818181818, 1.004302853618882, 1.3333333333333333, 1.0863656984177172, 1.1440677966101696, 1.1944444444444444, 1.0579739061997717, 1.0600968816227672, 1.148896775189014, 1.012830793905373, 1.0930760499432464, 1.2354383097933932, 1.023765996343693, 1.3571428571428572, 1.0, 1.25, 1.048113837422801, 1.5, 1.582900207900208, 1.0972222222222223, 1.0032368621477532, 1.0533128938851983, 1.0609697952177748, 1.1894962486602358, 1.18562874251497, 1.2024965325936199, 1.0820272104446742, 1.2186211098612674, 1.046981663584674, 1.1920055452865064, 1.4285714285714286, 41.984962406015036, 1.1146245059288538, 1.124049081588426, 1.1726384364820848, 1.2701443875174663, 1.111504424778761, 1.914179104477612, 1.103173965447971, 1.2845637583892617, 1.0427469710126949, 1.375, 1.0767416204454523, 1.04670572830945, 1.1078602620087337, 1.0385852090032155, 1.5185185185185186, 1.0598290598290598, 1.4583411433926898, 1.0365301348728413, 1.035105833763552, 1.0180315170601009, 1.1515151515151516, 1.0085955710955712, 1.0305790500975927, 1.1646341463414633, 1.0669530065689743, 1.144396551724138, 1.0708661417322836, 1.072233606557377, 1.0416832747520866, 1.0636182902584492, 1.068654611393744, 1.0788921046803766, 1.1875, 1.052880820836622, 1.1680015628052354, 1.2288791914505373, 1.0436985433818873, 1.0661209068010076, 1.3401688781664656, 1.3259762308998302, 1.109874826147427, 1.063352266794746, 1.0, 1.1026570048309179, 1.2280308688075678, 1.0394121576486306, 1.0710743801652893, 1.1173328335129562, 1.3017885274766008, 1.0779036827195467, 1.02, 1.0931834045523416, 1.084283109186232, 1.130718954248366, 1.145945945945946, 1.1934051997463537, 1.0717883207857344, 1.0384615384615385, 1.75, 1.0355412104172832, 1.174813086738996, 1.0925, 1.0430622009569377, 1.4663287472845763, 1.018314771341183, 1.3441102052291256, 1.2493506493506494, 1.4230769230769231, 1.0232044198895027, 59.578947368421055, 1.16991643454039, 1.3870967741935485, 1.0906524609570643, 1.3706640237859267, 1.14616497829233, 1.2682926829268293, 1.1179039301310043, 1.0996168582375478, 1.0515463917525774, 1.7407407407407407, 1.0476497102382485, 1.183574879227053, 1.0327595780122154, 1.0833333333333333, 1.0271994183356468, 1717.25, 1.1383866481223923, 1.330188679245283, 1.1454545454545455, 1.2791987673343606, 1.1365905725992493, 1.1055690920962529, 1.2745454545454546, 1.096774193548387, 1.0, 1.1290322580645162, 1.2972972972972974, 1.1142857142857143, 1.017133956386293, 1.0251223881293725, 1.0309466272572938, 1.3839285714285714, 1.0771627197597569, 1.0472392213210535, 2.5, 1.0190357317791796, 1.002439283062891, 1.5, 2.0, 1.1596509240246407, 1.1531498244965823, 1.0826634272988198, 1.453416149068323, 1.0, 1.1567164179104477, 1.2975460122699387, 3.0, 1.0939936950389912, 1.0933469689222204, 1.0499792105652612, 1.0347680268306316, 1.4285714285714286, 1.01357892569294, 1.0560053981106612, 1.0687179487179488, 1.0446533490011751, 1.2463592233009708, 1.0, 1.0, 1.0207813798836243, 1.1889994375593957, 1.1645569620253164, 1.0784982935153584, 1.2282061506255295, 1.1074249605055293, 1.2727272727272727, 1.0952380952380953, 1.2054087751101195, 1.273188986901898, 1.0973261083962191, 1.2760416666666667, 1.3431372549019607, 38.46218487394958, 1.0, 1.1086887835703, 1.1420118343195267, 1.00516904913538, 1.2161572052401746, 1.5, 1.1404426559356138, 1.0085883888350946, 1.1700343118566527, 1.2657070608830967, 1.018791018998273, 1.1181171001016998, 1.0971078128969045, 1.1044776119402986, 1.2692307692307692, 1.0766840078373083, 1.1274948107935494, 1.3130211674150096, 1.0652866242038217, 1.6666666666666667, 1.0963855421686748, 1.1860845884603497, 1.0299212598425196, 1.1325637625770222, 1.0926839781797641, 1.1477132262051917, 2.0, 1.074766355140187, 1.132191576881086, 1.1729899744446628, 1.1205211726384365, 1.0736383554581777, 1.2070063694267517, 1.1922739244951712, 1.143727780599289, 1.0325847105168164, 1.1046553161090606, 1.0448901623686724, 1.0330188679245282, 1.2162162162162162, 1.0623718386876282, 1.410473611286056, 1.0410991848514, 1.0694244604316547, 1.0990364025695931, 1.2125567322239033, 1.2258064516129032, 1.0536912751677852, 1.6666666666666667, 2.0, 1.3529411764705883, 1.0437636761487965, 1.001984126984127, 1.029903833487024, 1.0660424820402032, 1.0229413185220961, 1.0403783193888687, 1.375, 1.0808823529411764, 1.0313962193524238, 1.6, 1.2666666666666666, 1.1879699248120301, 1.125, 1.1384820239680427, 1.159033078880407, 1.2422712933753943, 1.0923699284176873, 2.0, 1.2154798761609906, 1.320910973084886, 1.026375958003329, 1.040821106453252, 1.1567164179104477, 1.1338912133891212, 1.1964350533977801, 1.0383622081136339, 1.1685214626391096, 1.144578313253012, 1.1160822249093107, 1.0, 1.0, 1.0425636424112565, 8.0, 1.7142857142857142, 1.6944444444444444, 1.009433962264151, 1.0638297872340425, 1.060377358490566, 1.2411639962299716, 1.1666666666666667, 1.081563073695253, 1.0095911155981827, 1.0469483568075117, 1.299794661190965, 1.1111111111111112]
origin-bjaq_15.71 	max: 1717.2500	99th: 44.9543	95th: 2.7557	median: 1.1132	mean: 4.3156

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 12.009091 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[ 5.9604645e-08  0.0000000e+00  5.9604645e-08 -5.9604645e-08
  4.8828125e-04]
Distance score: 9.766816947376356e-05
SAUCE Drift detection: True
Detection latency: 0.0366s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.0130 nats / 36.0861 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.097459 | Model-update-time: 2.525668


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 2286.5000	99th: 57.6346	95th: 2.5062	median: 1.1281	mean: 5.1406
ReportEsts: [1.1682539682539683, 1.0179942944919904, 1.0259329973453508, 1.1711538461538462, 1.3043478260869565, 1.0, 1.1275006025548324, 1.0626552038474837, 1.2, 1.0380434782608696, 1.107496158278909, 1.0427338000760507, 1.0710506424792139, 1.018214936247723, 1.0815485996705108, 1.2551020408163265, 1.1774193548387097, 1.5, 1.0909090909090908, 1.0055511498810468, 1.1255550074000986, 1.0798051902384134, 1.0572569906790945, 1.153306613226453, 1.0034699444118358, 1.030242149279055, 2.0, 1.152189349112426, 1.5, 1.4, 1.1578947368421053, 1.0, 1.038610852623008, 1.0103210718289781, 1.3679245283018868, 1.2047290351006021, 1.2265183858972593, 1.1722595078299776, 4.5, 1.1720799500312304, 1.2102052135330006, 1.0828282030525007, 1.248431618569636, 1.0307453416149068, 1.0329067641681902, 1.127957030208373, 1.1363636363636365, 1.1302681992337165, 1.3173076923076923, 1.0306539509536785, 1.962962962962963, 1.2171945701357465, 1.0156862745098039, 1.0277777777777777, 1.0188697387082042, 1.0019413549039433, 1.1360964138741916, 1.0486486486486486, 1.030612244897959, 1.0877849798837729, 1.6545454545454545, 1.1360362040034577, 1.1044520547945205, 1.2727272727272727, 1.1313131313131313, 60.25, 1.0872560633455952, 1.0584263827577252, 1.027027027027027, 1.5454545454545454, 1.250285388127854, 1.1789976133651552, 1.0628900624099855, 1.0208333333333333, 1.141918881548625, 1.044194756554307, 1.009968752492188, 1.141304347826087, 1.4660194174757282, 1.0721449194542134, 1.0123222748815166, 1.1515151515151516, 1.0, 64.2, 1.3020408163265307, 1.3529411764705883, 1.2727272727272727, 1.1111111111111112, 44.142857142857146, 1.115694769464297, 1.1020559088892177, 1.1775245135787258, 1.0792870001774892, 1.4224958030218242, 1.0742705570291777, 1.2861150070126228, 1.1673469387755102, 1.0540216086434573, 1.3529411764705883, 1.3837859424920127, 1.2608695652173914, 18.0, 1.3018214954897764, 1.2225, 1.087463556851312, 1.223667331812999, 1.5757575757575757, 1.0043163014643395, 1.0716216216216217, 1.0664942741041743, 1.0509852987175476, 1.0378596668349318, 1.5, 36.13333333333333, 1.048551292090838, 1.0313147573738881, 1.0613107822410148, 1.0909090909090908, 1.0641268326582685, 2.0, 1.1118556701030928, 1.1194420226678292, 1.0, 1.1593406593406594, 1.1428571428571428, 1.5238095238095237, 1.0092163205432778, 1.020696682162644, 1.125, 1.5, 1.0853018372703411, 1.0, 42.8, 1.0182045929018788, 1.0, 1.0582722086389569, 1.0199950684808679, 1.1734022556390977, 1.0301507537688441, 1.0100143061516451, 1.0403882169674268, 1.162257495590829, 1.0847457627118644, 1.1666666666666667, 1.0634920634920635, 1.1637804520105666, 3.0, 1.0176095916073435, 1.2365714285714287, 1.0863712843522153, 1.3328039527086641, 1.5, 1.1126205946052372, 1.1866666666666668, 1.0135593220338983, 65.64372469635627, 1.0, 1.0069444444444444, 1.0733148266780554, 1.0072143565695735, 1.0923344947735192, 1.072674418604651, 1.2542372881355932, 1.0615384615384615, 1.0334158415841583, 2.0, 1.054402849821886, 35.333333333333336, 1.1263408820023837, 1.1038300207769807, 1.1305309734513274, 1.0294029787052448, 55.02469135802469, 1.050420168067227, 1.0540882492487744, 1.0871080139372822, 1.0365230094959825, 1.0267295597484276, 1.0840425531914895, 1.0489667192298116, 1.2124746840310714, 1.173913043478261, 1.0507614213197969, 1.0805252838447859, 1.11331569664903, 1.592274678111588, 1.2730284138839165, 1.2231638418079096, 60.5, 1.267605633802817, 1.0865887124795246, 1.3571428571428572, 1.1167811579980373, 1.7010309278350515, 1.2121360887003398, 1.1187154844724951, 1.1246105919003115, 1.1392599865932758, 1.6851851851851851, 1.0414443988510464, 1.114497528830313, 1.0297493558210353, 1.0647551304773446, 1.056929538030798, 1.289237904500896, 1.7853107344632768, 1.109375, 1.0119047619047619, 1.0, 1.3642384105960266, 1.0629818371880309, 1.3190883190883191, 1.3448275862068966, 1.0004043671653862, 48.61538461538461, 1.0406321425774157, 1.252717391304348, 1.281326201525997, 67.25, 1.0402930402930404, 1.0324381813347514, 1.040081658813336, 1.2087430942392774, 1.5454545454545454, 1.5071177666851543, 1.0827009666551213, 1.2941176470588236, 1.2373417721518987, 1.2962226640159045, 1.0547486033519553, 1.0598274209012464, 1.129251700680272, 1.0056751922317466, 1.1732096998273902, 1.0694864048338368, 1.139, 1.2442953020134229, 1.125, 1.4, 2.0, 1.0472655283345707, 1.0209071274298056, 1.4437412095639943, 1.078358208955224, 1.1666666666666667, 2.0, 1.3507662140564352, 1.0857142857142856, 1.0705912699550026, 1.2, 1.0068897637795275, 1.0134874759152215, 1.1428571428571428, 1.0120616869130696, 1.0560747663551402, 1.3871308016877637, 46.545134818288396, 1.0126138752627891, 1.323919397611351, 1.2105263157894737, 2.0, 1.2923837723356568, 1.097286773018465, 1.3450087565674256, 1.1561761816167402, 1.1100726367653782, 1.0155204525074153, 1.0812049770792402, 1.0190016710689451, 1.0209267563527653, 1.0165105386416862, 1.21343485202014, 1.5454545454545454, 1.2111762444743417, 1.398936170212766, 1.4, 1.5769230769230769, 1.2697674418604652, 52.85142857142857, 1.041537157389093, 1.028188815858845, 1.0772626931567328, 1.3790983606557377, 1.0260199689284266, 1.0089163237311385, 1.2647862432370895, 1.063166392138381, 1.0, 1.0676579925650558, 1.0204819277108435, 1.0953064634019003, 1.043391670041811, 1.0879117528225222, 1.1808510638297873, 1.1638981173864895, 1.0864926381677218, 1.2508466277693908, 1.0923592169319476, 1.0515695067264574, 1.1688311688311688, 5.0, 1.3636363636363635, 1.0695574959301466, 73.16666666666667, 1.0457875457875458, 1.1066681621894454, 1.400916433315591, 1.5277777777777777, 1.297029702970297, 1.121923937360179, 1.2561863173216885, 1.1934791934791935, 1.35, 1.1346688281611856, 1.028299204116248, 1.0192678227360308, 41.0, 3.0, 1.0545699528407815, 1.4285714285714286, 1.040418347602848, 1.060747663551402, 1.0526315789473684, 1.3347061077057794, 1.4285714285714286, 1.8333333333333333, 1.0772344967188183, 2.0, 48.61940298507463, 1.245639534883721, 1.3388157894736843, 1.0024128686327078, 1.0626631853785902, 1.054945054945055, 1.0967568896537851, 1.0550891532953501, 1.0717948717948718, 1.0096220966042075, 1.1191675262423397, 3.0, 1.2222222222222223, 1.2392993441349207, 1.5, 1.0667587476979743, 1.12, 78.0, 1.7894736842105263, 1.5993975903614457, 1.109831029185868, 1.58, 1.3650121065375302, 1.5, 1.3333333333333333, 1.309168662835981, 1.0, 1.375, 1.2393535898639136, 1.1478260869565218, 1.2457091237579043, 1.0287836583101206, 1.75, 1.0, 1.4112519809825674, 1.2424242424242424, 1.040983606557377, 1.1321009231346697, 1.230667309082149, 1.1807580174927115, 1.5, 1.0316688867635033, 59.263392857142854, 1.1379310344827587, 34.25, 1.1504132231404958, 1.0, 1.1730769230769231, 1.1515151515151516, 1.3075848467417208, 1.058248857229376, 1.0547645125958378, 1.0352328266824211, 1.1241397922007825, 40.757201646090536, 1.0524781341107872, 1.2966130609830995, 1.1070840197693574, 1.0333333333333334, 1.006290812879982, 1.0610618643277037, 1.0296746958033276, 1.2571428571428571, 1.2571428571428571, 1.0382978723404255, 2.0, 1.1666666666666667, 1.9090909090909092, 1.481651376146789, 1.3103448275862069, 46.562231759656655, 1.0706695005313496, 1.1133093525179856, 1.1873692737764026, 1.136991557943208, 1.5194099378881987, 1.08, 1.063063063063063, 1.111731843575419, 1.0, 1.1928507472966459, 1.2884615384615385, 1.107577438829437, 1.118694853436755, 1.1562440237139033, 1.0570946759816913, 1.375, 1.3559322033898304, 1.1666666666666667, 1.04480352552332, 1.0, 1.1725603536212172, 1.236231884057971, 1.1314586994727591, 1.1061093247588425, 1.2030651340996168, 3.0, 1.0851875397329942, 1.0060027945783163, 1.166593381382989, 2.0, 1.0985915492957747, 1.2466403162055335, 1.0977917981072556, 1.111636577030619, 1.0244391168998461, 1.1904761904761905, 1.4084604715672677, 1.20749293009559, 1.143723638535329, 1.133376387961339, 1.1122145269303416, 1.0811277330264673, 1.3, 1.1353974121996304, 1.2984941894701423, 1.1296296296296295, 1.278521351179095, 1.0, 1.5, 1.3647058823529412, 1.0854700854700854, 1.0956459671663097, 1.1158342189160468, 1.1293743372216332, 1.0, 1.1565217391304348, 1.0, 1.070227693936987, 1.0909090909090908, 1.0, 1.0199667221297837, 1.0, 1.0, 1.0247242297451502, 3.3333333333333335, 1.0050664977834072, 1.0343796711509716, 1.2459016393442623, 1.3333333333333333, 1.1348049992919906, 1.354026845637584, 1.45, 1.016934406363608, 1.037313432835821, 1.1086474501108647, 1.0793220338983052, 1.330090340514246, 1.225417599448941, 1.0, 1.1486486486486487, 1.6211699164345403, 1.071109693877551, 1.023659305993691, 1.0, 1.0541863310610033, 1.0131031243420094, 1.0004240882103477, 2.0, 1.090533672172808, 1.199190245280354, 1.258868902169753, 1.0734932793756322, 1.055226228139318, 1.0149417536065162, 1.041726618705036, 1.0537237032518867, 1.5, 1.0445523468779283, 1.0478527607361963, 1.070877531340405, 1.2058239576439445, 1.2222222222222223, 1.0420585674413483, 1.0971524288107202, 1.1124111295744084, 1.0848249027237353, 1.093217150816972, 1.024482109227872, 1.3096348096348096, 1.5605430260564923, 1.375, 1.4647887323943662, 1.0417434394632088, 1.0881147540983607, 1.0583162855737112, 1.0668689693471771, 1.0, 1.3772209567198177, 1.5154639175257731, 3.5, 1.3409090909090908, 1.1610604209181299, 1.1837455830388692, 1.0295477386934673, 1.0, 1.1111111111111112, 1.0090682384946723, 1.1622044857546978, 1.041927179109967, 1.0060752722409732, 1.1349019607843138, 1.1917691981332201, 1.0888324873096447, 1.025543396792085, 1.6303030303030304, 1.2218621973929236, 1.1428571428571428, 1.2307692307692308, 1.1508379888268156, 1.018596787827557, 1.0444973677613436, 1.1210992110285805, 1.1794039253695179, 1.1104614742117351, 1.0319284802043422, 1.000159473736669, 2.0, 1.0391608391608391, 1.0451444166477144, 1.013164823591364, 2.625, 1.2642487046632125, 1.1233617469195682, 1.0458999484270242, 1.1287961082510745, 1.1533657182512145, 1.0292682926829269, 1.5714285714285714, 49.26086956521739, 1.2857142857142858, 1.1316725978647686, 1.1585081585081585, 1.5, 6.275862068965517, 1.5294117647058822, 1.518939393939394, 1.0871941255839497, 1.1138898276444744, 1.1388888888888888, 1.0843063988790285, 1.0915805022156573, 1.0366873482600485, 1.0491479895912028, 1.1187079942148994, 1.0727331139624994, 2.0, 1.0212389380530973, 28.0, 43.0, 1.0, 1.2841068917018283, 1.3571428571428572, 31.0, 1.76, 1.0570046228280017, 1.0307977736549165, 1.1865443425076452, 1.3116883116883118, 1.0619359172824723, 1.1795830634238267, 1.3161512027491409, 1.0, 56.4, 1.037832638666239, 1.2, 1.0557707203718047, 1.0943176525384257, 1.0, 1.172642029784887, 1.2071881606765327, 1.1238042710146676, 1.344582593250444, 1.046412245011964, 1.1541062801932367, 1.5370919881305638, 1.0, 1.1438727149627623, 1.0081967213114753, 1.6666666666666667, 1.2072739632902787, 3.0, 1.0998980632008155, 1.1513193438938474, 1.7142857142857142, 1.034118006725772, 1.5, 1.105263157894737, 1.0619331924925752, 1.0755441741357235, 1.0552247930150038, 1.0000173101723229, 1.159144893111639, 1.3142857142857143, 1.2222222222222223, 1.123076923076923, 1.057166876839008, 1.0333456153279292, 1.1901334177081686, 1.1567383489941352, 1.0, 1.0874375927675077, 1.0714496604664896, 6.0, 1.243650441961891, 1.0457583621065574, 1.3793755912961212, 1.0050406445431224, 1.1742964214857814, 1.094488188976378, 2.0, 1.036021150033047, 1.2080645161290322, 1.0825296398426674, 1.227348712805082, 1.2039683680805175, 1.0747830782506498, 1.2533733133433282, 1.0099903319368353, 1.414715719063545, 1.1540788490006486, 1.1216069489685125, 1.1317764804003336, 1.0065075921908895, 1.0539070227497527, 53.85481239804241, 1.379431929480901, 1.2777777777777777, 1.125, 1.0580411124546554, 1.6084851936218678, 1.0608562691131498, 1.3317132442284325, 1.4285714285714286, 1.065112540192926, 1.0145544905928292, 1.2214285714285715, 1.250635891441601, 2.0, 1.2064355849994084, 1.5, 1.1734892787524367, 1.1333333333333333, 1.0253374989251627, 1.1612903225806452, 1.1696113074204948, 1.0079016681299386, 1.0, 1.0708511834376877, 1.1095791001451378, 1.5, 1.3333333333333333, 1.105263157894737, 1.493103448275862, 1.0176991150442478, 1.2409766454352442, 1.0984375, 3.054054054054054, 1.2386706948640482, 1.5643564356435644, 1.3020408163265307, 1.4285714285714286, 1.2692307692307692, 1.0, 1.158953722334004, 1.0419580419580419, 1.1286067600989282, 1.1281599668462494, 1.0982559033614558, 1.1480061077376513, 1.112329522817126, 1.4605624638519374, 1.191263282172373, 1.03150826446281, 1.375, 4.0, 1.0, 1.2601426728390377, 1.0006540222367561, 1.0933333333333333, 1.4166666666666667, 1.012690672668167, 1.172963210702341, 1.0222636751916843, 1.0769230769230769, 1.0, 1.1978021978021978, 1.3425238600212088, 1.0535938627676351, 1.0013561160835367, 1.1710526315789473, 1.035716473687435, 1.1746260624092446, 1.0028381195776448, 1.0810408921933086, 1.305390909005514, 1.0410094637223974, 1.069155206286837, 57.61814744801512, 1.0294737347603984, 34.0, 1.0125813449023862, 1.0, 1.0292397660818713, 1.0373288052555394, 1.2037037037037037, 1.0903699222808148, 1.194915254237288, 1.1025641025641026, 1.0402269497632175, 1.0792501802451333, 1.2942832564323141, 1.0045078888054095, 1.2360953461975028, 1.2490415022528196, 1.0071428571428571, 1.5714285714285714, 1.0, 1.0, 1.050928604201161, 1.6666666666666667, 1.600502512562814, 1.104972498719576, 1.0121951219512195, 1.0591494215414698, 1.0587050867124355, 1.2905680600214362, 1.2406876790830945, 1.2662968099861305, 1.1240803082857693, 1.353299587551556, 1.0502377087198516, 1.2586363079936345, 1.4285714285714286, 54.46367346938776, 1.1778656126482214, 1.1161186184041367, 1.1986970684039089, 1.3228803716608595, 1.1929203539823008, 1.8387096774193548, 1.1802841593922349, 1.3073825503355705, 1.0409121925651954, 1.375, 1.0543784898538882, 1.0624552214838057, 1.0544472152950957, 1.034025178632188, 1.5172413793103448, 1.0165289256198347, 1.5717099373321397, 1.044083786376719, 1.0012127091923357, 1.016990993048587, 1.1379310344827587, 1.029188181296615, 1.1263223397635345, 1.2347560975609757, 1.1074950690335306, 1.238146551724138, 1.1304836895388077, 1.0927218344965104, 1.0585944442298034, 1.0665399239543727, 1.0723375333802505, 1.0562109646079112, 1.2222222222222223, 1.0970797158642462, 1.1529595624145341, 1.2529713067106023, 1.0367027677496992, 1.3602015113350125, 1.3365500603136309, 1.039935064935065, 1.141304347826087, 1.0670667084620782, 1.0, 1.1022530329289428, 1.232845580319764, 1.0533131879991366, 1.1531986531986531, 1.1207009660750393, 1.3533685478639608, 1.091467576791809, 1.0955555555555556, 1.1067048841261828, 1.0769564627695647, 1.2148499210110584, 1.1837837837837837, 1.2085816448152562, 1.0677490539096746, 1.018348623853211, 1.4, 1.0599949287305526, 1.1773882818920338, 1.1268765133171912, 1.028169014084507, 1.4923968139029689, 1.0054160512063024, 1.3896542029800394, 1.2930756843800322, 1.5769230769230769, 1.0365344467640918, 77.02564102564102, 1.185483870967742, 1.34375, 1.132208415086113, 1.4321110009910802, 1.157162726008345, 1.2926829268292683, 1.012448132780083, 1.0946652719665273, 1.0792079207920793, 1.8214285714285714, 1.0458204334365324, 1.2657004830917875, 1.0666296501943364, 1.1666666666666667, 1.0065862143719868, 2286.5, 1.1279554937413074, 1.3363636363636364, 1.1379310344827587, 1.277794248443522, 1.1322866095100368, 1.1277849441816763, 1.6490909090909092, 1.0303030303030303, 1.0625, 1.1935483870967742, 1.2702702702702702, 1.0857142857142856, 1.0820224719101124, 1.034420102769071, 1.03314935792891, 1.393162393162393, 1.0646960338469196, 1.0477531580037274, 2.5, 1.0190936294308781, 1.0133260535468738, 1.5, 1.6, 1.2267584849975406, 1.1110065851364064, 1.1289077852013292, 1.565217391304348, 1.0, 1.2538461538461538, 1.50920245398773, 2.3333333333333335, 1.11121473536955, 1.100456248981587, 1.0477680118133412, 1.020043392912491, 1.4285714285714286, 1.0373551221645694, 1.0569948186528497, 1.162051282051282, 1.0229374768775434, 1.2760180995475112, 1.0, 1.06993006993007, 1.0092833876221499, 1.2368456779348733, 1.0629629629629629, 1.157377049180328, 1.3273569252866446, 1.1299694189602447, 1.3016528925619835, 1.0869565217391304, 1.2657386825030965, 1.559255784865541, 1.1568764336292012, 1.3383084577114428, 1.4313725490196079, 47.375, 1.0, 1.1164755582377792, 1.183431952662722, 1.012790583859443, 1.3176855895196506, 1.5, 1.1552600703949942, 1.025143325143325, 1.1716062934504208, 1.3205602022952734, 1.0232963836378846, 1.0680489841358196, 1.1018854748603353, 1.2610722610722611, 1.3214285714285714, 1.0669807059430858, 1.1360083509433, 1.2757807896287567, 1.0617283950617284, 1.6666666666666667, 1.1411764705882352, 1.1266934300870701, 1.0061728395061729, 1.1808283285235162, 1.0906594965804932, 1.1441595441595442, 1.6, 1.091121495327103, 1.2200399210401527, 1.1536727409355627, 1.02555910543131, 1.070543369939516, 1.2006369426751593, 1.1143092105263157, 1.1207215541165587, 1.033829470870068, 1.0926729057292857, 1.0736648250460405, 1.041426927502877, 1.3421052631578947, 1.0049555707450444, 1.6097304648862512, 1.069624981323771, 1.0278637770897834, 1.118537859007833, 1.2239031770045385, 1.2421875, 1.0021231422505308, 1.6666666666666667, 2.5, 1.3529411764705883, 1.0811965811965811, 1.0319284802043422, 1.002787904782329, 1.0563579927573719, 1.100821508588499, 1.0209132101777623, 1.3858695652173914, 1.1407407407407408, 1.0099204149947905, 1.3333333333333333, 1.375, 1.267064280980782, 1.125, 1.1238348868175765, 1.1855203619909502, 1.4188373141054529, 1.080190767497082, 2.0, 1.084829721362229, 1.453327922077922, 1.0592163999725293, 1.0413128308009134, 1.2910101946246524, 1.1311945001432255, 1.2251545630709606, 1.1012590121596901, 1.2384737678855327, 1.2380952380952381, 1.1102088167053363, 1.0, 13.0, 1.0430229717424617, 9.0, 1.8571428571428572, 1.96875, 1.005050505050505, 1.017100977198697, 1.120571783716594, 1.1680672268907564, 1.0227561943259227, 1.0454545454545454, 1.1363636363636365, 1.0]
origin-bjaq_15.71 	max: 2286.5000	99th: 57.6346	95th: 2.5062	median: 1.1281	mean: 5.1406

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.053049 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[-2.9802322e-08  0.0000000e+00  5.9604645e-08  1.7881393e-07
  4.4363737e-04]
Distance score: 8.87692003743723e-05
SAUCE Drift detection: True
Detection latency: 0.0412s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.0218 nats / 36.0988 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.092346 | Model-update-time: 2.527476


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 93.0000	99th: 66.7597	95th: 2.6833	median: 1.1387	mean: 3.3433
ReportEsts: [1.3238095238095238, 1.0263490725126476, 1.0565432623003945, 1.1692307692307693, 1.25, 1.0, 1.0470360824742269, 1.030457520158934, 1.2, 1.0343392299687826, 1.0687564826552955, 1.042968484774848, 1.0970260223048327, 1.0017152658662092, 1.124465811965812, 1.250814332247557, 1.1702786377708978, 1.5416666666666667, 1.0, 1.0052199850857568, 1.1155648741983226, 1.077746543326905, 1.087696335078534, 1.245490981963928, 1.0052875849494447, 1.0288357596343263, 2.0, 1.1780687018478828, 1.0, 1.4, 1.3529411764705883, 1.0, 1.0380100867966062, 1.0078919800353712, 1.4317425083240845, 1.2681744749596122, 1.224150421496312, 1.1857451403887689, 5.5, 1.1503199880934663, 1.2769828064337216, 1.0955309081853533, 1.358611825192802, 1.0666867833433917, 1.0119863013698631, 1.172145823016266, 1.173913043478261, 1.1295399515738498, 1.3904761904761904, 1.0026229508196722, 2.107142857142857, 1.2034632034632036, 1.0074906367041199, 1.0833333333333333, 1.0382051221859667, 1.0068637391779112, 1.105263157894737, 1.0783783783783785, 1.0194174757281553, 1.0747474213637045, 1.8363636363636364, 1.127851730327223, 1.2089041095890412, 1.4772727272727273, 1.1142857142857143, 86.57142857142857, 1.0550320392009047, 1.0068694798822375, 1.0420168067226891, 1.5454545454545454, 1.3976897689768977, 1.2494033412887828, 1.0675925925925926, 1.0350553505535056, 1.1672441414254313, 1.0020732550103664, 1.0103904763227716, 1.315217391304348, 1.4537037037037037, 1.074766355140187, 1.022801302931596, 1.1428571428571428, 1.0, 73.18181818181819, 1.3374149659863945, 1.4901960784313726, 1.3444444444444446, 1.0555555555555556, 55.142857142857146, 1.0788963888972969, 1.099406108597285, 1.2506260434056762, 1.0856413994169096, 1.5008393956351427, 1.207161125319693, 1.329593267882188, 1.236734693877551, 1.1166666666666667, 1.411764705882353, 1.3257692307692308, 1.0666666666666667, 22.0, 1.3475687796287386, 1.16580310880829, 1.1318758815232721, 1.2254103967168262, 1.696969696969697, 1.0082852090469536, 1.0883438246147168, 1.0806550917374707, 1.135588147261299, 1.0383872525350073, 1.6666666666666667, 52.46153846153846, 1.0967924528301887, 1.0988231939078785, 1.0436769933976637, 1.0714285714285714, 1.0677958504736198, 2.0, 1.077928483353884, 1.2003561887800533, 1.0, 1.3186813186813187, 1.1428571428571428, 1.4611528822055138, 1.0123032198980007, 1.0683036802339752, 1.1517857142857142, 1.5, 1.098565190268247, 1.0, 54.6, 1.3115292561793392, 1.0, 1.1096849474912485, 1.1754018169112508, 1.041608379066681, 1.1106408706166868, 1.034435261707989, 1.0365665092565506, 1.255731922398589, 1.1694915254237288, 1.3333333333333333, 1.1384615384615384, 1.3665440135861873, 3.0, 1.0197274031563845, 1.296, 1.0862068965517242, 1.3815069701782248, 1.5, 1.259322033898305, 1.2385185185185186, 1.0098684210526316, 76.05263157894737, 1.0, 1.046204620462046, 1.0967921637806972, 1.0888267652628731, 1.025236593059937, 1.1756373937677054, 1.2741935483870968, 1.0866141732283465, 1.0261282660332542, 1.7142857142857142, 1.0426629941840018, 43.333333333333336, 1.319426336375489, 1.1054187192118226, 1.1745689655172413, 1.039048830920948, 63.5438373570521, 1.0987394957983194, 1.0517958412098298, 1.0815649867374004, 1.0116279069767442, 1.0091813312930376, 1.0633890691290242, 1.063975505599871, 1.2124241605462898, 1.183431952662722, 1.1170824808798694, 1.0578947368421052, 1.1212475178133396, 1.625, 1.079356270810211, 1.355263157894737, 1.2028974173493128, 1.3416120676519885, 1.025269242568582, 1.078125, 1.0018115942028984, 1.231541920175787, 1.0, 1.5454545454545454, 1.0245396815266299, 55.40213523131673, 1.151098901098901, 1.7077625570776256, 1.2616446373701409, 1.2556441140379093, 1.0705423703027537, 1.054561717352415, 1.0284951024042743, 1.0265582655826557, 1.0512192029751088, 1.0727038605353738, 1.358974358974359, 1.4183006535947713, 1.1065496709495457, 1.3461538461538463, 1.4252873563218391, 1.000772797527048, 61.15384615384615, 1.0417173428809599, 1.326086956521739, 1.2034561951733744, 53.73936170212766, 1.103225806451613, 1.0426891615541922, 1.0666795581995836, 1.2784654883891524, 1.6571428571428573, 1.5715288132619947, 1.0890581426729438, 1.0909090909090908, 1.3322784810126582, 1.3618290258449304, 1.0143149284253579, 1.0882639740807147, 1.0943396226415094, 1.0055612944591874, 1.177132475752337, 1.0979827089337175, 1.0774840474020055, 1.236241610738255, 1.0, 1.4456692913385827, 2.0, 1.0042714760322733, 1.0218643998528751, 1.4791373652133146, 1.1455223880597014, 1.25, 2.0, 1.4415856433595367, 1.0, 1.1179697822715, 1.2, 1.0, 1.012962962962963, 1.0, 1.010716431360769, 1.0415754923413567, 1.4124472573839661, 56.21818181818182, 1.0161453077699294, 1.395907938290006, 1.2456140350877194, 2.0, 1.3724322990561963, 1.0064162840865092, 1.4851138353765323, 1.2471726905951461, 1.083303702951186, 1.0142981737452759, 1.08125, 1.0055246508904363, 1.0348948374760993, 1.0574067578627382, 1.1887510745425518, 1.2532751091703056, 1.1712381801543912, 1.786447638603696, 1.4444444444444444, 2.1904761904761907, 1.0786516853932584, 1.0161290322580645, 1.068818494773079, 34.5, 1.0264927192462279, 1.4273356401384083, 1.374015748031496, 1.0273124613995914, 1.070931849791377, 1.290816821942731, 1.053601503359512, 1.1, 1.0707648320228735, 1.0089837170129141, 1.1668409704200076, 1.0464555980034838, 1.0950969313629093, 1.0106547137923434, 1.1812865497076024, 1.0412659436600504, 1.3053980170549595, 1.0407020654779495, 1.0020824708642253, 1.2121212121212122, 6.0, 1.4545454545454546, 1.0706583427922816, 91.0, 1.0565371024734982, 1.2379510253526003, 1.367081367081367, 1.5405405405405406, 1.396039603960396, 1.0417070805043647, 1.2189644416718652, 1.1776006539955037, 1.25, 1.1536241536241536, 1.0388835955172704, 1.1283422459893049, 50.0, 5.333333333333333, 1.010502471169687, 1.5714285714285714, 1.0565042139978014, 1.0689149560117301, 6.0, 1.0738845429310862, 1.1560693641618498, 1.8461538461538463, 1.0915263282732448, 2.0, 57.652482269503544, 1.3037790697674418, 1.3746031746031746, 1.0833333333333333, 1.195822454308094, 1.098901098901099, 1.110837359270725, 1.0728928798862738, 1.0833333333333333, 1.0291581438254522, 1.130283325592197, 3.0, 1.2222222222222223, 1.320962544847917, 1.5, 1.072598494909252, 1.0740740740740742, 93.0, 1.85, 1.7801204819277108, 1.133630289532294, 1.25, 1.4012629161882892, 1.5070422535211268, 1.3333333333333333, 1.3488716422937659, 1.0384615384615385, 1.4642857142857142, 1.2895882214922572, 1.1434782608695653, 1.2746160794941284, 1.0292812777284828, 1.75, 1.0, 1.4835423197492164, 1.3863636363636365, 1.1390086206896552, 1.1295059182209468, 1.1675688126223656, 1.2303206997084548, 1.5, 1.0277635431411056, 71.74025974025975, 1.0909090909090908, 43.5, 1.3897338403041826, 1.0, 1.1783132530120481, 1.073394495412844, 1.1489312642671032, 1.0933888981036104, 1.0636042402826855, 1.0386294755226795, 1.1278858625162127, 45.3003663003663, 1.0448807854137447, 1.442121784227646, 1.165016501650165, 1.2, 1.0138192254576044, 1.0663334523384504, 1.040698795180723, 1.3542857142857143, 1.3428571428571427, 1.004255319148936, 2.0, 1.2142857142857142, 1.116428900138058, 1.4220183486238531, 2.532710280373832, 56.18087318087318, 1.085655314757482, 1.048062015503876, 1.1987979715770363, 1.1379564736259682, 1.3531746031746033, 1.4805194805194806, 1.32, 1.1312849162011174, 1.0, 1.198571839143988, 1.2181818181818183, 1.111492033705635, 1.1318399227697573, 1.2214572576018359, 1.0457233848953593, 1.375, 1.3024193548387097, 1.0, 1.0087252124645891, 1.0909090909090908, 1.1248218865773725, 1.2681159420289856, 1.0811015028125261, 1.1018518518518519, 1.1272974812797822, 3.0, 1.0392501464557704, 1.0154556035713327, 1.1940881818682225, 2.0, 1.2465753424657535, 1.2469604863221884, 1.0, 1.0763953451094797, 1.0518008486692363, 1.1904761904761905, 1.0440165061898212, 1.2405870942108583, 1.1962599380388936, 1.2086894639149541, 1.1669480853986607, 1.0931919642857142, 1.2727272727272727, 1.1743820224719101, 1.3750585860042543, 1.0740740740740742, 1.0771573604060913, 1.4285714285714286, 1.5, 1.4737254901960783, 1.1837606837606838, 1.0561724363161333, 1.1330737082066868, 1.1332312404287903, 1.0, 1.1416666666666666, 1.0285714285714285, 1.0373079287031346, 1.1363636363636365, 1.0, 1.0420548309821667, 1.0, 1.0, 1.0021375133594586, 1.1666666666666667, 1.0171516079632466, 1.0423242467718794, 1.360655737704918, 1.4444444444444444, 65.3587786259542, 1.453004622496148, 1.0582220367278798, 1.5, 1.366412213740458, 1.042857142857143, 1.0971184631803628, 1.0490516677567037, 1.086036378726053, 1.129287598944591, 1.0, 1.1756756756756757, 1.8010406470557931, 1.1517343416077592, 1.0180722891566265, 1.25, 1.0358625269799104, 1.0113917262040524, 1.0044660982541616, 2.0, 1.111752201639842, 1.1663410385575068, 1.031201248049922, 1.1135957066189623, 1.080728875209849, 1.0079782548511314, 1.0072992700729928, 1.0796302340762847, 1.5, 1.11395244504262, 1.0422535211267605, 1.0728614249481208, 1.3745863666446063, 1.276190476190476, 1.0439106251454455, 1.0536303630363035, 1.1370098003734854, 1.0112485939257594, 1.059936491135221, 1.0372050816696914, 1.4247504632120016, 1.7130708211248482, 1.4456521739130435, 1.703125, 1.0688538821869744, 1.0310679611650486, 1.100803264057121, 1.07525589014326, 1.0, 1.401366742596811, 1.134020618556701, 2.6666666666666665, 1.6363636363636365, 1.1980744760029771, 1.2040816326530612, 1.0292497625830959, 1.0, 1.1666666666666667, 1.0084672166739037, 2.093941632803842, 1.0919540229885059, 3.0, 1.25, 1.2484662576687116, 1.143362831858407, 1.1291946308724832, 1.0982236154649947, 1.0293637846655792, 1.0269058295964126, 1.1233031674208145, 1.1923076923076923, 1.0805508985788823, 1.1418918918918919, 1.0535820553902495, 2.0, 1.126092384519351, 1.2341269841269842, 1.212242480279696, 1.1355932203389831, 1.2352297592997812, 1.0935251798561152, 56.54509283819629, 1.1320702560176916, 1.0, 1.8297872340425532, 2.5, 1.0, 1.4090909090909092, 10.727272727272727, 1.279320987654321, 1.1162790697674418, 1.0238878732480194, 1.1232014388489209, 1.1077874973330488, 1.175181809813127, 1.0226730950537701, 1.04153206774591, 1.054056680850547, 1.3550687722873154, 1.1875033011144562, 1.07568432278706, 1.4463028169014085, 1.3368010403120936, 1.1342364532019704, 1.2876712328767124, 1.0362720209246865, 1.0579710144927537, 1.0773744041070774, 1.0104166666666667, 1.5724157788655342, 1.0702836004932184, 62.54545454545455, 1.1428571428571428, 1.3333333333333333, 1.13718765311122, 1.1092495883926734, 1.0943687463302725, 1.1744571218255428, 1.1864389515143283, 1.75, 1.0059147180192571, 1.4332591768631813, 1.0271084337349397, 1.2936507936507937, 1.0197839564478182, 1.0175150519978107, 1.009196533323241, 1.1496062992125984, 1.1377450980392156, 1.0634809395844573, 1.0278593294536793, 1.21875, 1.095646879756469, 1.565217391304348, 1.019024481739177, 1.1293663588841663, 1.467605633802817, 1.0, 1.1763710223425863, 1.013553329404832, 1.25, 1.2058411975268468, 3.0, 1.0844036697247705, 1.189765089793184, 1.7142857142857142, 1.025057277921174, 1.4, 1.1578947368421053, 1.0857423183689097, 1.0705088902513795, 1.0650672482733552, 1.0000145181227653, 1.2137767220902613, 1.3333333333333333, 1.1724137931034482, 1.15625, 1.076295389636883, 1.054590570719603, 1.244063154086669, 1.1587026791443202, 1.0, 1.0499115655062337, 1.101948602089805, 7.0, 1.3100146931921544, 1.1164982011307178, 1.4087038789025543, 1.0089572993483584, 1.2479364146275749, 1.020979020979021, 2.0, 1.0083694978301303, 1.2435483870967743, 1.0973928437315594, 1.2289195254889387, 1.2302198826262267, 1.0562219841918503, 1.2252510760401722, 1.0485436893203883, 1.5384615384615385, 1.1533199195171027, 1.1365546218487395, 1.034934497816594, 1.0556709597008724, 1.082778306374881, 66.74392220421394, 1.2852105778648384, 1.5, 1.25, 1.0921658986175116, 1.628618693134822, 1.0464369158878504, 1.3965217391304348, 1.5333333333333334, 1.058466211085801, 1.009164969450102, 1.2857142857142858, 1.3139698558646065, 2.0, 1.1599196702251349, 1.1015952980688497, 1.0579439252336449, 1.2, 1.0202682318093306, 1.0909090909090908, 1.1020408163265305, 1.0708263069139967, 1.0, 1.141403454776286, 1.0307390451275342, 1.75, 1.3333333333333333, 1.1353383458646618, 1.5551724137931036, 1.0582895365504061, 1.2217782217782218, 1.1421875, 3.4210526315789473, 1.3081570996978853, 1.614678899082569, 1.3614457831325302, 1.3755102040816327, 1.4230769230769231, 1.0, 1.1096579476861168, 1.0466666666666666, 1.04, 1.3001746419839328, 1.0773296369610634, 1.1822526301313347, 1.0689989482405062, 1.568139097744361, 1.2255813953488373, 56.958333333333336, 69.0952380952381, 3.5, 54.84782608695652, 1.3267283903771723, 1.0754467240238252, 1.0892857142857142, 1.100204498977505, 1.0349240521468723, 1.219505016722408, 1.0167528174747187, 1.141025641025641, 1.0454545454545454, 1.2367491166077738, 1.2788971367974549, 1.0612147483035324, 1.0283765057030168, 1.256578947368421, 1.0522541585846117, 1.2240283859868626, 1.0042460746372248, 1.0658082975679541, 1.374113491832383, 1.2463768115942029, 1.1135918527222874, 70.78119180633148, 1.0364336347019, 43.0, 68.32124874118831, 1.0668761685515746, 1.0143561484918793, 1.0219526919488502, 2.111111111111111, 1.0229357798165137, 1.118457300275482, 1.143716577540107, 1.2626959127228028, 1.047373304559055, 1.289049345015554, 1.0686405693950178, 1.0428534770336155, 47.541666666666664, 1.2530631857131416, 1.0982142857142858, 1.9285714285714286, 1.0, 1.1111111111111112, 1.058291937332824, 1.6666666666666667, 1.6381983755845435, 1.117997438087105, 1.0231522707034728, 1.0551131928181108, 1.060724389151639, 1.29978563772776, 1.2682926829268293, 1.3134535367545077, 1.1153906745166715, 1.4451396700412449, 1.0554873723890053, 1.2346060265768295, 1.25, 66.43450479233226, 1.1610486891385767, 1.0910483275442386, 1.228013029315961, 1.2754401030485187, 1.2141592920353983, 1.78125, 1.1719931334234268, 1.3100671140939597, 1.043652147541605, 1.4375, 1.0776184814788914, 1.0736613819922225, 1.0700126528890763, 1.0288867250892568, 1.1521739130434783, 1.0403225806451613, 1.7415865384615385, 1.0109223120872597, 1.028291124800365, 1.0164239101575783, 1.0, 1.076889910893935, 1.001787842669845, 1.3048780487804879, 1.1315726861765405, 1.2413793103448276, 1.1979752530933634, 1.0847939365229748, 1.079002536556252, 1.064604185623294, 1.0316842664694872, 1.071992982407285, 1.8571428571428572, 1.1617995264404104, 1.2516116428990036, 1.3095146131067337, 1.0291929021179165, 1.2871536523929472, 1.3474065138721352, 1.2444858651755204, 1.072992700729927, 1.117388500272858, 1.0093457943925233, 1.1, 1.2228458737864079, 1.0396565821749795, 1.1408227848101267, 1.0581961511708788, 1.479089522979743, 1.0536148238153098, 1.2294350842418236, 1.0972651493865317, 1.0681025799953514, 1.1483180428134556, 1.2594594594594595, 1.2728337236533958, 1.0717058885253408, 1.0, 1.4, 1.0488123250261925, 1.1728514118191637, 1.1477008824895494, 1.0, 1.4905865314989137, 1.00150844563794, 1.4366038796738825, 1.2093837535014005, 1.6153846153846154, 1.033811475409836, 83.42222222222222, 1.2025974025974027, 1.162162162162162, 1.1523636962609125, 1.512388503468781, 1.1651131824234353, 1.2682926829268293, 1.0992063492063493, 1.030626011872639, 1.0145294651818573, 1.1738148984198646, 1.088413148077545, 1.108645888360627, 1.0714285714285714, 1.3333333333333333, 1.0722007722007723, 1.6923076923076923, 1.25, 1.0666666666666667, 1.3443708609271523, 1.021709633649932, 1.2572220500636986, 1.245441370853439, 1.2618181818181817, 1.0461538461538462, 1.125, 1.3870967741935485, 1.337837837837838, 1.2285714285714286, 1.0899319240415621, 1.0221412491006567, 1.0631291691934506, 1.401639344262295, 1.0587976945057447, 1.0483517443476464, 2.5, 1.0190649901391913, 1.0074896140118195, 1.5, 1.6, 1.210240679565833, 1.1026087934330373, 1.1541915276239476, 1.5093167701863355, 1.0, 1.3543307086614174, 1.5337423312883436, 2.0, 1.1729277566539924, 1.1078041296094034, 1.0377841072375102, 1.0845756008518406, 1.4285714285714286, 1.0228356834733217, 1.0578358208955223, 1.2697435897435898, 1.0726319730438039, 1.3778026905829597, 1.0, 1.014388489208633, 1.132899022801303, 1.3080622951455558, 1.0722021660649819, 1.107936507936508, 1.3357501844337882, 1.1511111111111112, 1.3677685950413223, 1.0, 1.3475361178658274, 1.4666195333804666, 1.4615384615384615, 1.0426890421284096, 1.0980392156862746, 1.1457308895842646, 1.1736785329018338, 1.0, 1.133527696793003, 1.2248520710059172, 1.0019116826090833, 1.287117903930131, 1.5, 1.1459499813363194, 1.0182284685788687, 1.1920506507210693, 1.3775530052518965, 1.029130031173106, 1.1083934776797648, 1.1156716417910448, 1.1350806451612903, 1.28125, 1.0868598257861246, 1.0569174461163073, 1.2045959970348405, 1.126865671641791, 1.6666666666666667, 1.10752688172043, 1.1592180432050556, 1.024024024024024, 1.2591373527805942, 1.0726276030350637, 1.180722891566265, 1.6, 1.1728971962616823, 1.2231277363005768, 1.1769465923395073, 1.0434782608695652, 1.06300195816897, 1.2929936305732483, 1.2345201238390093, 1.1582476531068395, 1.0335375248759442, 1.1037673858284964, 1.0953221535745807, 1.0, 1.425, 1.033922261484099, 1.9387041995950625, 1.018853111844351, 1.0187747035573123, 1.0841030627126884, 1.294251134644478, 1.25, 1.0084925690021231, 1.6666666666666667, 2.5, 1.4705882352941178, 1.0283687943262412, 2.2, 1.9936808846761453, 1.0526315789473684, 1.0952380952380953, 1.185654527559055, 1.3333333333333333, 1.4312267657992566, 1.1751824817518248, 1.022182509137299, 1.3333333333333333, 1.4705882352941178, 1.1322990126939352, 1.125, 1.1824234354194407, 1.1689163131507907, 1.3122127084272195, 1.0730129746550594, 2.0, 1.2959752321981424, 1.537509667440062, 1.025631903229458, 1.0429857576431067, 1.3488168273444348, 1.1365009612743753, 1.2598811212670822, 1.1038416012052081, 1.2813990461049285, 1.1894736842105262, 1.0894854586129754, 1.0, 15.0, 1.0432958663254768, 10.0, 1.8571428571428572, 1.9696969696969697, 1.0604508196721312, 1.0168871000423674, 1.1115702479338843]
origin-bjaq_15.71 	max: 93.0000	99th: 66.7597	95th: 2.6833	median: 1.1387	mean: 3.3433

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.015912 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[-2.9802322e-08  1.1920929e-07  0.0000000e+00  2.3841858e-07
  4.0197372e-04]
Distance score: 8.046031143749133e-05
SAUCE Drift detection: True
Detection latency: 0.0405s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.0277 nats / 36.1073 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.105226 | Model-update-time: 2.538850


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 255.0000	99th: 77.6294	95th: 3.0000	median: 1.1476	mean: 4.1551
ReportEsts: [1.3142857142857143, 1.0350628293473856, 1.0626103092123855, 1.2384615384615385, 1.1111111111111112, 1.0, 1.092020315055522, 1.0670634502743472, 1.2, 1.0443548387096775, 1.170224557203343, 1.0431153092629635, 1.0075040783034257, 1.0390879478827362, 1.1378784024421267, 1.246875, 1.1904761904761905, 1.6666666666666667, 1.0909090909090908, 1.012720848056537, 1.2646768623581648, 1.1702463414228998, 1.083645443196005, 1.3286573146292586, 1.0155238079933149, 1.0262532028119047, 2.0, 1.15658246494626, 1.5, 1.6, 1.1428571428571428, 1.0, 1.0510592897424174, 1.0126817204851934, 1.3751387347391786, 1.3169334704068145, 1.2299752270850537, 1.1586638830897704, 6.5, 1.206028721740367, 1.4608985024958403, 1.095368173206041, 1.3768472906403941, 1.0643191821666904, 1.0546075085324231, 1.2580854062702373, 1.25, 1.107921928817451, 1.197674418604651, 1.0364583333333333, 2.2413793103448274, 1.157258064516129, 1.0071428571428571, 1.105263157894737, 1.0633716634340076, 1.0145484697723504, 2.1832629749192947, 1.2108108108108109, 1.0185185185185186, 1.0753746545064196, 1.8727272727272728, 1.101110452603013, 1.2345890410958904, 1.3818181818181818, 1.1296296296296295, 91.625, 1.1678483353884093, 1.02306182531894, 1.0564516129032258, 1.6363636363636365, 1.2392458842272969, 1.3400954653937946, 1.0629991126885536, 1.0354609929078014, 1.138556715283058, 1.01546738399462, 1.0145744617045522, 1.1428571428571428, 1.0528206471690325, 1.0746720484359233, 1.0905730129390019, 1.0215659229694434, 1.7142857142857142, 1.3855069490743115, 1.0982142857142858, 1.0831758034026464, 1.0080187103240896, 1.096774193548387, 1.0716378358483623, 1.0139039364391478, 1.0968992248062015, 1.4, 1.1229476899579993, 1.032684135977337, 1.0125, 1.305750350631136, 1.1594202898550725, 1.1614401858304297, 1.3888888888888888, 1.3466963622865626, 1.0, 13.5, 1.407834785546807, 1.2180566182096404, 1.1282401091405183, 1.2318309394089484, 1.7142857142857142, 1.005282984850857, 1.109460025115111, 1.0126010754012231, 1.0833810888252149, 1.0425630349294472, 1.6666666666666667, 51.0, 1.0741212893826262, 1.0832588080453565, 1.06640625, 1.0471698113207548, 1.0709807809274772, 2.0, 1.0637996219281665, 1.190556492411467, 1.0, 1.401098901098901, 1.2857142857142858, 1.5037593984962405, 1.0201187441515278, 1.0122065179301483, 1.1964285714285714, 1.5, 1.2381738947072467, 1.4482758620689655, 1.2883172561629153, 1.3580481580626278, 1.1272746967071057, 1.0, 1.1644204851752022, 1.1447325769854133, 1.5727272727272728, 1.03125, 1.1634615384615385, 1.0036706869428422, 1.0767452612112807, 1.3045787247885492, 1.0123456790123457, 1.0421263791374122, 1.084613034906001, 3.0, 1.0068799449604404, 68.92688821752266, 1.0650737163192678, 1.4718545967884242, 1.5, 1.0758461718780523, 1.231111111111111, 1.0239234449760766, 89.43726937269372, 4.0, 1.0429245283018869, 1.1410182205449957, 1.1610605104157272, 1.0014858841010401, 1.18005540166205, 1.2769230769230768, 1.104, 1.0377142857142858, 1.290400972053463, 1.375, 1.576086956521739, 1.588946610206487, 1.1450381679389312, 1.2352941176470589, 1.1147017591462036, 1.3076923076923077, 1.0373339441136051, 1.0801186943620178, 1.2997112275965974, 1.1, 1.1936872309899569, 1.588235294117647, 1.194057027739036, 1.1874389392882065, 1.1507280355380058, 1.0655744219653178, 1.0836247086247086, 1.0837084673097535, 1.6470588235294117, 1.1442841287458378, 1.5263157894736843, 1.2197623784676601, 1.2654673102237823, 1.0074547709039843, 1.0588235294117647, 1.1752433936022253, 1.0504147491278453, 2.285414480587618, 2.0, 1.2318968331700946, 1.2857142857142858, 1.1519395946780442, 1.719551627505928, 1.0007610350076104, 1.292743953294412, 1.0010752688172042, 1.056304537364625, 1.051524259338772, 1.0245346869712353, 1.0351521511017838, 1.0569165441776907, 1.0742667055456043, 1.0344827586206897, 1.0708631737655485, 1.0515954244431065, 1.3253968253968254, 1.632183908045977, 1.0052025269416573, 68.42857142857143, 1.0390922329302812, 1.3396739130434783, 1.217703521939954, 61.94358974358974, 1.064066852367688, 1.0429373017809223, 1.0474812760661179, 1.2915205281617494, 1.8055555555555556, 1.6540284360189574, 1.0362095862374947, 1.2380952380952381, 1.3132911392405062, 1.385685884691849, 1.0935816859025635, 1.0489427757599505, 1.2413793103448276, 1.0060819783965733, 1.2597767535927504, 1.0883977900552486, 1.0318072289156626, 1.3610738255033556, 1.0, 1.437007874015748, 2.0, 1.0366257088846882, 1.0057805710738672, 1.390295358649789, 1.1156716417910448, 1.25, 2.0, 1.4524778435583185, 1.103896103896104, 1.0884075885419466, 1.2, 1.0109990834097158, 1.0685061845861086, 1.125, 1.0068603829118032, 1.01417004048583, 1.4303797468354431, 62.779661016949156, 1.0135746606334841, 1.4567662259731713, 1.280701754385965, 2.0, 1.3853967470647504, 1.0130711951572293, 1.4658493870402802, 1.3513807303969732, 1.1657946868491897, 1.0535452999564994, 1.0711722488038278, 1.0224110710937886, 1.024390243902439, 1.0376917078242787, 1.3181874002210487, 1.209486166007905, 1.2470377061873812, 1.656794425087108, 1.511111111111111, 2.3181818181818183, 1.2226277372262773, 1.1134453781512605, 1.0627763309308946, 27.333333333333332, 1.03149660156913, 1.4792387543252594, 1.3598484848484849, 1.0063122789920023, 1.0783657066309444, 1.3757875719252433, 1.0607025195251416, 1.1, 1.0735900962861074, 1.0723085163363686, 1.2029918246651592, 1.0172019977923739, 1.0764690025091068, 1.0333874497070656, 1.196729688298416, 1.020756940806705, 1.2908727406258926, 1.018197180454069, 1.0855248532084898, 84.80076142131979, 8.0, 1.5454545454545454, 1.079890933878664, 1.0083194675540765, 1.6850828729281768, 1.1482847995121208, 255.0, 63.0, 1.12261227249676, 3.0, 1.4570405727923628, 1.3171912832929782, 1.1744548286604362, 1.1484774035042349, 1.0458855919241359, 1.0522648083623694, 60.0, 3.7777777777777777, 1.048086760793943, 1.5714285714285714, 1.0531621912608427, 1.0601398601398602, 7.0, 1.0580485773768216, 1.260115606936416, 1.8571428571428572, 1.0418515684774292, 1.3396409982001265, 1.0629581716257008, 1.0527208201892744, 1.241150442477876, 1.342507645259939, 1.0298013245033113, 1.2976501305483028, 1.2087912087912087, 1.1004310655240173, 1.0761183706741102, 1.0810185185185186, 1.0261554998208526, 1.1578352728505255, 3.0, 1.2222222222222223, 1.3964784387211773, 1.75, 1.0751592356687898, 1.0344827586206897, 107.0, 2.0, 1.7901606425702812, 1.1329113924050633, 1.1944444444444444, 1.4988571428571429, 1.5416666666666667, 1.3333333333333333, 1.3416401118553685, 1.037037037037037, 1.5178571428571428, 1.3158024401689348, 1.2565217391304349, 1.3568202348690153, 1.0367521367521368, 2.0, 1.0, 1.1878531073446328, 1.8257575757575757, 1.0218181818181817, 1.1279511912178564, 1.2023586465336713, 1.2973760932944607, 2.0, 1.0143730886850153, 77.625, 1.1379310344827587, 52.5, 1.0758426966292134, 1.0, 1.0469667318982387, 1.1333333333333333, 1.1596631146259186, 1.0860164403192527, 1.0528441602154157, 1.0713196596330727, 1.1338494194031714, 53.57039711191336, 1.0362903225806452, 1.4376634897527467, 1.1231003039513678, 1.3333333333333333, 1.0076518598210389, 1.0174472306797577, 1.0310728628800918, 1.2685714285714285, 1.4, 1.125531914893617, 2.0, 1.2619047619047619, 1.1521543985637344, 1.5, 1.9066666666666667, 59.962894248608535, 1.0686799805163176, 1.0291858678955452, 1.2793593302544757, 1.1117417523944662, 1.222794959908362, 1.084033613445378, 1.3181818181818181, 1.1983240223463687, 1.0, 1.1847283406754772, 1.2407407407407407, 1.1128047723095065, 1.1556512197180722, 1.2058711034614649, 1.0139995692440233, 1.375, 1.2554880896777207, 1.1666666666666667, 1.0007547169811322, 1.1818181818181819, 1.1325804939043451, 1.2058823529411764, 1.105775446638458, 1.1197604790419162, 1.4285714285714286, 1.2222222222222223, 1.054054054054054, 1.0, 1.0050807596734115, 1.0612966501635832, 1.092828794306829, 1.75, 1.1083104567007735, 1.1715210355987056, 1.4305555555555556, 1.4545454545454546, 1.0011346712999079, 1.4178168130489335, 1.0438498795617601, 1.2121212121212122, 1.1135055548119395, 1.087371885130489, 1.0385756676557865, 1.0210843373493976, 1.5595854922279793, 1.5231481481481481, 1.0505770536320433, 1.24, 1.9732142857142858, 1.3123909249563699, 1.1367521367521367, 1.1, 1.1009890681936492, 1.1413843888070692, 1.0, 1.0681818181818181, 1.0, 1.0015943514406105, 1.1818181818181819, 1.0, 1.0375478927203066, 1.0, 1.0, 1.01734906315059, 1.0, 1.0206124852767962, 1.0474226804123712, 1.3147540983606558, 1.4444444444444444, 74.53030303030303, 1.5331278890600923, 1.067480977172607, 1.5, 1.381294964028777, 1.0482758620689656, 68.0418410041841, 1.0742793791574279, 1.002840731070496, 1.5942028985507246, 4.5, 1.1333333333333333, 1.000512897495559, 1.0748521067246166, 1.022561863173217, 1.0, 1.0120006316121901, 1.0246736416034465, 1.0117050331642605, 77.46153846153847, 1.117512181140728, 1.3071653876936113, 1.035179640718563, 1.206618962432916, 1.0699672249946472, 1.0237383335956132, 1.0081915563957151, 1.0952606421356421, 2.0, 1.0669222044041147, 1.053932584269663, 1.07960088691796, 1.398411647915288, 1.33015873015873, 1.0537299127621942, 1.0799840827695981, 1.1448062418014866, 1.2305183037332368, 1.0583118906969158, 1.2850584307178632, 1.4440260594106749, 1.7947713301357833, 1.5104166666666667, 1.4805194805194806, 1.0466598733195152, 1.014760147601476, 1.0977410947002606, 1.0581050135317385, 1.0, 1.1539863325740318, 1.52233676975945, 3.0, 1.5681818181818181, 1.2174602171903086, 1.2384105960264902, 1.0104466858789625, 1.0, 1.2222222222222223, 1.0074937552039966, 2.2852367087242533, 1.1333333333333333, 3.0, 1.25, 1.2975460122699387, 1.224778761061947, 76.79359430604983, 1.0940940940940942, 1.006125574272588, 1.1032863849765258, 1.1177105831533478, 1.2142857142857142, 1.0780428507826296, 1.116564417177914, 1.1649063276620149, 2.0, 1.094602437608822, 1.2777777777777777, 1.161230745048727, 1.2324455205811138, 1.1903719912472648, 1.0223642172523961, 66.46484375, 1.0869505575261127, 1.0, 1.7446808510638299, 2.0, 1.0, 67.55059523809524, 13.090909090909092, 1.3873456790123457, 1.0929368029739777, 1.0120733689342931, 1.0932381352372953, 1.1372739916550765, 1.1712072532018838, 1.0239632309952296, 1.0508913407522655, 1.0756260409450675, 1.4355488418932527, 1.2030773842234102, 1.0940307791549555, 1.5249366018596788, 1.4291287386215865, 1.063758389261745, 1.3706293706293706, 1.0987439970446988, 1.1099033816425121, 1.0779872888795252, 1.005181347150259, 1.534696228044918, 1.0598943041691133, 75.18181818181819, 1.08, 1.6666666666666667, 1.0778706555213375, 1.0838700912128154, 1.1082550781588605, 1.1127138544112714, 1.187521409346709, 1.775, 1.0017182130584192, 1.4442335892348832, 1.032934131736527, 1.3650793650793651, 1.0219992429188223, 1.017875920084122, 1.0363331877093345, 1.1278195488721805, 1.1642441860465116, 1.0705788484554268, 1.0390617476672934, 1.2647058823529411, 1.0620472395220881, 1.1487179487179486, 1.391304347826087, 1.2025316455696202, 1.2733986250065936, 1.0913891145410235, 1.1078066914498141, 1.0724637681159421, 1.1735057250862873, 1.0, 1.003125, 69.1734693877551, 1.003955174686882, 1.9019607843137254, 1.32, 1.2726247864607467, 1.0303030303030303, 1.0601719197707737, 1.0898567732643427, 1.6109375, 1.1074660633484164, 1.216322849735092, 1.0490596892886346, 1.0497938471297177, 1.2, 1.296628077912532, 1.1517486846177654, 1.4444444444444444, 1.3278822567457074, 1.1162790697674418, 1.0354838709677419, 1.2890751200685178, 2.111111111111111, 1.1384364820846906, 1.1626764338038236, 1.3473389355742298, 1.4, 1.1234718826405867, 1.0851063829787233, 2.4285714285714284, 1.1980124835742445, 1.353225806451613, 1.0948200401627104, 1.2198473282442748, 1.2870334214870165, 1.045906003617871, 1.1115702479338843, 1.058227848101266, 1.4849498327759196, 1.192134249001069, 1.1495422177009156, 1.0255204835460041, 1.0329489291598024, 1.1494727189362677, 73.3075780089153, 1.4842311459353574, 1.5555555555555556, 1.375, 1.0484048404840485, 1.6343145054362238, 1.0569514237855946, 1.4772599663110613, 1.7333333333333334, 1.0782865583456425, 1.0184696569920844, 1.2571428571428571, 1.3881036852892998, 2.0, 1.2516259729182215, 1.0355699272433307, 1.4822695035460993, 1.0045811518324608, 1.0206638821719058, 1.0371052147158597, 1.0909090909090908, 1.211726384364821, 1.0503246753246753, 1.0, 1.1195466021645863, 1.0117724002616089, 1.75, 1.3333333333333333, 1.1804511278195489, 1.6310344827586207, 1.0779924028125758, 1.1782178217821782, 1.1222222222222222, 1.0292106898694842, 47.4, 1.4674329501915708, 1.0154241645244215, 1.2785714285714285, 1.379591836734694, 1.2692307692307692, 1.5, 1.267605633802817, 1.026567481402763, 1.0726256983240223, 1.3613769550199868, 1.0658115366761716, 1.1764819774758786, 1.1178279093119419, 1.5470647773279351, 1.2244444444444444, 65.6, 79.0, 3.5, 65.16417910447761, 1.3196554602716855, 1.0709838107098382, 1.0880195599022005, 1.1411290322580645, 1.0207999083199633, 1.2728160535117057, 1.0075615336712156, 1.1666666666666667, 1.0454545454545454, 1.2852233676975946, 1.3704268292682926, 1.0674771733579143, 1.0279744572158365, 1.3092105263157894, 1.0946274221795378, 1.260815475132592, 1.0046029800736973, 1.0860881542699725, 1.4063330734474953, 1.0950920245398772, 1.145784996133024, 80.15228873239437, 1.0233757172719358, 51.5, 78.06532180595582, 1.0845181768468104, 1.0289009309434487, 1.0877748077027984, 2.2222222222222223, 1.0221238938053097, 1.1680440771349863, 1.1057438098237238, 1.236669771440854, 1.0347951654699028, 1.3148540796798887, 1.0871920203465268, 1.0423645320197044, 54.92, 1.2665912130877661, 1.1160714285714286, 1.6428571428571428, 1.0, 1.1111111111111112, 1.0569804748372904, 1.8333333333333333, 1.0039547381168634, 1.0505251956490333, 1.174686882003955, 1.3559322033898304, 1.1302681992337165, 1.0492155004475332, 1.0728098678191742, 1.2591973244147157, 1.6326530612244898, 1.1457858769931664, 46.5, 1.2312813896696309, 1.3125, 1.1714089941938044, 1.0, 1.3046251993620415, 1.0565902578796562, 1.0362273882948312, 1.0818181818181818, 1.3937093275488068, 1.0554029801535412, 1.370110330992979, 1.0336177755791904, 1.1469767441860466, 1.0597630249016334, 1.061570913947769, 1.0311391407173827, 1.0248292985723153, 1.1162790697674418, 1.0223880597014925, 1.8297348886532343, 1.006678407890102, 1.0175284837861525, 1.017359278705534, 1.1818181818181819, 1.074642267473858, 1.0326460481099657, 1.3277439024390243, 1.1333483754512634, 1.322198275862069, 1.2305961754780652, 1.0967446125630445, 1.0824028750893133, 1.0627724498692241, 1.0674128878493474, 1.0650383281741973, 1.875, 1.21310181531176, 1.3563195936706387, 1.3505626183726773, 1.0218340611353711, 1.394206549118388, 1.474065138721351, 1.2365367450163642, 1.110843373493976, 1.0812475086937996, 1.018018018018018, 1.0962453728186146, 1.2223112503186802, 1.0424778761061948, 1.1846635367762128, 1.0433135245084353, 1.7583333333333333, 1.0532535297728667, 1.181530104119511, 1.0960657777378036, 1.0931774869775124, 1.2381656804733727, 1.2918918918918918, 1.2744774477447744, 1.0684545006300334, 1.0166666666666666, 1.4, 1.0529121111046738, 1.1740301457870028, 1.139921294271972, 1.0526315789473684, 1.6401158580738595, 1.0034618662121857, 1.495080123699747, 1.3083451202263083, 1.6153846153846154, 1.0589116325511732, 98.08695652173913, 1.1944444444444444, 1.1944444444444444, 1.200128, 1.5500495540138752, 1.173913043478261, 1.4390243902439024, 1.11787072243346, 1.0151980598221504, 1.1270504330106978, 1.2483069977426637, 1.0612565303305093, 1.1061683479411277, 1.4285714285714286, 1.3333333333333333, 1.1016759776536313, 1.8461538461538463, 1.25, 1.0666666666666667, 1.3708609271523178, 1.6805555555555556, 1.1027397260273972, 1.2658682513898278, 1.0526574599945195, 1.1195652173913044, 1.1875, 1.2258064516129032, 1.4324324324324325, 1.6571428571428573, 1.0563961485557083, 1.0254985691289573, 1.0616322482790805, 1.4435483870967742, 1.0642645550575018, 1.0488003904641336, 1.6666666666666667, 1.018724853664196, 1.0182878149310262, 1.5, 1.6, 1.2121624687996368, 1.0777352798577815, 1.2314480688842044, 1.5248447204968945, 1.5, 1.0903614457831325, 1.687116564417178, 2.25, 1.2311299687360429, 1.111593389460555, 1.022158281200937, 1.089721721331449, 1.25, 1.0260634831983617, 1.0549253731343284, 1.2174358974358974, 1.0616266571121462, 1.4194236926360726, 1.0, 1.2073170731707317, 1.0807817589576547, 1.3030585132173542, 1.037162162162162, 1.1107692307692307, 1.0060468631897204, 1.1259515570934255, 1.4008264462809918, 1.0724637681159421, 1.3564210103624053, 1.4799766718507, 1.3571428571428572, 1.0674261883895924, 1.253968253968254, 1.1421841541755888, 1.177685950413223, 1.0, 1.132112128781571, 1.3224852071005917, 1.0137926995988766, 1.3373362445414847, 1.5, 1.140759312320917, 1.0229504579057707, 1.172145035581159, 1.3069441742851586, 1.003698191151679, 1.0665122861186158, 1.1091704471808166, 1.236786469344609, 1.4444444444444444, 1.0508444444444445, 1.0833567591204398, 1.2632711621233859, 1.0932069510268563, 1.6666666666666667, 1.1458333333333333, 1.1527230891985676, 1.1, 1.4401418957000298, 1.0962729252486028, 1.2128556375131718, 1.6, 1.1950934579439252, 1.2516348879012782, 1.1452947259565667, 1.0142045454545454, 1.082163281807156, 1.5063694267515924, 1.0988286969253294, 1.1684299619128227, 1.033469505162452, 1.0962966865089818, 1.1074727120067172, 1.006198347107438, 1.5365853658536586, 1.1629357484620642, 1.835613798419734, 1.0496823752027393, 1.0072692793931732, 1.1102588686481305, 63.573122529644266, 1.0, 1.1019108280254777, 1.6666666666666667, 2.5, 1.5294117647058822, 1.1944444444444444, 2.75, 2.023696682464455, 1.0655737704918034, 1.1363636363636365, 1.2635334645669292, 1.380952380952381, 1.4275092936802973, 1.3688524590163935, 1.0135738324978902, 1.3333333333333333, 1.2777777777777777, 1.1902466685568471, 1.125, 1.2343541944074568, 1.213577421815408, 1.4416403785488958, 1.0798508430209228, 2.0, 1.3857585139318886, 1.0520131078609622, 1.5210913117889862, 1.1386138613861385, 1.0676090964966196, 87.15789473684211, 48.2, 71.0, 1.0706214689265536, 1.0, 1.0398379473328832, 1.515267175572519, 1.055912672434871, 1.2690920024052916, 1.4105523495465788]
origin-bjaq_15.71 	max: 255.0000	99th: 77.6294	95th: 3.0000	median: 1.1476	mean: 4.1551

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.032539 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[1.1920929e-07 1.1920929e-07 0.0000000e+00 1.7881393e-07 3.7145615e-04]
Distance score: 7.437467866111547e-05
SAUCE Drift detection: True
Detection latency: 0.0413s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.0444 nats / 36.1314 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.093187 | Model-update-time: 2.550503


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 299.0000	99th: 84.2892	95th: 9.0500	median: 1.1637	mean: 5.0119
ReportEsts: [1.2571428571428571, 1.0222439024390244, 1.0646653148139678, 1.2807692307692307, 1.0714285714285714, 1.0, 1.046762732722004, 1.057973674459516, 1.4, 1.0405405405405406, 1.1043756670224119, 1.0428230280561255, 1.0076045627376427, 1.0046801872074882, 1.1508379888268156, 1.2402402402402402, 1.180515759312321, 1.72, 1.0, 1.0329522528581037, 1.1963492846571289, 1.2165122430103688, 1.0878459687123947, 1.3096192384769538, 1.0337485060074227, 1.0301671753730302, 2.0, 1.1633175105485232, 1.5, 1.6, 1.3888888888888888, 1.0, 1.0455254040634834, 1.2219063862042827, 71.13636363636364, 1.387797873166188, 1.4285714285714286, 1.5909090909090908, 10.0, 2.2222222222222223, 1.459787685774947, 1.4166666666666667, 1.0734149054505007, 1.4664634146341464, 35.0, 1.1263157894736842, 1.1046382189239332, 1.6741573033707866, 1.1185185185185185, 1.646643109540636, 1.0642684160063414, 1.5092592592592593, 1.3551773783910575, 1.2878980891719745, 1.0208007124039924, 2.0, 1.4748953974895398, 1.178805150939413, 1.2560054907343858, 1.4121863799283154, 1.4161490683229814, 1.2, 1.041697147037308, 1.0285417747794499, 1.7346747777257838, 1.0740618878163106, 1.2142857142857142, 1.3095238095238095, 1.1659792777386582, 1.0802700951032622, 1.6, 1.0, 1.4444444444444444, 1.1965012005684323, 1.0893799472295516, 1.026981450252951, 1.1472472040619919, 1.0635727908455181, 1.0023823704586063, 1.1428571428571428, 1.052628163282446, 1.0621595642422301, 1.0357142857142858, 1.0428575602629657, 8.0, 1.0053774649269107, 1.4666666666666666, 1.0865008918266708, 1.0093833780160857, 1.2181818181818183, 1.2, 67.0, 1.0618719074499965, 1.0927607680332123, 1.3289251978555017, 1.0429427206030828, 1.523447118074986, 1.0477326968973748, 1.3604488078541375, 1.0434782608695652, 1.216743119266055, 1.5806451612903225, 1.3128371089536137, 1.03125, 16.0, 1.4180531807058678, 1.2172794117647059, 1.1142668428005285, 1.2225128415214446, 1.625, 1.010065416087343, 1.1290909090909091, 1.0317284406682263, 1.1216698709145838, 1.0350877192982457, 1.6666666666666667, 55.94117647058823, 1.090253342716397, 1.0787037598238276, 1.058435438265787, 1.0512820512820513, 1.071687656503167, 2.0, 1.051043557168784, 1.2093213409648405, 1.0, 1.3131868131868132, 1.2857142857142858, 1.6892230576441103, 1.0196137246941577, 1.1327131087821554, 1.3125, 1.5, 1.2346071936195229, 1.4482758620689655, 1.3175257731958763, 1.4061930663439468, 1.1432067906056345, 1.0, 1.1549439347604484, 1.1989987484355444, 1.8303030303030303, 1.0303030303030303, 1.2147435897435896, 1.0005045408678104, 1.0734312416555407, 1.328594664931685, 1.0061728395061729, 1.0096774193548388, 1.0557905140099544, 3.0, 1.0112433862433863, 76.78798382437897, 1.054726368159204, 1.344023613690634, 1.5832106038291605, 1.2611869824204562, 37.916666666666664, 1.1209701787416033, 1.0546477221229973, 1.0076775431861804, 1.0806298086277892, 1.0512625894030068, 1.038064833005894, 1.1323369142145414, 1.011066398390342, 1.098118406798557, 1.0382941688424716, 1.0434782608695652, 1.0497237569060773, 1.1942949407965555, 1.375, 1.5590277777777777, 1.6883055710187127, 1.1090047393364928, 1.2300469483568075, 1.1066864681909236, 1.3352272727272727, 1.0446399029447446, 1.2541254125412542, 1.388226246900405, 1.2222222222222223, 1.1650879566982408, 1.6764705882352942, 1.2764218193088486, 1.2178111587982832, 1.1191381495564006, 1.0444792117214532, 1.0739427012278309, 1.177292382747533, 1.7647058823529411, 1.233259341472438, 1.605263157894737, 1.2127542703239067, 1.2837058906228034, 1.004666961622447, 1.0869565217391304, 1.091061265483763, 1.050232866316629, 2.5152129817444218, 2.5, 1.2193601044727391, 1.2142857142857142, 1.2885252343793858, 1.7188590190847528, 1.0113594723341883, 1.606533398342272, 1.001033271337053, 1.0443165004384043, 1.0478943022295624, 1.1103327495621715, 1.0558943089430894, 1.0321157240426675, 1.076654892426258, 1.0, 1.0883977900552486, 1.1192750854032771, 1.3035714285714286, 1.7126436781609196, 1.0103905410247223, 74.6, 1.0465333760235345, 1.372282608695652, 1.197436341590161, 71.73979591836735, 1.0161290322580645, 1.0424341338307297, 1.0123115999832066, 1.3647960938037274, 2.1818181818181817, 1.7151878238341969, 1.009430346828721, 1.0021562941482638, 1.3955696202531647, 1.4234592445328031, 1.106146643122486, 1.0478290145311584, 1.3103448275862069, 1.0062403587075013, 1.3036465044534946, 1.0476190476190477, 1.1598877980364657, 1.378523489932886, 1.1, 1.5653543307086615, 2.0, 1.0437145557655954, 1.0142878239681017, 1.5119549929676512, 1.2350746268656716, 2.6666666666666665, 2.0, 1.5134837706908093, 1.0506329113924051, 1.0153378671682824, 1.2, 1.0213523131672597, 1.0120274914089347, 1.125, 1.015911473338563, 1.0155038759689923, 1.5242616033755274, 1.4913793103448276, 1.295644891122278, 1.4719227270087687, 1.3333333333333333, 2.0, 1.4934098246046923, 1.3229640059107257, 1.542907180385289, 1.358509103831762, 1.1565246101488291, 1.0182745223008003, 1.0717566016073479, 1.0357189492052563, 1.0412966252220248, 1.0659369994660972, 1.417536534446764, 1.2307692307692308, 1.2425092095074965, 1.9005524861878453, 1.5777777777777777, 2.4347826086956523, 1.2028469750889679, 1.049056603773585, 1.0509652285149436, 47.0, 1.0419401198779639, 1.5790080738177623, 1.3510054844606947, 1.0295808246188514, 1.1367637102234258, 1.3686808614667125, 1.0674099997512088, 1.1, 1.0748344370860927, 1.1309707241910631, 1.1966517986444998, 1.0224603958565535, 1.069474752935437, 1.0129128720946037, 1.1883276115743011, 1.036454070389725, 1.544983475457995, 1.025406124370451, 1.0631582837503233, 98.1146095717884, 10.0, 1.6363636363636365, 1.0776597140233504, 1.0177562550443906, 1.8342541436464088, 1.2500546926274338, 299.0, 1.2929171668667467, 1.472962284797989, 1.0, 1.529832935560859, 1.2873303167420815, 1.1838006230529594, 1.0880229083665338, 1.093207432226622, 1.4004329004329004, 70.0, 5.142857142857143, 1.0385438972162742, 1.7142857142857142, 1.0791687620930965, 1.0548862115127176, 8.0, 1.0604584956547798, 1.3410404624277457, 2.0, 1.07629179331307, 1.444909276645425, 1.0672719768881551, 1.1040880378213023, 1.2601279317697227, 1.3245614035087718, 1.098326359832636, 1.3237597911227155, 1.2087912087912087, 1.093711967545639, 1.0826871237041171, 1.1342592592592593, 1.034569156919413, 1.1617186656590737, 3.0, 1.3333333333333333, 1.4251125482757834, 1.75, 1.0779910167415272, 1.0, 121.0, 2.0476190476190474, 1.8483935742971886, 1.1647220315717228, 1.1764705882352942, 1.5371991247264771, 1.5890410958904109, 1.1428571428571428, 1.4021556550951848, 1.0357142857142858, 1.5178571428571428, 1.347043641482872, 1.1391304347826088, 1.4119241192411924, 1.0411861614497528, 2.0, 1.0, 1.0144258511252164, 1.106060606060606, 1.0052770448548813, 1.1369624942763186, 1.2125593667546175, 1.3090379008746356, 1.5, 1.014399059653247, 90.13229571984436, 1.1785714285714286, 61.5, 1.1642441860465116, 1.1428571428571428, 1.3583489681050656, 1.0521739130434782, 1.1380792817854208, 1.129030406245814, 1.1093643198906358, 1.0744670816827013, 1.134744947064485, 61.43262411347518, 1.0405228758169935, 1.4843845961376612, 1.0846432889963724, 1.4, 1.001276072191602, 1.0312376887721602, 1.0807456292694222, 1.3714285714285714, 1.457142857142857, 1.1702127659574468, 2.0, 1.2857142857142858, 1.165680473372781, 1.6422018348623852, 1.542483660130719, 69.54898336414048, 1.0613382899628252, 1.0725308641975309, 1.3046803543060703, 1.143830947511929, 1.3583638583638584, 1.064516129032258, 1.3441582680104516, 1.2569832402234637, 1.0, 1.1889003582488311, 1.1551724137931034, 1.1121275352641682, 1.1591967801849326, 1.2840887358959647, 1.0079738294827234, 1.2222222222222223, 1.069583931133429, 1.1666666666666667, 1.033392097894846, 1.0909090909090908, 1.0886151997596876, 1.2285714285714286, 1.1028654365087753, 1.1437125748502994, 1.25, 1.2605042016806722, 1.1374269005847952, 1.0, 1.0067853027781335, 1.0579056937649631, 1.0887878448894182, 2.0, 1.1771305800907137, 1.1561561561561562, 1.4533333333333334, 25.0, 1.16, 1.0070133846989677, 1.0931615460852329, 1.2272727272727273, 1.1173133943534872, 1.1256649982686435, 1.0239693192713326, 1.0467153284671533, 1.5854922279792747, 1.0267423952650334, 1.029739776951673, 1.06875753920386, 1.2, 1.6792995295347621, 1.057460453185122, 1.0724426572565755, 1.2232606438213915, 1.1148393194706994, 1.0, 1.0740740740740742, 1.0263157894736843, 1.0206950409996096, 1.2272727272727273, 1.0, 1.0788310412573674, 1.0, 1.0, 1.0224907687143336, 1.2, 1.0218377765173001, 1.0585106382978724, 1.340983606557377, 1.5555555555555556, 83.4692256783587, 1.5300462249614792, 1.0840287211333204, 1.0, 1.251700680272109, 1.0533333333333332, 74.80331753554502, 1.0747065101387407, 1.0080754025648442, 1.6666666666666667, 5.0, 1.1428571428571428, 1.0109220496478917, 1.0764256222329083, 1.010438413361169, 1.0, 1.0143072289156627, 1.0135588784195912, 1.0187617260787993, 83.28571428571429, 1.1496390893947808, 1.336860317310861, 1.0395968322534197, 1.4651162790697674, 1.0891371493250286, 1.0255627842708273, 1.036340852130326, 1.1034250737975342, 1.5, 1.07071731860369, 1.03125, 1.0970873786407767, 1.4910655195234943, 1.380952380952381, 1.0569429090931057, 1.1545271629778673, 1.19117214255137, 1.1858096241657885, 1.1177142857142857, 4.0, 1.0082405139344641, 1.1077244258872652, 1.5757575757575757, 1.4337349397590362, 1.0654462468524908, 1.0070671378091873, 1.092386459738063, 1.0658224739989828, 1.0, 1.430523917995444, 1.5945017182130585, 1.027027027027027, 1.0113065886737942, 1.013448099123799, 1.0108995403808274, 1.1133713045836724, 1.0833946271584183, 1.288659793814433, 1.0684514059774037, 1.0342298288508558, 1.1645220588235294, 1.1504108610217936, 1.160971905846621, 1.166402849228334, 1.1074367570862542, 1.2944711538461537, 1.6071428571428572, 1.2184793070259865, 1.0771467670201846, 1.26067615658363, 1.4014752370916754, 1.0425169601863908, 1.1061946902654867, 1.1536210762331838, 2.0, 1.1550205519671168, 1.253968253968254, 1.2291979257153387, 1.2203389830508475, 1.275711159737418, 1.1011764705882352, 77.17922077922078, 1.0893366316067754, 1.0, 1.7768204150472977, 1.5454545454545454, 1.0, 80.46200607902736, 15.545454545454545, 1.3935185185185186, 1.0681003584229392, 1.281203007518797, 1.1800513898621818, 1.4333333333333333, 1.1272935779816513, 81.66252955082743, 1.0469255663430421, 1.1015175300889586, 1.3945945945945946, 1.4320639398213446, 1.2403815964255525, 1.0833310574239254, 1.591646390916464, 1.4759427828348504, 1.1058558558558558, 1.275, 1.0562229014144573, 1.1896135265700483, 1.0729094736842106, 1.0463917525773196, 1.546213648142816, 1.046875, 80.25, 1.0784313725490196, 1.6666666666666667, 1.1217391304347826, 1.0970228128302872, 1.1274624824158044, 1.0772841051314144, 1.18533767494286, 1.8, 1.0269788750318147, 1.5053862212943632, 1.0170454545454546, 1.3650793650793651, 1.0179708053417325, 1.0182094081942337, 1.0074539866464125, 1.1726618705035972, 1.104398045313194, 1.0974061216278177, 1.01472645432658, 1.3823529411764706, 1.0967152138565357, 1.1846153846153846, 1.434782608695652, 1.1728395061728396, 1.340273014130882, 1.1167422599092882, 1.1672862453531598, 1.0133333333333334, 1.1707116638360817, 1.0, 1.017, 76.74757281553399, 1.0146310432569974, 2.018867924528302, 1.2222222222222223, 1.3527694195219915, 1.049079754601227, 1.07025472473295, 1.1993027150190791, 1.6765625, 1.1417410714285714, 1.2948934731146433, 1.0658207771609833, 1.0472705093016164, 1.196078431372549, 1.0599264705882352, 1.0782408169988469, 1.2496942566398228, 1.1588846669646848, 1.0, 1.0637728615925246, 1.1631799163179917, 9.0, 1.4105581080765912, 1.0980354927723348, 1.5364238410596027, 1.028464996493326, 1.2941435814534499, 1.037037037037037, 2.4285714285714284, 1.2169235709698139, 1.4193548387096775, 1.1052449239677806, 1.2136802104647764, 1.3158955518987665, 1.0701755208650838, 1.2228116710875332, 1.0535004585753591, 1.6989966555183946, 1.1904778501969258, 1.1511111111111112, 1.0528455284552845, 1.0026830203142967, 1.086283185840708, 84.28592375366568, 1.3490695396669932, 1.5555555555555556, 1.3333333333333333, 1.0441640378548895, 1.6439549180327868, 1.0114973262032085, 1.5063492063492063, 1.8125, 1.0776836158192091, 1.0006236357966947, 1.45, 1.4620646510211306, 2.0, 1.3018003954625872, 1.2358036573628488, 1.589928057553957, 1.014474512271869, 1.0267175572519085, 1.0350017677660488, 1.0285714285714285, 1.271875, 1.1058823529411765, 1.0, 1.1557005153491875, 1.066056245912361, 1.75, 1.3333333333333333, 1.2406015037593985, 1.5862068965517242, 1.1056343568503135, 1.2843137254901962, 1.1304347826086956, 1.0379746835443038, 54.6, 1.371647509578544, 1.0223140495867769, 1.2393442622950819, 1.2122448979591838, 1.3846153846153846, 1.5, 1.1921529175050303, 1.0519348268839104, 1.0871934604904632, 1.4066984903170723, 1.0779641491175522, 1.2135255966248977, 1.079532201808487, 1.5482576633892424, 1.2192796610169492, 79.34505208333333, 1.5714285714285714, 3.5, 78.23589743589744, 1.3764665705395764, 1.0868263473053892, 1.0894117647058823, 1.3090507726269316, 1.0156765676567656, 1.308066889632107, 1.0195612613961762, 1.1538461538461537, 1.0909090909090908, 1.3157894736842106, 1.3901113467656416, 2.413793103448276, 1.034872719080874, 1.1794871794871795, 1.353960029607698, 1.0237491798427871, 1.0658802974152453, 1.385403329065301, 1.3445845697329377, 1.2222222222222223, 1.0683530678148547, 84.61084529505582, 1.0382684312248525, 60.0, 84.83512544802868, 1.0863121485265317, 1.046362239910627, 1.1306960174403147, 2.3333333333333335, 1.0170212765957447, 1.1955922865013775, 1.1055554382482737, 1.2855628000286594, 1.0540844306213606, 1.295801191044551, 1.065451548245696, 1.0428909952606635, 64.08, 1.2806289745627981, 1.1607142857142858, 1.7857142857142858, 1.0, 1.0, 1.0707867939818894, 1.8333333333333333, 1.0028285187685906, 1.049428691479845, 1.105263157894737, 1.3728813559322033, 1.0235690235690236, 1.0546334511119688, 1.0079906040133713, 1.265886287625418, 3.6785714285714284, 1.1268498942917549, 55.5, 1.3023084366216653, 1.4375, 1.1911714069278976, 1.0, 1.3500784929356358, 1.0254735467015024, 1.0470972500263407, 1.2545454545454546, 1.2588357588357588, 1.060667417659438, 1.4286191909060515, 1.0482828362944163, 1.0696266397578205, 69.76014760147602, 1.1354581673306774, 1.0212739683737522, 115.33333333333333, 1.0061349693251533, 1.05625, 1.253690353587367, 3.028169014084507, 1.013965368084259, 1.0608093486258385, 1.017174156614717, 1.2727272727272727, 1.0001846608395912, 1.0693069306930694, 1.396341463414634, 1.1352221506761107, 1.3620689655172413, 1.2789651293588302, 1.0909488412767818, 1.1067712479837175, 1.0567612687813022, 1.0352772915510395, 1.0515729302055599, 1.9411764705882353, 1.2620363062352014, 1.527642117601094, 1.3628700128700129, 1.0145909327774882, 1.4130982367758187, 1.4668275030156814, 1.1523972602739727, 1.0201058201058202, 1.0965736102653907, 1.017391304347826, 1.0916455696202532, 1.237831701433234, 1.047275488893108, 1.1659324522760646, 1.0607631445609385, 1.3575338777707977, 1.0257331799884992, 1.235665914221219, 1.0951364910940191, 1.108116818722729, 1.2177650429799427, 1.3135135135135134, 1.3101063829787234, 1.0818996086259882, 1.0158730158730158, 1.4, 1.0568862753870982, 1.1706716249985196, 1.1864186851211074, 1.037190082644628, 1.674873280231716, 1.0159112250138775, 1.6030362665167275, 1.229375, 1.7307692307692308, 1.0723938223938223, 109.70833333333333, 1.2186732186732188, 1.0930232558139534, 1.2189709901118224, 1.6154608523290386, 1.1820418204182042, 1.3902439024390243, 1.032967032967033, 1.0558748927939272, 1.1177184466019416, 1.2257336343115124, 1.0462817402002667, 1.1290425362434284, 1.1071428571428572, 1.3333333333333333, 1.1007724719101124, 1.8076923076923077, 1.25, 1.1333333333333333, 1.403973509933775, 1.7105263157894737, 1.1272321428571428, 1.2879339743525067, 1.05774444702198, 1.1595744680851063, 1.25, 1.3548387096774193, 1.4594594594594594, 1.3428571428571427, 1.0937086092715231, 1.027355361220006, 1.0667228780213602, 1.4274809160305344, 1.0613961312026914, 1.0483231567559639, 1.6666666666666667, 1.018992364740976, 1.146282973621103, 3.6666666666666665, 1.234159779614325, 1.0961393241457429, 1.1080969358755748, 1.2598520847475794, 1.1, 1.4545454545454546, 1.2653061224489797, 1.362987012987013, 54.333333333333336, 1.0342410703732596, 1.1414342629482073, 1.0642452250170595, 1.1911276531536064, 1.084263864126865, 1.25, 1.026017978589812, 1.0562894887995404, 1.3128205128205128, 1.0145936981757877, 1.4424242424242424, 1.0, 1.164179104477612, 1.1211183496199784, 1.4293943096526445, 1.0359477124183007, 1.182089552238806, 1.0689655172413792, 239.16666666666666, 69.76829268292683, 1.0, 1.0028702791461412, 1.1438002296211252, 1.0521132083861358, 1.3325244063251442, 1.1527093596059113, 1.6176470588235294, 75.12142857142857, 1.125, 1.1295021186440677, 1.2781065088757397, 1.0070657753941195, 1.4737991266375545, 1.5, 1.1220258327668253, 1.0070776417297755, 1.2473048023521724, 1.4919276405368604, 1.0105176059575252, 1.1236359126984128, 1.3871733966745843, 1.2464065708418892, 1.5873015873015872, 1.0642661804922515, 1.0773827846390631, 1.210089399744572, 1.0027972027972027, 1.0, 1.2446808510638299, 1.2009818245573023, 1.0489208633093525, 1.5315576777754658, 1.0930922997572052, 1.2208312468703055, 1.6, 1.2628504672897196, 1.3495076037450788, 1.1507279947054931, 1.0190217391304348, 1.0793606416299357, 1.484076433121019, 1.10124826629681, 1.246284501061571, 1.03573271894305, 1.1121092164027608, 1.1373983739837399, 1.0079840319361277, 1.6046511627906976, 1.2092447026657553, 2.1520341989705414, 1.0002582911457796, 1.0036540803897687, 1.0832958126969834, 69.17712177121771, 1.0, 1.0955414012738853, 1.6666666666666667, 2.5, 1.588235294117647, 1.3506493506493507, 2.2, 2.1279620853080567, 1.0923076923076922, 1.2272727272727273, 1.2614009186351707, 1.6666666666666667, 1.661710037174721, 1.0115606936416186, 1.0502275069760427, 1.3333333333333333, 1.263157894736842, 1.1973216725881388, 1.25, 1.3435419440745673, 1.2139212827988337, 1.4220820189274448, 1.0970104953222206, 1.3333333333333333, 1.3018575851393188, 1.0695745685359073, 1.1335212739324938, 1.1666666666666667, 1.0601769911504424, 91.47619047619048, 56.6, 78.6842105263158]
origin-bjaq_15.71 	max: 299.0000	99th: 84.2892	95th: 9.0500	median: 1.1637	mean: 5.0119

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.309481 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=128.682718