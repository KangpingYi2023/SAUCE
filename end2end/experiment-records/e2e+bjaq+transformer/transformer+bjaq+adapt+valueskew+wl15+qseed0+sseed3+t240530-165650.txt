Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 3, 'transformer': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.5050	95th: 1.7500	median: 1.0831	mean: 1.1758
ReportEsts: [1.0361842105263157, 1.0276041666666667, 1.038865500629313, 1.118279569892473, 1.5, 1.0, 1.0458429623260064, 1.0714549226471954, 1.0, 1.0290620871862615, 1.1306957550572823, 1.0420415279473445, 1.0008406893652795, 1.1046511627906976, 1.0505121865065348, 1.0, 1.0666666666666667, 1.0147375988497485, 3.0, 2.0, 1.125, 1.0888554924153477, 1.1350024281012248, 1.1244862008220786, 1.0389738529847066, 1.0, 1.1278124009717967, 1.2, 1.2, 1.0220588235294117, 1.0, 1.043234135648093, 1.0029833669602874, 1.0982241953385128, 1.0434718754589514, 1.224285122254455, 1.1925133689839573, 1.0141098251662153, 1.1818307045939802, 1.1071428571428572, 1.164179104477612, 1.0518292682926829, 1.0, 1.0708724832214764, 1.1212383258388101, 1.890625, 1.0618556701030928, 1.303886925795053, 1.0347347021752389, 1.0925925925925926, 1.1195889635083744, 1.3161512027491409, 1.0377584584852668, 2.0, 1.2077922077922079, 1.3479600016876925, 1.0448328267477203, 1.3592233009708738, 1.018987341772152, 1.25, 1.0807433660487096, 1.1114570361145704, 1.1090909090909091, 1.0357142857142858, 1.1, 1.1417111242837383, 1.3114543114543114, 1.75, 1.0, 1.1122401416985177, 1.0167064439140812, 1.062137049941928, 1.0373831775700935, 1.1324887577970117, 1.0470588235294118, 1.0778443113772456, 1.3333333333333333, 1.1152400835073069, 2.0, 1.0537318143992653, 1.5238095238095237, 1.053810623556582, 1.1411042944785277, 1.0982367758186398, 1.1050049067713446, 1.0, 1.072732676081816, 1.0438293667736072, 1.0686274509803921, 1.75, 1.101620029455081, 1.0380387151419614, 1.006269592476489, 1.0224403927068724, 1.0458452722063036, 1.0363636363636364, 1.0546875, 1.1501472031403337, 1.0, 1.2446690359840071, 1.0586033117350613, 1.065180102915952, 1.2265310538844405, 1.36, 1.0227600531685903, 1.0491106981683036, 1.3017900080149614, 1.1501706484641638, 1.0524218270999386, 1.1666666666666667, 2.0, 1.0700934579439252, 1.0582210300893378, 1.0442198357548957, 1.0909090909090908, 1.0612251328035893, 2.0, 1.1160517187007253, 1.1521499448732084, 1.0, 1.0164835164835164, 1.0, 1.2907268170426065, 1.026776839625478, 1.102042401180399, 1.1313131313131313, 1.8, 1.1415562913907285, 1.0, 1.0, 1.1045792395538334, 1.1818181818181819, 1.0626627604166667, 1.0411488001406797, 1.0410534469403563, 1.0333778371161548, 1.028169014084507, 1.0413094310210445, 1.039972432804962, 1.0804387568555758, 1.0222388493993433, 1.361344537815126, 1.0280495759947814, 1.139294885056772, 2.0, 1.023701002734731, 1.0257913247362251, 1.0988411724608043, 1.1245809070054702, 1.5, 1.2386776459191087, 1.0289634146341464, 1.0121457489878543, 1.1074561403508771, 1.162988115449915, 1.0037225042301186, 1.0877294073583221, 1.0690253542851633, 1.0669371196754565, 1.069078947368421, 1.2448979591836735, 1.3142857142857143, 1.01620029455081, 1.7142857142857142, 1.0646892816963178, 1.0415405378615163, 1.1014584654407102, 1.382527147087858, 1.140766550522648, 1.0541199544141422, 1.263157894736842, 1.1147540983606556, 1.062554468868016, 1.1314459049544996, 1.0131118881118881, 1.087463556851312, 1.0386914123938344, 1.0819465984826258, 1.0517889439333177, 1.0, 1.1031746031746033, 1.0035405749893782, 1.0281100478468899, 1.2439024390243902, 1.2105263157894737, 1.0773570192752882, 1.2069959638669998, 1.0728091249485965, 1.1372549019607843, 1.2354545454545454, 1.063903766149792, 1.0, 1.0909090909090908, 1.0349057745853678, 1.0208574739281575, 1.0221489161168709, 1.4, 1.0662379421221866, 1.0516398875740558, 1.039040703496523, 1.0626410835214446, 1.0889638452619375, 1.1242937853107344, 1.0666666666666667, 1.135135135135135, 1.0, 1.391304347826087, 1.1565999053777007, 1.3310104529616724, 1.2298850574712643, 1.0113692535837864, 1.0031277926720286, 1.0297443677998694, 1.078903562312729, 1.198116878063964, 1.1812080536912752, 1.0374812593703149, 1.0178224238496436, 1.0546987190533632, 1.0202897872788297, 1.0, 1.0674948240165631, 1.118369999803045, 1.008820133060484, 1.1371359223300972, 1.1025173294418096, 1.2745404560401057, 1.0357142857142858, 1.0072104627698646, 1.1159102630221764, 1.0174844895657078, 1.0666666666666667, 1.1790168745414527, 1.0363636363636364, 1.1606299212598425, 2.0, 1.2509606857818505, 1.1679321125502455, 1.0016435783047664, 1.150214592274678, 1.0909090909090908, 1.6666666666666667, 1.0970788413851322, 1.1272727272727272, 1.1520325203252033, 1.5, 1.0, 1.0526315789473684, 1.0624512099921937, 1.0315789473684212, 1.022099447513812, 1.0875527426160339, 1.0505902192242833, 1.00335852225021, 1.1167805501248524, 1.0, 2.0, 1.078475520736948, 1.0974397590361447, 1.1138353765323994, 1.0064802541606177, 1.0899678883844535, 1.0418289932335452, 1.088235294117647, 1.0767389046353186, 1.0185406698564594, 1.0942965779467682, 1.065977222149496, 1.1, 1.0116540485362564, 1.2440318302387268, 1.2045454545454546, 1.1904761904761905, 1.0243636363636364, 1.0, 1.017094017094017, 1.1235044747998115, 1.192200557103064, 1.3784461152882206, 1.014673132926534, 1.026006711409396, 1.0260159681179852, 1.0521294471643658, 1.1111111111111112, 1.0164540580513959, 2.5, 1.0414640770234873, 1.0243362831858407, 1.0631059123389923, 1.0810810810810811, 1.6666666666666667, 1.391304347826087, 1.0923076923076922, 1.0650181846420668, 1.0, 1.0348101265822784, 1.0452488687782806, 1.0088141025641026, 1.0164083918033548, 1.0862068965517242, 1.1635220125786163, 1.0077233756111386, 1.116530309252298, 1.1776396345483657, 1.0854700854700854, 1.0, 1.097852028639618, 1.2453987730061349, 1.0918367346938775, 1.1555181128896377, 1.0287739783152627, 1.0856269113149848, 1.2553191489361701, 1.0041152263374487, 1.0288957688338494, 1.2857142857142858, 1.0100855592251385, 1.04, 1.1176470588235294, 1.065469023642732, 1.1428571428571428, 1.4, 1.0143156026120586, 2.0, 1.1659807956104253, 1.0276162790697674, 1.0639868744872847, 1.1550895587592835, 1.0240641711229947, 1.123456790123457, 1.1083483272230414, 1.094991196254554, 1.0426136363636365, 1.0043400204236255, 1.0098356048897008, 2.0, 1.0, 1.0528462716241231, 1.25, 1.0697544642857142, 1.3529411764705883, 1.0, 1.4666666666666666, 1.3092369477911647, 1.0559701492537314, 1.162162162162162, 1.1125541125541125, 1.0, 1.218375499334221, 1.0995374289719817, 2.0, 1.3067301965455629, 1.0, 1.0948606999164958, 1.1125, 1.0223736452409056, 1.1497695852534562, 1.1363636363636365, 1.3540945790080738, 1.3055555555555556, 1.0546563957324713, 1.0200289433713812, 1.0592383638928067, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.4545454545454546, 1.0694373945371984, 1.3333333333333333, 1.0116472545757071, 1.216867469879518, 1.2726129437941376, 1.1011622938955592, 1.243048403707518, 1.0087544814607479, 1.0133410672853829, 1.025, 1.5, 1.170731707317073, 1.0382978723404255, 1.046108468048282, 1.1428571428571428, 1.5714285714285714, 1.0356347438752784, 1.011764705882353, 1.0299004369013611, 1.0159313725490196, 1.1464387464387464, 1.0191518467852256, 1.0389610389610389, 1.0907770515613653, 1.0677966101694916, 1.1538461538461537, 1.0240793201133145, 1.1495327102803738, 1.0645901224412313, 1.0670894758870855, 1.0028366301837535, 1.075, 1.15625, 1.115264797507788, 1.0, 1.0357807114521689, 1.059090021268284, 1.065432009800389, 1.0572825686547123, 1.0589307411907656, 1.155703844931681, 1.8333333333333333, 1.052818689690198, 1.2, 1.2092228864218617, 1.25, 1.0284970329559804, 1.0072992700729928, 1.117798796216681, 1.1225296442687747, 1.0200642054574638, 3.0, 1.0759533564450048, 1.0170443504733, 1.0490619827110539, 2.0, 1.0158730158730158, 1.2879078694817658, 1.2517985611510791, 1.1150214235201132, 1.0831600831600832, 1.1666666666666667, 1.0025951557093427, 1.032019071213219, 1.0500921099047544, 1.0896545771879016, 1.1408991228070176, 1.1061359867330016, 1.123404255319149, 2.142857142857143, 1.1036414565826331, 1.5, 1.2288348700754401, 1.03125, 1.1650104795956109, 1.3888888888888888, 1.0960128949849457, 1.11120658543711, 1.0771128932757557, 1.0, 1.1875, 1.08, 1.286880320480721, 1.225382932166302, 1.0, 1.0099474993092015, 1.0568248825329436, 1.0965602983837546, 1.5, 2.0, 1.0019455252918288, 1.0072202166064983, 1.019672131147541, 1.2222222222222223, 1.0760794335303199, 1.0718623481781377, 1.4705882352941178, 1.1022222222222222, 1.0454545454545454, 1.1377952755905512, 1.0524193548387097, 1.2818679007151872, 1.0429238505747127, 1.0, 1.0571428571428572, 1.0647787425097395, 1.0603624617226155, 1.0383293896470132, 1.0, 1.0913514709135148, 1.016203331286712, 1.0220010476689365, 2.0, 1.0338915470494419, 1.020502780546981, 1.0472517443400948, 1.040627320781093, 1.0141285415058978, 1.0290452499407723, 1.007563025210084, 1.0961909353905497, 2.0, 1.1039330197943047, 2.0555555555555554, 1.25, 1.160621761658031, 1.1346153846153846, 1.0051595372253526, 1.156188605108055, 1.0642525374161362, 1.143643873336393, 1.0885693305592952, 1.0871094278371431, 1.0719049435371084, 1.271604938271605, 4.0, 1.0171407994238386, 1.165991902834008, 1.0461331563918148, 1.0426765521144052, 1.0925925925925926, 1.0249507550886408, 2.488095238095238, 2.4285714285714284, 1.02154647709013, 1.0771896204026605, 1.0128461055044176, 1.133878765340275, 1.0387822984959507, 1.0104166666666667, 1.063241086315746, 1.067357512953368, 1.2058371735791091, 3.0, 1.1666666666666667, 1.034920634920635, 1.0844529750479845, 1.0856102003642987, 1.100785340314136, 1.0372549019607844, 1.3537414965986394, 1.148905109489051, 1.089820359281437, 1.0567617793041801, 1.2417582417582418, 1.0080872993697805, 2.0, 1.1280388978930307, 1.0769230769230769, 1.247787610619469, 1.0868715083798883, 1.1200980392156863, 1.0454545454545454, 1.1063553826199741, 1.0764413429955395, 1.0, 1.3617021276595744, 1.1666666666666667, 1.0, 1.1477272727272727, 1.1169354838709677, 1.0046296296296295, 1.1116504854368932, 1.0661646908042295, 1.0904872389791183, 1.0556178353162406, 1.1644087256027555, 1.0426687354538402, 1.1095131553471163, 1.1891891891891893, 1.1426639621365788, 1.0198355104015482, 1.0887031544890806, 1.2008670520231215, 1.2282968853545395, 1.0220949678204023, 1.2434145224097122, 1.0795024018317656, 2.0, 1.1326781326781328, 1.083083083083083, 1.3944954128440368, 1.0, 1.275, 1.25, 1.1122047244094488, 1.2592592592592593, 1.1666666666666667, 1.0110724441544423, 1.1183988233657305, 1.0291975995240437, 1.025543772737828, 1.2486486486486486, 1.1182065217391304, 1.0, 1.193798449612403, 1.001658031088083, 1.070722766754323, 1.083646526807336, 1.0956828795990432, 1.0252227151079665, 1.290909090909091, 1.0964679461004492, 1.1101243339253997, 1.0165369867928336, 1.0573994239349385, 1.3333333333333333, 1.0601265822784811, 1.0, 1.2387640449438202, 1.2059348276357074, 3.0, 1.1140131728367022, 1.0470662774647568, 1.2857142857142858, 1.0123258697396251, 1.4, 1.1176470588235294, 1.052670816714504, 1.6923076923076923, 1.0242799995165754, 1.045279794959419, 1.3571428571428572, 1.0740740740740742, 1.065979381443299, 1.0205643232902917, 1.012290502793296, 1.0862565445026178, 1.1565117875944153, 1.0, 1.048283728003476, 1.125, 2.0, 1.0002076220356186, 1.0968336361276927, 1.1390728476821192, 1.0132828170269668, 1.0118181595512774, 1.0272727272727273, 2.2857142857142856, 1.054975922953451, 1.0459677419354838, 1.0915955406987596, 1.211802748585287, 1.016379553798362, 1.0564371194917734, 1.2435897435897436, 1.1007371007371007, 1.2675585284280937, 1.0104924672319024, 1.0706624605678234, 1.002717391304348, 1.0378151260504203, 1.0733109411310884, 3.0, 1.1353901564197586, 1.0351281550001543, 1.039944497252177, 1.5833333333333333, 1.3083599500069434, 1.2262443438914028, 1.0, 1.0606969034351414, 1.0420575865415722, 1.1539301310043668, 1.0588235294117647, 1.3333333333333333, 1.0693638661970801, 1.5, 1.0327102803738317, 1.0833333333333333, 1.0190845021282535, 1.3846153846153846, 1.139240506329114, 1.0084566596194504, 1.0, 1.5343915343915344, 1.2281124497991969, 1.25, 2.0, 1.1176470588235294, 1.2275862068965517, 1.0747603833865815, 1.2109275730622617, 1.1072664359861593, 1.2271386430678466, 1.1014466214978942, 1.0623376623376624, 1.144859813084112, 1.1510204081632653, 1.1923076923076923, 1.0, 1.3396226415094339, 1.1341991341991342, 1.009297520661157, 1.0718489727928928, 1.0801666750718644, 1.0123508478124346, 1.1237512228381703, 1.207236842105263, 1.1939655172413792, 1.009030704394943, 1.5714285714285714, 1.0, 1.2592592592592593, 1.0390377172345755, 1.0661959399823477, 1.107843137254902, 1.085561497326203, 1.0127529591447118, 1.1142414214590228, 1.0080545533886898, 1.1304347826086956, 1.2222222222222223, 1.0538221528861154, 1.0198170731707317, 1.0685130956860307, 1.092974878291897, 1.0133333333333334, 1.1091258121677496, 1.0166588313795666, 1.2260596546310831, 1.3355397148676171, 1.125, 1.0567748091603053, 1.8694736842105264, 1.1063829787234043, 1.0794117647058823, 1.0701001430615165, 1.0, 1.020979020979021, 1.019706789359983, 1.0588235294117647, 1.0957180044420032, 1.0477247502774696, 1.303030303030303, 1.0057063933413295, 1.0290915645277579, 1.0723878592532903, 1.0458015267175573, 1.035252643948296, 1.202779189967802, 1.1546391752577319, 1.2857142857142858, 1.0, 1.4285714285714286, 1.070049654838319, 1.3333333333333333, 1.1155196629213484, 1.1089063593775241, 1.0363314133805936, 1.0601787487586891, 1.0504442762083117, 1.0169346195069668, 1.043010752688172, 1.044382801664355, 1.0316434592716086, 1.136342332208474, 1.0447675233878884, 1.1754787426231483, 1.6666666666666667, 1.0, 1.0039525691699605, 1.103383132864224, 1.0267558528428093, 1.2902611534276387, 1.0405156537753222, 2.1829787234042555, 1.0297657554649535, 1.0295302013422818, 1.0585645933014354, 1.125, 1.0586743698962182, 1.037567575691215, 1.2983623336745138, 1.0581052631578947, 1.032258064516129, 1.0735632183908046, 1.1551724137931034, 1.625, 1.0810899540380827, 1.7692307692307692, 1.032258064516129, 1.117936117936118, 1.008843537414966, 1.0156592018858395, 1.022864019253911, 3.6666666666666665, 1.018181818181818, 1.100481635354241, 1.0401966775931997, 1.009774684190538, 1.0161523026152137, 1.089629114758773, 1.0833333333333333, 1.0847602739726028, 1.0316468060168003, 1.0323784942271794, 1.0230460921843687, 1.006993006993007, 1.0302073940486924, 1.0114854026307347, 1.389505549949546, 1.0823749362642343, 1.0, 1.3333333333333333, 1.0437538628890701, 1.002115059221658, 1.215953670838782, 1.1345565749235473, 1.0925778132482042, 1.0922330097087378, 1.0949620999300154, 1.0804327988528224, 1.1158088235294117, 1.0164835164835164, 1.013484740951029, 1.094990919354047, 1.0952380952380953, 1.75, 1.037077940876875, 1.1622922064337555, 1.027533684827182, 1.0454545454545454, 1.224837074583635, 1.0070937381829386, 1.17430418892325, 1.3468013468013469, 1.2307692307692308, 1.0222371967654986, 1.0919540229885059, 1.121875, 1.4827586206896552, 1.0585093306514695, 1.1873141724479683, 1.1666666666666667, 1.0731707317073171, 1.0105326512187782, 1.0203611217825586, 1.060441767068273, 1.2942166765696177, 1.3333333333333333, 1.037037037037037, 2.0, 1.1361894810170672, 1.5384615384615385, 1.0, 1.25, 1.0966887417218543, 1.0452898550724639, 1.0689166559319851, 1.046375604065989, 1.4272727272727272, 1.2592592592592593, 1.1428571428571428, 1.0, 1.0675675675675675, 1.0285714285714285, 1.148479427549195, 1.026377285344752, 1.0338725835776037, 1.3473684210526315, 1.08790682724332, 1.0471097542665533, 2.5, 1.0665254669796878, 1.2962962962962963, 3.0, 2.0, 1.189940828402367, 1.1800186473499248, 1.0564411620387262, 1.2111801242236024, 1.0, 1.1415929203539823, 1.0736196319018405, 3.0, 2.0, 1.0816929133858268, 1.1285118967603172, 1.0446416916851586, 1.6666666666666667, 1.0315221843003413, 1.0433772269558481, 1.0092307692307692, 1.0, 1.1408450704225352, 1.0218555397937068, 1.1710526315789473, 1.1931597357170618, 1.0013188262446422, 1.3449367088607596, 1.14453125, 1.0844723280304727, 1.0597285067873303, 1.0909090909090908, 1.0, 1.0536037994307417, 1.3113071371291098, 1.0528507927618915, 1.035928143712575, 1.088235294117647, 1.3134328358208955, 1.1062068965517242, 1.0673379483952172, 1.0276643758334187, 1.097551255029699, 1.0829694323144106, 1.5, 1.6666666666666667, 1.0269449594067634, 1.148636763412489, 1.1900408480840303, 1.0148378149507247, 1.05084462284663, 1.1253262590389799, 1.1025, 1.0416666666666667, 1.0173728480465372, 1.1135378356721661, 1.2323892519970951, 1.124015748031496, 1.6666666666666667, 1.056338028169014, 1.0649294839238974, 1.1421943231441047, 1.014632243974729, 1.087682779533832, 1.0170454545454546, 2.0, 1.0726817042606516, 1.0215510443187708, 1.1782042494859493, 1.0190114068441065, 1.1070125876126449, 1.019108280254777, 1.3289183222958056, 1.0286225402504472, 1.0311439655391403, 1.0693661082582708, 1.0334101382488479, 1.0817174515235457, 1.0, 1.1312584573748308, 1.0363150196544475, 1.0013227513227514, 1.0235787117916395, 1.123827392120075, 1.0453857791225416, 1.2, 1.2202072538860103, 1.6666666666666667, 2.0, 1.1764705882352942, 1.0, 1.042654028436019, 1.0197674858938919, 1.0083572131217655, 1.0016308779559664, 1.0119246861924687, 1.1358695652173914, 1.225, 1.0704911018048922, 1.6, 1.5, 1.385135135135135, 1.1428571428571428, 1.0013315579227697, 1.1437908496732025, 1.0209103199639478, 1.0781191670318613, 2.0, 1.1544891640866872, 1.2054263565891472, 1.011094301563288, 1.0396708166279807, 1.1691919191919191, 1.1215753424657535, 1.1415582972101812, 1.111536391364153, 1.077054794520548, 1.0757575757575757, 1.068435754189944, 1.0, 1.0, 1.04179929187082, 5.0, 1.5714285714285714, 1.5, 1.03625, 1.0681818181818181, 1.0925720620842572, 1.0812083169870537, 1.1666666666666667, 1.0937306021104904, 1.0134345794392523, 1.1989247311827957, 1.2620192307692308, 1.4285714285714286, 1.0220264317180616, 1.1890243902439024, 1.1368653421633554, 1.0464856824098179, 1.0251605463546534, 1.063268222963316, 1.1570541259982254, 1.0, 1.2328552692812116, 1.0315467323890257, 1.0013002152080344, 1.1774193548387097, 1.0293332014246142]
origin-bjaq_15.71 	max: 5.0000	99th: 2.5050	95th: 1.7500	median: 1.0831	mean: 1.1758

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.891517 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[ 9.0670586e-04  2.3841858e-07 -2.9802322e-08  5.9604645e-08
  5.9604645e-08]
Distance score: 0.00018140673637390137
SAUCE Drift detection: True
Detection latency: 0.0212s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 29.7086 nats / 42.8604 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.163956 | Model-update-time: 2.668280


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 1217.1250	99th: 9.5450	95th: 2.0000	median: 1.0988	mean: 2.8724
ReportEsts: [1.0029239766081872, 1.0125739644970415, 1.03998899889989, 1.0378071833648392, 1.4285714285714286, 1.0, 1.0805464711467454, 1.0519490968581122, 1.0, 1.0436456996148908, 1.1681263342273798, 1.0540261542613114, 1.1101952277657268, 1.1274725274725275, 1.059676331759946, 1.0, 1.2073170731707317, 1.034714842366277, 3.0, 2.0, 1.0689655172413792, 1.0976980487366244, 1.1206564684429137, 1.1115405853119824, 1.1447430457331447, 1.0, 1.3385328551126752, 1.2, 1.2, 1.0138888888888888, 1.0, 1.0524372634618866, 1.0092797184811073, 1.0918153200419727, 1.0178799489144317, 1.168915443358525, 1.1989795918367347, 20.0, 1.1060728744939272, 1.1262411347517731, 1.0612232618309816, 1.0702636673053527, 1.0505249343832022, 1.0304347826086957, 1.0702032913843176, 1.263157894736842, 1.48, 1.9111111111111112, 1.0741962077493816, 1.3396226415094339, 1.0860565095300814, 1.000805152979066, 1.0027586206896553, 1.131056353980519, 1.1068702290076335, 1.0865872666959753, 1.0720354535691468, 1.0498650178524775, 1.3656716417910448, 1.018271697010315, 2.1323529411764706, 1.1003227410563676, 1.028169014084507, 1.1130434782608696, 1.0465116279069768, 1.0833333333333333, 1.1074169728274708, 1.17599538372764, 1.75, 1.0, 1.5818834796488428, 1.0034364261168385, 1.0088251516822946, 1.0292792792792793, 1.1284923864831498, 1.1576470588235295, 1.0921052631578947, 1.3333333333333333, 1.1649269311064718, 32.714285714285715, 1.0130090757434305, 1.1333333333333333, 1.0477836518910126, 1.052325581395349, 1.0987951807228915, 1.1702649656526005, 1.08, 1.1211184479279082, 1.0197265396751198, 1.0976744186046512, 1.75, 1.0824074074074075, 1.0766616736345547, 1.011764705882353, 1.0319573901464714, 1.0174825174825175, 1.0448877805486285, 1.0, 1.4620938628158844, 1.0, 1.1764644131849675, 1.4217385462851, 1.1233660130718954, 1.1680405572500205, 1.25, 1.014433112839886, 1.0737987788691266, 1.2561369193154035, 1.148121387283237, 1.096259963212753, 1.3333333333333333, 2.0, 1.1635514018691588, 1.0681104915056412, 1.085912823752369, 1.1139240506329113, 1.1228973361269081, 1.5, 1.084578601315003, 1.0829015544041452, 1.0, 1.0, 1.0, 1.1627358490566038, 1.0140177019708823, 1.008887614678899, 1.3113207547169812, 1.8, 1.0835197613721104, 1.0, 1.0, 1.1484904560836715, 1.1818181818181819, 1.1930338541666667, 1.0807651968573169, 1.0365999460064022, 1.75, 1.4166666666666667, 1.0698254364089776, 1.0108024691358024, 1.129798903107861, 1.0544364527926886, 1.2357142857142858, 1.0460199004975124, 1.0883502555681477, 2.0, 1.0706472196900638, 1.0120746432491767, 1.0933676754668384, 1.1815775542615141, 1.5, 1.1581248728899736, 1.056547619047619, 1.022, 1.1644736842105263, 1.0909090909090908, 1.0293112238501592, 1.0962668653257182, 1.0983907396950876, 1.0718446601941747, 1.0560747663551402, 1.2745098039215685, 1.263157894736842, 1.0042492917847026, 4.7272727272727275, 1.079656102525928, 8.25, 1.0824742268041236, 1.2771293087725697, 1.1484121840570318, 1.0117068416459842, 1.1996007984031936, 1.188235294117647, 1.0901074676219344, 1.1396917148362236, 1.0129421915444348, 1.0799632352941178, 1.0466165413533834, 1.2411482847814104, 1.0034652115675637, 1.2313432835820894, 1.0778267254038179, 1.0001127130982013, 1.0744065429882306, 1.2580645161290323, 1.0611621942241958, 1.0714285714285714, 1.0, 1.1462671232876713, 1.0816425589748568, 1.380952380952381, 1.1985472154963681, 1.1267876920113642, 1.0095479635983888, 1.246415770609319, 1.0690491947937348, 1.147247119078105, 1.0081485919712403, 1.2182952182952183, 1.0, 1.0384615384615385, 2.0, 1.057434460676406, 1.3135135135135134, 1.3333333333333333, 1.105263157894737, 1.0, 1.2598425196850394, 1.0447078394676648, 1.3728813559322033, 1.2391304347826086, 1.0667325753830945, 1.1666666666666667, 1.0489516782147035, 1.0625, 1.2723835957314447, 1.2, 1.0409276944065484, 1.0055762081784387, 1.032757174930347, 1.0160608531456528, 1.0, 1.0919719407638349, 1.1824679577135373, 1.0095657879637612, 1.1709006928406467, 1.0749771033936484, 1.2200206398348814, 1.0, 1.0055315074558, 1.218543046357616, 1.0116587175410705, 1.16, 1.0003943217665616, 1.0494647471391658, 1.1965361445783131, 2.0, 1.1722991689750693, 1.0577810792168514, 1.1806451612903226, 1.0641509433962264, 1.0, 1.6666666666666667, 1.136341606083396, 1.1636363636363636, 1.1244345442083619, 1.5, 1.0, 74.0, 1.291653750068382, 1.0105661734375495, 1.013550135501355, 1.1083249749247743, 1.04, 1.0528967254408061, 1.0410840447453635, 1.0169491525423728, 2.0, 1.0829813858908182, 1.0602251536708336, 1.1414309484193013, 1.018294410490954, 1.0993212429738042, 1.047448008922128, 1.1486486486486487, 1.1301691812052181, 1.0645933014354068, 1.0211467499290376, 1.3147445255474453, 1.1818181818181819, 1.0151546250684182, 1.1538461538461537, 1.2272727272727273, 1.4736842105263157, 2.4568668046928916, 1.0555555555555556, 1.016260162601626, 1.1564286536469324, 1.205188679245283, 1.4411027568922306, 1.044853935701652, 1.050079491255962, 1.0378071464171816, 1.0676131360209626, 1.1111111111111112, 1217.125, 1.0438108484005564, 1.0995720211781397, 1.329655406552368, 1.0203511804349452, 2.0573405832921403, 1.2616822429906542, 1.0868005126014524, 1.029237897427704, 1.1052414617556732, 1.0108570737313252, 1.0377969762419006, 1.0, 1.2727272727272727, 1.140316205533597, 17.333333333333332, 1.0831509846827134, 1.0885134733210398, 1.0724233983286908, 1.5161290322580645, 1.0666666666666667, 1.0588235294117647, 1.0049446202531647, 1.1113566131025958, 1.2, 1.1792752701843612, 1.0254754380925022, 1.1055408970976253, 1.3617021276595744, 1.0507544581618655, 1.0786963434022259, 1.2857142857142858, 1.017178562386947, 1.0146520146520146, 1.0952380952380953, 1.1081059975010412, 1.125, 1.3636363636363635, 1.011064816315943, 2.0, 1.144638403990025, 1.0988372093023255, 1.1078717201166182, 1.1155537784886045, 1.0297766749379653, 1.0786516853932584, 1.1679811685764148, 1.0877803140133873, 192.58333333333334, 1.0709628949455319, 1.0178187197417967, 2.0, 1.0, 1.0744304028885487, 1.25, 1.017515923566879, 1.411764705882353, 1.3333333333333333, 1.375, 1.3661971830985915, 1.0026572187776794, 1.1842105263157894, 1.0, 1.0, 1.16078184110971, 1.0518016077210002, 2.5, 1.1092246745897, 1.0, 1.1511576709936993, 1.2025316455696202, 1.0138011929421749, 1.2142857142857142, 1.080550098231827, 1.242147922998987, 1.288888888888889, 1.022065562213606, 1.0252073113031352, 1.0761904761904761, 1.0, 1.0714285714285714, 1.5714285714285714, 2.0, 1.2666666666666666, 1.1548257372654156, 1.1666666666666667, 1.1852861035422344, 1.1666666666666667, 1.0756787535264125, 1.0829516707726394, 1.3202883625128734, 1.0337768105537108, 1.058584686774942, 1.0616438356164384, 48.0, 1.1466083150984683, 1.1829787234042553, 1.0516611314993005, 1.0869565217391304, 1.5714285714285714, 1.0716216216216217, 1.3308823529411764, 1.0591976893453146, 1.0092165898617511, 1.2068376068376068, 1.0018120631633445, 1.0632911392405062, 1.1477850399419027, 1.001004016064257, 1.0701754385964912, 17.666666666666668, 1.0916230366492146, 1.0089899036466736, 1.0915371329879102, 1.051826139198785, 1.1136363636363635, 1.2553191489361701, 1.0654761904761905, 1.0, 1.009712598662409, 1.0764956369268834, 1.2561875028279263, 1.1102159162477867, 1.0212890625, 1.2198919605973944, 1.5714285714285714, 1.1686046511627908, 1.0, 1.2128279883381925, 1.1, 1.0622549539048427, 1.0579710144927537, 1.0976440533636105, 1.1893939393939394, 1.2327341532639546, 3.0, 1.2277397260273972, 1.0106087660682608, 1.123925657693818, 2.0, 1.0793650793650793, 5.2139267767408475, 1.326007326007326, 1.134438305709024, 1.0910891089108912, 1.1666666666666667, 1.1243822075782537, 1.0092773109243698, 1.0521724542861937, 1.1872389918675361, 1.0071096786425253, 1.0800582241630277, 1.0462633451957295, 2.142857142857143, 1.0220588235294117, 1.3928571428571428, 1.1598101265822784, 1.1266666666666667, 1.1409806753318203, 1.6666666666666667, 1.1111111111111112, 1.0721436555377364, 1.195187165775401, 14.0, 1.5072463768115942, 1.6312741312741312, 1.0776172125883108, 1.1428571428571428, 1.1983838383838383, 1.0517241379310345, 1.1018307515042889, 1.2083333333333333, 1.0414772727272728, 2.0, 1.001834862385321, 1.0439068100358424, 1.0153374233128833, 1.2222222222222223, 1.1550284136217506, 1.0846303501945525, 1.3888888888888888, 1.1585550754302176, 1.1, 1.0909090909090908, 1.0516129032258064, 1.2612179487179487, 1.0910065515187612, 1.0, 1.0, 1.0819348303224716, 1.0475270761595137, 1.014909166519064, 1.0, 1.0889865996649917, 1.0115522879896148, 1.0754321634363542, 2.0, 1.0996810207336523, 1.0276673940507637, 1.0053520973701369, 1.0109439124487005, 1.0275011236521425, 1.0260611243642257, 1.01628664495114, 1.0672580977924488, 2.3333333333333335, 1.0732337588505867, 2.108108108108108, 1.25, 1.2487046632124352, 1.1923076923076923, 1.02532452870549, 1.1261343012704175, 1.0806286144879116, 1.1268146883005978, 1.1118633599391867, 1.1183552008656839, 1.1139660413560342, 1.173913043478261, 4.0, 1.0031665495560442, 1.1889809285301483, 1.1017053336792122, 1.0412493356772003, 1.0867273598466698, 1.3864978902953586, 2.3222222222222224, 2.4285714285714284, 1.0426912402006134, 1.0274680474813898, 1.0179075921753746, 1.1385648639095087, 1.0579200508190028, 1.0199600798403194, 1.092592128038532, 1.0449612403100774, 1.2094395280235988, 1.123302752293578, 1.1386593204775024, 1.1757902852737085, 1.0342465753424657, 1.0915750915750915, 1.1904761904761905, 1.317829457364341, 1.1043634727845255, 1.2446808510638299, 1.0158572844400398, 1.0489978026689533, 1.107843137254902, 1.0224966395367732, 2.0, 1.0418736692689852, 5.81140350877193, 1.2416666666666667, 1.0903294367693943, 1.0612472160356348, 1.0406189555125724, 1.1408450704225352, 1.1142972129992956, 1.0, 1.1458333333333333, 1.1428571428571428, 1.0, 1.045045045045045, 1.1548757170172084, 1.002962962962963, 1.1359223300970873, 1.1231976930471004, 1.0221729490022173, 1.0987934578603986, 1.1079914786693614, 1.2822687957418497, 1.1509506433647014, 1.0039370949547677, 1.129641283826306, 1.0119816157912913, 1.052605388497903, 1.0550561797752809, 1.0659203980099503, 1.204855842185129, 1.1729323308270676, 1.0610254083484574, 1.178082191780822, 1.1585095336983198, 1.6178343949044587, 1.0780821917808219, 1.3129770992366412, 1.5, 1.0303448275862068, 1.2666666666666666, 1.2109533468559839, 1.2666666666666666, 1.1666666666666667, 1.0195243547083983, 1.1881138735420504, 1.0871207222121628, 1.0230960827232245, 1.195, 1.253280839895013, 1.0, 1.1159420289855073, 1.042416718394372, 1.098321247376949, 1.1909465699208444, 1.1140600315955766, 1.0192383336313249, 1.1317073170731706, 1.0934270119614447, 1.1233108108108107, 1.036421685626608, 1.0765874115869198, 1.3636363636363635, 1.0456349206349207, 2.1666666666666665, 1.5945208800533366, 1.0, 1.4058171745152355, 1.2975609756097561, 4.1940298507462686, 1.4285714285714286, 1.0280564649558208, 1.4, 1.0555555555555556, 1.082380095966914, 1.0177902621722847, 1.0126537384894045, 1.000019892777927, 1.0318627450980393, 1.2666666666666666, 1.3333333333333333, 1.1237113402061856, 1.0126126126126127, 1.0642384105960265, 1.0136802247465495, 1.3822076021273204, 1.0, 1.0074734563447068, 1.1829268292682926, 2.0, 1.0576608160158683, 1.1109010194015128, 1.2336802270577105, 1.0206815333746018, 1.0139472317930807, 1.0084033613445378, 1.5714285714285714, 1.00912894636744, 1.1217741935483871, 1.111481857601109, 1.1943181818181818, 1.0333141620792594, 1.11460556235788, 1.2237762237762237, 1.1144200626959249, 1.2474916387959867, 1.0444759785543511, 1.1066246056782334, 1.0218671152228764, 1.0531299316149394, 1.0196962997548011, 1.2466666666666666, 1.6774193548387097, 1.1111111111111112, 1.4, 1.0396039603960396, 1.5373878364905285, 1.0595322466335932, 1.0792922673656618, 1.0833333333333333, 1.0294957183634634, 1.0247172182656055, 1.0347222222222223, 1.0512882705955073, 3.0, 1.0441176470588236, 1.5, 1.1238317757009346, 1.0, 1.0693476673966422, 1.3333333333333333, 1.1341463414634145, 1.1058700209643606, 2.0, 1.0980484696887463, 1.2202713487629688, 1.5, 2.0, 1.2, 1.167763157894737, 1.0028176951253875, 1.310059171597633, 1.0870967741935484, 27.589473684210525, 1.1453488372093024, 1.1064935064935064, 1.1441441441441442, 1.5016722408026757, 1.0, 1.0, 1.1257078142695356, 1.03125, 1.000984251968504, 1.052215970782746, 1.0555141492954465, 1.0789183222958056, 1.0655704225352112, 1.0801894888606638, 1.1638655462184875, 1.0447494033412887, 1.5714285714285714, 1.0, 1.1724137931034482, 1.0295579293581356, 1.1235657546337159, 1.1666666666666667, 1.033734939759036, 1.0006547835576574, 1.0612602887599514, 1.0143015820776229, 1.054054054054054, 1.1578947368421053, 1.041819515774028, 1.0153028556793444, 1.0832545817905777, 1.05592959762498, 1.013157894736842, 1.0821561599550213, 1.0111186372283392, 1.1120218579234973, 1.4628309572301426, 1.125, 1.067524115755627, 1.8455445544554456, 1.3043478260869565, 1.1561561561561562, 1.1258941344778255, 1.0, 1.0528846153846154, 1.0256330395240914, 1.1296296296296295, 1.0846787304996182, 1.0162767039674465, 1.1842105263157894, 1.0341929185418006, 1.084390771449171, 1.0292107279693488, 1.0963740458015268, 1.0669693530079456, 1.14377799980662, 1.2530864197530864, 1.2142857142857142, 1.0, 1.2222222222222223, 1.1329296354608211, 1.3333333333333333, 1.142815406339777, 1.1538958591352109, 1.0345351867940922, 1.0555555555555556, 1.0709058096956825, 1.0618809353619933, 1.0788530465949822, 1.0144927536231885, 1.0201562139830134, 1.0918424158742177, 1.082446265289158, 1.1693721549428842, 1.4285714285714286, 1.094155844155844, 1.0642570281124497, 1.0789357492109695, 1.1368078175895766, 1.2303501945525293, 1.0743362831858407, 2.1198347107438016, 1.032378044847677, 1.0953020134228189, 1.0671083564864288, 1.0588235294117647, 1.0611841001844915, 1.0470172202987926, 1.264075734927753, 1.1132631578947367, 1.36, 1.1183908045977011, 1.0360824742268042, 1.625, 1.043237102379043, 1.5925925925925926, 1.0979087452471483, 1.0538793103448276, 1.016602809706258, 1.0662229049325824, 1.0505882352941176, 2.4, 1.018181818181818, 1.1497481525056068, 1.0616431845546144, 1.071573101563327, 1.0081659470621362, 1.0389696328994407, 1.1538461538461537, 1.0193081255028158, 1.1239992552597282, 1.0008480865048235, 1.0561122244488979, 1.0555555555555556, 1.1130809774796357, 1.3919282511210762, 1.0217770034843205, 1.5625, 1.0, 1.3333333333333333, 1.1170009086188992, 1.0161812297734627, 1.1925067558283333, 1.0905067531826358, 1.0864291129643668, 1.1166666666666667, 1.1594661462183715, 1.0945736434108526, 1.117132867132867, 1.0769230769230769, 1.0781805259417199, 1.0801258521237547, 1.1428571428571428, 1.75, 1.171066827441772, 1.1867371971787795, 1.0247252747252746, 1.0340909090909092, 1.3157132512671976, 1.0062016431363165, 1.2184425077312342, 1.1813031161473089, 1.25, 1.0779467680608366, 1.5873015873015872, 1.19375, 1.5161290322580645, 1.1422058330539726, 1.2418235877106045, 1.2230514096185738, 1.0975609756097562, 1.0170958530236789, 1.1062625524922403, 1.1275769745649264, 1.1368846298384065, 1.3333333333333333, 6.148148148148148, 1.3333333333333333, 1.2030651340996168, 1.3703703703703705, 1.0, 1.1538461538461537, 1.0348837209302326, 1.075085324232082, 1.0227059611520428, 1.0345345580296368, 1.0718038528896672, 1.490909090909091, 1.0666666666666667, 1.064516129032258, 1.2027027027027026, 1.0, 1.180722891566265, 1.0229920666351546, 1.0841749842306407, 1.28, 1.0606726710370182, 1.1026725389119663, 2.5, 1.1221122112211221, 1.2627986348122866, 1.5, 2.0, 1.2075154234436343, 1.1126132215763147, 1.0961265293942106, 1.2964071856287425, 1.0, 1.1255230125523012, 1.25, 3.0, 1.0287301830756146, 1.15182294115803, 1.027579278579146, 1.0679745095589155, 1.6666666666666667, 1.0370212169331146, 1.101471727343145, 1.0449897750511248, 1.1388101983002832, 1.0638888888888889, 1.0, 1.4078947368421053, 1.6348993288590603, 1.0171634553805053, 1.1719576719576719, 1.17578125, 1.0803304896509769, 1.0949423247559893, 1.0833333333333333, 1.3773584905660377, 1.023951162083564, 1.6425848265345024, 1.0490337817704252, 1.206896551724138, 1.180952380952381, 1.0801963993453356, 1.1428571428571428, 1.0297306750612103, 1.0591715976331362, 1.0072515745030366, 1.1310043668122272, 1.5, 1.6666666666666667, 1.13414671158457, 1.1275531471446436, 1.0030477480528277, 1.0725199739816644, 1.1791269443050678, 1.1337929935036468, 1.0601851851851851, 3.5833333333333335, 1.035316124205013, 1.174508434180518, 1.240364400840925, 1.0418848167539267, 1.6666666666666667, 1.051948051948052, 1.0086329933512026, 1.0969591226321036, 1.0471425912137007, 1.1261850518115675, 1.0182432432432433, 2.0, 1.1140776699029127, 1.0364394449390866, 1.2318939913182545, 1.1407942238267148, 1.1182472702999093, 1.170731707317073, 1.372340425531915, 1.0093715545755237, 1.08572755743779, 1.0483608179280672, 1.1140552995391706, 1.2036793692509855, 1.03125, 1.144048170449282, 1.0280036068530207, 1.0001824766289549, 1.0198248040571691, 1.1201665675193337, 1.0021367521367521, 9.5, 1.2555831265508686, 1.6666666666666667, 2.0, 1.1764705882352942, 1.0460358056265984, 1.1184834123222749, 1.0171794134560093, 1.0073793086624545, 1.1237635705669482, 1.0345252774352651, 1.1134020618556701, 1.0602978568833998, 1.033031852143138, 1.6, 1.5833333333333333, 1.0967523680649527, 1.125, 1.0330788804071247, 1.1196261682242992, 1.0254869990560371, 1.1412978201944457, 2.0, 1.0286144578313252, 1.1553930530164533, 1.0355218030377267, 1.094603521197831, 1.1843434343434343, 1.1921232876712329, 1.4098267237922375, 1.133236910616141, 1.0291411042944785, 1.0422535211267605, 1.1171770972037283, 1.0, 1.0, 1.096388720002861, 5.0, 1.375, 2.25, 1.058465286236297, 1.1379310344827587, 1.1191601049868767, 1.0025717111770525, 1.0, 1.1682184978274364, 1.058411214953271, 1.2513089005235603, 1.3581730769230769, 1.25, 2.525454741147347, 1.2139065817409767, 1.397872340425532, 1.0048409405255878, 1.0205398932251581, 1.1771480072100942, 1.1176470588235294, 1.0, 1.1737660037040019]
origin-bjaq_15.71 	max: 1217.1250	99th: 9.5450	95th: 2.0000	median: 1.0988	mean: 2.8724

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.839234 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[7.7033043e-04 1.7881393e-07 1.1920929e-07 5.9604645e-08 0.0000000e+00]
Distance score: 0.00015413761138916016
SAUCE Drift detection: True
Detection latency: 0.0334s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 29.7990 nats / 42.9909 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.070722 | Model-update-time: 2.496682


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 2159.1111	99th: 39.1337	95th: 2.0009	median: 1.1096	mean: 4.7015
ReportEsts: [1.0252100840336134, 1.0203413607668927, 1.050617486159793, 1.049090909090909, 1.3636363636363635, 1.0, 1.0100037572797296, 1.040954006278575, 1.0, 1.0718870346598204, 1.103896103896104, 1.0652658662092624, 1.0514198004604758, 1.10625, 1.0518134715025906, 135.0, 1.04375, 58.0, 1.0909090909090908, 1.0683229813664596, 1.0113468179575729, 1.0874940561103186, 1.0641646489104115, 1.75, 1.1436185133239831, 1.0279336946087, 2.0, 1.5439569454927313, 1.2, 1.4, 1.0335570469798658, 1.0, 1.049720895207207, 1.0036975987882568, 1.1792828685258965, 1.0592218828840791, 1.1087674523344844, 1.158924205378973, 40.0, 1.134719014626636, 1.1485013623978202, 1.0198905161789573, 1.0536838652752563, 1.0667290302463361, 1.0956521739130434, 1.1040343739305678, 1.25, 1.4230769230769231, 1.7231638418079096, 1.020542920029347, 1.4528301886792452, 1.1697478134482495, 1.0297906602254427, 1.046831955922865, 1.0786586975828714, 1.0396825396825398, 1.045058084174443, 1.0713260304445105, 1.0432501620576375, 1.4328358208955223, 1.062792689462428, 2.949367088607595, 1.0972402778293653, 1.0616438356164384, 1.1673640167364017, 1.032258064516129, 1.1666666666666667, 1.1151728463897408, 1.1219377924580236, 1.75, 1.0, 2.3507159127888055, 1.014207650273224, 1.0355385456533626, 1.0765765765765767, 1.1044585444789847, 1.188235294117647, 1.1234119782214156, 1.0, 1.2254697286012526, 57.375, 1.0135429235945799, 1.0625, 1.1223330061476469, 1.1722222222222223, 1.09049255441008, 1.232090284592738, 1.12, 1.1791662525795192, 1.0732733434614936, 1.0221238938053097, 1.75, 1.0308798646362098, 1.0612518700321034, 1.0733695652173914, 1.0113924050632912, 1.021505376344086, 1.0554216867469879, 2.0, 1.3869863013698631, 1.0, 1.1420564557220014, 1.7942475085152012, 1.0617670054730257, 1.1088547169073053, 1.2413793103448276, 1.0001934687235048, 1.1096363153703213, 1.4215567601705172, 1.1833218470020674, 1.157265481299816, 1.3333333333333333, 2.0, 1.208177570093458, 1.1027705495178326, 1.1484523057485787, 1.1481481481481481, 1.1779455332725615, 2.5, 1.0639567936327459, 1.0165369649805447, 1.0, 1.1153846153846154, 1.0, 1.24, 1.0191866721324077, 1.0180686201529403, 1.5904761904761904, 1.8, 1.033175355450237, 1.0, 1.103448275862069, 1.209823026040016, 1.0833333333333333, 1.1686197916666667, 1.1368988927757226, 1.0877375583053852, 3.0, 1.3076923076923077, 1.0344827586206897, 1.0574257425742575, 1.1809872029250457, 1.0492492956115635, 1.3142857142857143, 1.0035671819262781, 1.0860919856788764, 3.0, 1.133546034639927, 1.0123839009287925, 1.1010474430067776, 1.2032821598729486, 1.5, 1.4085354025218235, 1.0479548660084625, 1.098, 1.2236842105263157, 1.0110741971207087, 1.0379011996671352, 1.4512105649303009, 1.0845515606479652, 1.0437115040731175, 1.0136054421768708, 1.0662337662337662, 1.4011363636363636, 1.0229419703103915, 8.545454545454545, 1.0390072266818364, 15.25, 1.010443864229765, 1.2398194050991502, 35.77791563275434, 1.1083420907771606, 1.2556818181818181, 1.1076604554865424, 1.0591519804571627, 1.038022813688213, 1.1009490940465918, 1.0966057441253263, 1.0445714285714285, 1.2894913117144096, 1.000138824270985, 1.3805970149253732, 1.0791666666666666, 1.0701218966473947, 1.1209709313822425, 1.3181818181818181, 1.0167860340196957, 1.0449735449735449, 1.1428571428571428, 1.2032534246575342, 1.1034287420290743, 1.434782608695652, 1.2584745762711864, 1.1085598824393827, 1.0645482122432741, 1.1504035216434336, 1.0857142857142856, 1.0807399794450154, 2.4992389649923896, 1.1096802841918294, 1.6440903054448872, 1.152310325156874, 1.0704931481875362, 1.039830058417419, 1.0922066799885812, 1.056701030927835, 1.3623188405797102, 1.0632911392405062, 1.0, 1.25, 1.2550118560034491, 1.363036303630363, 1.268041237113402, 1.120612951062778, 1.3333333333333333, 1.0587798607475247, 1.1766304347826086, 1.346126238216012, 3.0, 1.1984496124031008, 1.0164802825191288, 1.0453035143769969, 1.0572803477180999, 1.0, 1.041206769683591, 1.1227398236394406, 1.0146625921668675, 1.2240896358543418, 1.0098081226491453, 1.6520060784964454, 1.0344827586206897, 1.0101563874573842, 1.1407571616124659, 1.1487889273356402, 1.0944162436548224, 1.036231884057971, 1.1538461538461537, 1.157514450867052, 2.0, 1.1428571428571428, 1.0390621052099651, 1.2920110192837466, 1.1832669322709164, 1.0833333333333333, 1.6666666666666667, 1.0606485092564588, 1.2545454545454546, 1.0771731316225424, 1.5, 1.0, 146.0, 1.3852675469075748, 1.064176075758364, 1.0310077519379846, 1.1186602870813398, 1.329867674858223, 1.1095717884130982, 1.0953399488060591, 1.0327868852459017, 2.0, 1.0613182491682898, 1.0694343126202004, 1.1035031847133758, 1.0029627941427839, 1.1449984222152099, 1.0818080430361476, 1.2027027027027026, 1.1904652923261094, 1.1220095693779903, 1.1293954134815845, 1.066724343030172, 1.1818181818181819, 1.0042735042735043, 1.1175213675213675, 1.3409090909090908, 1.631578947368421, 1.3866666666666667, 1.0427046263345197, 1.055459340313312, 1.016346484360081, 1.1563981042654028, 1.5388471177944862, 1.0067054991458977, 1.069410815173527, 1.0520965197577268, 1.0561956598572135, 1.1111111111111112, 2159.1111111111113, 1.0066577896138482, 1.1466778789914545, 1.0884934546261371, 1.0798003734623984, 3.1465235650956602, 1.2910547396528704, 1.132422041862452, 1.00954424385913, 1.0605036070214062, 1.0596542047614737, 1.0070140280561122, 1.0, 1.2727272727272727, 1.1863097376931369, 39.125, 1.135667396061269, 1.0851702921370088, 1.0533333333333332, 1.5806451612903225, 1.055045871559633, 1.263157894736842, 1.0095990965556183, 1.1960522249690977, 1.05, 1.0964779728001859, 1.0293798761950113, 1.1464019851116625, 1.38, 1.1097393689986284, 1.0595090503347384, 1.2857142857142858, 1.0127831530625295, 1.0622710622710623, 1.2777777777777777, 1.105842495842744, 1.0, 1.3333333333333333, 1.009934052529257, 2.0, 1.2032710280373833, 1.1686046511627908, 1.0797297297297297, 1.1020255063765942, 1.0241545893719808, 1.096774193548387, 1.2282498410422218, 1.1227923241940698, 355.38461538461536, 1.0357986231298797, 1.0950051670685497, 3.0, 1.1111111111111112, 1.1601384857972075, 1.5, 1.032342201356286, 1.4705882352941178, 1.6666666666666667, 1.2941176470588236, 1.3471731448763251, 1.040636042402827, 1.0687022900763359, 1.1314285714285715, 1.4393939393939394, 1.3333333333333333, 1.058300364230093, 154.0, 1.161764705882353, 1.012734090456695, 1.1160714285714286, 1.0352846832397755, 1.0318275154004106, 1.75, 1.3333333333333333, 1.2945804195804196, 1.047945205479452, 1.0358744394618835, 1.3072907961893987, 1.212962962962963, 1.0495867768595042, 1.5, 1.0318022765132238, 1.112278761061947, 1.2727272727272727, 1.0248999555357936, 1.108785908355466, 1.75, 1.122631882514752, 1.028301886792453, 1.159539997875279, 1.0672267586705544, 1.1147741147741148, 1.083111521538378, 1.2294051265516686, 1.0724233983286908, 1.0016181229773462, 1.0494896699316816, 1.1066907775768535, 1.0666666666666667, 1.116591140817945, 1.0452011233170893, 2.3, 1.0496031746031746, 1.2976190476190477, 1.0084388185654007, 1.2253501889426799, 1.0241935483870968, 1.25, 1.0526315789473684, 1.1097992916174735, 1.0952380952380953, 33.666666666666664, 1.1596858638743455, 1.0448589114880618, 1.069177241097012, 1.1219850235813782, 1.134020618556701, 1.0423728813559323, 1.0027932960893855, 1.0, 1.0184548412119527, 1.07844194770855, 1.4372966800956546, 1.168579848609081, 1.034805890227577, 1.2761360025421036, 1.5714285714285714, 1.1908629441624365, 1.2, 1.1879739978331527, 1.1, 1.0886136303181477, 1.1144927536231883, 1.2356132704794094, 1.1745454545454546, 1.106158833063209, 3.0, 1.1678060907395897, 1.01296569834236, 1.0928235025622939, 2.0, 1.0, 8.932405566600398, 1.4150943396226414, 1.1778736937755565, 1.4326375711574952, 1.105263157894737, 1.2649842271293374, 1.0366294745610383, 1.0639496295764794, 1.2500509061290979, 1.0774907749077491, 102.0, 1.2, 1.0364356435643565, 1.1530054644808743, 1.3448275862068966, 1.114828897338403, 1.206451612903226, 1.1223412247000493, 1.4705882352941178, 1.3333333333333333, 1.099650390127573, 1.1223021582733812, 27.0, 1.379746835443038, 2.1298701298701297, 1.0409845753797058, 1.0666666666666667, 1.1835594573024741, 1.0375337617584055, 1.0887197130517532, 1.1682375117813384, 1.0794148380355277, 1.1380818494220557, 1.083125519534497, 1.093189964157706, 1.0028818443804035, 1.2222222222222223, 1.2364820899239253, 1.0833333333333333, 1.3157894736842106, 1.0997805273704635, 1.1545454545454545, 1.0911242603550295, 1.1596774193548387, 1.41414913957935, 1.0181099084096585, 1.0, 1.027027027027027, 1.0596480716470624, 1.0466769921387276, 1.0006239951842255, 1.0, 1.1395672027000199, 1.0154374947966842, 1.1278156102671555, 2.0, 1.1391547049441786, 1.0229254433232096, 1.069717124769613, 1.0838689326130673, 1.050936359951358, 1.0510610932475883, 1.0116369278510473, 1.0793465577596266, 2.3333333333333335, 1.16683032714869, 2.342857142857143, 1.0, 1.310880829015544, 1.2884615384615385, 1.0117043601666766, 1.03125, 1.0476947948095061, 1.2805314256515075, 1.0662651256172337, 1.0422862453531598, 1.0959660182354374, 1.0995020814627376, 1.08, 1.0, 1.0855126837159674, 1.191578947368421, 1.129051677703495, 1.147745195866997, 1.6666666666666667, 1.0380116959064327, 1.2412698412698413, 45.0, 1.4090909090909092, 1.0150409711325645, 1.1176470588235294, 1.028384945041152, 2.227272727272727, 1.1683052434456929, 1.0233384069000508, 3.111111111111111, 1.4038393174546748, 1.2914622178606476, 1.1871644704734017, 1.856164383561644, 1.1267605633802817, 1.2380952380952381, 1.044340723453909, 1.0979671280276817, 1.0219341974077767, 1.0084190832553788, 1.0671172886519422, 1.0865384615384615, 1.0517076102041691, 2.0, 1.1171366594360086, 9.565737051792828, 1.1804511278195489, 1.11899949469429, 1.021604938271605, 1.0, 1.0677966101694916, 1.062690013029465, 1.0, 1.3, 1.6666666666666667, 1.0, 1.2222222222222223, 1.3125, 1.0170212765957447, 1.203883495145631, 1.1776674142902916, 1.1212765957446809, 1.0436265476998674, 1.0757318625371235, 1.363838633554332, 1.046235259881573, 1.0076568602658125, 1.1096849474912485, 1.0259517750510216, 1.0682930491942035, 1.0644122383252819, 1.1096543504171632, 1.2078488372093024, 1.1418439716312057, 1.016807439638256, 1.1204516938519449, 1.2164432697753444, 1.950310559006211, 1.2274745364324888, 1.0193370165745856, 1.5, 1.015267175572519, 1.125, 1.2237354085603114, 1.1176470588235294, 1.1666666666666667, 1.0212076540218644, 1.2295296642537559, 1.1294006570268242, 1.0550230206053286, 1.2165898617511521, 1.3452970297029703, 2.0, 15.0, 1.0285714285714285, 1.041033050388297, 1.033559114675192, 1.054857556486221, 1.05989629894511, 1.103448275862069, 1.0903922578745953, 1.1384863123993558, 1.0781685506348715, 1.0006480461408853, 1.009017785629484, 1.4146341463414633, 1.375, 2.0189100305379375, 1.0, 1.5716034271725827, 1.4, 7.561176470588236, 1.5714285714285714, 1.0534309177747998, 1.1, 1.0, 1.0456186412865114, 1.05305394560856, 1.0599563076328875, 1.0000189503406323, 1.0475059382422802, 1.2258064516129032, 1.0, 1.2, 1.008095440988496, 1.1514348785871964, 1.027864802988312, 1.5858173441659655, 1.0, 1.1279725422897768, 1.2073170731707317, 2.0, 1.096639527642595, 1.094595123785058, 1.2705771050141912, 1.0087123572468493, 1.039374704804912, 1.0551181102362204, 1.5714285714285714, 1.0138835325877362, 1.110483870967742, 1.0655320063229945, 1.1527196652719665, 1.0149572315030817, 1.1193335334734313, 1.2324414715719063, 1.1070901033973413, 1.3411371237458194, 1.0856971022416622, 1.1943217665615142, 1.0322073841319717, 1.0185802763220582, 1.0109134543798337, 1.31, 2.3754380110128483, 1.3333333333333333, 1.4, 1.115020297699594, 1.4593059936908517, 1.0712837837837839, 1.0558624923265807, 1.0833333333333333, 1.0837297811607993, 1.0795978215333053, 1.135135135135135, 1.0514191138645972, 2.0, 1.0066445182724253, 1.5, 1.1191588785046729, 1.0769230769230769, 1.0188780672906652, 1.2413793103448276, 1.223529411764706, 1.1090146750524108, 3.0, 1.1438426966292135, 1.0905848787446506, 1.5, 2.0, 1.2727272727272727, 1.1798107255520505, 1.0421552205471802, 1.4469783352337515, 1.1147798742138364, 1.4269119070667957, 1.1873111782477341, 1.0716686836089822, 1.1385281385281385, 1.844632768361582, 1.0344827586206897, 1.0, 1.0279214064115823, 1.0347043701799485, 1.0394366197183098, 1.1115982083293625, 1.0910958669573456, 1.0575610917169154, 1.0931552430851386, 1.1828403333878084, 1.0479192938209332, 1.0883054892601431, 1.5714285714285714, 1.0, 1.1333333333333333, 1.0076760790835435, 1.1703442188879083, 1.2222222222222223, 1.0975609756097562, 1.000624956600236, 1.0659608805112646, 1.0095399960993006, 1.0129870129870129, 1.1578947368421053, 1.0312066574202496, 1.0436744269987366, 1.133045513970387, 1.0096059643002222, 1.0921052631578947, 1.090793267618856, 1.023945354065836, 1.0791027154663517, 1.505600814663951, 1.0, 1.0624726955002184, 1.0007880220646177, 1.0340160191336, 1.0, 1.1816881258941345, 1.0, 1.0662100456621004, 1.0249736039418114, 1.1111111111111112, 1.0687502250387066, 1.0168986083499005, 1.205128205128205, 1.033976510067114, 1.1810742609949532, 1.0074450084602369, 1.1383587786259541, 1.0374574347332577, 1.0862565044383226, 1.2189239332096475, 1.5714285714285714, 1.0, 1.7142857142857142, 1.1801622865447499, 1.5, 1.0800279872502527, 1.2352323515158041, 1.0013952561291608, 1.0451693851944792, 1.0756459558525537, 1.0839590443686007, 1.118279569892473, 1.0376884422110553, 1.0068711934553667, 1.0600241879018055, 1.1147254095403045, 1.244842829076621, 1.4285714285714286, 1.0373831775700935, 1.0072992700729928, 1.0827245712870674, 1.1856677524429968, 1.1450989859971028, 1.0017699115044247, 1.9806949806949807, 1.027919557962987, 1.148993288590604, 1.0269406731983823, 1.1111111111111112, 1.0674590495665324, 1.038518530042042, 1.1044841097083151, 1.168842105263158, 1.2962962962962963, 1.1879518072289157, 2.555185537583254, 1.0403162742201755, 1.8076923076923077, 1.0118959481327143, 1.0606060606060606, 1.0070048495112, 1.0046822742474917, 1.0225035161744023, 1.032729398012858, 1.0327380952380953, 1.0360934182590233, 1.0743575724439585, 1.000706370955388, 1.1836027713625865, 1.0315932595760875, 1.0976934505687215, 1.2142857142857142, 1.0284135753749013, 1.0024893314366998, 1.048788751482297, 1.1422845691382766, 1.1111111111111112, 1.1747337850919652, 1.2980358667805294, 1.0205327413984462, 1.5625, 1.0, 1.3333333333333333, 1.1169112303434199, 1.1149570845645138, 1.1086225250159676, 1.0717919220606476, 1.0182730204227874, 1.1415780637940682, 1.2157396181407774, 1.0864634393943788, 1.0927152317880795, 1.0564102564102564, 1.081646423751687, 1.0644238128514858, 1.2023809523809523, 1.75, 1.202227042660882, 1.2096788372501905, 1.034446764091858, 1.1590909090909092, 1.386676321506155, 1.0247272586593763, 1.2918189485521507, 1.2237960339943343, 1.3, 1.0455362492510485, 1.5, 1.246875, 1.59375, 1.1835400603419377, 1.3221010901883052, 18.4, 1.1219512195121952, 1.0217811704834605, 1.0711049146043918, 1.081897551516501, 1.2291331546023234, 1.3333333333333333, 11.73076923076923, 2.0, 1.273075583420411, 1.3214285714285714, 1.25, 1.0714285714285714, 1.007125890736342, 1.0147540983606558, 1.0080995037298293, 1.0359412765195595, 1.008517887563884, 1.6, 1.0, 1.096774193548387, 1.1216216216216217, 1.1095890410958904, 1.163751987281399, 1.022234408041833, 1.1413045898111387, 1.2075471698113207, 1.0593989828941286, 1.1566137830939391, 2.5, 1.0315661419210123, 1.173318724891741, 1.5, 2.0, 1.1596593932943056, 1.077581799591002, 1.1532952283982043, 1.239884393063584, 1.5, 1.0178571428571428, 1.4555256064690028, 3.0, 1.026487130285185, 1.1272789714951248, 1.0582848896674588, 1.0616018992877672, 1.6666666666666667, 1.025874175299074, 1.158017041053447, 1.0046904315196998, 1.2185792349726776, 1.0902777777777777, 1.0, 1.3157894736842106, 1.9370664023785926, 1.0182023085854792, 1.1309811503141614, 1.203125, 1.0783083880693443, 1.0460048426150121, 1.1064638783269962, 1.1323529411764706, 1.033859776843419, 1.2506898454746136, 1.0894517438561264, 1.879120879120879, 1.2037037037037037, 1.0479876160990713, 1.0, 1.0302309782608696, 1.1035502958579881, 1.0234363065774417, 1.1419213973799127, 1.5, 1.0992481203007518, 1.0771417558061096, 1.184044233807267, 1.0248695118206939, 1.1125599833089923, 1.1555444054189663, 1.1611654905531528, 1.1449579831932772, 5.78, 1.100935113141552, 1.200160259702903, 1.1940298507462686, 1.0032102728731942, 1.6666666666666667, 1.0609756097560976, 1.1311018131101813, 1.030995106035889, 1.0350188304674044, 1.145108177145847, 1.0161394448030987, 1.6, 1.1336405529953917, 1.001368727083812, 1.3114005026273703, 1.2714776632302405, 1.1914723692366376, 1.1511627906976745, 1.2743091095189356, 1.005282620179609, 1.1393530967959675, 1.039832520533881, 1.1347926267281105, 1.296068796068796, 1.09375, 1.1338452142046942, 1.0285140921055345, 1.0547751035015087, 1.064603152065881, 1.0945494994438265, 1.0107671601615074, 17.833333333333332, 1.2874109263657958, 1.6666666666666667, 2.0, 1.3529411764705883, 1.0869565217391304, 1.131911532385466, 1.016110006403559, 1.0020611127684387, 1.2926997245179064, 1.065102195306586, 1.2401960784313726, 1.0676095205243188, 1.0485637200444373, 1.6, 1.75, 1.3161141094834232, 1.25, 1.0876494023904382, 1.135196034249662, 1.0286219378735584, 1.1908344289169142, 2.0, 1.009828699803426, 1.1701388888888888, 1.1298272357723578, 1.1494903529454938, 1.2563131313131313, 1.2647260273972603, 1.6780840082417021, 1.1737544179683046, 1.0251479289940828, 1.290909090909091, 1.0813214739517154, 1.0, 1.0, 1.1509155609599084, 5.0, 1.5, 1.9285714285714286, 1.0671806167400881, 1.1931818181818181, 1.0919026328862393, 1.1529126213592233, 1.1666666666666667, 15.427363184079603, 1.1261682242990654, 1.1636363636363636, 1.4014423076923077, 1.25, 3.9400020796506188, 1.1954081632653062, 2.1271186440677967, 1.0253025930616397, 1.2222222222222223, 1.0312881526344768]
origin-bjaq_15.71 	max: 2159.1111	99th: 39.1337	95th: 2.0009	median: 1.1096	mean: 4.7015

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 11.909625 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[6.7114830e-04 4.7683716e-07 1.7881393e-07 0.0000000e+00 1.1920929e-07]
Distance score: 0.0001343846379313618
SAUCE Drift detection: True
Detection latency: 0.0352s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 29.8551 nats / 43.0719 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.076739 | Model-update-time: 2.494034


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 3236.3333	99th: 74.8410	95th: 3.0000	median: 1.1275	mean: 9.8143
ReportEsts: [1.054054054054054, 1.0119047619047619, 1.0334019431810362, 1.110091743119266, 1.3043478260869565, 1.0, 1.0431664661793283, 1.052777009099344, 1.2, 1.1219512195121952, 1.1868954912950747, 1.074275468241439, 1.141185647425897, 1.078895463510848, 1.0825802430663758, 200.0, 1.0174418604651163, 85.0, 1.0909090909090908, 1.0830536912751678, 1.0446472619634928, 1.02096573702828, 1.0374581939799332, 1.0008539709649873, 1.3143940084188275, 1.0240273544934215, 2.0, 1.7392039293232124, 2.0, 1.4, 1.0844155844155845, 1.0, 1.0433653958458136, 1.001993911922264, 1.0716318785578747, 1.0899645210339584, 1.0604874896794343, 1.1037735849056605, 61.0, 1.1640912435614423, 1.1402359108781128, 1.1029109729714928, 1.063247703482162, 1.0771941063420885, 1.1478260869565218, 1.0220484342654355, 1.2380952380952381, 1.3703703703703705, 1.6355140186915889, 1.0121082621082622, 1.490566037735849, 1.2009498812648418, 1.1006441223832528, 1.0543766578249336, 1.030333600825404, 1.4198473282442747, 1.1069407804966798, 1.068222090962788, 1.3211678832116789, 1.2435897435897436, 1.060814421773901, 3.595505617977528, 1.1150574223734582, 1.0856164383561644, 1.1012145748987854, 1.0208333333333333, 1.0, 1.0070638729098984, 1.1337969401947148, 1.75, 1.0, 2.7521565784704602, 1.00836820083682, 1.096774193548387, 1.135135135135135, 1.0489799066682093, 1.2393822393822393, 1.0288830234950588, 1.2277777777777779, 1.303030303030303, 1.0980228295758865, 1.0201816347124117, 33.5, 1.0, 4.0, 1.0788235294117647, 1.2333333333333334, 1.047976011994003, 1.5, 26.0, 1.1094274974219087, 1.2882427307206068, 1.1283735248845561, 1.050586041555674, 1.113116026387272, 1.0977653631284916, 1.0108173076923077, 2.5, 1.23252688172043, 45.333333333333336, 1.6, 1.1469098277608916, 92.5, 1.2679938744257273, 4.04804469273743, 1.0892053973013494, 1.0644155649038463, 1.15625, 1.0158397656910132, 1.1810459251393681, 1.228778288389838, 1.184097657538766, 1.2112201103617413, 1.3333333333333333, 1.75, 1.219859813084112, 1.0729334034798352, 1.17877447883765, 1.1325301204819278, 1.2302443487210766, 3.5, 1.0689280868385347, 1.000956937799043, 1.0, 1.1703296703296704, 1.0, 1.165966386554622, 1.0136300527831974, 1.0108375618618055, 1.6610169491525424, 1.8, 1.005569306930693, 1.0, 1.0, 1.2953339230429013, 1.0833333333333333, 1.2443033854166667, 1.1978433305909173, 1.074878963270358, 2.2, 1.2142857142857142, 1.0560538116591929, 1.0845676063067367, 1.2504570383912248, 1.0369623313356975, 1.2913907284768211, 1.0136286201022147, 1.093238524003871, 3.0, 1.1731996353691887, 1.0079443892750746, 1.1035294117647059, 1.247044291512264, 1.5, 1.681822505469419, 1.0012919896640826, 1.144, 1.280701754385965, 1.256218905472637, 1.0289691411537467, 1.3484455958549222, 1.1371586549311667, 1.0461013090495161, 1.1133333333333333, 1.1482479784366577, 1.2433962264150944, 1.0364583333333333, 11.166666666666666, 1.1026705445724267, 18.0, 1.2771653543307087, 1.1746204814224608, 1.0625, 1.1044888154931691, 1.3050541516245486, 1.2176724137931034, 1.0214463840399002, 1.1363636363636365, 1.2303710094909404, 1.0313790255986788, 1.0381700054141851, 1.3328175655761862, 1.0081695540785065, 1.373134328358209, 1.0691906005221932, 1.0512822704735851, 1.0857846490627994, 1.2562277580071175, 1.1260603204524033, 1.019559902200489, 1.1428571428571428, 1.2602568493150685, 1.0356003980619901, 1.7619047619047619, 1.3177966101694916, 1.062851370344343, 1.0000313652673576, 1.1302228412256268, 1.1159574468085107, 1.0829567263047113, 2.9380281690140846, 1.1631959201019975, 1.000373488637083, 1.1451796919566457, 1.0687584272916029, 1.0892193308550187, 1.0983309143686502, 1.2266009852216748, 1.6307692307692307, 1.05, 1.0, 1.2030075187969924, 1.2698422833790945, 1.3633440514469453, 1.2254901960784315, 1.171033119130005, 1.5, 1.0621000625018602, 1.203804347826087, 1.404555677848495, 4.0, 1.0221948212083847, 1.0064770487186707, 1.0106006634595375, 1.0819746555603806, 5.0, 1.053658536585366, 1.1628923118773165, 1.0109195146599887, 1.0273972602739727, 1.0729166666666667, 1.0654205607476634, 2.126084262701363, 1.5841584158415842, 1.0109499535028652, 1.1284801413630854, 1.160535117056856, 1.1169474727452924, 1.010477299185099, 1.2653061224489797, 1.2093184979137692, 2.0, 1.014624790218173, 1.0192149857577366, 1.2152384801940177, 1.1103202846975089, 1.1666666666666667, 1.6666666666666667, 1.0972085036546264, 1.290909090909091, 1.1016716490757124, 1.2, 1.0, 221.0, 1.4707307360456627, 1.0908335585653224, 1.05, 1.093150684931507, 1.2602495543672014, 1.156591099916037, 1.032280748752637, 1.0317460317460319, 2.0, 1.0874510501957992, 1.056173456635841, 1.1204268292682926, 1.0376986638219394, 1.0434165980419068, 1.1185954208489142, 1.251987281399046, 1.2511663116384697, 1.1794258373205742, 1.1350938151494092, 1.2401247401247402, 1.3636363636363635, 1.0025583129635, 1.1748400852878464, 1.4090909090909092, 1.4166666666666667, 1.3411764705882352, 1.0498338870431894, 1.0146224710982659, 1.0011328339119312, 1.4865591397849462, 1.6541353383458646, 1.0104631653871574, 1.0581896551724137, 1.0968866846194083, 1.0610380823506669, 1.0, 3236.3333333333335, 1.0672215108834826, 1.2113397945137907, 1.0775790471556446, 1.0748094760791052, 4.451242829827916, 1.3511348464619493, 1.2059803502776592, 1.0225401872460695, 1.0889469136266297, 1.0484484256397841, 1.0222222222222221, 6.0, 1.3636363636363635, 1.2472152353575279, 58.5, 1.188183807439825, 1.0708267357057824, 1.0769230769230769, 1.6451612903225807, 1.125, 1.0594059405940595, 1.0114695340501791, 1.235838998763906, 1.2, 1.0179738562091503, 1.0140217664669626, 1.0341463414634147, 25.5, 3.3333333333333335, 1.0297166551485832, 1.4285714285714286, 1.0424298491135549, 1.1245421245421245, 1.4705882352941178, 1.0998102916765473, 1.0689655172413792, 1.4166666666666667, 1.0018311017917858, 2.0, 1.1501103752759383, 1.1875, 1.0815006468305304, 1.0869686281789492, 1.1898395721925135, 1.1134020618556701, 1.2590808858344946, 1.0908198193142922, 533.7692307692307, 1.0185852661384107, 1.0500976747117021, 3.0, 1.1111111111111112, 1.2276788774880596, 1.5, 1.081377151799687, 1.588235294117647, 2.0, 1.2222222222222223, 1.2783333333333333, 1.0901060070671378, 1.2203389830508475, 1.0699572483482316, 1.4848484848484849, 1.6, 1.0728873828012218, 233.0, 1.0136986301369864, 1.026326201418267, 1.0609756097560976, 1.0476550680786687, 1.0192864030858244, 1.75, 1.0, 1.2451612903225806, 1.2992125984251968, 1.0917327293318233, 1.377831566851261, 1.2118459767174108, 1.0557029177718833, 1.5, 1.031186348617209, 1.0400190566936636, 1.1666666666666667, 1.0903838217086257, 1.1049511503762643, 1.4, 1.2020000905018327, 1.2150537634408602, 1.2026324085750315, 1.0584270672637681, 1.0755355129650508, 1.1433846153846154, 1.2908270191842657, 1.1842105263157894, 1.0387722132471728, 1.1032335376394782, 1.1243432574430823, 1.03125, 1.1736603602582985, 1.0743284583654056, 2.0, 1.1933133304757824, 1.2921348314606742, 1.0539772727272727, 1.2398143744505454, 1.047808764940239, 1.75, 1.06, 1.0918253079507279, 1.0579710144927537, 48.333333333333336, 1.2290575916230366, 1.0595299854741647, 1.0795011691348402, 1.1070340177517046, 1.423529411764706, 1.0583333333333333, 1.0502793296089385, 1.0, 1.7395175251242159, 1.34, 1.2820919535020734, 1.0163858516135804, 1.1172308280742016, 1.3292024149984112, 1.5714285714285714, 1.2517623363544814, 1.1666666666666667, 1.196317427385892, 1.0, 3.93260128739114, 1.1507246376811595, 1.3422185430463576, 1.127208480565371, 1.0392441860465116, 3.0, 1.2765888456549934, 1.0078470862175142, 1.1277209909250876, 2.0, 1.0684931506849316, 12.921916010498688, 1.20625, 1.182244484706384, 1.2373188405797102, 1.05, 1.1355034065102196, 1.0268416034489907, 1.0638742022141232, 1.0621226874391432, 1.094891704127503, 149.0, 1.2, 1.065217391304348, 1.1014851485148516, 1.3, 1.0615496017378712, 1.404109589041096, 1.143807755689522, 1.4705882352941178, 1.5555555555555556, 1.0429879262305957, 1.1372093023255814, 40.0, 1.4743589743589745, 2.527050610820244, 1.0851896536503547, 1.0, 1.1226343679031037, 1.0588100947813177, 1.1101268183513615, 1.0626118067978534, 1.0268389662027833, 1.1497166716373397, 1.0805134189031504, 1.1388888888888888, 1.033426183844011, 1.3333333333333333, 1.2976582510062202, 1.1163636363636364, 1.3157894736842106, 1.2756410256410255, 1.2181818181818183, 1.1075877689694225, 1.2056451612903225, 1.2778386272362177, 1.0435165975103735, 1.0, 1.0945945945945945, 3.901945171197816, 1.5096713615023474, 1.0923913043478262, 1.25, 1.0620637615544237, 1.0088811157043565, 1.182294394971189, 2.0, 1.184609250398724, 1.0505318865166502, 1.082161510646846, 1.0079945440078808, 1.0341951657844461, 1.0375296717688467, 1.0088300220750552, 1.0874782608695652, 2.3333333333333335, 1.2712284872603234, 1.0941176470588236, 1.2, 1.091743119266055, 1.3653846153846154, 1.000583857423459, 1.077127659574468, 1.0394633707642675, 1.0403587443946187, 1.0892671875330835, 1.0004282655246253, 1.1044120686092167, 1.064651814924443, 1.1333333333333333, 1.4782608695652173, 1.0767228630582668, 1.2829076620825148, 1.164633566743766, 1.1892385235016332, 2.0, 1.082565130260521, 1.0853658536585367, 68.0, 1.3863636363636365, 1.0139301435568506, 1.1203007518796992, 1.0617533541628377, 1.0, 47.2, 1.171059857221307, 1.2946837201699901, 1.2057971014492754, 1.0275196521600807, 1.0978348035284684, 1.1566793335282082, 1.1271084337349397, 1.1520591341077087, 1.7379310344827585, 1.1900186219739293, 2476.4, 1.0494505494505495, 1.0849079864613453, 1.1379310344827587, 1.0664283684222033, 2.0, 1.2142322097378278, 11.897260273972602, 2.5797394535107934, 1.0096852300242132, 1.03714859437751, 1.0486111111111112, 1.1142857142857143, 1.0959096843906173, 1.0, 1.1538461538461537, 2.4, 1.0, 1.4083333333333334, 1.4444444444444444, 1.019099590723056, 1.2864077669902914, 1.2302146747837233, 1.0605187319884726, 1.0508558824443133, 1.0294356475842468, 1.453573122870574, 1.0309406898193614, 1.01796154117067, 1.157258064516129, 1.104424555653599, 1.0694093237372755, 1.0550694801852805, 1.0710194730813287, 1.158878504672897, 1.1369863013698631, 1.043333893745797, 1.1198547215496368, 1.2733386822729846, 2.2865853658536586, 1.173436331921256, 1.0440251572327044, 1.5, 1.0218181818181817, 1.0, 4.0, 1.950570342205323, 1.3117279206543107, 1.2021709633649933, 1.0844686648501363, 1.0909090909090908, 1.07765292706399, 1.024558473291887, 1.1197718631178708, 1.0, 12.0, 1.1888647008377862, 1.167464114832536, 1.092333058532564, 1.0179412424310383, 1.0, 1.0555836280949975, 1.1021739130434782, 1.106690680837405, 1.109062980030722, 1.1866191384871703, 1.0086875194845681, 1.0059475863864549, 1.4823529411764707, 1.3, 2.304130706182489, 1.0, 1.9129901960784315, 1.4219409282700421, 10.498876404494382, 1.5714285714285714, 1.0372714940895291, 1.4, 1.0526315789473684, 1.0539022080189682, 1.0302127659574467, 1.0513439682795822, 1.0000180931616895, 1.1258907363420427, 1.1875, 1.25, 1.28659793814433, 8.722222222222221, 1.2565121412803533, 1.1234184841547175, 1.773694339722127, 1.0, 1.0652763490133732, 1.2392367906066537, 2.0, 1.196410663059449, 1.112722922196882, 1.336802270577105, 1.010900211872526, 1.101704002424299, 1.072, 2.5714285714285716, 1.0174971472042602, 1.1758064516129032, 1.114890002050561, 1.1401315789473685, 1.013452087839791, 1.1359775628256816, 1.162379421221865, 1.1288475304223335, 1.411371237458194, 1.0399676019438833, 1.2214511041009464, 1.0724980299448386, 1.044504995458674, 1.0046430724474162, 1.1794871794871795, 2.99013367281986, 1.3888888888888888, 1.6, 1.0426356589147288, 1.3813078530904748, 1.057723315059658, 1.0334197637568423, 1.1666666666666667, 1.158896289248335, 1.1290322580645162, 1.0394736842105263, 1.075278843484636, 2.0, 1.066006600660066, 1.5, 1.264018691588785, 1.0769230769230769, 1.0439324858842356, 1.2, 1.2129277566539924, 1.2232704402515724, 4.0, 1.1282760691459701, 1.1015850144092219, 1.5, 2.0, 1.3381294964028776, 1.135135135135135, 1.0415114422565195, 1.5580890336590663, 1.0786026200873362, 1.4754683318465656, 1.1752265861027191, 1.0068143100511073, 1.0836653386454183, 2.245430809399478, 1.15625, 1.0, 1.2925877763329, 1.0353227771010962, 1.0026881720430108, 1.1703758426447501, 1.0842207998792146, 1.0060189165950129, 1.06703341744265, 1.172439594699922, 1.0400500625782227, 1.1157517899761336, 1.375, 1.0, 1.096774193548387, 1.0528622798498648, 1.260370697263901, 1.2810457516339868, 1.145985401459854, 1.0421786781800066, 1.0224481352325787, 1.0172156350778618, 1.0384615384615385, 1.1, 74.73840445269016, 1.0438061247985264, 1.1332130635854702, 1.0434358455773005, 1.125, 1.0242261103633916, 1.0227793419228386, 1.090458488228005, 1.5692464358452138, 1.1111111111111112, 1.0392317123007764, 1.0113550340651023, 1.0379178953854666, 1.3333333333333333, 1.238197424892704, 1.0, 1.1461187214611872, 1.0389896973871, 1.2222222222222223, 1.0744139054413493, 1.042198233562316, 1.225, 1.040199910715258, 1.1893294881038212, 1.002538801790248, 1.215648854961832, 1.1259931895573212, 1.0368725530298604, 1.320825515947467, 1.6428571428571428, 1.0, 1.4444444444444444, 1.2338137338016228, 1.5, 1.0643415162243615, 1.2937644714878036, 1.041927527983305, 1.0479849726775956, 1.6283987363730987, 1.0660941000746826, 1.200716845878136, 1.0288461538461537, 1.0033513297340533, 1.094299489506523, 1.152958946083735, 1.2618030224075039, 1.4285714285714286, 1.0507462686567164, 1.0381944444444444, 1.0382853114811879, 1.1889250814332248, 1.0908463661453542, 1.0867256637168141, 1.9213483146067416, 1.0490705728873495, 1.2053691275167786, 1.0323339094087858, 1.1578947368421053, 1.0541955553748246, 1.0292022634789584, 1.116637323943662, 1.224, 1.565217391304348, 1.198622273249139, 2.904976404976405, 1.0380161461090525, 2.0661764705882355, 1.0080418964171514, 1.2413793103448276, 1.0137231503579953, 1.038583175205566, 1.040485829959514, 1.1, 1.011111111111111, 1.0029469548133596, 1.0826750921537651, 1.0033579529074512, 1.2378752886836029, 1.015116534324449, 1.047039344819685, 1.4615384615384615, 1.0670876085240726, 1.084212317114665, 1.0507113400027626, 28.55511022044088, 1.0141381185426863, 1.056701030927835, 1.0148588410104011, 1.0141752577319587, 1.0522974430354193, 69.75, 1.2859154929577465, 1.0709930677357387, 1.099603567888999, 1.0733082706766917, 1.7658496089483113, 1.1122248995983937, 1.0331720801658604, 1.069767441860465, 1.2663946141487024, 1.1380201602481261, 1.10062893081761, 1.0434782608695652, 1.0901481004507405, 1.08221222545647, 1.2738095238095237, 1.75, 1.292299521049591, 1.2263636744790576, 1.0038149737720554, 1.1931818181818181, 1.3616944243301956, 1.0134340284662016, 1.3353949957829632, 1.4235668789808917, 1.121212121212121, 1.0425652667423382, 1.9333333333333333, 1.334375, 1.7741935483870968, 1.221510783327746, 1.354806739345887, 26.388261851015802, 1.0975609756097562, 1.0218978102189782, 1.08355091383812, 1.223529411764706, 1.206896551724138, 1.2019302152932443, 1.6382113821138211, 1.0105496946141033, 1.1538461538461537, 1.0354888574004895, 1.011879049676026, 1.162865090403338, 1.4736842105263157, 579.0, 4.915096647908001, 1.062362389317451, 1.0456969540155534, 1.3833605220228384, 1.8032786885245902, 1.0, 1.2580645161290323, 1.3108108108108107, 1.0533333333333332, 1.1816793893129771, 1.0053220917232397, 1.1975659530258618, 1.1428571428571428, 1.0539488059017703, 1.21154096391572, 2.5, 1.04477669835961, 1.1199183130699089, 1.5, 2.0, 1.1429655870445343, 1.0775151515151515, 1.197607458314305, 1.2305555555555556, 1.0, 1.1646586345381527, 1.2247474747474747, 3.0, 1.0206074572173323, 1.1171866088741873, 1.0342312203721569, 1.1598150693489941, 1.4285714285714286, 1.034134235691869, 1.214562354763749, 1.0368043087971275, 1.2506393861892584, 1.163888888888889, 1.0, 1.5394736842105263, 2.3872664511533617, 1.0247614757131596, 1.0723835869064084, 1.2890625, 1.0640065973103274, 1.0872, 1.1277372262773722, 1.2615384615384615, 1.0294303326074465, 1.7836268265267892, 1.068816479171137, 1.2222222222222223, 1.2432432432432432, 1.0706921944035346, 1.0, 1.0611413043478262, 1.0650887573964498, 1.0074162410048009, 1.2041484716157205, 1.5, 1.102158273381295, 1.134913751565963, 1.230682670667667, 1.1368565755307773, 1.1704569163363239, 1.27228633550761, 1.2005494505494505, 1.0949227373068433, 7.381818181818182, 1.0983124957299992, 1.241242218158657, 1.2388059701492538, 1.0108527131782945, 1.6666666666666667, 1.1625, 1.1393333333333333, 1.0458860759493671, 1.0137939503090336, 1.1803831145796382, 1.0247218788627936, 1.6, 1.1422366992399566, 1.0334763864007717, 1.3783413296778615, 1.0751633986928104, 1.2593155485624374, 1.0165745856353592, 1.6235177865612649, 1.0225677031093279, 1.193323389909239, 1.0421190085049838, 1.1785714285714286, 1.3906976744186046, 1.15625, 1.2165582390161305, 1.015337564234664, 1.121044137253526, 1.1404637448063262, 1.0904736562001065, 1.0064226075786769, 22.285714285714285, 1.3473193473193472, 1.6666666666666667, 2.0, 1.3529411764705883, 1.1611253196930946, 1.2259083728278042, 1.0149790685504971, 1.000825754658293, 1.7033985581874356, 1.0459096920460986, 1.158878504672897, 1.0469314079422383, 1.0404779794943888, 1.3333333333333333, 1.75, 1.020027816411683, 1.1111111111111112, 1.0935897435897435, 1.1429805615550757, 1.067556296914095, 1.23283179951632, 2.0, 1.0662905500705218, 1.1011185682326623, 1.10281659689054, 1.2020422580437993, 1.4128787878787878, 1.3068493150684932, 1.9125227499559678, 1.150673983696521, 1.0413694721825963, 1.0845070422535212, 1.086374695863747, 1.0, 1.0, 1.205281463466972, 5.0, 1.5, 1.4210526315789473, 1.0222457627118644, 1.121212121212121, 1.0549242424242424, 1.390467111534795, 1.3333333333333333, 21.207792207792206, 1.1793224299065421, 1.2342342342342343, 1.4951923076923077, 1.25]
origin-bjaq_15.71 	max: 3236.3333	99th: 74.8410	95th: 3.0000	median: 1.1275	mean: 9.8143

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 11.951359 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[5.9401989e-04 7.1525574e-07 1.7881393e-07 5.9604645e-08 1.1920929e-07]
Distance score: 0.00011901855759788305
SAUCE Drift detection: True
Detection latency: 0.0363s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 29.9861 nats / 43.2608 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.086054 | Model-update-time: 2.514994


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 4312.4444	99th: 96.4180	95th: 5.0000	median: 1.1412	mean: 9.7034
ReportEsts: [1.0837696335078535, 1.003182686187142, 1.0363960706610555, 1.07679180887372, 1.25, 1.0, 1.1261222540592168, 1.0377232476998721, 1.2, 1.1989730423620026, 1.0680154462107034, 1.0822949243138673, 1.1249094858797972, 1.0825515947467168, 1.0866425992779782, 261.0, 1.0473537604456824, 112.33333333333333, 1.0, 1.0103585657370517, 1.0997779970399606, 1.0368207211782632, 1.0175438596491229, 1.018166804293972, 1.383126627912994, 1.0262524867326754, 2.0, 1.8794007944931315, 1.2, 1.4, 1.0942028985507246, 1.0, 1.061395461041643, 1.009928417710893, 1.044917257683215, 1.0272496063945744, 1.0193926846100758, 1.1136363636363635, 82.0, 2.3446553446553446, 1.0786548082267926, 1.0033258671010656, 1.1385006353240152, 1.1516905190167097, 1.1695652173913043, 1.0568061088977423, 1.2272727272727273, 40.02835051546392, 2.1868131868131866, 1.0256410256410255, 2.0, 1.1638655462184875, 1.285, 1.206896551724138, 1.0686932689648236, 1.1863033873343152, 1.1175560711523589, 1.2188365650969528, 1.294871794871795, 1.0490362875748565, 4.43956043956044, 1.1771789330960551, 1.1181506849315068, 1.253968253968254, 1.0204081632653061, 1.1428571428571428, 1.0118769638790395, 1.0470074492679167, 89.85611510791367, 1.5454545454545454, 5.912432432432432, 1.017329255861366, 1.1410606889010388, 1.1554054054054055, 1.1409506252003847, 1.0769230769230769, 1.037928647390493, 1.2239583333333333, 1.2524271844660195, 1.117657218697162, 1.047853971386285, 42.5, 1.0, 5.0, 1.1214848143982001, 1.109375, 1.333941605839416, 1.0, 36.0, 1.0755803777427722, 1.346216362651255, 1.2519005212858385, 1.1093052330773352, 1.076338002040627, 1.002415458937198, 1.0125427594070695, 1.1358124494745352, 1.045045045045045, 203.33333333333334, 8.926322225619076, 1.1071428571428572, 4.0, 1.0582995677440639, 2.3214667141331433, 1.0822510822510822, 1.010915706488781, 1.1176470588235294, 1.0231659027032087, 1.266790549508893, 1.2188013136288998, 1.0903901046622264, 1.272838749233599, 1.5, 1.5, 1.305607476635514, 1.0685203081675232, 1.268477574226153, 1.3176470588235294, 1.2757021265519666, 4.5, 1.1241217798594847, 1.0038277511961722, 1.0, 1.1813186813186813, 1.2857142857142858, 1.1217564870259482, 1.0173758336040077, 1.028024566215491, 1.7716535433070866, 1.5, 1.072560975609756, 1.0, 1.3333333333333333, 1.3740601503759398, 1.0, 16.25, 1.0270450637951316, 1.0222819058987367, 18.7, 1.01536312849162, 1.1386553131098103, 1.157377049180328, 1.0151515151515151, 1.1666666666666667, 1.124031007751938, 4.294016358157555, 3.0, 1.2269826800364632, 1.0113314447592068, 1.0929326655537006, 1.3230986412563968, 1.5, 1.7325687692179839, 1.0202531645569621, 1.212, 1.9577464788732395, 1.0, 1.0260651629072681, 1.0615725255570736, 1.1414223092309657, 1.071550255536627, 1.0807799442896935, 1.305084745762712, 1.4464285714285714, 1.0541561712846348, 13.538461538461538, 1.0744147523423844, 23.8, 1.2626112759643917, 1.5605909141397312, 1.0576923076923077, 1.2377020467397288, 1.2854671280276817, 1.1423076923076922, 1.071122400381013, 1.1507936507936507, 1.1691113028472822, 1.0329411764705883, 1.0412023840373155, 2.3682568568828803, 1.0122553455542054, 1.492537313432836, 1.300411522633745, 1.0253822250985685, 1.0998237108858528, 1.157718120805369, 1.0003980891719746, 1.0452380952380953, 2.0, 1.0397727272727273, 1.0319379759255933, 2.1578947368421053, 1.3777239709443099, 1.063665053650326, 1.0246868754672078, 1.164021164021164, 1.1447638603696098, 1.0903145621874353, 3.6753623188405795, 1.2046191247974067, 1.0311963330409322, 1.2136337706788363, 1.0511768138494457, 1.1380775358470525, 1.0757300060653323, 1.2735849056603774, 1.7, 1.0120481927710843, 1.0, 1.2403100775193798, 1.2841438848920863, 1.4025157232704402, 1.2037037037037037, 1.227385071675729, 1.6666666666666667, 1.0725691688298686, 1.2255434782608696, 1.4659999042924823, 5.0, 1.0119047619047619, 1.0206668503720033, 1.0260341136661832, 1.107316796383685, 6.0, 2.503030303030303, 1.0856260162601625, 1.02568033143018, 1.04221635883905, 1.0366666666666666, 1.0859232175502742, 2.426805831676607, 1.6534653465346534, 1.0093075126915347, 1.0235004751523282, 1.103559870550162, 1.1809045226130652, 1.0066006600660067, 1.3333333333333333, 1.1427613941018766, 2.0, 1.0372549019607844, 1.0967592806620128, 1.141753572808034, 1.1595744680851063, 1.1666666666666667, 1.6666666666666667, 1.0968670495020716, 1.3818181818181818, 1.0555772884765844, 1.2, 54.13762811127379, 1.0470588235294118, 1.1428571428571428, 1.211053089643168, 1.099273607748184, 1.1137357830271215, 1.252431289640592, 1.2157850545759865, 1.0480943302520065, 1.0615384615384615, 2.0, 1.0962503087129438, 1.0935412026726057, 1.1345029239766082, 1.0065836453888357, 1.1051302837290098, 1.1648297579216689, 1.3529411764705883, 1.318944421949545, 1.2314593301435406, 1.190687977762335, 1.4640967498110355, 1.4545454545454546, 1.0068576440802983, 1.207112970711297, 1.4090909090909092, 1.85, 1.404494382022472, 1.0909090909090908, 1.0353130016051364, 1.0433125917639656, 1.2165354330708662, 1.6591478696741855, 1.0068685047308825, 1.0679945054945055, 1.073527813009603, 1.053907367340203, 1.0, 4312.444444444444, 1.2123456790123457, 1.0340833046969669, 1.0584642921913563, 1.1086328676816826, 5.3457901846015305, 1.4459279038718291, 1.3012387868432294, 1.0283723918704135, 1.1160741579903257, 1.0002596896708433, 1.0121495327102803, 8.0, 1.4545454545454546, 1.3070427596119296, 70.11111111111111, 1.2560175054704594, 1.1184960877061139, 1.094274051191527, 1.7096774193548387, 1.1043478260869566, 1.5142857142857142, 1.056913348145616, 1.0161653164837057, 1.25, 1.0133584009499308, 1.0200303771945534, 1.0382022471910113, 26.0, 1.0526315789473684, 1.0085726532361765, 1.5714285714285714, 1.0405362937879197, 1.1666666666666667, 1.2272727272727273, 1.1096659970719418, 1.0333333333333334, 1.5, 1.009741682412039, 2.0, 1.104602510460251, 1.255813953488372, 1.0186915887850467, 1.054119941491955, 1.0106837606837606, 1.1176470588235294, 1.3655352480417755, 1.1065895503861405, 662.1428571428571, 1.0402840423804784, 1.0515899354371567, 3.0, 1.2222222222222223, 1.2555588564638132, 1.5, 1.1309337506520605, 1.6470588235294117, 1.75, 1.1578947368421053, 1.3496835443037976, 1.146643109540636, 1.1472868217054264, 1.0967409948542024, 1.5606060606060606, 1.3333333333333333, 1.035183808575396, 310.0, 1.0833333333333333, 1.0042992932000976, 1.091633466135458, 1.005738880918221, 1.0382819794584501, 1.75, 1.0, 1.3433583959899749, 1.3111111111111111, 1.1177777777777778, 1.4431717445061354, 1.2393454634265477, 1.032418952618454, 1.5, 1.0263880348838217, 1.0197802197802197, 1.3125, 4.0, 1.143729080527663, 1.0, 1.1848049281314168, 1.1142857142857143, 1.165446096202039, 1.0761271407629875, 1.0574468085106383, 1.1853846153846155, 1.3440270836691923, 1.1639344262295082, 1.1050080775444264, 1.0440101475147985, 1.1142384105960266, 1.1470588235294117, 1.200793021411578, 1.0605963268082534, 1.0558320950965825, 1.0686274509803921, 1.2285714285714286, 1.103030303030303, 4.0, 1.1428571428571428, 1.7341772151898733, 1.2224409448818898, 2.1666666666666665, 1.112994350282486, 1.055164954029205, 1.0831589958158996, 1.0739570164348926, 1.1125975473801561, 1.1342215822617538, 1.375, 1.0155038759689923, 1.1033519553072626, 1.0, 1.918551047606563, 1.3137254901960784, 1.3393079694545784, 1.007850718816751, 1.143908969210174, 1.4022878932316492, 1.375, 1.2514285714285713, 1.0, 1.1591181404265516, 1.0, 4.6547233613929055, 1.2521739130434784, 1.47553893882746, 1.2336769759450172, 1.0558698727015559, 3.0, 1.1107509454349, 1.0143148035023417, 1.1780757246718911, 2.0, 1.077922077922078, 15.617008443908324, 1.2461059190031152, 1.2020551429443485, 1.0656831529943045, 1.12, 1.0218340611353711, 1.0334935865467094, 1.0939627780299592, 1.1474530831099197, 1.130087880128975, 3.4675324675324677, 42.0, 1.0325278810408922, 1.0679348365948147, 1.2831858407079646, 1.166307857911733, 1.0, 1.5, 1.098051948051948, 1.0902255639097744, 1.1153439153439153, 1.173910565166586, 1.0584944048830112, 1.0, 1.0263157894736843, 1.0, 1.0184040271708408, 1.0416666666666667, 1.0, 1.0650106069937726, 1.0, 1.0, 1.0614374034003091, 1.5, 1.0250316856780735, 1.1926523297491038, 1.005089058524173, 1.4444444444444444, 1.3706912388216534, 1.0718462823725983, 1.25, 1.2429887470118361, 1.2636363636363637, 1.059847660500544, 1.1669354838709678, 1.1775602936036351, 1.0439658594680428, 1.0, 1.1486486486486487, 4.458652132900116, 1.4491262453045892, 1.1530797101449275, 1.0, 1.0500179920834833, 1.0244276177978466, 1.2357255107386067, 2.0, 1.2507974481658692, 1.0282650585568944, 1.0535339238425714, 1.0093169953596288, 1.054653917010264, 1.0596918751098354, 1.0209084354722422, 17.094594594594593, 2.3333333333333335, 1.228177166778645, 215.2712765957447, 1.032869481765835, 1.0722041259500543, 1.2190476190476192, 1.0011738993830124, 1.0740305522914217, 1.0465822824766022, 1.0186379928315412, 1.086133392600974, 1.0548453608247423, 1.1022954708309654, 1.072930648769575, 1.1733333333333333, 1.2247191011235956, 1.0840004779543553, 1.4500978473581214, 1.2130794334780266, 1.2351086333353103, 2.3333333333333335, 1.0805084745762712, 1.8396501457725947, 92.0, 1.2045454545454546, 1.0470094697553904, 1.1304347826086956, 1.0521510096575943, 1.0, 62.2, 1.2229544206479956, 1.4214408303367114, 1.2521739130434784, 1.0430652954081439, 1.1270216962524655, 1.1496939343350028, 1.1885542168674699, 1.1737240408306935, 1.910344827586207, 1.2244413407821229, 68.0, 1.2307692307692308, 1.107843137254902, 1.2225641025641025, 1.2228927781130556, 1.0794820643540581, 1.062957631891858, 1.068833302903049, 1.0446540880503146, 1.2912319052400136, 2.0, 1.1370481927710843, 1.198915254237288, 1.066499022073205, 1.0, 1.0259067357512954, 1.024314758998127, 1.3804457953394123, 1.1447813027970715, 1.4525185796862097, 1.1710677382319172, 1.5, 1.2848837209302326, 1.2857142857142858, 1.1183856502242153, 1.419718309859155, 1.5, 2.6003357092466004, 1.5294117647058822, 1.173913043478261, 1.1072830781311347, 1.0953805250913924, 1.0588235294117647, 6.144718143060161, 1.0838235294117646, 1.1452205882352942, 1.5895733480003142, 1.2354171871096677, 1.3055932583473981, 2.0, 1.0615384615384615, 238.6818181818182, 66.5, 1.0, 1.0347222222222223, 1.0588235294117647, 5.0, 2.388663967611336, 1.3937013391466833, 1.2564450474898237, 1.0854922279792747, 1.138121546961326, 1.1325920986377431, 1.0522889733840304, 1.129798903107861, 1.0, 16.0, 1.1552463839176268, 1.0137614678899083, 1.082514734774067, 1.036873156342183, 1.0, 1.240656851642129, 1.0616016427104722, 1.052684525644562, 1.1130690161527166, 1.2230279059547353, 1.0306990641758087, 1.633846153846154, 1.0, 1.134732566012187, 1.2341932220536167, 1.6666666666666667, 1.3339615593588698, 3.0, 1.09072375127421, 1.0688871922122543, 1.7142857142857142, 1.017982775351771, 1.5, 1.105263157894737, 1.0685100959616154, 1.0008130081300812, 1.0185961351804464, 1.0000173101723229, 1.147268408551069, 1.1515151515151516, 1.2941176470588236, 1.3298969072164948, 9.761904761904763, 1.2231788079470198, 1.1551391733943848, 1.947270016928169, 1.0, 1.0471698113207548, 1.279652844744455, 2.0, 1.2309629871492875, 1.1235762120084711, 1.422894985808893, 1.0117848287982927, 1.0506634627652789, 1.0070422535211268, 2.2857142857142856, 1.201977938379612, 1.2451612903225806, 1.0923087699635752, 1.1948565776458953, 1.0065240559561415, 1.1306396279637112, 1.22015503875969, 1.1287568306010929, 1.4381270903010033, 1.0645663508849232, 1.2965299684542586, 1.1909836065573771, 1.020824295010846, 1.0075239904937834, 1.2191011235955056, 3.6703884258531216, 1.3333333333333333, 1.6, 1.1025957972805933, 1.3281653746770026, 1.079888957433683, 1.105515587529976, 1.1666666666666667, 1.1902949571836345, 1.1709258483452032, 1.2115384615384615, 1.0695677633729164, 2.0, 1.1288836488286282, 1.5, 1.2383177570093458, 1.1538461538461537, 1.035890681593678, 1.2, 1.2361623616236161, 1.2861635220125787, 5.0, 1.129248630797317, 1.1309171597633136, 1.75, 1.3333333333333333, 1.4366197183098592, 1.2148997134670487, 1.0398477157360406, 1.6718913270637408, 1.1044349070100143, 1.6034934497816593, 1.3081570996978853, 1.026403743315508, 1.1067193675889329, 2.6323529411764706, 1.0, 1.0, 1.0613682092555332, 1.0322966507177034, 1.0454545454545454, 1.2978300009475978, 1.1116755281309776, 1.0791441474790848, 1.1050516436526705, 1.220867854801216, 1.0336943441636584, 1.171837708830549, 1.375, 1.0, 1.0625, 1.019652903355435, 1.299205648720212, 1.3398692810457515, 1.1832993890020367, 1.1170815559941427, 1.0630694175042614, 1.0078939676972538, 1.1025641025641026, 1.0476190476190477, 96.25719424460432, 1.0126372716737486, 1.146442941997646, 1.0053967423300845, 1.263157894736842, 1.0759975445058318, 1.0158096891573716, 1.0186454418159039, 1.1013215859030836, 1.1027227626685714, 1.06312292358804, 1.040376323010584, 1.0007304601899196, 1.0335806162129824, 1.0434782608695652, 52.6164994425864, 1.0, 1.1917808219178083, 1.0434881541962253, 1.2222222222222223, 1.0592426094614666, 1.0163487738419619, 1.186046511627907, 1.0779905830707686, 1.2320475847152126, 1.081010796185873, 1.2375954198473282, 1.1713961407491487, 1.0089044183949505, 1.3297872340425532, 1.5714285714285714, 1.0, 1.5555555555555556, 1.2979290299140123, 1.6666666666666667, 1.028501491003266, 1.3379462602983145, 1.0139372822299653, 1.0578175895765471, 1.7619935284186832, 1.0426332288401254, 1.2329749103942653, 1.064367816091954, 1.013763550057316, 1.1054457364341086, 1.1820822763595131, 1.2221862065526354, 1.25, 1.1002865329512894, 1.0100671140939597, 1.0779768471324238, 1.237785016286645, 1.0660822656776803, 1.1787610619469027, 1.8654545454545455, 1.045871675519317, 1.2671140939597316, 1.0375445824035399, 1.15, 1.0709409854238179, 1.0415924601421915, 1.0505175983436854, 1.2795789473684211, 1.2857142857142858, 1.2199124726477024, 3.3607738217740275, 1.02403058438012, 2.263888888888889, 1.0080092660455662, 1.1578947368421053, 1.0120363201238827, 1.0017985611510791, 1.0569210866752912, 1.1717171717171717, 1.0399274047186933, 1.0547808764940239, 1.058300395256917, 1.0149968724139138, 1.2933025404157044, 1.026985719407915, 1.0850840951711205, 1.3125, 1.0931333859510655, 1.0467736428815295, 1.0408442007970513, 36.191570881226056, 1.0315457413249212, 1.156188605108055, 1.0719347980155918, 1.037621359223301, 1.0435539015460955, 118.14285714285714, 1.343661971830986, 1.0334878097924642, 1.1508919722497521, 1.093984962406015, 1.9372815697503052, 1.108923218814849, 1.062251655629139, 1.0191204588910134, 1.324885905511035, 1.1429469999453044, 1.0494011976047903, 1.0134529147982063, 1.0512971698113207, 1.0804355746265635, 1.3333333333333333, 1.75, 1.3635259444494061, 1.2486433483773909, 1.0775231594344223, 1.2272727272727273, 1.4967414916727009, 1.0060969260848942, 1.4048355355636772, 2.0, 1.0555555555555556, 1.0043290043290043, 1.7826086956521738, 1.375, 1.4047619047619047, 1.2068387529332887, 1.4360753221010902, 32.89171974522293, 1.2682926829268293, 1.0140845070422535, 1.2086570477247502, 1.2823529411764707, 1.21875, 1.2576095025983667, 1.7832699619771863, 1.204330927262632, 1.1428571428571428, 1.026157148285459, 1.0379746835443038, 1.2318497913769124, 1.5473684210526315, 758.0, 5.771122038444345, 1.0461095100864553, 1.026017840033467, 1.0820189274447949, 2.032258064516129, 1.0625, 1.3870967741935485, 1.2702702702702702, 1.025974025974026, 8.373983739837398, 1.0139968297661335, 1.251756892137583, 1.0847457627118644, 1.051807979000858, 1.2669486011711126, 2.5, 1.054871773761989, 1.1284512707990493, 1.5, 2.0, 1.1974445515911283, 1.0728518774475928, 1.1852574703906482, 1.2506666666666666, 1.0, 1.0066889632107023, 1.0736342042755345, 12.0, 1.0344146329746349, 1.1040723364791882, 1.0436185396382935, 1.175434212170436, 1.4285714285714286, 1.029940187274152, 1.2602633617350891, 1.0440251572327044, 1.2636579572446556, 1.1875, 1.0, 63.4, 2.7521186440677967, 1.0522931647692857, 1.0505939287285526, 1.39453125, 1.0904146077345316, 1.0518518518518518, 1.1368421052631579, 1.45, 1.0337710814754488, 1.4652665589660743, 1.0655966028069697, 1.2098765432098766, 1.2956521739130435, 1.0660112359550562, 1.0, 1.1233016304347827, 1.1568047337278107, 1.0001420461503043, 1.3024017467248907, 1.5, 1.0737265415549597, 1.2032861135202852, 1.132095680114245, 1.2147819660014783, 1.1839400801254136, 1.2853319953169426, 1.2334439423891557, 1.355263157894737, 8.864406779661017, 1.0530869052300433, 1.365998233034045, 1.2023086269744836, 1.011782032400589, 1.6666666666666667, 1.1379310344827587, 1.0335366848269338, 1.0679012345679013, 1.034517658339104, 1.2246109452164924, 1.0432464454976302, 1.6, 1.188097768331562, 1.0373955458085984, 1.4274617317797578, 1.1433021806853583, 1.3156379630954085, 1.099737532808399, 1.3046800382043935, 1.0336215177713737, 1.2487634227152806, 1.0446900968767863, 1.2384792626728112, 1.493854748603352, 1.1875, 1.1990616621983914, 1.0210877988432483, 1.1509367763665708, 1.262753411951769, 1.0862685043389484, 1.006723716381418, 29.285714285714285, 1.3666666666666667, 1.6666666666666667, 2.5, 1.4705882352941178, 1.2225063938618925, 1.0789652825051055, 1.0505125875940826, 1.0077326979113925, 1.6933541480820695, 1.100293457621267, 1.0717488789237668, 1.0141666666666667, 1.028586664193638, 1.3333333333333333, 2.0, 1.153587786259542, 1.1111111111111112, 1.0558194774346794, 1.1195299837925445, 1.009051821679113, 1.3100014607781079, 2.0, 1.1489423355549115, 1.0867174280879865, 1.0915171441991545, 1.2580896721928125, 1.3169191919191918, 1.3551369863013698, 2.0764954128440367, 1.078504316306577, 1.0206896551724138, 1.0441176470588236, 1.099067599067599, 1.0, 10.0, 1.2597546582740244, 5.0, 1.5, 1.35, 1.043967280163599, 1.0093494840735755, 1.0156687185226636, 1.03515625, 1.0399568034557236, 1.0952380952380953, 1.380952380952381, 1.0]
origin-bjaq_15.71 	max: 4312.4444	99th: 96.4180	95th: 5.0000	median: 1.1412	mean: 9.7034

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.002053 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[5.4448843e-04 5.3644180e-07 1.1920929e-07 2.3841858e-07 5.9604645e-08]
Distance score: 0.00010908841795753688
SAUCE Drift detection: True
Detection latency: 0.0387s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 30.0268 nats / 43.3194 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.091148 | Model-update-time: 2.522328


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 4849.3000	99th: 140.0657	95th: 5.5250	median: 1.1457	mean: 11.3834
ReportEsts: [1.100502512562814, 1.037953449360453, 1.0639031527008806, 1.029874213836478, 1.2, 1.0, 1.0390592010809898, 1.0469670079973863, 1.2, 1.2464698331193838, 1.1585822164773114, 1.090011431837668, 1.1544401544401544, 1.0589285714285714, 1.1034282393957002, 322.0, 1.0779569892473118, 140.0, 1.0, 1.0689393939393939, 1.1130981746423285, 1.055076052352317, 1.0517241379310345, 1.0109546165884193, 1.475416687563736, 1.029257402689895, 2.0, 1.9907635821238023, 1.5, 1.4, 1.0, 1.0, 1.0699808445308319, 1.0099346468981663, 1.043196544276458, 1.032830626450116, 1.0238643287522848, 1.1929824561403508, 102.0, 2.462596037201779, 1.0284469730642725, 1.0536299126637554, 1.1391941391941391, 1.1161478460845444, 1.2608695652173914, 1.0066644451849383, 1.2608695652173914, 47.484029484029485, 1.7061068702290076, 1.0459844559585492, 2.0, 1.1673469387755102, 1.345, 1.2413793103448276, 1.054583259074437, 1.2294059891998037, 1.044749238016071, 1.103864734299517, 1.358974358974359, 1.057619537544031, 4.888888888888889, 1.099417769007771, 1.2157534246575343, 1.31640625, 1.08, 1.2857142857142858, 1.025940954246537, 1.0720673329826407, 108.00346020761246, 1.6363636363636365, 7.337870472008782, 1.0277777777777777, 1.1853471842536905, 1.2522522522522523, 1.0968384550116206, 1.1465201465201464, 1.0423889680488807, 1.2755102040816326, 1.1944444444444444, 1.059041908861951, 1.0017993702204229, 52.0, 1.0, 6.0, 1.0862068965517242, 1.0149253731343284, 1.2176, 1.0, 44.0, 1.0832367297132397, 1.4032869785082174, 1.2976696625585276, 1.0783838680468885, 1.061405847329601, 1.013793103448276, 1.0108813928182807, 1.0693937180423667, 1.1631644004944375, 218.57142857142858, 10.663897953129634, 1.103448275862069, 5.0, 1.0487585491556188, 2.665625, 1.1203059805285118, 1.0407212675112036, 1.1818181818181819, 1.025203213528126, 1.1990974250066366, 1.1928071928071928, 1.2033587786259543, 1.3261802575107295, 1.6666666666666667, 2.0, 1.3514018691588785, 1.0536092330806528, 1.32849020846494, 1.4137931034482758, 1.3120698046304666, 5.5, 1.0599250936329587, 1.1090909090909091, 1.0, 1.2197802197802199, 1.0, 1.1309297912713472, 1.026054026760919, 1.0731807271237046, 1.984375, 1.5, 1.0741369552914544, 1.0, 1.0, 1.2413730803974707, 1.0, 30.375, 1.1470588235294117, 1.0339145281456954, 1.0308219178082192, 1.0297699594046008, 1.0127864095278398, 1.0722543352601157, 1.1014492753623188, 1.1666666666666667, 1.0223880597014925, 5.2748041775456915, 3.0, 1.2898814949863264, 1.015356820234869, 1.0944, 1.4415034409740604, 1.5, 1.9164338734136803, 1.0609137055837563, 1.212, 2.056768558951965, 1.0, 1.0260950605778192, 1.100551995134958, 1.2635476878612717, 1.0061538461538462, 1.123989218328841, 1.3225806451612903, 1.4482758620689655, 1.058679706601467, 16.53846153846154, 1.0806631191787028, 30.0, 1.162516382699869, 1.634046952925435, 1.0, 1.3090126607616475, 1.255, 1.1347905282331512, 1.0843153653158975, 1.1264367816091954, 1.2597066436583262, 1.0339515875510845, 1.060621369032584, 2.671640835147944, 1.0241883987637608, 1.544776119402985, 1.1214347198109216, 1.0387596899224807, 1.0491050400376825, 350.55555555555554, 1.1548279689234184, 1.0297029702970297, 1.5206519245538965, 1.6957524505093216, 1.1056644506887807, 1.1206896551724137, 1.0709491850431447, 1.1011686743380673, 1.0, 1.5454545454545454, 1.010091363448254, 3.5, 1.086111111111111, 1.4075471698113207, 1.0923800219807058, 1.1201577868588297, 1.060475819824698, 1.1874668082846522, 1.0062871114215857, 1.0342646283605694, 1.9949048404016185, 1.4436753453213824, 1.5294117647058822, 1.095890410958904, 1.4035296788105778, 1.5015384615384615, 1.1491228070175439, 1.2812654473554128, 1.8333333333333333, 1.0739593542856947, 1.2853260869565217, 1.5639565487869072, 1.001890359168242, 1.1897233201581028, 1.011685276551545, 1.0161762288344567, 1.1456237470803523, 7.0, 3.596638655462185, 1.1296821439700842, 1.0236040904072976, 1.002409638554217, 1.022508038585209, 1.0294936004451865, 2.604709788489916, 1.702970297029703, 1.0099739017351337, 1.000085760075469, 1.1572327044025157, 1.2193419740777667, 1.029535864978903, 1.2222222222222223, 1.1642949547218628, 2.0, 1.0059073724007561, 1.0939412756142997, 1.15263644773358, 1.0116618075801749, 1.25, 2.0, 1.0555563298813888, 1.4181818181818182, 1.0878190095185543, 1.2, 64.69241573033707, 1.0865290068829891, 1.125, 1.281596473303818, 1.035128805620609, 1.080536912751678, 1.2723609991941982, 1.2670025188916876, 1.1087797984762842, 1.044776119402985, 2.0, 1.073348296266068, 1.07239976757699, 1.1320224719101124, 1.0048166666666667, 1.114970569145722, 1.22201994358066, 1.3895071542130366, 1.3655440733764062, 1.2900717703349283, 1.2707435719249478, 1.2448004776594686, 1.3333333333333333, 1.2302905398612647, 1.1676300578034682, 1.5, 1.6, 33.0, 1.1375, 1.110088236231007, 5.0, 1.0063492652614334, 1.4348327566320647, 1.6892230576441103, 1.010222775392619, 1.0201207243460764, 1.1022941826083859, 1.067332379776299, 1.1, 4849.3, 1.111375818939845, 1.115706058112848, 1.0591212191127468, 1.0724131660301872, 19.692307692307693, 1.4873164218958612, 1.3104656129859034, 1.0224883080699194, 1.1905664931214013, 1.0178413148631196, 1.0099457504520795, 10.0, 1.4545454545454546, 1.3526769673014731, 88.55555555555556, 1.3085339168490153, 1.0981648364448868, 1.0728091077574795, 1.7741935483870968, 1.1779661016949152, 1.0476190476190477, 1.019797120418848, 1.0231613785333278, 1.4, 1.0401606425702812, 1.0362410124227213, 1.3083511777301928, 33.0, 2.2222222222222223, 1.0096707818930042, 1.5714285714285714, 1.032806243720004, 886.375, 1.2222222222222223, 1.0676735540561013, 1.144927536231884, 1.4615384615384615, 1.016535039420615, 2.0, 1.2250996015936255, 1.3284883720930232, 1.0399543378995433, 1.0359756920999326, 1.188861985472155, 1.2577319587628866, 1.3906708694652254, 1.0989732346644208, 772.4, 1.0334072580645162, 1.088645477943377, 3.0, 1.2222222222222223, 1.3141982220800292, 1.5, 1.1778821074595722, 1.7058823529411764, 2.0, 1.1, 1.2692307692307692, 1.1934628975265018, 1.027027027027027, 1.0878620240807029, 1.6363636363636365, 1.3333333333333333, 1.0280774365821095, 387.0, 1.0609756097560976, 1.03006354138563, 1.103846153846154, 1.004112405757368, 1.0192644483362523, 1.75, 1.0, 1.2613293051359518, 1.540983606557377, 1.0294695481335954, 1.5091900852365006, 1.234929906542056, 1.0239234449760766, 2.0, 1.0308871014601024, 1.0714285714285714, 1.9130434782608696, 5.0, 1.0718989143975797, 1.0, 1.3520518358531317, 1.0614035087719298, 1.3006733043907766, 1.07480349972295, 1.0815899581589958, 1.2214883510517982, 1.4035144285023375, 1.1152882205513786, 1.1631663974151858, 1.1703656998738965, 1.1284109149277688, 1.088235294117647, 1.2734621049054038, 1.0826930047118521, 1.0317532083608667, 1.0, 1.3142857142857143, 1.1721991701244814, 4.0, 1.2142857142857142, 1.0625, 1.1628352490421456, 1.4068965517241379, 1.098901098901099, 1.0380071905495634, 1.1015824400204186, 1.0058310345600934, 1.0788912579957357, 1.0968967535133152, 1.2033898305084745, 1.0754348250928278, 1.1284916201117319, 1.0, 2.046075654057657, 1.2407407407407407, 1.39713580023113, 1.0084060936470787, 1.2149550583285522, 1.4544010168414363, 1.375, 1.4118246687054026, 1.1666666666666667, 1.1166740185266872, 1.0909090909090908, 5.427530647985989, 1.2927536231884058, 1.5807843731072078, 1.1270903010033444, 1.1455882352941176, 3.0, 1.1936022253129346, 1.0107203730855174, 1.1299844546473374, 2.0, 1.0476190476190477, 19.50577507598784, 1.2575757575757576, 1.2214640803197192, 1.0847241144414168, 1.0, 1.181499649614576, 1.027983194874817, 1.0272051266549784, 1.1644736842105263, 1.1079136690647482, 4.1118421052631575, 53.0, 1.0012958963282936, 1.0603547591617553, 1.248, 1.0264970853206148, 17.0, 1.5, 1.228125, 1.1338289962825279, 1.0795858945325139, 1.145754240297162, 1.0555555555555556, 1.0, 1.0526315789473684, 1.0857142857142856, 1.0018435561681598, 1.0, 1.0, 1.0213882692560032, 1.0, 1.0, 1.037450486136118, 1.0120481927710843, 1.0160098522167487, 1.2455197132616487, 1.02200488997555, 1.4444444444444444, 3.7142857142857144, 1.1181384248210025, 1.0039361922519163, 1.0, 1.8297872340425532, 1.3181818181818181, 1.1090146750524108, 1.3153225806451614, 1.0973019125683061, 1.0614035087719298, 1.0, 1.2027027027027026, 5.196212896622313, 1.5034108527131782, 1.1983695652173914, 1.25, 1.0516351118760758, 1.1963235294117647, 1.288108957569408, 2.0, 1.3141945773524721, 1.06409025681627, 77.03867403314918, 1.0864197530864197, 1.056914650685242, 1.0647440000898443, 1.0095238095238095, 19.0609756097561, 1.75, 1.4069460954054474, 252.775, 1.0440354147250699, 1.031465093411996, 1.3555555555555556, 1.0129052731792458, 1.1728232189973615, 1.090956525684556, 1.0097282791009727, 1.11190329809809, 1.0067513899920573, 1.1155840772928556, 1.0780278670953911, 1.2266666666666666, 1.3333333333333333, 1.0926870440706578, 1.5398886827458256, 1.2697316308101771, 1.2706998059652634, 2.3333333333333335, 1.0426716141001855, 1.3249299719887955, 116.0, 1.5, 1.0778338317316105, 1.1122448979591837, 1.0371678439286915, 1.0, 70.27272727272727, 1.2762218561230094, 1.2139175257731958, 1.359375, 3.0, 1.1666666666666667, 1.0694980694980696, 1.1964601769911505, 1.1715076071922546, 1.0373360242179617, 1.1086206896551725, 1.4342857142857144, 1.4496350364963504, 1.1153846153846154, 1.106821510776313, 1.3482245131729669, 1.104725284551807, 2.0, 1.1215959468017733, 18.401960784313726, 3.1469147491046803, 1.1380145278450364, 1.0564593301435408, 1.073482428115016, 1.1035353535353536, 1.0792414459301438, 1.0, 1.3448275862068966, 1.875, 1.0, 1.7480314960629921, 1.3636363636363635, 1.0229591836734695, 1.3058252427184467, 1.3338673502082665, 1.0036540803897687, 1.0833846876192152, 1.0689706172352593, 1.5838411945680078, 1.027666672108577, 1.0060106178348849, 1.1588296760710555, 1.18283661459195, 1.0800465829283075, 1.0373563218390804, 1.091005291005291, 1.1390568319226118, 1.0173410404624277, 1.0220828196388425, 1.076670317634173, 1.3884746082688315, 2.6052631578947367, 1.1823355338037786, 1.058139534883721, 96.0, 1.1428571428571428, 1.6666666666666667, 1.010721247563353, 1.0390334120166451, 1.0518232512074868, 1.1558866279069768, 1.838405304318259, 1.25, 1.0343516632722336, 1.0040207522697795, 1.0543130990415335, 1.2777777777777777, 1.303463745206522, 1.2927677329624478, 1.2220386195174922, 1.4038461538461537, 1.0836441129461907, 1.0793604455323258, 1.013967735770111, 1.2307692307692308, 1.0363014520580822, 1.108695652173913, 1.2562788758814742, 1.0218010314647135, 1.7804154302670623, 1.0, 1.1753554502369667, 1.287556904400607, 1.25, 1.359309402154457, 3.0, 1.1037716615698268, 1.0452642501878555, 1.7142857142857142, 1.033378585763192, 1.4, 1.105263157894737, 1.06033222828218, 1.012043512043512, 1.0082514007823238, 1.0000145181227653, 1.2019002375296912, 1.0857142857142856, 1.5151515151515151, 1.418556701030928, 12.6, 1.3236203090507725, 1.1625798288950475, 2.1032433021391994, 1.0, 1.0470477333104808, 1.2220264317180616, 2.0, 1.2548919000862933, 1.1254698345633625, 1.4512771996215705, 1.013104689796419, 1.0246095457616342, 1.1203007518796992, 2.2857142857142856, 1.2263217953594523, 1.2774193548387096, 1.1076842515138903, 1.1546454767726162, 1.0143965828695298, 1.1340649064102752, 1.0044843049327354, 1.1522029372496663, 1.508361204013378, 1.0718791194772428, 1.3287066246056782, 1.1910631741140216, 1.0477773161611965, 1.014375857895685, 1.344213649851632, 4.377687117527067, 1.5555555555555556, 1.6, 1.1097992916174735, 1.2708791208791208, 1.0458173219036357, 1.0022779043280183, 1.25, 1.2388201712654614, 1.2283200670297445, 1.0625, 1.061655499083323, 2.0, 1.094965292297399, 1.1501759874853343, 1.3878504672897196, 1.1538461538461537, 1.0305622456606593, 1.125, 1.3369175627240144, 1.3553459119496856, 6.0, 1.105622308312521, 1.0261744966442954, 1.75, 1.3333333333333333, 1.4966442953020134, 1.1666666666666667, 1.0108644307982995, 1.7614770459081837, 1.1091160220994476, 1.668595041322314, 1.299093655589124, 1.0291853752405389, 1.0105263157894737, 3.3984168865435356, 1.1612903225806452, 1.0, 1.0597014925373134, 1.03646408839779, 1.2042160737812913, 1.040289994333161, 1.0995020912168891, 1.0507659854065083, 1.1059650852909755, 1.1889368021246822, 1.0962695547533092, 2.2222222222222223, 1.1666666666666667, 3.5, 4.425531914893617, 1.0109718151342437, 1.383936451897617, 1.3954248366013071, 1.4490196078431372, 1.0366950033637086, 1.0554542913055633, 1.0068146251591092, 1.1538461538461537, 1.0454545454545454, 113.2135593220339, 1.0795737687536446, 1.1650514879421965, 1.0237766725493342, 1.3026315789473684, 1.0543183692706493, 1.0216594990137955, 1.0565933305659334, 1.033005617977528, 1.0963063237284858, 1.0089820359281436, 1.0500189465706706, 1.026148409893993, 1.045490491432875, 1.0851063829787233, 1.071933962264151, 1.1153109498577116, 1.0646010826871348, 1.1442333244751528, 2.111111111111111, 1.1910112359550562, 1.0334128878281623, 1.1203358208955223, 1.0198005856406835, 1.032, 1.0386670733911787, 1.5994020926756354, 1.3147848592688451, 1.3489208633093526, 1.0578787195671777, 1.2781350482315113, 1.7857142857142858, 1.0, 1.875, 1.352694683299019, 1.6666666666666667, 1.0605311177803474, 1.3934360023692856, 1.0136630923555863, 1.0585214007782102, 1.8644692943484165, 1.1384800757380154, 1.3082437275985663, 1.0441014332965821, 1.0237433274021353, 1.0758771848357078, 1.2123793163779804, 1.2120473287916815, 1.25, 1.115702479338843, 1.1212976022566996, 1.056059718969555, 1.3517915309446253, 1.0360419397116645, 1.2176991150442478, 1.7331081081081081, 1.0745370197629442, 1.3436241610738255, 1.0172556135178046, 1.0476190476190477, 1.0568633388460553, 1.047159126011656, 1.043174342105263, 1.3347368421052632, 1.3846153846153846, 1.1725941422594142, 3.871000405022276, 1.0283033033033033, 2.5273972602739727, 1.0079795363503274, 1.3333333333333333, 1.1096500101153146, 1.004002287021155, 1.0458488228004956, 1.0614035087719298, 1.067736185383244, 1.023320895522388, 1.0258183494698017, 1.0267690554485902, 1.3521939953810624, 1.0042745430301683, 1.0673092857537425, 1.5333333333333334, 1.181531176006314, 1.1566461427019197, 1.057652335630675, 43.2610294117647, 1.0762402088772847, 1.1192488262910798, 1.150559511698881, 1.0464576074332173, 1.0366068640872301, 146.57142857142858, 1.402112676056338, 1.01021601809249, 1.1954905847373638, 1.2048872180451127, 1.7207165520888419, 1.094518337761581, 1.005288536319801, 1.1384846964375313, 1.394417009196558, 1.118746340097258, 1.0785714285714285, 1.0042735042735043, 1.0890052356020943, 1.097222760947985, 1.380952380952381, 1.4, 1.423987150351144, 1.2708937448218725, 1.0651376146788991, 1.25, 1.5720492396813903, 1.011282463953437, 1.4638740511667134, 1.5483870967741935, 1.0512820512820513, 1.025693730729702, 1.6666666666666667, 1.425, 1.8529411764705883, 1.3009051290647, 1.5054509415262636, 39.609856262833674, 1.2682926829268293, 1.0308219178082192, 1.0474832060366246, 1.1051881765662683, 1.1072124756335282, 1.05051603156899, 1.3291868233126007, 25.928571428571427, 1.3333333333333333, 99.0539499036609, 1.3225806451612903, 1.25, 1.0666666666666667, 1.0424628450106157, 1.0338983050847457, 1.063800984017002, 1.0254540753668153, 1.5296803652968036, 2.2222222222222223, 1.125, 1.2903225806451613, 1.3243243243243243, 1.1645569620253164, 9.684615384615384, 1.455951198751596, 1.3264091581062127, 1.0666666666666667, 1.0900285481239804, 1.3217156298483559, 2.5, 1.0373141090035258, 1.059718055155974, 1.5, 1.6, 1.162523020257827, 1.0457839262187087, 1.309359857179291, 1.2897435897435898, 1.0, 1.1954022988505748, 1.0137299771167048, 14.0, 1.026698875927403, 1.0944774851316907, 1.0469280582492992, 1.096984033116499, 1.4285714285714286, 1.0377009729458972, 1.3144848954298993, 1.0058236272878536, 1.3537735849056605, 1.2972222222222223, 1.0, 201.5, 2.924749406808387, 1.0420951855988627, 1.134793597304128, 1.42578125, 1.1027297202670563, 1.0777051561365287, 1.1694915254237288, 1.295774647887324, 1.009817281099804, 1.1262996941896024, 1.0344827586206897, 1.312384488448845, 1.154320987654321, 1.160510114335972, 1.0940919037199124, 1.0833333333333333, 1.1759510869565217, 1.2603550295857988, 1.0080189864057523, 1.3220524017467248, 1.5, 1.1118508655126498, 1.2538787703575214, 1.1208304969366916, 1.2469427459699833, 1.2867976559806964, 1.3420304398728884, 1.293742151527836, 1.0412757973733584, 10.783333333333333, 1.119957203096482, 1.4080766781040044, 1.3026315789473684, 1.127591706539075, 1.6666666666666667, 1.0947368421052632, 1.0729308666017527, 1.0313390313390314, 1.0093876839562739, 1.246357997980672, 1.0329358319136854, 1.6, 1.1875626880641925, 1.008924984717492, 1.4768106008681745, 1.244047619047619, 1.3651182472702998, 1.0425, 1.521256931608133, 1.012442396313364, 1.3026466201430547, 1.0366353498990253, 1.273041474654378, 1.5784418356456777, 1.25, 1.129080901756767, 1.024420494912397, 1.284850185951863, 1.3066055273268062, 1.0886699507389161, 1.0070011668611436, 36.42857142857143, 1.3415637860082306, 1.25, 2.5, 1.4705882352941178, 1.0907776309556458, 2.0, 2.0031595576619274, 1.5454545454545454, 1.4, 1.1223660553757642, 1.25, 1.0675675675675675, 1.0265914585012088, 1.020585866999861, 1.3333333333333333, 1.75, 1.276328502415459, 1.1111111111111112, 1.0392817059483725, 1.1426301152165277, 1.0379266750948166, 1.3918780737206018, 2.0, 1.1957046332046333, 1.1173277661795407, 1.0982957510752784, 1.3118434452324377, 1.3876262626262625, 1.4051369863013699, 2.288029459377724, 1.186677383703406, 1.0053333333333334, 1.0289855072463767, 1.041340782122905, 1.0, 12.0, 1.3144513787060548, 5.0, 1.625, 1.4594594594594594, 1.0019782393669634, 1.0058570459626295, 1.0850815850815851]
origin-bjaq_15.71 	max: 4849.3000	99th: 140.0657	95th: 5.5250	median: 1.1457	mean: 11.3834

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.149779 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[5.0729513e-04 4.7683716e-07 1.1920929e-07 4.1723251e-07 5.9604645e-08]
Distance score: 0.00010167360596824437
SAUCE Drift detection: True
Detection latency: 0.0408s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 30.0686 nats / 43.3798 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.116849 | Model-update-time: 2.549297


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5816.0000	99th: 295.3137	95th: 9.6106	median: 1.1568	mean: 17.2883
ReportEsts: [1.232, 1.017095696600511, 1.0435479606002511, 1.0527131782945736, 1.1538461538461537, 1.0, 1.0682121414276184, 1.0372859080888588, 1.2, 1.281129653401797, 1.1022423280193132, 1.0975738631879801, 1.12120232708468, 1.069609507640068, 1.0746143057503506, 385.0, 1.0515970515970516, 168.0, 1.0, 1.0397599399849962, 1.1799457326097682, 1.005240513699738, 1.0833333333333333, 1.0185322461082282, 1.5131084965677573, 1.030404338212067, 2.0, 2.1034728308501314, 2.0, 1.4, 1.0443037974683544, 1.0, 1.072206435394331, 1.0091983308120664, 1.0173267326732673, 1.0493043962159154, 1.0588991943673414, 1.175475687103594, 122.0, 2.7098135426889107, 1.0374326980599948, 1.020405576679341, 1.1530249110320285, 1.2118089233753637, 1.3195652173913044, 1.0716141805357917, 1.25, 54.44470588235294, 1.98, 1.074235807860262, 2.111111111111111, 1.209016393442623, 1.38, 1.3103448275862069, 1.0322404310623725, 1.3575846833578793, 1.158878504672897, 1.0894495412844036, 1.4102564102564104, 1.0822304336097897, 5.845360824742268, 1.0936084628037326, 1.2054794520547945, 1.103846153846154, 1.1372549019607843, 1.4285714285714286, 1.1171297513658807, 1.0182363227579316, 121.18446601941747, 1.6363636363636365, 7.625917342603322, 1.0260950605778192, 1.2329141607435756, 1.2815315315315314, 1.0749453523472468, 1.1666666666666667, 1.031988905369599, 1.5142857142857142, 1.0129011660390228, 1.0797274275979558, 158.0, 1.0007977662544874, 1.1666666666666667, 1.1135853689513568, 1.2303921568627452, 1.0383536014967258, 1.4582924435721296, 1.32, 1.3470146306790136, 1.2978730863620427, 1.0330882352941178, 1.4, 1.0803334596438046, 1.05670730071281, 1.058139534883721, 1.0557986870897156, 1.0315374507227333, 1.055207026348808, 263.42857142857144, 11.370271710175812, 1.1, 6.0, 1.0225486155927566, 3.0157157499145884, 1.0931635388739946, 1.0783372737217263, 1.1764705882352942, 1.0238453749165137, 1.431643217414388, 1.239487277597092, 1.173439340400471, 1.379215205395463, 1.5, 1.7, 1.3768691588785047, 1.0793620138798508, 1.3992419456727732, 1.2696629213483146, 1.353546741316467, 13.0, 1.1350767754318618, 1.167464114832536, 1.0, 1.3461538461538463, 1.2857142857142858, 1.0918918918918918, 1.0262894914761171, 1.1387032477429946, 2.065693430656934, 1.5, 1.0283235970968312, 1.9285714285714286, 1.0580021482277122, 1.0424629825225693, 1.088512853888708, 1.0, 1.0773874862788144, 1.0991104928122761, 1.6272727272727272, 1.25, 1.1966759002770082, 1.2637508283631544, 1.4186471663619744, 1.0445203048469636, 1.1904761904761905, 1.0194902548725637, 1.0516045903706037, 3.0, 1.345943482224248, 1.2083333333333333, 1.10138960370561, 1.4434445032645138, 1.5, 458.2432432432432, 1.03971119133574, 1.286, 2.2203389830508473, 12.0, 1.0004452359750668, 1.0751299313611544, 1.1668401665598975, 1.0367534456355283, 1.1510416666666667, 1.2769230769230768, 1.3622047244094488, 1.0760998810939357, 1.1069048253798988, 1.0666666666666667, 2.630252100840336, 2.228018510727808, 1.02, 1.6037735849056605, 1.3988074088949995, 1.1506849315068493, 1.2928250621728963, 1.0303030303030303, 1.0188926634483582, 1.0290763052208836, 1.1269430051813472, 1.0175438596491229, 1.5166748325983994, 1.0419858384883631, 9.548514851485148, 1.0159533820807847, 1.05480093676815, 1.0038965255980083, 421.22222222222223, 1.088235294117647, 1.0792079207920793, 1.5892525656686127, 1.6655775514126465, 1.0919706588599059, 1.1551724137931034, 1.1610193223186782, 1.0296364374209257, 1.3712660028449501, 1.0, 1.1221414007824986, 1.5294117647058822, 1.074676769636316, 4.102625298329356, 1.2957009345794392, 1.01826808623198, 1.352253280091272, 1.070967812472667, 1.2368560807222517, 1.0118043844856661, 1.035641547861507, 2.153780313837375, 1.5053361061619959, 1.1, 1.3437057991513437, 1.5913033286451008, 1.501510574018127, 1.2833333333333334, 1.3311913000494315, 1.7142857142857142, 1.082353986260627, 1.2934782608695652, 1.6328181078623727, 1.007181328545781, 1.6324110671936758, 1.013013013013013, 1.001445465115061, 1.16976937792263, 8.0, 2.775, 1.1266562976699668, 1.0398911318014479, 1.0714285714285714, 1.1288819875776397, 1.0525995774720462, 2.3579350409294957, 1.2413793103448276, 1.0118980594474831, 1.0027181886978949, 1.177914110429448, 1.123574144486692, 1.0436548223350255, 1.1724137931034482, 1.2509386733416772, 2.0, 1.0786862003780717, 1.1568627450980393, 1.160042583392477, 1.115264797507788, 1.25, 2.0, 1.0621478001311757, 1.4181818181818182, 1.022203967839096, 1.2, 74.32210242587601, 1.081516587677725, 1.0, 1.3009232981420518, 1.1, 1.1256038647342994, 1.227901614142967, 1.3178001679261124, 1.1985571816357843, 1.1304347826086956, 2.0, 1.0840815431141195, 1.0398270737638475, 1.1554054054054055, 1.0273004026318373, 1.0793198777775468, 1.3253952633995933, 1.4300476947535772, 1.4623171311374399, 1.3415071770334928, 1.1113420686611135, 1.251003453747783, 1.425531914893617, 1.2645362431800469, 1.1400359066427288, 1.5909090909090908, 1.9545454545454546, 40.0, 1.053763440860215, 1.086184230639885, 6.0, 1.0029739927883212, 1.5374855824682814, 1.8195488721804511, 1.0219434884984604, 1.021518987341772, 1.1313404050144649, 1.0551083982319511, 1.1, 5816.0, 1.0631820792647904, 1.0711116281388662, 1.074142021425519, 1.0883680395643949, 22.875, 1.541388518024032, 1.3595899188381033, 1.0786898529045126, 1.149499296532318, 1.0473338002100945, 1.0659983291562238, 12.0, 1.5454545454545454, 1.4293927416457062, 101.03947368421052, 1.4950980392156863, 1.0893640350877194, 7.0, 1.4, 1.1082860515051975, 6.0, 1.1033851784080513, 1.331764705882353, 1.2024922118380061, 1.1079026872316744, 1.0165262475696695, 1.2351738241308794, 40.0, 1.4285714285714286, 1.0112781954887218, 1.5714285714285714, 1.043272851963764, 1063.375, 1.2, 1.0751931349805175, 1.2019230769230769, 1.3333333333333333, 2.221311475409836, 1.0793268379096546, 1.0402978537012701, 1.0346413713444613, 568.551724137931, 1.0944700460829493, 1.0507377890002367, 1.048780487804878, 1.2871287128712872, 1.443769531514225, 1.0398333847577907, 867.625, 1.0303213523040111, 1.0532169270978147, 3.0, 1.2222222222222223, 1.3370163852007586, 1.75, 1.2274387063119458, 1.7647058823529411, 2.25, 1.1, 1.2876712328767124, 1.226148409893993, 1.1654135338345866, 1.0988042794210195, 1.6818181818181819, 1.3333333333333333, 1.0295371107288644, 465.0, 1.1025641025641026, 1.0099671220273396, 1.0985401459854014, 1.0267100977198698, 1.0261382799325465, 2.0, 1.0, 1.135480572597137, 1.1647058823529413, 1.1849836779107725, 1.5828166230494414, 1.239480752014324, 1.0161662817551964, 2.0, 1.013225122880641, 1.111578947368421, 1.4838709677419355, 6.0, 1.130734360834089, 1.0, 1.195729537366548, 1.1574074074074074, 1.11212482946794, 1.095622074499469, 1.046692607003891, 1.3738173302107728, 1.4657423827180396, 1.0221238938053097, 1.2439418416801293, 1.0695376842688076, 1.1282843894899537, 1.088235294117647, 1.3082530871190665, 1.057707372269127, 1.0126185006632802, 1.0480349344978166, 1.3428571428571427, 1.0390070921985815, 4.0, 1.2619047619047619, 1.44, 1.2220149253731343, 1.05, 1.179144385026738, 1.0294695481335954, 1.2056928034371643, 1.017541170287316, 1.0531516183986371, 1.078625211718737, 1.6236559139784945, 1.074808303721713, 1.175977653631285, 1.0, 2.184183540104156, 1.2181818181818183, 1.4546917133081054, 1.0009325208611348, 1.2580799388028303, 1.5084207181442644, 1.375, 1.1055708390646493, 1.1666666666666667, 1.152069716775599, 1.0909090909090908, 6.068378941706448, 738.5, 1.09216496339784, 1.1567567567567567, 1.25, 1.4527363184079602, 1.0147559591373438, 1.0, 1.3454910052602518, 1.0749817370351122, 1.055066397992709, 1.75, 1.2116572656459845, 150.6853526220615, 1.0694444444444444, 1.0, 1.057942753673654, 1.1720321931589537, 1.1265691257828077, 1.0669456066945606, 1.4431679721496953, 1.098617095490172, 1.0585412667946257, 1.2245283018867925, 1.2522935779816513, 1.0254668930390491, 1.1006641034603286, 1.24, 1.217741935483871, 1.1111111111111112, 1.1672727272727272, 1.0950155763239875, 1.1009317380649726, 1.0762751520823584, 1.0, 1.1228070175438596, 1.0810810810810811, 1.0043353918846105, 1.0, 1.0, 1.0848985251481156, 1.0, 1.0, 1.0353344768439108, 1.0348837209302326, 1.0195324060372892, 1.2948028673835126, 1.05, 1.5555555555555556, 2.8287292817679557, 1.1079545454545454, 1.0059856344772546, 1.0, 1.7127659574468086, 1.3727272727272728, 1.1348039215686274, 1.1010789324247587, 1.0050821035562187, 1.1134020618556701, 1663.5, 1.3492063492063493, 1.0880506589080952, 1.4212130170786619, 1.2391304347826086, 1.0, 1.0636963696369637, 1.1719741480611046, 1.3431115767417496, 1.625, 1.3708133971291867, 1.036203070094322, 89.01063829787235, 1.0120738636363635, 1.0594777691835808, 1.0582310695106434, 1.0282708744247206, 23.60759493670886, 1.75, 1.2880252209416507, 294.40776699029124, 1.0181420765027323, 1.0359309379374708, 1.307936507936508, 1.0005367413764081, 1.0926724137931034, 1.074518288344538, 1.1424519382288056, 1.059244673514573, 1.1418439716312057, 1.1064690639632677, 1.0331253000480076, 1.28, 1.4819277108433735, 1.0779590749597583, 1.5909878682842287, 1.3353189062450492, 1.2852979405693006, 2.3333333333333335, 1.150983899821109, 1.2991913746630728, 140.0, 1.5681818181818181, 1.0309047841975447, 1.0791139240506329, 1.0674302306823682, 1.0, 84.18181818181819, 1.3292147171883582, 1.158774834437086, 1.40625, 3.0, 1.4166666666666667, 1.066167290886392, 1.2, 1.7647058823529411, 1.1725274725274726, 1.0574324324324325, 1.1644444444444444, 1.510948905109489, 1.2032967032967032, 1.04812885068837, 1.3802197802197802, 1.0811531411431428, 2.0, 1.0924170616113744, 21.43450479233227, 3.577907167459406, 1.152542372881356, 1.01246660730187, 1.0217076700434153, 1.1776155717761556, 1.076992780099968, 1.0, 1.3934426229508197, 2.6666666666666665, 1.0, 6.542857142857143, 1.125, 1.0297029702970297, 1.4223300970873787, 1.4027555270746555, 1.0876095118898623, 1.0652258189571622, 1.1205876552948137, 1.662424979108106, 1.0239311432900635, 1.0074751272456417, 1.1900359527478173, 1.170961631646183, 1.099808605246876, 1.0769230769230769, 1.088504577822991, 1.111490329920364, 1.103658536585366, 1.0208450902934538, 1.0928725701943844, 1.4472814800830658, 2.8214285714285716, 1.156045395024007, 1.073327961321515, 113.75, 1.0545454545454545, 1.6666666666666667, 1.0295497185741087, 1.0312259764981513, 1.0134681290907468, 1.0308892355694228, 1.931032799687622, 1.309090909090909, 1.0533315053468604, 1.006924826879328, 1.039274924471299, 1.3412698412698412, 1.3644982582477094, 1.3463143254520167, 1.280156744251924, 1.4423076923076923, 1.1816728822589238, 1.072747248012753, 1.0027376828801602, 1.2692307692307692, 1.1357360248981205, 1.1990950226244343, 1.391304347826087, 1.1097560975609757, 1.0056262237230071, 1.3327935222672065, 1.1782178217821782, 1.042857142857143, 3.277706818628414, 1.0, 2.501554404145078, 45.0, 1.2356846473029046, 1.2701421800947867, 1.5, 1.0013560505363783, 1.1954887218045114, 1.103846153846154, 1.0685251135944984, 13.976392823418319, 1.1646706586826348, 1.0175655397652044, 1.304535637149028, 1.2369556688897607, 1.4, 1.3121095185593532, 1.042430878729811, 1.0833333333333333, 1.2845461978740802, 1.2060019026204272, 1.0189907759088443, 1.0417669581902127, 1.1111111111111112, 1.167763157894737, 1.0414570523569964, 1.1266666666666667, 1.5, 1.0552710734071464, 1.0129870129870129, 2.5714285714285716, 192.43333333333334, 1.3556451612903226, 1.091000489804336, 1.223917782622236, 1.0044429933509524, 1.1312560474541096, 1.176046176046176, 1.14412981228126, 1.5317725752508362, 1.090073258045468, 1.3779179810725553, 1.056092843326886, 1.1731152772237734, 1.018485605152531, 1.2888283378746594, 4.782525416236924, 1.6111111111111112, 1.6, 1.015819209039548, 1.2372292056699652, 1.0536626916524703, 1.0172786177105833, 1.25, 1.302568981921979, 1.2614160033514872, 1.0060975609756098, 1.0914937317619948, 2.0, 1.1287895507714532, 1.1410207939508508, 1.2513089005235603, 1.33249581239531, 1.3155761436016213, 1.043460935632123, 1.0588235294117647, 1.3031358885017421, 1.3773584905660377, 8.0, 1.038109266708213, 1.0608240680183125, 1.75, 1.3333333333333333, 1.5816993464052287, 1.1906005221932114, 1.025845802151025, 1.2131147540983607, 1.294871794871795, 1.283720930232558, 81.0, 1.1745788667687596, 1.3277777777777777, 1.0236486486486487, 3.2932166301969366, 1.1875, 1.0, 1.1680080482897384, 1.0750528541226216, 1.0778012684989429, 1.0469409719347629, 1.0732111286870754, 1.028496145213233, 1.0616876348659932, 1.2147575583148316, 1.144404332129964, 2.2, 1.105263157894737, 3.5, 4.452830188679245, 1.048270123145735, 1.3874669020300088, 1.4542483660130718, 1.120253164556962, 1.0307538515817947, 1.081228151177363, 1.0043410245470716, 1.1538461538461537, 1.0454545454545454, 132.1089108910891, 1.0724268081199633, 1.1652729894063814, 1.0540477700274784, 1.269736842105263, 1.0169971671388103, 1.0182068659398715, 1.0494064593142782, 1.08013468013468, 1.0848732718071705, 1.1047619047619048, 1.0968109339407746, 1.0062068965517241, 1.0472249432298855, 1.125, 1.0434782608695652, 1.1543948513199451, 1.0791741963747878, 1.1347712334886095, 2.2222222222222223, 1.2640449438202248, 1.0346420323325636, 1.8924958148336852, 1.0681306698220459, 1.0690604658696334, 1.0181746639441893, 1.6701440635866864, 1.3691362018764155, 1.2826855123674912, 1.0960324616771866, 1.3897180762852404, 1.6428571428571428, 1.0, 2.0, 1.4130555891970449, 1.8333333333333333, 1.1212717787183777, 1.0346977979292908, 1.3083870967741935, 1.576271186440678, 1.4352409638554218, 1.0475791641038392, 1.022156689055089, 1.2792642140468227, 1.0909090909090908, 1.1404358353510895, 3.375, 1.0351426076833528, 1.1428571428571428, 1.4278308599308802, 1.0, 1.1505576208178439, 4.095467375062261, 1.1068150867428503, 1.2827868852459017, 1.0308483290488433, 1.6543499215634392, 1.0934981192907038, 1.047026510863252, 1.0771689497716894, 1.0381048621482163, 1.0365333742159188, 1.0047299960583367, 1.3903157894736842, 1.0909090909090908, 1.1745235707121364, 4.239875993024608, 1.0295586409952948, 2.8095238095238093, 1.0042438016710933, 1.2619047619047619, 1.1059446312325631, 1.0736728060671723, 1.0428061831153388, 1.004, 1.012965964343598, 1.000882612533098, 1.0471869328493648, 1.0057214784300263, 1.407621247113164, 1.037658201464041, 1.0901687066724437, 1.4705882352941178, 1.191002367797948, 1.045147081956898, 1.0527518136160714, 49.686067019400355, 1.1010194624652456, 1.1656165616561656, 1.1031565245688253, 1.0011173184357542, 1.047053340479575, 176.0, 1.4598591549295774, 1.058800592685019, 1.2641228939544102, 1.2462406015037595, 1.8257015306122448, 1.0356533531650554, 1.017367458866545, 1.1465559355153885, 1.4413854964465604, 1.1370018507094386, 1.0750341064120055, 1.0474137931034482, 1.0700602079912425, 1.0701282504700036, 1.4404761904761905, 1.4, 1.4905616790970893, 1.2667728497917177, 1.0693895476504172, 1.2954545454545454, 1.5825488776249095, 1.0202246584219905, 1.5380938993533877, 2.04, 1.0, 1.0024594195769798, 1.691358024691358, 1.53125, 2.0, 1.3632919879316125, 1.5530227948463826, 45.199608610567516, 1.3170731707317074, 1.022801302931596, 1.0370599681585, 1.0896672089290138, 1.1042830540037243, 1.0550195590811315, 1.387007601935038, 26.21212121212121, 1.0, 113.37753222836096, 1.5, 1.25, 1.0666666666666667, 1.0019493177387915, 94.0, 1.2819148936170213, 1.0304330583756345, 1.081279405215977, 1.3333333333333333, 1.1875, 1.3225806451612903, 1.3918918918918919, 1.1604938271604939, 10.789855072463768, 1.4589638077957425, 1.3775065387968615, 1.0, 1.0455246834206005, 1.3756068264851609, 1.6666666666666667, 1.0283465340177294, 1.2050649932765576, 1.5, 1.6, 1.1747359154929577, 1.0351061042703693, 1.2842778882998012, 1.2425742574257426, 1.0, 1.1298245614035087, 1.1223175965665235, 16.0, 1.0159208025227164, 1.1166675032627247, 1.0335926309391827, 1.0866586684749535, 1.4285714285714286, 1.0188201295568171, 1.370255615801704, 1.0554621848739496, 1.383408071748879, 1.3180555555555555, 1.0, 242.0, 3.3386838659618836, 1.111239555744158, 1.0151888341543513, 1.3515625, 1.0642420281058873, 1.0423956931359355, 1.1901639344262296, 1.3857142857142857, 1.0238455480358548, 1.092122170603934, 1.0, 1.3762128712871287, 1.2345679012345678, 1.1764957264957265, 1.085173501577287, 1.0, 1.2156929347826086, 1.316568047337278, 1.008110874161974, 1.4039301310043668, 1.5, 1.0661764705882353, 1.3033632070926087, 1.1324869791666667, 1.326566757493188, 1.2249661195603072, 1.3527345709984948, 1.3005636604774535, 1.0638297872340425, 11.846153846153847, 1.1181955797759613, 1.388126399704136, 1.3417721518987342, 1.085672082717873, 1.6666666666666667, 1.1578947368421053, 1.0009882571793978, 1.0469613259668509, 1.0711680733562572, 1.2625497327888442, 1.0049126637554586, 1.6, 1.2278978388998036, 1.0366555404888564, 1.5583733150559744, 1.1424501424501425, 1.4141515281552473, 1.1214285714285714, 1.6134529147982062, 1.0261177512173527, 1.3573390816485762, 1.0556822090772353, 1.3605990783410138, 1.6738683127572016, 1.28125, 1.1465220259473723, 1.0260094716573087, 1.252992772437022, 1.4509803921568627, 1.0662004662004663, 1.792099792099792, 1.75, 1.4024390243902438, 1.25, 2.5, 1.588235294117647, 1.0299421495073668, 1.6, 2.075829383886256, 1.1590909090909092, 1.4666666666666666, 1.0577148056674899, 1.3571428571428572, 1.005128205128205, 1.0588235294117647, 1.027080468591773, 1.3333333333333333, 2.0, 1.031584183039045, 1.1111111111111112, 1.0301768990634756, 1.14302103250478, 1.0125258086717137, 1.4409115255392706, 2.0, 1.0402126184423388, 1.0363705374087389, 1.4640759757038826, 1.1369661266568483, 1.2560903149138443, 1.2380952380952381, 70.5, 1.48, 1.056980056980057, 1.0285714285714285, 107.70544918998527, 1.8644859813084111, 1.0167510868264666, 2.230636088273475, 1.3253477588871716]
origin-bjaq_15.71 	max: 5816.0000	99th: 295.3137	95th: 9.6106	median: 1.1568	mean: 17.2883

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.048360 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[4.8547983e-04 9.5367432e-07 2.3841858e-07 1.7881393e-07 5.9604645e-08]
Distance score: 9.738207154441625e-05
SAUCE Drift detection: True
Detection latency: 0.0418s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 30.0901 nats / 43.4109 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.107481 | Model-update-time: 2.545138


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 7323.8571	99th: 492.6400	95th: 16.1350	median: 1.1702	mean: 27.7595
ReportEsts: [1.0340425531914894, 1.0370157268891447, 1.0318017082423754, 1.1172741679873217, 1.1538461538461537, 1.0, 1.0861000081572723, 1.0398374343792902, 1.4, 1.337612323491656, 1.0750574472529768, 1.104538448590543, 1.1782146310022559, 1.022653721682848, 1.1489707475622968, 448.0, 1.1151960784313726, 196.33333333333334, 1.0833333333333333, 1.0189606741573034, 1.2347064627528368, 1.035929487179487, 1.0615384615384615, 1.041635687732342, 1.6012240765738128, 1.0420463387664838, 2.0, 2.23576113220573, 1.2, 1.6, 1.0886075949367089, 1.0, 1.0743117508175852, 2.3866822017441653, 8.0, 1.011304952104974, 2.0714285714285716, 1.5363636363636364, 1.5757575757575757, 1.6666666666666667, 1.5283774942754333, 1.0178571428571428, 1.0390689941812137, 1.043879907621247, 1.1, 1.034001743679163, 1.0723312071248043, 1.375, 1.2912621359223302, 1.5759717314487633, 1.0035569105691058, 1.0925925925925926, 1.022786388740424, 1.158256880733945, 1.4188555379301346, 2.0, 1.4531946508172362, 1.171126816485349, 1.0254466702761234, 1.0035714285714286, 1.0648148148148149, 1.2, 1.007905138339921, 1.0677871148459384, 1.1094716801523083, 1.0803064598619614, 1.2142857142857142, 1.3333333333333333, 1.5693840517684117, 6.019014226957049, 1.6666666666666667, 1.0, 1.0663807189542485, 2.6135012386457475, 1.2799154334038054, 1.3693693693693694, 1.0804613115193777, 1.024390243902439, 1.0445913982821604, 1.0852713178294573, 1.0111934232832493, 1.071986970684039, 165.7, 1.0074597380540993, 7.0, 2.133393004489322, 1.6666666666666667, 1.090632114496846, 586.0555555555555, 1.6341463414634145, 1.2, 62.0, 1.0925800726781036, 1.5194148455842513, 1.327796627335798, 1.0386077668145197, 1.0352401245697427, 1.0085106382978724, 1.015015015015015, 1.1001390820584145, 1.11651728553137, 260.14285714285717, 13.364521362898865, 1.0, 7.0, 1.0705691567273488, 3.355510752688172, 1.1184466019417476, 1.122693108437136, 1.1081081081081081, 1.0297400851032477, 1.4905760552163525, 1.2249736756109073, 1.211139528275078, 1.4325567136725934, 1.6666666666666667, 1.8, 1.4908878504672898, 1.0550940268760975, 1.3935565382185724, 1.4395604395604396, 1.393454706272573, 7.5, 1.0925883167859616, 1.1617224880382775, 1.0, 1.335164835164835, 1.2857142857142858, 1.0924657534246576, 1.0268272085299954, 1.14448223944683, 2.27007299270073, 1.5, 1.0228670922809053, 1.75, 1.0497967479674797, 1.0490907698053222, 1.189418816783946, 1.0, 1.0287878787878788, 1.084059477176433, 1.7242424242424241, 1.2394366197183098, 1.175257731958763, 1.3141153081510935, 1.4637416209628276, 1.0367872584161708, 1.3016759776536313, 1.0, 1.1030380853018023, 3.0, 1.3833181403828623, 1.2363919129082426, 1.1933701657458564, 1.274717404166537, 1.1230116648992576, 1.118938977460143, 2.0, 1.361824675939067, 1.0534848165331083, 1.4138240574506284, 1.456991906635985, 1.344033823989978, 6.542056074766355, 1.0604233943308217, 82.28125, 1.4937690669429575, 1.0268199233716475, 1.1866666666666668, 1.0741599073001158, 1.1462966915688366, 1.064516129032258, 3.4100719424460433, 2.2604722010662606, 1.1021034180543383, 1.6415094339622642, 1.4241897374169676, 1.2123287671232876, 1.3307598084703611, 1.1851851851851851, 1.0005505029073434, 1.132343846629561, 1.1455457967377667, 1.196078431372549, 1.5542529309054627, 1.0275187420003657, 10.441729323308271, 1.0048521031585693, 1.0503823661718399, 1.0536670674390645, 492.1111111111111, 1.1324454310025898, 1.116504854368932, 1.5991483474526784, 1.72938689217759, 1.1276128134585586, 1.1896551724137931, 1.0155385830919146, 1.0559102740774766, 1.3006711409395972, 1.25, 1.0387914134483434, 1.5555555555555556, 1.1081594571670907, 4.376550169109358, 1.3215811965811965, 1.0477444829078322, 1.3961779806046777, 1.0560737332283159, 1.2862453531598512, 1.0208133205251362, 1.0063976377952757, 2.2759271746459877, 1.5578776660974407, 1.3870967741935485, 1.368421052631579, 1.5039157851912124, 1.5667655786350148, 1.1811023622047243, 1.3781512605042017, 1.8571428571428572, 1.0845115782693535, 1.4184782608695652, 1.6868928554337943, 1.0008532423208192, 1.4861660079051384, 1.002415458937198, 1.012843596206938, 1.1717526171307684, 9.0, 2.505434782608696, 1.1275711883166353, 1.086095903990807, 1.0990338164251208, 1.0121396054628224, 1.091961998027545, 2.5029581621270527, 1.3103448275862069, 1.0132948203149306, 1.0201901649086318, 1.2035928143712575, 1.0416666666666667, 1.0332681017612524, 1.0615384615384615, 1.1957575757575758, 2.0, 1.114366729678639, 1.061853978671042, 1.0920088601124553, 1.2142857142857142, 1.5789473684210527, 2.0, 1.1256549895072934, 1.5454545454545454, 1.0886979578308646, 1.2, 82.90193548387097, 1.1388127853881278, 1.0, 1.382894388314981, 1.169603524229075, 1.050965250965251, 1.8855812905889862, 1.0742971887550201, 1.148793052066925, 1.0845070422535212, 2.0, 1.1292050196598322, 1.0226423000064462, 1.1145833333333333, 1.0072077912055686, 1.151380838731674, 1.3120940759692974, 1.4976152623211447, 1.5034769290354382, 1.395334928229665, 1.1302665819113644, 1.5501951431049437, 1.48, 1.2639210014830644, 1.2337662337662338, 1.6136363636363635, 1.9166666666666667, 47.0, 1.1910112359550562, 1.0756136998383066, 7.0, 1.0063826243705547, 1.5651672433679353, 1.8847117794486214, 1.0316720596510973, 1.0079316656497865, 1.109380419880742, 1.0692702231034568, 1.1, 6163.727272727273, 1.2726263187118267, 1.0676611273926548, 1.0661114588975094, 1.0708484661672273, 24.767441860465116, 1.5987983978638185, 1.4463049978641607, 1.0957434052757793, 1.127143061812509, 1.0292911748372384, 1.1116504854368932, 15.0, 1.6363636363636365, 1.4669421487603307, 108.7030303030303, 1.5485436893203883, 1.0132345156167284, 9.0, 108.0, 1.051251396043355, 1.0, 1.1045694200351495, 1.3837209302325582, 1.158878504672897, 1.0961415085693338, 1.0581068416119963, 1.0648330058939097, 47.0, 2.2222222222222223, 1.0192490947207928, 1.7142857142857142, 1.0489976408438781, 1102.3333333333333, 1.1818181818181819, 1.0550428512260654, 1.1917808219178083, 1.6153846153846154, 2.3094489491974186, 1.128487402335177, 1.0300202839756591, 1.0541947396334637, 641.1833333333333, 1.029106029106029, 1.0801217038539555, 1.2181146025878005, 1.1724137931034482, 1.5126963297663658, 1.0700263993118382, 1011.25, 1.0675766605786792, 1.005978233099995, 3.0, 1.3333333333333333, 1.4168856692337577, 1.75, 1.2759520083463745, 1.8235294117647058, 2.5, 1.0476190476190477, 1.2401384083044982, 1.284452296819788, 1.0, 1.1037306642402185, 1.7727272727272727, 1.1428571428571428, 1.0914765812100036, 545.0, 1.0588235294117647, 1.0210988218321713, 1.105263157894737, 1.0387847446670977, 1.0419063270336895, 2.0, 1.0, 1.216272965879265, 1.1942857142857144, 1.0580524344569289, 1.6290470055276174, 1.2013105596734344, 1.024390243902439, 2.0, 1.0182945123130158, 1.1831578947368422, 1.263157894736842, 7.0, 1.142325416518965, 1.1428571428571428, 1.4437751004016064, 1.2169811320754718, 1.1813692431526965, 1.084016690057081, 1.0586565752128667, 1.4469690042973393, 1.5186200225697244, 1.0764044943820226, 1.2439418416801293, 1.116357644552445, 2.2783505154639174, 1.2647058823529411, 1.3726181035459386, 1.082410679888109, 1.0198585160041873, 1.004, 1.457142857142857, 1.1493383742911154, 4.0, 1.3095238095238095, 1.8095238095238095, 1.2667876588021778, 1.064039408866995, 1.103896103896104, 1.0442520442520442, 1.0779880018458698, 1.0041543766357859, 1.069676153091266, 1.1027451928891039, 1.8295454545454546, 1.0925351341485672, 1.2541899441340782, 1.0, 2.270890567765568, 1.1754385964912282, 1.5117717704108222, 1.0070590546398228, 1.309332568368713, 1.5818239593263426, 1.2222222222222223, 1.2692788661942476, 1.1666666666666667, 1.1695238095238096, 1.2727272727272727, 6.852514635444385, 861.5, 1.1228821755295904, 1.1631578947368422, 1.25, 1.507462686567164, 1.0085378868729988, 1.0, 1.3692057310587347, 1.0597517944127923, 1.0581011618195275, 1.0, 1.2286821705426356, 169.16898954703834, 1.0266666666666666, 21.0, 1.4210526315789473, 1.0411470692179532, 1.0008162873331412, 1.0153846153846153, 1.4990426457789383, 1.0742489439816825, 1.0513761467889908, 1.3433962264150943, 1.3558558558558558, 1.1186079328523693, 1.5706371191135735, 1.449370194667103, 1.2, 1.0282080467164845, 21.224968314321927, 1.0973005349360763, 1.2551008088856694, 1.080071974808817, 1.0, 1.1578947368421053, 1.0, 1.0106810138234221, 1.08, 1.0, 1.0539721043056398, 1.0, 1.0, 1.063743676222597, 1.032967032967033, 1.022740193291643, 1.3584229390681004, 1.06651376146789, 1.5555555555555556, 2.8680203045685277, 1.1357220412595006, 1.0160244181610072, 1.0, 2.1595744680851063, 1.4272727272727272, 1.0774336283185841, 1.074468085106383, 1.0082019929174655, 1.103448275862069, 1934.0, 1.3968253968253967, 1.1627401535310755, 1.4740181474996021, 1.289855072463768, 1.0, 1.1123435271747741, 1.1880255064612606, 1.3970665269774751, 1.6470588235294117, 1.4310207336523126, 1.0223601830904403, 100.06153846153846, 1.1164522681110358, 1.0614530312996941, 1.0663752378878155, 1.0369426751592357, 19.7, 1.75, 1.4719106930590728, 333.6132075471698, 1.0285288482009793, 1.016971279373368, 1.4412698412698413, 1.0000366339505136, 1.1509824198552223, 1.092329714066264, 1.013981762917933, 1.1755533199195172, 8.0, 1.0011352128697535, 1.2575046904315197, 1.32, 1.3402061855670102, 1.0834374426411988, 1.7010135135135136, 1.3332910871011692, 1.3299251662849811, 2.3333333333333335, 1.0545015522594, 1.5064599483204135, 28.0, 1.363356381165701, 1.0415356543555823, 1.0088947653104152, 1.148641304347826, 1.0074878007740198, 1.0906200317965025, 1.100762256830142, 1.0903861955628595, 6.656934306569343, 2.222395833333333, 1.2604087812263436, 1.1689506656225528, 3.157303370786517, 1.231208372978116, 1.0357142857142858, 1.3765281173594133, 1.1270186898929413, 1.2377622377622377, 1.0125091979396614, 1.022129434927608, 1.0973451327433628, 1.0674905795801184, 2.0, 1.1214953271028036, 22.56231884057971, 3.6696602305044155, 1.2227602905569008, 1.0236220472440944, 1.1973333333333334, 1.2124413145539905, 1.1184597124121962, 1.0, 1.0090122828693946, 2.125, 1.0, 7.162162162162162, 1.0769230769230769, 1.0360144057623049, 1.5388349514563107, 132.35294117647058, 1.0513691784929042, 1.303030303030303, 1.6425041186161449, 1.0640149160969545, 262.0691642651297, 1.1047442337103774, 1.2070484581497798, 1.1402928672649977, 1.1818811818811819, 1.1021775916114178, 1.0825112107623318, 1.098135426889107, 1.1280623608017817, 1.0268817204301075, 1.013578141199291, 1.040959040959041, 1.5012979044742307, 3.116751269035533, 1.1457896941767909, 1.043445692883895, 131.5, 1.2244897959183674, 1.6666666666666667, 1.0831450519656576, 1.0220120768013072, 1.0046155162991592, 1.1279605263157895, 2.026418525893291, 1.2372881355932204, 1.0228695541075763, 1.0365617606996917, 1.056047197640118, 1.4285714285714286, 1.4146870700506426, 1.3998609179415855, 1.3306265048864547, 1.4807692307692308, 1.1353223228556206, 1.084309909313015, 1.0226971863191086, 1.3461538461538463, 1.047183214934743, 1.1596638655462186, 1.434782608695652, 1.0106382978723405, 1.0083248119702137, 1.3859649122807018, 1.1677215189873418, 1.0714285714285714, 3.4093311463459086, 1.0, 2.869287991498406, 53.0, 1.3676348547717843, 1.347457627118644, 1.5384615384615385, 1.0314603843342935, 1.2406015037593985, 1.0530035335689045, 1.037754800590842, 16.114500234631628, 1.0850722311396468, 1.0193467336683417, 1.3488120950323974, 1.2863868183601412, 1129.0, 16.523809523809526, 1.4567328918322295, 1.2784371611037475, 2.373762376237624, 1.0, 1.025302443267178, 1.2720371151412906, 2.0, 1.3973808801921777, 1.1480256488240066, 1.596972563859981, 1.0115738284295859, 1.0562983681221594, 1.1006711409395973, 2.4285714285714284, 242.13669064748203, 1.4040322580645161, 1.1363478648789314, 1.157402155416903, 1.025967275739085, 1.1187978643080574, 1.2298050139275767, 1.1685393258426966, 1.6421404682274248, 1.1002310440864356, 1.434069400630915, 1.0892520427404149, 1.005403319181783, 1.0247778997044903, 1.3306233062330624, 5.018837240818539, 1.4444444444444444, 1.8, 1.0770901194353963, 1.1634808853118712, 1.0458765701802293, 1.056644880174292, 1.3333333333333333, 1.3520456707897242, 1.34268956849602, 1.3154761904761905, 1.0565283604909437, 2.0, 1.087973767962195, 1.0471663619744058, 1.055643879173291, 1.3752093802345058, 1.368268674001158, 1.0356860242501595, 1.0588235294117647, 1.2905405405405406, 1.469601677148847, 10.0, 1.120215104554621, 1.0340091563113145, 1.75, 1.3333333333333333, 1.6012269938650308, 1.2175, 1.0183902600786394, 1.0, 1.3461538461538463, 1.3348837209302327, 93.5, 1.1168639053254439, 1.3688888888888888, 1.0066225165562914, 3.967741935483871, 1.0256410256410255, 1.5, 1.199195171026157, 1.060790273556231, 1.0845242956308698, 1.0387101909922614, 1.0934614702713514, 1.0324395687297645, 1.0575856390700495, 1.1146275264170333, 1.1576413959085439, 1.1480836236933798, 1.3333333333333333, 4.0, 4.87037037037037, 1.016538938195722, 1.5048543689320388, 1.5130718954248366, 1.1978260869565218, 1.0564360919279974, 1.0646060694333184, 1.0257303941998983, 1.2307692307692308, 1.0909090909090908, 150.0192926045016, 1.0022160937653894, 1.1433048433048434, 1.1708528901856314, 1.0263157894736843, 1.0165202600368153, 1.054977574936539, 1.0620450143591798, 1.1355932203389831, 1.8029531568228105, 1.1111111111111112, 1.2300469483568075, 1.0226666666666666, 1.0437079846206725, 1.0754716981132075, 1.0104712041884816, 1.1598719194922522, 1.047141280804283, 1.1550697045998894, 2.3333333333333335, 1.3202247191011236, 1.0404494382022471, 1.9795283969978716, 1.0827220633610994, 1.0678456622867076, 1.051161292707008, 1.738967587034814, 1.4238110643804593, 1.4982698961937717, 1.1447813345356177, 1.426256077795786, 1.8571428571428572, 1.0, 1.8888888888888888, 1.4595131403657502, 1.8333333333333333, 1.1282075471698114, 1.0499079552479094, 1.0315594059405941, 1.6890756302521008, 1.5968992248062015, 1.0662166025851658, 1.1194004097918688, 1.31438127090301, 87.59504132231405, 1.0696055684454757, 3.4444444444444446, 1.0356555224925608, 1.1363636363636365, 1.4545131124212238, 1.0, 1.211895910780669, 4.5656019656019655, 1.095306306006196, 1.241509433962264, 1.002469135802469, 1.7243555734435887, 1.0288800187837521, 1.0946581029215947, 1.1018181818181818, 1.0788321167883212, 1.0913043478260869, 1.0408666671285935, 50.0, 1.490909090909091, 1.130952380952381, 1.1416907423690492, 2.582652189825546, 1.0896539568767993, 2.8209876543209877, 1.0005221678209324, 1.0909090909090908, 1.0344849012054183, 1.007235142118863, 1.0423340961098397, 1.0788381742738589, 1.044835868694956, 1.019180470793374, 1.0413223140495869, 1.001874291541915, 1.4595842956120093, 1.0245004940521256, 1.0814295861044747, 1.35, 1.2754538279400158, 1.1291678747463032, 1.081723804925157, 55.72495755517827, 1.0899854862119014, 1.2340241796200346, 1.0502967822555451, 1.009750812567714, 1.0223088035722103, 205.28571428571428, 1.5183098591549296, 1.1002495515869921, 1.3107036669970267, 1.268796992481203, 1.9153633854645815, 1.0667326075028156, 1.012133468149646, 1.102820746132848, 1.5072596623000265, 1.1477716407961147, 1.0837696335078535, 1.0079681274900398, 1.062565172054223, 1.0747570730659795, 1.4761904761904763, 1.4, 1.5350757510035726, 1.2942199561612504, 1.0736842105263158, 1.375, 1.6958725561187544, 1.008748255950138, 1.6016305875737982, 1.6388888888888888, 1.0222222222222221, 1.0344827586206897, 1.6627906976744187, 1.55625, 1.972972972972973, 1.4026371661638173, 1.6491575817641229, 50.98295454545455, 1.3902439024390243, 1.0304878048780488, 1.0220519369944658, 1.104675744575017, 1.069204152249135, 1.0300739705481319, 1.4434462105505643, 29.441176470588236, 1.3333333333333333, 124.94250871080139, 1.5454545454545454, 1.25, 1.1333333333333333, 1.0439453125, 112.0, 1.3430851063829787, 1.05659225876112, 1.0799617760029152, 1.391304347826087, 1.25, 1.4516129032258065, 1.3918918918918919, 1.1204819277108433, 12.25, 1.5476791916640353, 1.4292104165876958, 1.03125, 1.0519539525994261, 1.4312997347480105, 1.6666666666666667, 1.0280130742190476, 7323.857142857143, 42.333333333333336, 1.2140889413616687, 1.0744837165791823, 1.0729495465704695, 1.29532248286154, 1.043163296106248, 2.0, 1.031413612565445, 1.0619158878504673, 7.0, 1.1572602296806527, 1.3237410071942446, 1.0204948762809298, 1.1097227645450995, 1.0528570053578876, 1.25, 1.0214416701932572, 1.4298993028659954, 1.0030745580322828, 1.443231441048035, 1.3666666666666667, 1.0, 284.0, 3.5224186639934385, 1.1383694307370695, 1.141304347826087, 1.5078125, 1.0720299345182414, 1.0, 1.2793427230046948, 1.0, 1.0223223692707164, 1.0378947368421052, 1.0183806202281083, 1.043647247281005, 1.3691588785046729, 1.328, 1.0437956204379562, 1.125, 1.263586956521739, 1.3136094674556213, 1.0117124910833728, 1.4716157205240175, 1.5, 1.0439306358381504, 1.3508239375542064, 1.1940112289457268, 1.3307136519203955, 1.4222509284676248, 1.550426492724536, 1.7620833333333332, 1.0369718309859155, 14.126984126984127, 1.0825987975016054, 1.4702903166156438, 1.2417582417582418, 1.1115485564304461, 1.6666666666666667, 1.2608695652173914, 1.0547312017900252, 1.0863013698630137, 1.0781412864395952, 1.274495288523068, 1.0172955974842768, 1.6, 1.252851711026616, 1.0406209355989091, 1.5988119716700937, 1.0923913043478262, 1.4805464168216278, 1.0797266514806378, 1.3944153577661431, 1.057045551298425, 1.4114617922114683, 1.0387755300619825, 1.4343317972350231, 1.7641791044776118, 1.34375, 1.2299396681749624, 1.0450353742101985, 1.3138306083783595, 1.4649912331969608, 1.0878564857405704, 1.9566115702479339, 1.6666666666666667, 1.3513011152416357, 1.25, 2.5, 1.588235294117647, 1.0900206944125086, 2.0, 2.1358609794628753, 1.7045454545454546, 1.4666666666666666, 1.1033123798977298, 1.3225806451612903, 1.0123456790123457, 1.0636015325670498, 1.0577054118997238, 1.3333333333333333, 2.0833333333333335, 1.3487721479639416, 1.0, 1.0211055276381908, 1.1301494713816989, 1.04603031771302, 1.5167096784665075, 2.0, 1.034123642809661, 1.1068032354895625, 1.0205145586196271, 1.188427299703264, 1.2611393119007333, 1.2857142857142858, 82.0, 1.56]
origin-bjaq_15.71 	max: 7323.8571	99th: 492.6400	95th: 16.1350	median: 1.1702	mean: 27.7595

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.104052 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=128.435807