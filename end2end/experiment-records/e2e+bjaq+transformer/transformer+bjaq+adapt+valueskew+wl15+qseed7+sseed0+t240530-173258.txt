Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=7, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 0, 'transformer': {'epochs': 40}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=7', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:7
origin-bjaq_15.71 	max: 6.0000	99th: 2.6675	95th: 1.6409	median: 1.0790	mean: 1.1710
ReportEsts: [1.6, 1.0184992301421973, 1.0517379939921194, 1.0078895463510849, 1.0767141414493158, 1.0714566929133857, 1.0031408775981525, 1.2704918032786885, 1.2, 1.1904761904761905, 1.0802208509256253, 1.0041786997743503, 1.025236593059937, 1.067832521322019, 1.5, 1.3040957315568715, 1.0065359477124183, 1.0905500705218618, 1.2, 1.0007440476190477, 1.0033097927530934, 1.3832335329341316, 1.125, 1.697716894977169, 1.053125, 1.0555879579889051, 1.0666666666666667, 1.75, 1.0744525864880732, 1.0625, 1.0274986779481756, 1.305084745762712, 1.037636584378794, 1.0361860999425618, 1.2510288065843622, 1.0501661859989913, 1.2857142857142858, 2.0, 1.050623276337562, 1.09009009009009, 1.0098522167487685, 1.0267576546646313, 1.5, 1.3396226415094339, 1.090305341531118, 1.06163973668462, 1.0, 1.229038854805726, 1.1791808873720135, 1.6585365853658536, 1.1307077625570776, 1.1666666666666667, 1.0562685093780848, 1.0226644683370876, 1.0436201852165292, 1.1119377179722774, 1.05295273122414, 1.0044167743451193, 1.5, 1.128691983122363, 1.0281740370898715, 1.2625215889464594, 1.288888888888889, 1.2427184466019416, 1.0542602797795677, 1.0715835140997831, 1.10991849385834, 1.1172261135874344, 1.0, 1.0587497897971352, 1.0134831460674156, 1.0, 1.016240157480315, 1.081151832460733, 1.0680369339741969, 1.2183908045977012, 1.017391304347826, 1.0122448979591836, 1.2, 1.1056651464366174, 1.369574378423936, 1.0796797215631642, 1.211354326355206, 1.083030303030303, 1.1362363919129082, 1.2162921348314606, 1.1633512983831455, 1.0, 1.3846153846153846, 1.5, 1.1067157313707452, 1.0103555270502176, 1.0022935779816513, 1.3184713375796178, 1.1935483870967742, 1.086466165413534, 1.3000767459708364, 1.0363108206245462, 1.069453223767383, 1.0809859154929577, 1.0311796849887496, 1.0, 1.045232583116542, 1.3549750868186623, 1.019132790761655, 1.6738351254480286, 1.1641938674579624, 1.028391167192429, 1.0005309252194177, 1.0725708047010467, 1.0, 1.1049180327868853, 1.252988047808765, 1.0277777777777777, 1.5, 1.130952380952381, 1.1154598825831703, 1.0615384615384615, 1.0856919773570173, 1.0393636437930753, 2.0, 1.016597510373444, 2.0, 1.0393187691899892, 1.060989010989011, 2.75, 1.5, 1.1299060717879905, 1.0844720496894409, 1.0551724137931036, 2.0, 1.0498687664041995, 1.0855659397715471, 1.1111111111111112, 1.3333333333333333, 1.2106741573033708, 1.0782608695652174, 1.0287377808934066, 1.0210226650607686, 1.0, 1.1490015360983103, 1.2173913043478262, 1.1291271454963927, 1.028141383392525, 1.0714285714285714, 1.0291970802919708, 1.0890024200053778, 1.0873516292432146, 1.0425972829841124, 1.6, 1.0257646909506282, 1.2672413793103448, 2.0, 1.01890956513016, 1.0667367314766159, 1.05175983436853, 1.0454545454545454, 1.0196565693693118, 1.229650421025772, 1.203648129044359, 1.0470809792843692, 1.2844444444444445, 1.1627118644067798, 1.2644122027914162, 1.0017124842697942, 1.0045300113250284, 1.0769230769230769, 1.055, 1.030148183665548, 1.0, 2.0, 1.0478187919463087, 1.0274929410016347, 1.0506792594873902, 1.2467948717948718, 1.0686274509803921, 1.0455635491606714, 1.0553081581759887, 1.1030927835051547, 1.089439715128248, 1.0613207547169812, 1.1153846153846154, 1.0298822819197102, 1.1578947368421053, 1.0242057488653555, 1.0091571206335737, 1.0285714285714285, 1.1580411569774578, 1.0760302499849095, 1.080188679245283, 1.0775822558020027, 1.1181983777303794, 1.1404494382022472, 1.2932330827067668, 1.4285714285714286, 1.0, 1.1199282672046627, 1.6785714285714286, 1.0909090909090908, 1.1940298507462686, 1.0769230769230769, 1.1, 1.3757575757575757, 1.0286683962341117, 1.1, 1.0481440924366574, 1.1074269446537721, 1.0838308040949853, 1.1689119170984457, 1.0261780104712042, 1.0102827763496145, 1.0859649122807018, 1.1252779836916234, 1.0374331550802138, 1.226305045202683, 1.0, 1.0629324977151065, 1.1374407582938388, 1.2305418719211823, 1.0261538461538462, 1.0579064587973275, 1.0256723716381417, 3.5, 1.0852906997218017, 1.0259067357512954, 1.003143138528592, 1.44, 1.1248718150982093, 1.09375, 1.0967063770147163, 1.0256851738289543, 1.0482866139978595, 1.1914893617021276, 2.0, 1.5, 1.0, 1.1193909610891808, 1.027673545966229, 1.0855920114122681, 1.1818181818181819, 1.0372536255855895, 1.0080808492707527, 1.025058275058275, 1.047343324250681, 1.1158861885002964, 1.0699729204277184, 1.008495145631068, 1.0965965089029546, 1.259047619047619, 1.1447587354409319, 1.0332996587409868, 1.158273381294964, 1.0597014925373134, 1.3333333333333333, 1.024186863830775, 1.0251633986928104, 1.0107795288678019, 1.079659706109822, 1.010909090909091, 1.0233043051637434, 1.1866295264623956, 1.0303030303030303, 1.0945848893995977, 1.1518987341772151, 1.0549641000247587, 1.0394818409183215, 1.0518706549378352, 1.3076923076923077, 1.2184466019417475, 1.054054054054054, 1.0216104611149346, 1.4150943396226414, 1.0500972762645915, 1.066543438077634, 1.0831539289558665, 3.0, 1.5642857142857143, 1.1020462185986182, 1.0192307692307692, 1.411764705882353, 1.0411764705882354, 1.0186377548074146, 1.1875, 1.013355592654424, 1.0485801097366714, 2.0, 1.0459965928449744, 1.0066889632107023, 1.0938845822566752, 1.0332005312084993, 1.2595588235294117, 1.0288922155688622, 1.105263157894737, 1.2222222222222223, 1.1294416243654823, 1.0347795877402919, 1.0043516100957355, 1.0666666666666667, 1.0725236590010536, 1.0335731414868106, 1.0383247728170684, 1.007383100902379, 1.4473684210526316, 1.0861329521086491, 1.034668721109399, 1.0, 1.0125, 1.0, 1.0380886426592797, 1.1359649122807018, 1.0900475820741007, 1.0845175635178008, 1.160327868852459, 1.8230535894843276, 1.1250707027364397, 1.0409165302782324, 1.2142857142857142, 1.0236087689713322, 1.132609250620808, 1.1441201054458947, 1.1904523869032742, 1.0105340160936358, 1.3098039215686275, 1.5, 1.0119689776032215, 1.0420509686261437, 1.1797752808988764, 1.0, 1.0128994429785987, 1.1198668146503885, 1.2619047619047619, 1.0028531942401142, 1.0090926678274328, 1.0, 1.0, 1.0966296928327646, 1.0, 1.1340106434446058, 1.0, 1.0810901749663526, 1.0268915506797518, 1.0, 1.64, 1.0769230769230769, 1.2621359223300972, 1.3247863247863247, 1.0815320864598499, 1.0273972602739727, 2.522968197879859, 1.0, 1.1834170854271358, 1.1772151898734178, 1.1236641856210237, 1.0522284122562675, 1.5, 1.0327868852459017, 1.035279805352798, 1.1466216216216216, 1.033096926713948, 1.0, 1.0810483020459818, 1.0383480825958702, 1.097165991902834, 1.1851851851851851, 1.0986717267552182, 1.009134379597842, 1.1230982019363762, 1.1139513396981828, 1.0051334833529382, 2.0, 1.0, 1.178004122711289, 1.1478599221789882, 1.0955794504181602, 1.0303202952760782, 1.0743069277288786, 1.2740963855421688, 1.2091441864626673, 1.0581527936145951, 1.5324675324675325, 1.0655737704918034, 1.204724409448819, 1.0, 1.0113207547169811, 1.079001602931074, 1.1111111111111112, 1.1222366710013003, 1.0671641791044777, 1.1538461538461537, 1.4285714285714286, 1.2, 1.084450402144772, 1.0432661717921528, 1.021702838063439, 1.0, 2.0, 1.1379310344827587, 1.0, 1.180331023864511, 1.1081610833927298, 1.2048309178743961, 1.3048780487804879, 1.1959033613445378, 1.1818181818181819, 1.1055555555555556, 1.00437205534044, 1.108695652173913, 1.092274678111588, 1.0745409747536114, 1.0445062247747254, 1.0210045662100458, 1.082191780821918, 1.0050919406869816, 1.014908256880734, 1.6666666666666667, 1.5, 1.0, 1.4209724663151728, 1.0940438871473355, 1.0, 1.0302114803625377, 1.082191780821918, 1.0179682964947534, 1.022668855897599, 1.0035129570465033, 1.0772833723653397, 1.0088353413654618, 1.0152491690394214, 1.0673739939798903, 1.0970772032332865, 1.0833333333333333, 1.0371782650142993, 1.0439155801481912, 1.0551330798479088, 1.1658878504672898, 1.0368311327310633, 1.25, 1.0, 1.1277552606740326, 1.0265715865273588, 1.0504687404260533, 1.2479338842975207, 1.0013513513513514, 1.0044052863436124, 1.0692567567567568, 1.28, 1.0961538461538463, 1.0321918140507673, 1.3333333333333333, 1.0846968238691048, 1.0, 1.0497808390732624, 1.25, 1.098800047056978, 1.0622775800711743, 1.0, 1.0714285714285714, 1.0135593220338983, 1.093340922026181, 1.0504736003001032, 1.0525131318066923, 1.16, 1.2318840579710144, 1.1201117318435754, 1.0594866146687945, 1.017087062652563, 3.0, 1.0099403578528827, 1.012097942625326, 1.0464716006884682, 1.0111642743221692, 1.062526484985753, 1.0948861515490855, 1.3333333333333333, 1.1428571428571428, 1.5, 1.0037744836620257, 1.2763157894736843, 1.104090909090909, 1.1800702532815677, 1.2913385826771653, 2.0, 1.0897286821705425, 1.0216438356164383, 1.0698051948051948, 1.3507692307692307, 1.4285714285714286, 1.0, 1.0101867572156198, 1.0421438137145043, 1.0230392156862744, 1.164133398065504, 1.2635658914728682, 1.002469135802469, 1.1147540983606556, 1.2407407407407407, 1.0321708728736374, 1.0580645161290323, 1.0635367913148372, 1.0455242966751919, 1.043820116981494, 1.0696517412935322, 1.5714285714285714, 2.3333333333333335, 1.178498128697332, 1.0788530465949822, 1.1103054612773835, 1.3076923076923077, 1.115832762165867, 1.063397129186603, 1.024024024024024, 1.001925854597978, 1.0199115044247788, 1.5843230403800475, 1.1766561514195584, 1.6, 1.041716922252216, 1.0607723975691041, 1.0, 1.0162988588914514, 1.1947483588621444, 1.0060609274957497, 1.0844990008564088, 1.0432098765432098, 1.0672313289777395, 1.045965197006582, 1.072192513368984, 1.094458155710119, 2.0, 1.0464256368118323, 1.1428571428571428, 1.0833333333333333, 1.0799884191309523, 1.082129963898917, 1.0320284697508897, 1.0, 2.090909090909091, 1.1040462427745665, 1.0166112956810631, 1.051189088868747, 1.4, 1.2407407407407407, 1.4411764705882353, 2.0, 1.0133333333333334, 1.0546875, 1.0451306413301662, 1.0775630245273669, 1.0, 1.2193173565722586, 1.5555555555555556, 1.1005802707930368, 1.1578947368421053, 2.142857142857143, 1.0300187617260788, 1.052910052910053, 1.0717787936963938, 1.3333333333333333, 1.0038885288399222, 1.0525540275049117, 1.1395348837209303, 1.0390625, 1.1548873634342067, 1.0248935606755079, 1.0297029702970297, 1.0007785130400935, 1.1487603305785123, 1.0038260689726488, 1.2238805970149254, 1.0013180616470805, 1.0625, 1.0938967136150235, 1.0816070614292228, 1.5555555555555556, 1.0010175240248729, 1.079088471849866, 1.1235952425547855, 1.0416666666666667, 1.003992443324937, 1.0357142857142858, 1.25, 1.0720480320213475, 1.034245616374425, 1.0925373134328358, 1.0056824081328286, 2.0, 1.0227790432801822, 1.0144655504667517, 1.2309926533401674, 1.011111111111111, 1.0293296089385475, 1.022236340533672, 1.0985704918032786, 2.0, 1.3541666666666667, 1.021523178807947, 1.0606060606060606, 1.0383435582822085, 1.1428571428571428, 1.3333333333333333, 1.1379310344827587, 1.0644268774703558, 1.0390243902439025, 1.2469384530299439, 1.0341292944827396, 1.2446808510638299, 1.0264775737198597, 1.0154030898552064, 1.1325782811459026, 1.0955285630934068, 1.147329650092081, 1.0163727959697733, 1.2013422818791946, 1.0783132530120483, 1.075728155339806, 2.0, 1.0095403295750216, 1.043010752688172, 1.3956128133704735, 1.0112306972391203, 1.09610792134546, 1.0071710290426676, 1.1166666666666667, 1.1132293471981514, 1.1715976331360947, 1.0320284697508897, 1.2363636363636363, 1.082853486884197, 1.0, 1.0552509489666808, 1.120447284345048, 1.0939759036144578, 1.1479099678456592, 1.12343137643007, 1.1171875, 1.0502555366269166, 1.625, 1.0, 1.1612903225806452, 1.0303975058456742, 1.0456062291434927, 1.0829268292682928, 1.017469857030871, 1.2083333333333333, 1.1913294797687861, 1.2085889570552146, 1.1408633560532295, 2.0, 1.1095100864553313, 1.375, 1.0, 1.08, 1.0687302215189873, 1.2342657342657342, 1.1449375866851594, 1.1875, 1.005889281507656, 1.0476190476190477, 1.6923076923076923, 1.0769230769230769, 1.0572755417956656, 1.0679611650485437, 1.0364444444444445, 1.0448073803829498, 1.0, 1.0509433962264152, 1.0362934362934364, 1.0445098065610403, 1.118015285696955, 1.0, 1.0746017355264863, 1.3752832490848876, 1.15, 1.6, 1.0772141530439197, 1.0185488353445369, 2.0, 1.6666666666666667, 1.0, 1.0610453246222948, 1.0451514857198356, 1.3523809523809525, 1.0, 1.0745296671490594, 1.0598317529641084, 1.1935483870967742, 1.1304347826086956, 1.0356788899900893, 1.3225806451612903, 1.2607449856733524, 1.0062713624585353, 1.1670458238544037, 1.2465116279069768, 1.1237458193979932, 1.0520930232558139, 1.0235849056603774, 1.0697300771208227, 1.004167933189422, 1.0, 1.186046511627907, 1.02400191005679, 1.0566968781470292, 1.0873015873015872, 1.1666666666666667, 1.0588235294117647, 1.0882553096401328, 1.014623172103487, 1.1333333333333333, 1.1507936507936507, 1.0, 1.0430003107520198, 1.1666666666666667, 1.15, 1.0301063753837367, 1.1044529068291444, 1.096774193548387, 1.0, 1.1180050028076982, 1.25, 1.1023622047244095, 1.0141206675224648, 1.1069182389937107, 1.250498687664042, 1.0, 1.027331189710611, 1.0204241948153967, 1.0284925963395568, 1.3176994180075317, 1.0740464422269886, 1.0684684684684684, 1.0, 1.0084361736859289, 1.1883920076117982, 1.2326047150377661, 1.3333333333333333, 1.132867132867133, 1.0918367346938775, 1.1084812623274163, 1.1538461538461537, 1.0777650416919515, 1.101063829787234, 1.0484476726568168, 3.0, 1.0, 1.2115384615384615, 1.0547080483955813, 1.1943127962085307, 1.0511031491608525, 1.0838323353293413, 1.0344827586206897, 1.5, 1.1538461538461537, 1.25, 1.0, 1.2572463768115942, 1.8816901408450704, 3.1666666666666665, 1.0018389859615058, 1.018181818181818, 1.5, 1.0280282202636049, 1.0277777777777777, 1.0405405405405406, 1.0, 1.0713224368499257, 6.0, 1.0924205378973104, 1.002117711771177, 1.0810810810810811, 1.1045454545454545, 1.6, 1.2, 1.2658227848101267, 1.0402010050251256, 1.1096491228070176, 1.1594202898550725, 1.0888671875, 1.0093457943925233, 1.0712515489467163, 1.0, 1.0136495759791435, 1.5, 1.2418032786885247, 1.1666666666666667, 1.0481786133960047, 1.1607843137254903, 1.0892430278884462, 1.1055952881783762, 1.3333333333333333, 1.1666666666666667, 1.0, 1.125, 2.5, 1.1025815139203794, 1.0074487895716946, 1.0120043652237176, 1.0900123304562268, 1.0382423476623945, 1.165034965034965, 1.1031445760714507, 1.0395028596568412, 1.0240147783251232, 1.1931330472103003, 1.032258064516129, 1.0384615384615385, 1.0067001675041876, 1.1773845007451564, 1.0146627565982405, 1.122829002072915, 1.0302491103202847, 1.099264705882353, 1.0089967747411306, 1.0, 1.1818181818181819, 1.0179840142095915, 1.0, 1.6, 1.0731707317073171, 1.0153930731170973, 1.6224719101123595, 1.25, 1.2230128427629294, 1.0, 1.1037735849056605, 1.1176470588235294, 1.1264598324879085, 1.0, 1.008849557522124, 1.031004404525434, 1.1282051282051282, 1.002544975866608, 1.1578947368421053, 1.109774944460543, 1.0465116279069768, 1.089863407620417, 1.0849673202614378, 1.6666666666666667, 1.1176470588235294, 1.0113753294898722, 2.0, 1.038386080850844, 1.1769322235434008, 1.0648836057454185, 1.075283235196953, 1.151986183074266, 1.0611639804169646, 1.063225806451613, 1.0466616907037778, 1.0, 1.0703789636504253, 2.0, 1.170124481327801, 1.0, 1.5, 1.4052603327965647, 3.0, 1.239463601532567, 1.5, 1.1069680997807496, 1.1513157894736843, 1.3647798742138364, 1.0384878924504255, 1.0713073005093379, 1.2, 1.0366545786897812, 2.0, 1.013793103448276, 1.0166919575113809, 1.0399475656689579, 1.0724907063197027, 1.0273651290070367, 1.0060779733800855, 1.1627906976744187, 1.1334900117508813, 1.037569944044764, 1.0, 1.0931514799767847, 2.6666666666666665, 1.068893528183716, 1.0029411764705882, 1.25, 1.0615384615384615, 1.0056148543473427, 1.4098360655737705, 1.0827225130890052, 1.0063393405362318, 1.125, 1.0212765957446808, 1.0071428571428571, 1.204724409448819, 1.0, 1.0227931735887708, 1.0102218898030417, 1.161137440758294, 1.1571936056838366, 2.0, 1.0, 1.0610978520286396, 3.0, 1.0555805580558055, 1.0391837303245577, 1.0742767787333856, 1.1993263234557785, 1.112602466154239, 1.161459876783904, 1.1228500922279276, 1.059103440462253, 1.05269989615784, 1.1527791393000686, 1.1517857142857142, 1.1636543867034206, 1.0204081632653061, 1.0030021633235715, 1.0909090909090908, 1.0, 1.0148275862068965, 1.0, 1.0471354922221974, 1.0248756218905473, 1.0151351351351352, 1.5, 1.0372745195585282, 1.0317195325542572, 1.052219321148825, 1.4, 1.072538860103627, 1.1006018194541638, 1.1803874092009685, 1.191517857142857, 1.043010752688172, 1.109739046656719, 1.02908832919475, 1.1621647327373026, 3.0, 1.2728937728937728, 1.087557603686636, 1.1889312977099236, 1.0808080808080809, 1.0, 1.0, 1.0155713668704962, 1.0625, 1.032968438750708, 1.4, 1.0149744338933528, 1.5, 1.3275, 1.0714285714285714, 1.0383462659605043, 1.5, 1.2103880232202873, 1.0322241874861817, 1.0147058823529411, 1.575037147102526, 1.5, 1.1295277148304017, 1.1826312201772324, 1.4, 1.0076045627376427, 1.0843760025665705, 1.1131221719457014, 1.0401907356948228, 1.027980389349575, 1.1051282051282052, 1.0789473684210527, 1.0309385382059801, 1.0881735479356194, 1.0763730370451858, 1.132791327913279, 1.1330817082547004, 1.121212121212121, 1.1770284510010538, 1.0486424568054438, 1.1534287123828317, 1.1714140386571719, 1.0440528634361232, 1.0805860805860805, 1.0409726848767489, 1.4210526315789473, 1.0, 1.08, 1.03125, 1.0702262778223073, 1.9989506820566632, 1.0, 1.5357142857142858, 1.2420382165605095, 1.023659305993691, 1.0556849460088926, 1.0948595654478008, 1.0118613549403557, 1.0079744909899369, 1.0347021765238829, 1.3333333333333333, 1.0, 1.0391608391608391, 1.0494951017332328, 1.037037037037037, 1.039122783267903, 1.0769230769230769]
origin-bjaq_15.71 	max: 6.0000	99th: 2.6675	95th: 1.6409	median: 1.0790	mean: 1.1710

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.916563 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=7', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[9.2756748e-04 1.1920929e-07 5.9604645e-08 2.9802322e-07 4.1723251e-07]
Distance score: 0.00018569230451248586
SAUCE Drift detection: True
Detection latency: 0.0214s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.8887 bits (loss 19.501, data 18.613) 0.00300 lr
epoch 10 train loss 12.6366 nats / 18.2308 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.4052 bits (loss 18.208, data 18.613) 0.00256 lr
epoch 20 train loss 12.3274 nats / 17.7847 bits
time since start: 8.7 secs
Epoch 20 Iter 0, train entropy gap -0.8828 bits (loss 17.730, data 18.613) 0.00150 lr
epoch 30 train loss 12.2016 nats / 17.6032 bits
time since start: 13.0 secs
Epoch 30 Iter 0, train entropy gap -0.9481 bits (loss 17.665, data 18.613) 0.00044 lr
epoch 40 train loss 12.1728 nats / 17.5616 bits
time since start: 17.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 22.4837 nats / 32.4371 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.162120 | Model-update-time: 19.939215


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=7', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:7
origin-bjaq_15.71 	max: 14.3333	99th: 3.7986	95th: 2.2222	median: 1.1667	mean: 1.3552
ReportEsts: [1.2916666666666667, 1.0646814374609737, 1.011385801445601, 1.022940074906367, 1.6950840973074424, 1.1237577348584287, 1.010590148086303, 1.242761692650334, 3.3333333333333335, 1.173913043478261, 1.2518783542039356, 1.0476504968359621, 1.4473684210526316, 1.0054446547507234, 1.5, 1.2899427116486315, 1.002169197396963, 1.1886651752423565, 2.0, 1.0003526093088857, 1.244806524146726, 1.0847457627118644, 1.125, 1.0733256351039262, 1.172106824925816, 1.0001737928310457, 1.7570093457943925, 1.3333333333333333, 1.019557643073014, 1.7, 1.4446096654275093, 1.1016949152542372, 1.060860163382989, 1.0532700421940928, 2.5982905982905984, 1.0176964569540567, 1.3333333333333333, 1.8571428571428572, 1.007463136931464, 1.121212121212121, 1.0166666666666666, 1.2682010902483343, 1.5, 3.227272727272727, 1.0124372518168876, 1.0609523809523809, 1.3333333333333333, 1.0607843137254902, 1.0115702479338844, 1.2325581395348837, 1.0914600550964186, 1.1666666666666667, 1.3986928104575163, 1.0332049996225479, 1.157182825545789, 1.026298734843006, 1.01437790105287, 1.0429312117284226, 1.4444444444444444, 1.1140819964349375, 1.073551894003737, 1.053271569195136, 1.2708333333333333, 1.4270833333333333, 1.0178435839028095, 1.0819672131147542, 1.0046781313830138, 1.0876262626262627, 1.0, 1.1412939586697868, 1.3862928348909658, 1.0, 1.014901837104786, 1.0175054704595186, 1.0603301309693336, 1.098159509202454, 1.056910569105691, 1.4411764705882353, 1.0598958333333333, 1.0887349853911914, 1.0714285714285714, 1.0072402044293016, 1.2270193213349285, 1.0738895216400912, 1.0118941421349985, 1.1329305135951662, 1.0114357524348099, 1.375, 1.0341880341880343, 1.6666666666666667, 1.008841732979664, 1.0116687825081552, 1.504302925989673, 1.6428571428571428, 1.2406015037593985, 1.056844547563805, 1.063791228706053, 1.1062015503875968, 1.1195415230996413, 2.1433962264150943, 1.5807926829268293, 1.0, 1.0495495294490382, 1.1735321040931084, 1.224543168342518, 2.476578411405295, 1.0850310008857396, 3.63449712358659, 1.0197340002273503, 1.1188524590163935, 2.0, 1.2624223602484472, 1.3088235294117647, 1.173272933182333, 1.5, 1.6894736842105262, 1.1961770623742454, 1.1403508771929824, 1.195845004668534, 1.0605652759084792, 2.0, 1.1063829787234043, 2.0, 1.0207341453863434, 1.4513598326359833, 1.3, 1.4, 1.0743399537369387, 1.3092105263157894, 1.6875, 1.7777777777777777, 1.1425, 1.3514860623961602, 1.2857142857142858, 1.2857142857142858, 1.363468634686347, 3.97410638896707, 1.0058456671480744, 1.0111793148383115, 3.7522935779816513, 1.3691542288557215, 2.0, 1.0, 1.210665198300891, 2.1538461538461537, 1.2372881355932204, 1.0285640093482213, 1.0283166750557273, 1.2048962213943586, 7.166666666666667, 1.2140760311169823, 1.2265625, 2.0, 1.54073631840796, 1.1790837575196669, 1.1058106169296986, 1.4666666666666666, 1.0060979494848414, 1.1510843373493975, 1.4981419760180823, 1.1925795053003534, 1.4651851851851851, 1.4135702746365104, 1.215270413573701, 1.1377879049143984, 1.0645345516847515, 1.4, 1.201086956521739, 1.0087816095826945, 1.8636363636363635, 1.0, 1.2380573248407643, 1.285878081406459, 1.0644912369717343, 1.281972937581842, 1.5982142857142858, 1.350109409190372, 1.132136961950311, 1.2840236686390532, 1.17174830196583, 1.0553827006845053, 1.3, 1.092355694227769, 1.3529411764705883, 1.258248730964467, 1.0204707278481013, 1.5486111111111112, 1.0118715318648057, 1.1879212520467615, 1.6196943972835314, 1.07512177111291, 1.0003441793968917, 1.2060390763765543, 1.564102564102564, 2.4, 1.0, 1.1083506489595567, 1.1428571428571428, 1.3333333333333333, 1.2375, 2.0, 1.0909090909090908, 1.949579831932773, 1.009903782868963, 1.0526315789473684, 1.1235257843212827, 1.3414716395764483, 1.0122439718975418, 1.2906197654941374, 1.4543147208121827, 1.022167487684729, 1.2835820895522387, 1.1684558216350125, 1.71900826446281, 1.322743000943693, 1.0, 1.0433457294397366, 1.0909090909090908, 1.233644859813084, 1.1012269938650308, 1.35656836461126, 1.1872278664731495, 2.5, 1.0206392510036737, 1.1668957932361836, 1.1570194833418372, 1.2, 1.0807368496797871, 1.1785714285714286, 1.0259208731241474, 1.2467799800035289, 1.1045439170143196, 1.3333333333333333, 3.238471971066908, 1.3590425531914894, 1.1612590799031477, 1.2881991144424463, 1.016998328550254, 1.6264501160092808, 1.2, 1.005246789168215, 1.2505141846985433, 1.2363112391930835, 1.0095019659239843, 1.1529268975819251, 1.0347342576545349, 1.3054755043227666, 1.1937685459940652, 1.1241496598639455, 1.2463768115942029, 1.0415370260191625, 1.029325513196481, 1.1194029850746268, 1.0, 1.0113381271093738, 1.3365999147848318, 1.0025012748525017, 1.3633633633633633, 1.0145985401459854, 1.32523974699041, 1.554671968190855, 1.5165562913907285, 1.1262521952932911, 1.2063492063492063, 1.0007990810567846, 1.0349602724177072, 9.0, 1.0395394282638457, 1.0124718057582593, 1.1229508196721312, 1.0300952894036837, 1.5714285714285714, 1.430754979157017, 1.044343891402715, 2.219681168057211, 3.0, 1.1050228310502284, 1.00502061444341, 1.5877862595419847, 1.2941176470588236, 1.0, 1.2845854160541017, 1.368421052631579, 1.3463917525773197, 1.0205901001616124, 1.4285714285714286, 1.141396933560477, 1.2131386861313869, 1.424168694241687, 1.0220492866407263, 1.1136842105263158, 1.1099266232867229, 1.5454545454545454, 1.04, 1.2351885098743267, 1.1394142899647215, 1.2556077203964529, 1.4545454545454546, 1.0107766374835094, 1.18664047151277, 1.2610364683301343, 1.355708245243129, 1.0714285714285714, 1.2916477530640036, 1.0962837837837838, 1.0, 1.0808314087759816, 1.2730093071354704, 1.4738557993730408, 1.8633093525179856, 1.0502643504531721, 1.0129743864824996, 1.1200750469043153, 1.2161888701517707, 1.0576923076923077, 1.0168650793650793, 1.1666666666666667, 1.0843373493975903, 1.0212367892044663, 1.0988785156479361, 1.0896235809599681, 1.0686221009549794, 1.4729344729344729, 1.0, 1.0417332906939558, 1.020380507942206, 3.6435185185185186, 1.0, 1.2895210658984515, 1.3175105485232068, 1.0888888888888888, 1.0288230185731049, 1.9556478627897629, 2.0, 1.0, 1.031559781509205, 1.0, 1.1232821341956345, 1.3333333333333333, 1.0104821802935011, 1.0162878439311678, 1.0, 2.026666666666667, 1.1818181818181819, 1.9322033898305084, 1.0229007633587786, 1.0319084557407714, 2.083798882681564, 1.3739576651699807, 1.5, 1.2073170731707317, 1.1221590909090908, 1.0843463845910957, 1.092406876790831, 1.0, 1.0677966101694916, 1.0480093676814988, 1.177875049741345, 3.5655737704918034, 1.0, 1.530110775427996, 1.0534407027818449, 1.229665071770335, 1.3148148148148149, 1.0893697083725307, 1.0802616681343564, 1.1341176470588235, 1.2467362924281984, 1.00087325952427, 2.0, 2.0, 1.1295681063122924, 1.1950431034482758, 1.2363367799113738, 1.0079695957618335, 1.179482965470771, 1.1990950226244343, 1.2277362647346068, 1.459234608985025, 2.107142857142857, 1.605263157894737, 1.0457516339869282, 1.0, 1.2792452830188679, 1.1396137787056368, 1.4259259259259258, 1.364864864864865, 1.1837088388214905, 1.5916666666666666, 1.5, 1.2, 1.1711145996860282, 1.1198610306890562, 1.1541425818882467, 2.0, 2.0, 1.076086956521739, 1.0, 1.1062407132243686, 1.0292517006802722, 1.0372040586245772, 1.2424242424242424, 1.015267175572519, 1.8333333333333333, 1.1789473684210525, 1.0192463296998393, 1.0966494845360826, 1.1711261980830672, 1.0223240757063414, 1.0110700251538791, 1.5103448275862068, 1.2122072391767211, 1.0064225068684236, 1.008781558726674, 1.6666666666666667, 2.0, 1.5, 1.2456861133935908, 1.4566074950690335, 1.0, 1.7083333333333333, 1.2104477611940299, 1.034315203914078, 1.0254718248371282, 2.75, 1.0373631603998097, 1.0, 1.75, 1.0740740740740742, 1.0440867739678097, 1.1086369770580298, 1.4324324324324325, 1.0355898092898683, 1.0871559633027523, 1.1055045871559632, 1.0060200668896322, 1.0909090909090908, 2.0, 1.3526249515691593, 1.0011689998089446, 1.1921215949192516, 1.2046332046332047, 1.0178571428571428, 3.993164838658401, 1.124436936936937, 3.5950413223140494, 1.5052105043768236, 1.7291666666666667, 1.1703802441419953, 1.147766323024055, 14.333333333333334, 1.0166923472008218, 1.1163095156066973, 1.3559322033898304, 1.5, 1.0075784073685439, 1.6288343558282208, 1.0, 1.5, 1.0014124293785311, 1.265474552957359, 1.1, 1.0620476269407149, 1.4912663755458515, 1.050420168067227, 1.000256557004993, 1.3515981735159817, 1.0012016713703042, 1.34375, 2.919597989949749, 1.5492371705963939, 1.0442228899207866, 1.154287293581151, 2.5, 1.2857142857142858, 1.8, 1.0388615859327905, 1.4937629937629937, 1.0132262798929466, 1.0510108682949633, 1.1495327102803738, 2.0, 1.0137565540959577, 1.0042188592489008, 1.1398002853067046, 1.2843691148775895, 1.3571428571428572, 1.3333333333333333, 1.0003135779241141, 1.1975806451612903, 1.0777287761852261, 1.6972477064220184, 1.3235294117647058, 1.0346090664429766, 1.0869230769230769, 1.0905292479108635, 1.342507645259939, 1.0384325195376174, 1.5845410628019323, 1.0273795352207442, 1.1576879910213242, 1.2049144037780402, 1.5071428571428571, 1.8333333333333333, 3.9454545454545453, 1.1398488720968996, 2.806451612903226, 1.1869872096505112, 1.0940315315315314, 1.0074619162082847, 1.56, 1.1423423423423424, 2.0, 1.0392156862745099, 1.6756756756756757, 1.006726457399103, 1.4048257372654156, 1.6, 1.004635802013024, 1.1184418319003333, 1.4, 1.0016076134280476, 1.3122171945701357, 1.020448220887642, 1.3162615057823932, 1.1606905710491369, 1.01910987948222, 1.2486771295399788, 1.0025252525252526, 1.0089542581830366, 2.0, 1.5089031339031338, 2.27027027027027, 2.7241379310344827, 1.1990517518482804, 1.0746543778801843, 1.4615384615384615, 1.0, 2.6363636363636362, 1.0134874759152215, 1.2754237288135593, 1.1153066000936183, 2.7291666666666665, 1.6376811594202898, 1.8148148148148149, 2.0, 1.271186440677966, 1.2330827067669172, 1.0904498436372383, 1.0194888476502324, 1.0, 1.434375, 2.0, 1.4170616113744077, 1.4615384615384615, 1.8727272727272728, 1.3287037037037037, 1.1185921958684009, 1.0135364240171798, 1.625, 1.009913258983891, 1.0171983356449377, 1.0, 1.1608391608391608, 1.2121884147964161, 1.1755890947108811, 1.125, 1.1947231512448904, 1.193050193050193, 1.1269140164899882, 1.2149712092130518, 1.0102864516507446, 1.5, 2.74806999485332, 1.2740031897926636, 1.0120564802636551, 1.34375, 1.2113636363636364, 1.3451652386780906, 1.0147221928805323, 2.272727272727273, 1.0335460954916125, 1.5806451612903225, 1.25, 1.0474111041796632, 1.0373286781981372, 1.2786259541984732, 1.0395243154445704, 2.0, 1.0404255319148936, 1.0044271626338104, 1.0565640194489465, 1.0385756676557865, 1.2966442953020134, 1.1522693997071742, 1.1517778919065889, 1.0, 6.181818181818182, 1.329249617151608, 1.1382113821138211, 1.4130973451327433, 1.6025641025641026, 1.3333333333333333, 1.0443037974683544, 1.1559446254071661, 1.1424287856071964, 1.2108715666717815, 1.0046610961656068, 1.17, 1.0170412179444828, 1.1682342313619214, 1.1236162361623616, 1.0470239815082347, 1.093913043478261, 1.6009654889071487, 1.5506329113924051, 1.1284916201117319, 1.7587301587301587, 3.5, 1.2237903225806452, 1.22801024765158, 1.0578168362627196, 1.1720828191416426, 1.013793822572116, 1.1414059325477448, 1.177012278308322, 1.0088845014807502, 1.6779661016949152, 1.1907422186751795, 1.6176470588235294, 1.1836425596365012, 3.0, 1.075564681724846, 1.0053090117070516, 1.0272061388210674, 1.4613003095975232, 1.174238662694472, 1.2351351351351352, 1.1834677419354838, 1.75, 1.0140845070422535, 1.0518072289156626, 1.224074074074074, 1.191133416980343, 1.0761035007610351, 1.0440983432078619, 1.7261904761904763, 1.1014409221902017, 1.1214596949891067, 1.2227001985440107, 2.0, 1.657210401891253, 1.0612244897959184, 1.0, 1.6285714285714286, 1.0263296935540682, 1.045325779036827, 1.1051930758988016, 1.5833333333333333, 1.1438417074255225, 1.380952380952381, 1.6428571428571428, 1.0384615384615385, 1.3365949119373777, 1.1221789883268483, 1.063963963963964, 1.2044539527988816, 1.0, 1.0423280423280423, 1.0825655563430192, 1.2049896340469146, 1.0705697741236795, 1.0, 1.0186322783395532, 1.0352972050911953, 1.0, 1.4, 1.0163683393688567, 1.001067858049918, 2.0, 1.1, 2.0, 1.1896750403318737, 1.0288878318359407, 1.0514705882352942, 1.4516129032258065, 1.1702127659574468, 1.2491773836631281, 1.3478260869565217, 1.0994256999282126, 1.0081398022533916, 1.6981132075471699, 1.0548386646764225, 1.089724912160425, 1.1528233465722673, 1.2564102564102564, 4.9, 1.013612565445026, 1.0758266566331725, 1.1585249549645014, 1.0755667506297228, 1.011822381010192, 1.005952380952381, 1.5, 1.2156862745098038, 1.015993772792954, 1.7374313476975074, 1.1274131274131274, 1.4, 1.3076923076923077, 1.0201047399254395, 1.298728813559322, 1.1914893617021276, 1.1094890510948905, 1.0, 1.033180608926988, 1.4285714285714286, 1.4, 1.0229481410226846, 1.027029390417727, 3.116279069767442, 1.4943679599499373, 1.0342500290911911, 2.0, 1.2627118644067796, 1.2267080745341614, 1.0161290322580645, 1.0842353317090705, 1.4, 1.2335907335907337, 1.4433333333333334, 1.0389083077357624, 1.1667237247517974, 1.014364887691427, 1.136391068195534, 2.0, 1.0045255302969416, 1.2583559168925023, 1.1134329825941587, 1.6666666666666667, 1.3522458628841607, 1.015, 1.2778977681785457, 1.1818181818181819, 1.0024215669466827, 2.823617982361798, 1.2298574403331732, 1.6, 1.3333333333333333, 1.0635337358886847, 1.6771653543307086, 1.0442252624880688, 1.2098547040840861, 1.0392549751810192, 1.2477286493034525, 1.1881305932224397, 1.1751295336787564, 1.0, 1.2777777777777777, 2.1818181818181817, 1.1326297464911326, 1.0444234404536863, 2.4, 1.09450208808714, 1.0595854922279793, 1.2222222222222223, 1.0081680573082452, 1.0154639175257731, 1.4041745730550284, 1.0, 1.1629831741700773, 6.0, 1.0259623992837958, 1.005786214331241, 1.139240506329114, 1.0489208633093525, 1.6363636363636365, 1.0, 1.894736842105263, 1.106951871657754, 1.0334728033472804, 1.0823529411764705, 1.713807531380753, 1.1251256281407036, 1.0091848450057406, 1.0, 1.228130291596112, 2.0, 1.018987341772152, 1.4285714285714286, 1.0792316926770709, 1.2327272727272727, 1.143313982091902, 1.2851421706047257, 1.3333333333333333, 1.75, 1.0, 1.1111111111111112, 1.5, 1.038166101323996, 1.173391494002181, 1.1055437828969854, 1.0464864864864865, 1.0195768195343127, 1.1313291139240507, 1.2394874511621747, 1.011083441619832, 1.0251168224299065, 1.8597122302158273, 1.2647058823529411, 1.1586538461538463, 1.039872408293461, 1.0906298533218293, 1.7451923076923077, 1.0008004535903678, 1.1657088122605364, 1.5319829424307037, 1.1097087378640778, 1.6, 1.1111111111111112, 1.0060821309655938, 1.0, 2.0, 1.086890243902439, 1.2078353253652059, 1.193029490616622, 1.2969543147208122, 1.1046511627906976, 1.0, 1.2470588235294118, 1.4166666666666667, 1.1030938025106256, 1.03125, 2.0129032258064514, 1.116429920354709, 1.7407407407407407, 1.1371509701845717, 2.375, 1.0354137947425963, 1.055299539170507, 1.3832116788321167, 1.0081699346405228, 1.540983606557377, 3.7971014492753623, 1.2614742698191934, 2.5, 1.0119278365886388, 1.11316029143898, 1.0039623576027736, 1.2134163724479727, 1.0147540983606558, 1.0084860192586313, 1.2833827893175074, 1.0873753303213707, 1.0630224428795785, 1.5360824742268042, 1.0262018126179326, 1.0371705339040325, 1.4166666666666667, 1.0126582278481013, 1.0, 1.25, 1.0, 1.0738714090287278, 1.0139602603631381, 1.4829268292682927, 1.0114285714285713, 1.0390787828261776, 1.5580357142857142, 1.5714285714285714, 1.0042288383767954, 7.0, 1.051948051948052, 1.164073550212164, 1.0604027855069411, 1.0219594594594594, 1.2200557103064067, 1.0080167784437148, 1.36986301369863, 1.2572019500664795, 1.248076923076923, 1.0333333333333334, 1.1956401766004414, 2.6666666666666665, 1.098, 1.212283044058745, 1.875, 1.1432806324110671, 1.024390243902439, 1.0116279069767442, 1.9583333333333333, 1.000516924147779, 1.6363636363636365, 1.309271523178808, 1.8082191780821917, 1.0851063829787233, 1.5, 1.1732223527659644, 1.1998665331998666, 1.038910505836576, 1.3022670025188916, 2.0, 2.0, 1.0344904316866934, 3.0, 1.1489141675284384, 1.2313774036477676, 1.0125097732603596, 1.0006493506493506, 1.0276013902620502, 1.185044319610433, 1.0070078497403183, 1.1554530097647397, 1.0828606658446362, 1.0005110574242706, 1.3707865168539326, 1.001199453582257, 1.1, 1.215598334532744, 1.2, 1.0, 1.0219097449313277, 1.0, 1.2063701470033923, 1.2373417721518987, 1.0301700493691717, 1.8333333333333333, 1.0880664550550416, 1.29375, 1.275395033860045, 1.8, 1.0569155446756426, 1.0430080419492274, 1.2797992471769135, 1.371875, 1.0206185567010309, 1.066669530016858, 1.1692243882206552, 1.1721987720644667, 3.0, 2.7351933431228583, 1.311178247734139, 1.6357142857142857, 1.1123595505617978, 1.0, 3.0, 1.0082186544342508, 1.328125, 1.0107203468149817, 1.75, 1.1958677685950414, 2.5, 1.0095693779904307, 1.0666666666666667, 1.0040567951318458, 2.0, 1.0312518102299717, 1.2071795556148661, 1.088, 1.0054151624548737, 1.4, 1.5645125417027061, 1.0288961125469611, 2.8, 1.387434554973822, 1.3407378024593415, 1.274131274131274, 1.2384519350811485, 1.0199001527975815, 1.32232070910556, 1.1424657534246576, 1.0344563552833077, 1.038583175205566, 1.1173684977415124, 1.051490514905149, 1.0450815587522009, 2.5384615384615383, 1.3118908382066277, 1.0207597348469812, 1.1882400979991834, 1.1010351966873706, 1.196969696969697, 1.1434108527131783, 1.0616049958726628, 1.619047619047619, 1.625, 1.04, 1.0588235294117647, 1.1152988076951211, 1.3286852589641434, 1.0, 1.7058823529411764, 1.117948717948718, 1.2099236641221374, 2.4565067707137938, 1.1015219851686684, 1.0147610172033334, 1.0200371425736117, 1.3105419463375276, 1.0]
origin-bjaq_15.71 	max: 14.3333	99th: 3.7986	95th: 2.2222	median: 1.1667	mean: 1.3552

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 12.019771 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=7', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[7.8815222e-04 0.0000000e+00 0.0000000e+00 2.9802322e-07 2.9802322e-07]
Distance score: 0.00015774965868331492
SAUCE Drift detection: True
Detection latency: 0.0334s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.4606 bits (loss 19.044, data 18.584) 0.00300 lr
epoch 10 train loss 12.5238 nats / 18.0680 bits
time since start: 4.5 secs
Epoch 10 Iter 0, train entropy gap -0.5136 bits (loss 18.070, data 18.584) 0.00256 lr
epoch 20 train loss 12.2464 nats / 17.6679 bits
time since start: 8.7 secs
Epoch 20 Iter 0, train entropy gap -0.8307 bits (loss 17.753, data 18.584) 0.00150 lr
epoch 30 train loss 12.1224 nats / 17.4889 bits
time since start: 12.9 secs
Epoch 30 Iter 0, train entropy gap -1.0691 bits (loss 17.515, data 18.584) 0.00044 lr
epoch 40 train loss 12.0874 nats / 17.4384 bits
time since start: 17.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 22.1918 nats / 32.0161 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.072083 | Model-update-time: 19.545702


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=7', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:7
origin-bjaq_15.71 	max: 43.0000	99th: 3.7525	95th: 2.4216	median: 1.1757	mean: 1.3972
ReportEsts: [1.3333333333333333, 1.0562669293277518, 1.000850666074899, 1.0355493998153278, 1.4667687888942078, 1.0059055118110236, 1.0354412612477129, 2.5512460802112558, 1.0, 2.621345029239766, 1.0426231786698787, 1.3468575974542563, 1.9473684210526316, 1.031043051978327, 3.0, 1.046070460704607, 2.869565217391304, 1.5534088385520763, 2.1, 1.0605351170568562, 1.2622141333373116, 1.4171122994652405, 1.0, 1.8066083576287657, 1.8118279569892473, 1.012066824612056, 1.696969696969697, 1.0, 1.0081602442522088, 1.0588235294117647, 1.53840063341251, 1.2826086956521738, 1.0644600498661847, 1.074409250879839, 2.432, 1.0138434668448384, 1.0555555555555556, 1.588235294117647, 1.021007015293729, 4.269230769230769, 1.0489995916700694, 1.1405928969768124, 1.5, 1.9722222222222223, 1.056047960503115, 1.2244165170556554, 2.0, 1.0834326579261024, 1.25961670276643, 1.151624548736462, 1.4516129032258065, 1.1530398322851152, 1.2133333333333334, 2.4444444444444446, 1.0805752439650744, 1.0478790424191515, 1.0209838413678887, 1.0233716522101854, 1.0014924100289955, 1.5555555555555556, 1.6470588235294117, 1.156320907617504, 1.1546554445028931, 1.1228070175438596, 1.2166666666666666, 1.0203355363497713, 1.0017761989342806, 1.1521132340494498, 1.001302627374837, 2.0, 1.1801915408472785, 1.478405315614618, 1.0, 1.0002213695395514, 1.096, 1.0707192238646346, 1.1794871794871795, 1.0846153846153845, 1.065217391304348, 1.2307692307692308, 1.1243225121528748, 1.3186367324857993, 1.014263030225655, 1.2758675454617645, 1.0443045940843299, 1.3108145676953016, 1.047872340425532, 1.0321940528373414, 2.0, 1.016, 1.0319926873857403, 1.0318427233341756, 1.0795454545454546, 1.2391304347826086, 1.214975845410628, 1.3450704225352113, 1.066815144766147, 1.0964641263302437, 1.214468085106383, 1.009534040553243, 1.6705882352941177, 1.5370553359683794, 1.0, 1.0662256649587976, 1.5683327507864384, 1.2399161088043387, 1.6569767441860466, 1.1089799476896252, 2.4747378455672067, 1.0228892276025585, 1.0566119273984442, 1.0, 1.1008130081300813, 1.1552901023890785, 2.5964912280701755, 1.5, 2.235294117647059, 1.294979079497908, 2.7083333333333335, 1.2743781094527362, 1.065003024007994, 2.0, 1.0036363636363637, 4.0, 1.0207523461734793, 1.0361383582860093, 3.75, 1.2727272727272727, 1.1016640072942785, 1.6494117647058824, 1.2573529411764706, 2.6666666666666665, 1.932367149758454, 1.1200132978723405, 1.2857142857142858, 1.1, 1.3165905631659056, 2.4452884270870654, 1.0127975200518484, 1.1313255348025593, 2.0185185185185186, 1.3063636363636364, 2.0, 4.5, 1.2155591455753008, 1.8666666666666667, 1.3478260869565217, 1.0033365109628218, 1.0983440258814499, 1.2032952431570556, 2.2222222222222223, 1.0708462013588635, 1.896341463414634, 2.0, 1.3736474003694907, 1.1211708645336964, 1.0680695333943275, 1.4666666666666666, 1.0226735309781645, 1.3584131326949385, 1.4999352289656065, 1.0303030303030303, 1.24, 1.2033898305084745, 1.346413675615344, 1.0485963532188187, 1.0717557251908396, 1.1666666666666667, 1.0488590671073335, 1.25, 1.1427631578947368, 2.0, 1.108433734939759, 1.2126436781609196, 1.0120772946859904, 1.0481395758383858, 1.4074074074074074, 1.6078382954705799, 2.8947368421052633, 1.2289156626506024, 2.4210526315789473, 1.0059728365102352, 1.2975206611570247, 1.0, 2.0, 1.6666666666666667, 1.2534766118836915, 1.0261310755918012, 1.5277777777777777, 1.0322195967581653, 1.231242846430122, 1.2357512953367875, 1.0225764615520216, 1.056802571386655, 1.1082910321489001, 1.7321428571428572, 1.5555555555555556, 1.0, 1.1190773775707306, 1.1785714285714286, 1.7142857142857142, 1.5, 1.2, 1.8333333333333333, 1.6824324324324325, 1.0429303057415236, 1.15, 1.080891719745223, 1.1737964655697746, 1.0392020377410447, 1.0474604496253122, 1.1465968586387434, 1.360128617363344, 1.024232633279483, 1.2763513513513514, 1.2685714285714285, 1.2448194197750149, 1.6666666666666667, 1.036046576410942, 1.075, 1.1580698835274543, 1.2307692307692308, 1.116182572614108, 1.2100591715976332, 4.5, 1.0227572968593763, 1.1353633572159672, 1.6142777225261065, 1.0588235294117647, 1.0625884255204474, 1.5909090909090908, 1.225406661502711, 1.2861519793720613, 1.1545121269236345, 1.2790697674418605, 2.3373168851195065, 1.380281690140845, 1.1359223300970873, 1.2028560139978552, 1.053853883952239, 1.6932367149758454, 1.1403508771929824, 1.010522554989437, 1.2530274385570488, 1.4408060453400504, 1.0328478462968702, 1.0193018850906468, 1.0155755741988721, 1.9828571428571429, 1.662740235585865, 1.767379679144385, 1.528888888888889, 1.0499339675707402, 1.2582781456953642, 1.0307692307692307, 1.3333333333333333, 1.012206271157125, 1.1428051001821493, 1.0094469128983259, 1.1248339973439574, 1.257918552036199, 1.2777195739479659, 1.8745704467353952, 1.1005917159763314, 1.0519884942471236, 1.3236514522821576, 1.0184385909235163, 1.0102168473728106, 1.0555555555555556, 1.058603774441896, 1.0073436312990631, 1.3732394366197183, 1.0278432075375084, 1.0555555555555556, 1.142658638258453, 1.0554592720970537, 1.9173664417083098, 3.0, 3.5901639344262297, 1.0602561080996151, 1.4857142857142858, 2.0, 1.3709677419354838, 1.3522463660161321, 1.105263157894737, 1.1442622950819672, 1.0162910781139787, 1.375, 1.4974489795918366, 1.1284046692607004, 1.087966804979253, 1.1243902439024391, 1.0351432085749428, 1.0373870172555464, 1.1774193548387097, 1.0769230769230769, 1.35962441314554, 1.2210531110503782, 1.1282357626443649, 1.0, 1.0237483444262, 1.606312292358804, 1.2580181905217807, 1.1392887383573242, 1.0757575757575757, 1.298032786885246, 1.2361904761904763, 1.0, 1.2049079754601226, 1.135845749342682, 1.32907498552403, 2.194915254237288, 1.0807531786858198, 1.0380060503255764, 1.0779639175257731, 2.0407470288624787, 1.0263798297433484, 1.0790216368767638, 4.0, 1.1336336336336337, 1.1019923418719413, 1.0695976682738144, 1.0099407379086216, 1.1120623562484027, 1.524793388429752, 1.0, 1.07643698839615, 1.0166586422725084, 2.80058651026393, 1.0, 1.1143695014662756, 1.1309794988610478, 1.3125, 1.0067154394189042, 1.6260806916426513, 3.0, 1.0, 1.0023134759976866, 1.0, 1.2624712202609363, 1.25, 1.0712441136260065, 1.0272750166978726, 1.3333333333333333, 1.68, 1.9230769230769231, 1.518796992481203, 1.6986301369863013, 1.152893848948871, 1.6355140186915889, 2.732142857142857, 1.3333333333333333, 1.3720316622691293, 1.0025316455696203, 1.138271512239075, 1.1867245657568237, 1.5, 1.0216216216216216, 1.24496644295302, 1.2374581939799332, 2.323529411764706, 1.0, 1.4571409947200313, 1.0453296703296704, 1.0786516853932584, 1.0188679245283019, 1.1018078020932445, 1.172966082908446, 1.0402877697841726, 1.299527735531898, 1.0037357287975839, 1.0, 2.0, 1.1376649934932144, 1.1153450051493305, 1.3926788685524127, 1.0262298650413584, 1.2165511162341294, 1.2004357298474946, 1.2727743636834545, 1.2475106685633002, 2.7126436781609193, 5.083333333333333, 1.0980392156862746, 1.0, 2.678861788617886, 1.1698365925529066, 1.1587301587301588, 1.1501564129301356, 1.019457956914524, 1.2738853503184713, 1.9444444444444444, 1.5, 1.332142857142857, 1.00606394707828, 1.2479166666666666, 1.0, 2.0, 1.1030927835051547, 1.0, 1.056532972440945, 1.0003256798567008, 1.5317263381779511, 1.2058823529411764, 1.2017249640632486, 1.1, 1.175, 1.0006739034203902, 1.2515362556329372, 1.2542771599657827, 1.0005034171344886, 1.024104971438267, 1.1869918699186992, 1.013745704467354, 1.0167438186270636, 1.060988433228181, 3.4651162790697674, 2.0, 1.3333333333333333, 1.5315065033463822, 1.3522727272727273, 3.0, 1.388157894736842, 1.1622358554873893, 1.0473363700975642, 1.0561034825870648, 2.75, 1.0137804317868626, 1.0, 1.2727272727272727, 1.2660133843212238, 1.1533143274249749, 1.1538461538461537, 1.0637732506643047, 1.0301549003955477, 1.4839572192513368, 1.0081775700934579, 1.0376237623762377, 1.4166666666666667, 2.0, 1.2376203576341127, 1.0020893667920492, 1.2333591122461827, 1.236024844720497, 1.089705882352941, 2.504402205216819, 1.320945945945946, 2.1392722710163112, 1.2590655509065551, 1.3557046979865772, 1.2110428735281733, 1.0491360351869305, 43.0, 1.1461751611195865, 1.213103706476975, 1.3026960784313726, 1.25, 1.0106680539829238, 1.5663716814159292, 2.0, 1.5, 1.1770334928229664, 1.3947540983606557, 1.0, 1.0873937630676689, 1.086466165413534, 1.0163934426229508, 1.042933810375671, 1.1711229946524064, 1.0092313971921365, 1.0, 1.1930184804928132, 1.2906832298136646, 1.0107977357173137, 1.122734866983678, 1.5, 1.0, 1.2857142857142858, 1.044643468563211, 1.244062244062244, 1.0571010489625465, 1.1317850991721763, 1.835820895522388, 2.0, 1.0530193041888476, 1.0199934447722059, 1.1384408602150538, 1.3927068723702665, 1.3571428571428572, 2.3333333333333335, 1.0029911089179198, 1.192898272552783, 1.0410094637223974, 1.3703703703703705, 1.1098130841121496, 1.0111864227276337, 1.0168690958164643, 1.5934640522875816, 1.220472440944882, 1.0376125446182807, 1.8742857142857143, 1.0321018710335077, 1.0392532312111058, 1.2506346010766336, 1.216117216117216, 1.2222222222222223, 2.7716262975778547, 1.196583574449143, 1.9691876750700281, 1.2595871009913935, 1.1377579475738986, 1.0149936287696446, 1.1388888888888888, 1.2215799614643545, 1.3333333333333333, 1.2589285714285714, 1.116751269035533, 1.1885856079404467, 1.1150971599402093, 1.236481714619093, 1.288888888888889, 1.3290535021441698, 1.0, 1.0080539819601804, 1.0912052117263844, 1.0103426438686554, 2.3679613164872877, 2.0347938144329896, 1.054993662077952, 1.2895461997279292, 1.0480769230769231, 1.035893786918759, 2.0, 1.0666876376218937, 1.82, 1.2903225806451613, 1.1782630821605307, 1.1966731898238747, 1.103942652329749, 1.0, 2.0, 1.072314049586777, 1.144486692015209, 1.0642249544964897, 1.9333333333333333, 1.5106382978723405, 1.96, 2.0, 1.744186046511628, 1.0194805194805194, 1.467997247075017, 1.0000273013316225, 1.0, 1.35843472541927, 2.8, 1.0868055555555556, 1.1875, 1.3771929824561404, 1.0199667221297837, 1.1246334310850439, 1.0419763882815916, 1.1, 1.0939727802981205, 1.116917626217892, 1.4333333333333333, 1.0488599348534202, 1.1448972483455242, 1.160762987012987, 1.1651090342679127, 1.0067519545131485, 1.483754512635379, 1.0905046786316919, 1.1781115879828326, 1.002750821955301, 1.1764705882352942, 2.2602353721200066, 1.2818608287724784, 1.0243636175878321, 1.162162162162162, 1.1184907113292906, 1.0850340136054422, 1.023056924799547, 2.7777777777777777, 1.001936071672614, 1.2307692307692308, 1.100583201752152, 6.0638297872340425, 1.0440917107583774, 1.0253863804679058, 1.1103068191165584, 1.0140446421238178, 1.09717868338558, 1.1156023634700487, 1.3, 1.0592202664911992, 1.5940170940170941, 1.1475329149747755, 1.2365456821026284, 1.2, 3.2535211267605635, 1.059679767103348, 1.09375, 1.3381766090248643, 1.281853281853282, 1.5, 1.3023952095808384, 1.038234271810914, 1.2828096118299446, 1.287999347125311, 1.0209509671918466, 1.452991452991453, 1.0061562395821757, 1.2816626344477804, 1.005720823798627, 1.0243704839062842, 1.1350844277673546, 1.4947197400487409, 1.8203592814371257, 1.1699346405228759, 1.4734042553191489, 2.0, 1.05184603299293, 1.0144927536231885, 1.0144663186363923, 1.1978699551569507, 1.0140124855294277, 1.1817416912074044, 1.0791180285343709, 1.1221301020408163, 1.9038461538461537, 1.1356147021546261, 1.1458333333333333, 1.582629351707647, 2.0, 1.118699780861943, 1.0623229461756374, 1.0911501491547895, 1.0510510510510511, 1.163574489021915, 1.2222222222222223, 1.3205849268841394, 1.6153846153846154, 1.2916666666666667, 1.13490099009901, 1.2935420743639923, 1.244914902449149, 1.0400534045393859, 1.0775316990701607, 1.8125, 1.39433237271854, 1.03701989819528, 1.5770171149144254, 2.0, 1.2207446808510638, 1.0956521739130434, 2.0, 1.2, 1.1125140291806959, 1.0878186968838528, 1.1059322033898304, 1.2105263157894737, 1.2095036958817318, 1.2380952380952381, 1.5333333333333334, 1.0769230769230769, 1.1187551187551188, 1.0548646671543527, 1.0291666666666666, 1.2348024316109423, 1.0, 1.1296, 1.1032737090786364, 1.245311634849178, 1.0941222081026944, 1.0, 1.051883835476236, 1.5208172706245182, 1.2173913043478262, 1.4, 1.0226869165831738, 1.027833067575741, 1.55, 1.0, 2.0, 1.0281215938801849, 1.0101737791465024, 1.4845360824742269, 1.1956521739130435, 1.0983727810650887, 1.262505917176637, 1.55, 1.328788348311125, 1.0068310198362307, 1.6006825938566553, 1.0171764611966312, 1.006570094197736, 1.0028020438437448, 1.625, 1.3611111111111112, 1.0220957482423836, 1.0021451689791003, 1.0606630380999504, 1.8706896551724137, 1.104810996563574, 1.092369791376292, 1.3333333333333333, 1.1862745098039216, 1.0123595827719374, 1.5716159642757466, 1.3106382978723403, 1.4, 1.6470588235294117, 1.0204640239005984, 1.603030303030303, 1.1071428571428572, 1.2032520325203253, 1.0, 1.1479106475935452, 1.4285714285714286, 1.65, 1.0191000883019157, 1.0066133458662392, 1.8928571428571428, 2.2193308550185873, 1.0336303615125353, 2.3333333333333335, 1.0258064516129033, 1.3344594594594594, 1.1812865497076024, 1.0662907650106674, 1.4, 1.23121387283237, 1.5, 1.0228661313022602, 1.1018483591097699, 1.0345614863800976, 1.1807372175980975, 1.0, 1.0092100161885567, 1.0403587443946187, 1.2724252491694352, 2.4732186732186734, 1.1335988580900636, 1.1262651821862348, 1.0022028104823395, 1.1370364832535884, 2.149882903981265, 1.027356210729821, 2.1512461366475963, 1.2584478378452209, 1.4, 3.4285714285714284, 1.0183132530120482, 1.040983606557377, 1.0268341421638596, 1.2122559254755294, 1.0480431309904152, 1.5909090909090908, 2.2037037037037037, 1.0244565217391304, 1.25, 2.55, 1.736842105263158, 1.0074074074074073, 1.0728689275893675, 1.2, 1.1334278768233388, 1.151862464183381, 3.3, 1.025165703861356, 1.7946428571428572, 1.510204081632653, 1.25, 1.2359365938526967, 6.0, 1.6560415122312824, 1.0060540417001, 1.05, 1.2789473684210526, 1.5384615384615385, 1.3333333333333333, 1.0794392523364487, 1.4375, 1.248995983935743, 1.1948051948051948, 1.292929292929293, 1.2315886984715145, 1.092343658679135, 1.0, 1.1422668028109797, 1.5, 1.0509554140127388, 2.3333333333333335, 1.0505343712890882, 1.0387323943661972, 1.2342787338007224, 1.1786678667866786, 1.6666666666666667, 1.0, 1.0, 2.081730769230769, 1.419889502762431, 1.0150706076218685, 1.3900048995590397, 1.0176415970287838, 1.0372478013450595, 1.0318518690611713, 1.144, 1.2218323857989106, 1.00178259269482, 1.1016533986527863, 1.9244604316546763, 1.0810810810810811, 2.5649214659685864, 1.5198170731707317, 1.1739291949923845, 1.0140589324559983, 1.2, 1.0045454545454546, 1.0764727118617463, 1.7586206896551724, 1.0567836791508982, 1.2837370242214532, 1.0023691835691153, 1.1428571428571428, 1.5, 1.0116210457302082, 2.416127968337731, 1.051685393258427, 1.280494659921304, 2.742424242424242, 1.0, 1.2325581395348837, 1.2142857142857142, 1.0758865911855526, 1.0, 1.523076923076923, 1.0722222222222222, 1.3157894736842106, 1.006897645286609, 2.2329297820823246, 1.032094975849772, 1.0684852835606604, 1.0877308707124012, 1.2670807453416149, 1.007936507936508, 1.2417582417582418, 1.0804362728296528, 2.0, 1.0889830508474576, 1.0230204821666335, 2.0588235294117645, 1.4655172413793103, 1.0090361445783131, 1.0032036886391547, 1.1435768261964736, 1.0843787335722819, 1.1416834430600142, 1.2661290322580645, 1.0526089408436166, 1.1560108615156752, 1.3614457831325302, 1.6987951807228916, 1.5, 1.0, 1.5, 1.0, 1.066763549324671, 1.5162094763092269, 1.2157894736842105, 1.0387293595332139, 1.4513274336283186, 1.3333333333333333, 1.015469901994185, 1.5, 1.1884057971014492, 1.4093959731543624, 1.0774988743809095, 1.0236966824644549, 1.5698924731182795, 1.009936513219269, 1.5625, 1.2854984894259818, 1.2663414634146342, 1.2516129032258065, 1.0092936802973977, 2.3333333333333335, 1.1204588910133844, 1.6630170316301702, 1.0714285714285714, 1.095, 1.0692826486817903, 1.4069767441860466, 1.1438053097345133, 1.0016162177579184, 1.6363636363636365, 1.2299496892571766, 1.013157894736842, 1.0551724137931036, 1.0, 1.2262868410128684, 1.0872705386698767, 1.275109170305677, 1.1292897047086992, 3.0, 4.0, 1.0674040066777963, 3.0, 1.1307888040712468, 1.3060292006582404, 1.0969125214408233, 1.1987964222414575, 1.0262333556389591, 1.2262585011609333, 1.0379496341863332, 1.2980328627632491, 1.04539320328794, 1.0340073948966084, 1.1176470588235294, 1.0142121455323703, 1.5666666666666667, 1.2363852068170929, 1.5, 1.0, 1.020979020979021, 3.0, 1.48014440433213, 3.0, 1.3076923076923077, 1.293116916934294, 1.2653932966046162, 1.1099261689909763, 1.116, 1.1923076923076923, 1.1311475409836065, 1.5858895705521472, 1.0013029315960913, 1.2481203007518797, 1.1964285714285714, 1.0507910074937552, 1.060322465795229, 1.227787456445993, 1.1784164336001544, 1.5, 2.1422511312217196, 1.1573333333333333, 1.062240663900415, 1.4776119402985075, 1.0, 1.5, 1.0500686702213604, 1.9318181818181819, 1.0721269296740994, 1.5555555555555556, 1.289755679382769, 1.5714285714285714, 1.4701834862385321, 1.4375, 1.0423620522749273, 2.0, 1.0371063642369522, 1.0312845456555384, 1.3877551020408163, 1.5300261096605745, 1.3333333333333333, 1.4883312472241288, 1.0174881760359298, 3.2, 1.3520408163265305, 1.1457627118644067, 1.007380073800738, 1.2823259372609028, 1.0091230529755584, 1.172093023255814, 1.2, 1.1193421892573792, 1.0346620450606585, 1.0855814168710378, 1.303886925795053, 1.1160654347595662, 1.736842105263158, 1.2688465031789282, 1.0138827133046786, 1.0106635071090047, 1.1706864564007422, 1.462962962962963, 1.1847389558232932, 1.1406807071709486, 1.2083333333333333, 1.0833333333333333, 2.0604026845637584, 1.0606060606060606, 1.0549185906497043, 1.2573485302939411, 1.0, 1.3043478260869565, 2.8260869565217392, 1.3634408602150538, 2.0898569361838932, 1.1141219875971426]
origin-bjaq_15.71 	max: 43.0000	99th: 3.7525	95th: 2.4216	median: 1.1757	mean: 1.3972

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 11.945379 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=7', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[7.4476004e-04 5.9604645e-08 0.0000000e+00 2.9802322e-07 5.3644180e-07]
Distance score: 0.00014913082122802734
SAUCE Drift detection: True
Detection latency: 0.0352s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.6279 bits (loss 19.152, data 18.524) 0.00300 lr
epoch 10 train loss 12.4994 nats / 18.0329 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.5141 bits (loss 18.010, data 18.524) 0.00256 lr
epoch 20 train loss 12.2134 nats / 17.6202 bits
time since start: 8.7 secs
Epoch 20 Iter 0, train entropy gap -0.9319 bits (loss 17.592, data 18.524) 0.00150 lr
epoch 30 train loss 12.0854 nats / 17.4355 bits
time since start: 12.8 secs
Epoch 30 Iter 0, train entropy gap -1.1482 bits (loss 17.376, data 18.524) 0.00044 lr
epoch 40 train loss 12.0749 nats / 17.4204 bits
time since start: 17.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.9597 nats / 31.6811 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.082431 | Model-update-time: 19.484793


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=7', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:7
origin-bjaq_15.71 	max: 14.2857	99th: 3.3150	95th: 2.2900	median: 1.1782	mean: 1.3660
ReportEsts: [1.6, 1.0283865908645364, 1.0002342333670244, 1.1214316148274392, 1.4727509819824118, 1.244359301830566, 1.0160017740843623, 1.9949950500494995, 1.0, 2.7207890743550833, 1.0321396822502336, 1.0595813204508857, 1.09375, 1.0146213277249931, 3.0, 1.109043644821453, 1.925, 1.1116456203648026, 1.2, 1.4623690060336614, 1.2416659951110753, 2.202020202020202, 1.625, 2.201302545885139, 1.0311572700296736, 1.0052838726232511, 2.3665158371040724, 1.0, 1.0462978254885769, 1.3076923076923077, 1.1008498583569406, 1.2164948453608246, 1.0527360795950427, 1.2357482185273159, 2.0965517241379312, 1.0078889453191129, 1.05, 1.2727272727272727, 1.026676124961498, 2.707317073170732, 1.3014256619144602, 1.1328492671776254, 1.5, 1.0422535211267605, 1.0311783997484163, 1.1053261520047875, 2.0, 1.0665914221218962, 1.1721828403813248, 1.2682724252491695, 1.3235294117647058, 1.2313432835820894, 2.242344075677409, 2.6666666666666665, 1.04077794823576, 1.0161231145536078, 1.0207341159571466, 1.01921596079804, 1.040390976168264, 1.5, 1.1915584415584415, 1.2292781266961308, 1.0290456431535269, 1.2407407407407407, 1.2, 1.0781032078103208, 1.1158878504672898, 1.1842793987621574, 1.0558913883658705, 1.0, 1.264095497106978, 1.2570621468926553, 1.0, 1.083415709831952, 1.0920810313075506, 1.0866204885162232, 1.0793650793650793, 1.1751824817518248, 1.5960912052117264, 1.0182291666666667, 1.2365267621213052, 1.4953987730061349, 1.0329801426445688, 1.3392142698377416, 1.084481725584182, 1.1811002895498814, 1.1573849878934626, 1.0219503730695818, 1.375, 1.2635658914728682, 1.16218487394958, 1.036083856093507, 2.2244897959183674, 1.2391304347826086, 1.1618357487922706, 1.2295081967213115, 1.0059701492537314, 1.016971713810316, 1.4407894736842106, 1.1015497841624797, 2.6175115207373274, 1.5672544080604534, 1.0, 1.0638485196634648, 1.7073820395738204, 1.2265653487797006, 1.0093632958801497, 1.0847736625514404, 2.0356914993432165, 1.035390435606855, 1.1475630899633982, 1.0, 1.1382636655948553, 1.3407643312101911, 1.4095238095238096, 1.5, 1.4074074074074074, 1.0680497925311203, 1.4413599500935745, 1.2883617494440327, 1.0920502092050208, 2.0, 1.2233676975945018, 2.0, 1.0783941085639626, 1.0965746907706946, 3.0, 2.1401766641648865, 1.0195125489627157, 1.1081677704194262, 3.314814814814815, 1.0241691842900302, 14.285714285714286, 1.011958825310324, 1.5, 1.375, 1.1792207792207792, 1.9842307692307692, 1.0108465687297, 1.0590192965315095, 2.667692307692308, 1.0022377622377623, 2.0, 3.5, 1.2734076481030177, 2.0, 1.0866666666666667, 1.0974729241877257, 1.0638559738134206, 1.3910906298003072, 2.2, 1.0247345832392138, 1.0363636363636364, 2.0, 1.2531203335869046, 1.3314917127071824, 1.0416809019473865, 1.375, 1.0096887875145126, 1.1776045050898851, 1.5309644259994144, 1.3478260869565217, 1.6603773584905661, 1.0, 1.4095940959409594, 1.024010681387234, 1.0445089501693274, 1.1666666666666667, 1.02123583465922, 1.0, 1.082077051926298, 2.0, 1.1116071428571428, 1.5591133004926108, 1.1875, 1.0289119490393506, 1.5185185185185186, 1.0067416228682944, 1.2142857142857142, 1.0841786161956493, 1.1787451361867705, 1.0498129406328718, 1.051948051948052, 1.0, 2.0, 1.3333333333333333, 1.073632918245804, 1.0410501404463317, 1.4583333333333333, 1.068025129745971, 1.2877871576296724, 1.4894613583138174, 1.0153392685274303, 1.045389212497163, 1.1181229773462784, 1.1896551724137931, 1.1538461538461537, 1.0, 1.0101031814273431, 2.0, 1.411764705882353, 2.4242424242424243, 1.2, 1.375, 1.3903743315508021, 1.0100761719026017, 1.1111111111111112, 1.1490701104356271, 1.180205726994718, 1.0151409254293375, 1.3810020876826723, 1.4543147208121827, 1.1940639269406392, 1.0783132530120483, 1.2315653298835705, 1.1483050847457628, 1.2524821286735504, 1.6666666666666667, 1.091123330714847, 1.3414337788578372, 3.6666666666666665, 1.0497866287339972, 1.0829875518672198, 1.045218680504077, 2.0, 1.476510067114094, 1.228578724160135, 1.0676802354095145, 1.9896907216494846, 2.0, 1.0159230838370448, 1.027027027027027, 1.0775240384615385, 1.330091604969256, 1.1478259620632534, 1.7352941176470589, 1.9900027019724398, 1.1274509803921569, 1.0362219165520403, 1.1765907522429262, 1.027364081422314, 1.0114122681883024, 1.3, 1.0032928524855678, 1.2104245674939742, 1.2729970326409497, 1.1611015490533563, 1.0118507312153302, 1.048400866881198, 1.1086261980830672, 1.722543352601156, 2.3862815884476536, 1.244122965641953, 1.061039567971752, 1.078740157480315, 1.1567164179104477, 1.0, 1.0018020541549952, 1.4054659498207884, 1.0000853275414032, 1.2889983579638753, 1.219298245614035, 1.446225478971071, 1.7636363636363637, 1.1881720430107527, 1.061562936894374, 1.0450901803607215, 1.0033453054869907, 1.0730593607305936, 2.111111111111111, 1.0864508086328373, 1.1117999865220027, 1.572192513368984, 1.0131402919404227, 1.3898305084745763, 1.013732833957553, 1.1578947368421053, 1.5888888888888888, 1.5, 2.0660377358490565, 1.0505395000409559, 1.0947368421052632, 2.1176470588235294, 1.188235294117647, 1.2676614200637872, 1.0555555555555556, 1.2470784641068446, 1.035113498821481, 1.0, 1.2788671023965141, 1.1524064171122994, 1.4457831325301205, 1.0597758405977584, 1.1245159232766868, 1.009806418746816, 2.689655172413793, 1.096774193548387, 1.2215088282504012, 1.252751361076711, 1.064244741873805, 1.328, 1.0609456640141794, 1.2311974085034687, 1.0536130536130537, 1.6153846153846154, 1.5833333333333333, 1.5217391304347827, 1.0347322720694645, 1.3683492496589358, 1.3006993006993006, 1.101931330472103, 1.3159420289855073, 1.2165932452276065, 1.1274131274131274, 1.030706243602866, 1.0694982519134462, 1.0043383947939262, 1.1044068527098374, 1.0542603724410442, 1.1139415215206205, 1.1239337808509564, 1.0985961475677442, 1.045275590551181, 1.0491708257744858, 1.0245469522240527, 1.2734787600459243, 1.0192496321726336, 1.548, 2.0, 1.0588090075778718, 1.0331977724334647, 2.3547008547008548, 1.0, 1.0925312261024727, 1.608, 1.34, 1.0097719421769455, 1.4785767977950388, 4.0, 1.3333333333333333, 1.0790697674418606, 1.4108322324966975, 1.0590647271307234, 1.0505836575875487, 1.0740168637197742, 2.4, 1.5434782608695652, 4.4, 1.0186915887850467, 1.0161283464040773, 1.2083333333333333, 1.0475462797631405, 1.0500999647183347, 1.1116071428571428, 1.4458357265939115, 1.5, 1.8172757475083057, 1.0449735449735449, 1.1163190096246736, 1.1148409893992932, 1.3333333333333333, 1.1385542168674698, 2.2, 1.1990336368704702, 1.1428571428571428, 1.9833333333333334, 1.3333333333333333, 1.4195595677745863, 1.1097941359950094, 1.2671480144404332, 1.537037037037037, 1.2655737704918033, 1.0004234596654669, 1.0802213001383125, 1.283805155780484, 1.0046468580683725, 1.0, 2.0, 1.007688181655641, 1.0661401776900297, 1.9241379310344828, 1.023629750941149, 1.2589331134772923, 1.1970649895178198, 1.3294638465322184, 1.4814189189189189, 1.1683168316831682, 3.210526315789474, 1.275, 1.0, 2.684065934065934, 1.303971334726784, 2.0555555555555554, 1.0424870466321243, 1.2256783587028457, 1.2380952380952381, 1.2, 1.5, 1.947780678851175, 1.0238864942528736, 1.5639686684073106, 3.0, 2.0, 1.108910891089109, 1.0, 1.1467415480427046, 1.2006375398462403, 1.2996982903117666, 1.1884057971014492, 1.0603406326034064, 1.375, 1.4857142857142858, 1.007785251815561, 1.7816091954022988, 1.4988499872220802, 1.040717130267561, 1.0810477235326386, 1.1190597853857946, 1.0850202429149798, 1.0013172863900366, 1.065326633165829, 1.2227722772277227, 1.2835294117647058, 2.761904761904762, 2.1147540983606556, 1.2, 1.0307797537619698, 1.8505154639175259, 1.1801242236024845, 1.2350103376981392, 1.0203191289656468, 1.037632455343627, 1.3333333333333333, 1.0646571560055222, 1.0, 1.0769230769230769, 1.445920303605313, 1.2382593008812919, 1.4444444444444444, 1.1690476190476191, 1.0248372307062994, 1.1945945945945946, 1.2118924020764512, 1.2388510959939532, 1.5, 2.0, 1.2390623186723917, 1.0080701889771726, 1.2499650640694586, 1.2507552870090635, 1.163265306122449, 2.016277777777778, 1.1531531531531531, 2.3110516934046346, 2.4170013386880855, 1.422077922077922, 1.2609198442991572, 1.0233574893693478, 7.166666666666667, 1.0583585996009226, 1.3243685114035806, 1.2886836027713626, 1.25, 1.556420233463035, 1.477495107632094, 1.6237113402061856, 1.147186147186147, 1.8993153443415223, 1.000261844618323, 1.0218652387327085, 1.0, 1.8478260869565217, 2.4074074074074074, 1.0053194882691543, 1.2987012987012987, 1.4313725490196079, 1.036507086199767, 1.4766839378238341, 1.2853982300884956, 1.5357941834451903, 1.0381302933924168, 1.0850246187102197, 1.75, 1.8571428571428572, 1.1111111111111112, 1.0047227409854906, 1.8571428571428572, 1.0278727877494664, 1.0149309844782213, 1.651006711409396, 2.0, 1.1911116552399608, 1.0868771338432948, 1.078880407124682, 1.3503355704697986, 1.2857142857142858, 1.0, 1.0194300732243509, 1.02934179222839, 1.0155778894472363, 1.009009009009009, 1.6088888888888888, 1.0523364720968533, 1.1413947536788227, 1.236280487804878, 1.1389521640091116, 1.0503864459696781, 1.64, 1.0182297913168625, 1.0702678963548529, 1.2530956570357337, 1.1848137535816619, 1.0, 2.912621359223301, 1.3537267641219997, 2.1370967741935485, 1.2689416111802152, 1.0249639942390782, 1.0117823103573789, 1.1627906976744187, 1.169741697416974, 4.0, 2.4, 1.1081081081081081, 1.1462450592885376, 1.7070938215102975, 1.2474452247781656, 1.1687657430730478, 1.2545458567446799, 1.8888888888888888, 1.014993245552644, 1.6538461538461537, 1.0005423973964924, 1.973249374776706, 1.1791237113402062, 1.037059929216128, 1.2803463203463203, 1.1774193548387097, 1.0107060365815594, 2.0, 1.0202645651562061, 1.0888888888888888, 1.8409090909090908, 1.22229807219704, 1.112271540469974, 1.053156146179402, 1.0, 2.272727272727273, 1.2597087378640777, 1.1935120522640235, 1.0, 2.098779514086917, 1.0464150721685828, 1.0, 2.0, 1.8072289156626506, 1.0458715596330275, 1.1227854330708662, 1.0337406369564046, 1.0, 1.2057793345008756, 2.3333333333333335, 1.112436115843271, 1.3571428571428572, 1.4444444444444444, 1.2077922077922079, 1.2445550715619167, 1.0057110495096724, 1.5833333333333333, 1.0244596131968147, 1.0875411635565313, 1.02208150006168, 1.0528255528255528, 1.3333333333333333, 1.0146580117033863, 1.089975349219392, 1.0, 1.3378171292354843, 1.1293300197798855, 1.1559792027729636, 1.0076882440303143, 1.1428571428571428, 2.0889918322564913, 1.127177127834374, 1.0329074911766167, 1.4827586206896552, 1.0156519340826036, 1.1862433862433863, 1.0214745005644725, 2.0833333333333335, 1.005419817299707, 1.1, 1.1294241134082628, 2.2222222222222223, 1.109404990403071, 1.0470920677709596, 1.238813933988871, 1.0098822451206793, 1.0626326963906583, 1.060355797300332, 1.5757575757575757, 1.0590350922262755, 1.2651646447140381, 1.2407971566387408, 1.0357142857142858, 1.2, 2.740740740740741, 1.176388888888889, 2.0609987519874173, 1.2854821235102925, 1.2608695652173914, 1.5, 1.1568627450980393, 1.249840662842575, 1.0388349514563107, 1.343534519451775, 1.0136860862967625, 2.1538461538461537, 1.0052818163040775, 1.1980273554574683, 1.2163177670424048, 1.0669967438333556, 1.0314465408805031, 1.3907930107526882, 1.0232558139534884, 1.217687074829932, 2.327731092436975, 1.5, 1.2132132132132132, 1.3693230505569838, 1.0042578710644678, 1.2773460848774656, 1.029785327866028, 1.3315721315721316, 2.1242937853107344, 1.0020950296011204, 1.3368055555555556, 1.089121887287025, 1.0727272727272728, 1.4253827367978782, 1.0, 1.3243432574430822, 1.0764760269449214, 1.1226515420063807, 2.1666666666666665, 1.504950495049505, 2.0555555555555554, 1.109640831758034, 1.6470588235294117, 1.2465753424657535, 1.2494802494802495, 1.521288837744534, 1.0655626900980062, 1.220959595959596, 1.0401234069359866, 1.0820895522388059, 1.7846410684474123, 1.0, 1.3705278959219414, 2.0, 1.0890688259109311, 1.3756613756613756, 2.0, 1.126984126984127, 1.1004347505710708, 1.3333333333333333, 1.0, 1.2566844919786095, 1.043704315380616, 1.4761904761904763, 1.1875, 1.0, 1.1655290102389078, 1.2863514719000892, 1.0482115085536547, 1.200705309412522, 1.0, 1.1722912966252221, 1.0703690927906175, 1.2567377150076122, 1.078735363948132, 2.0, 1.0414134130009272, 1.578, 1.2608695652173914, 2.0, 1.0196465292058023, 1.0225522465628298, 1.391304347826087, 1.1666666666666667, 1.0, 1.0000745052386495, 1.001107063443251, 1.013793103448276, 1.9583333333333333, 1.5933476394849786, 1.2356785673946749, 1.4761904761904763, 1.0821513002364067, 1.1058889756904553, 1.6542372881355931, 1.050693154017887, 1.0153305653145959, 1.0451772464962903, 1.1142857142857143, 2.227272727272727, 1.0384178959312693, 1.066023489932886, 1.0496197365980338, 2.3544303797468356, 1.1200585651537336, 1.0154598465915852, 2.174230384366355, 1.1704334938866248, 1.1710794297352343, 1.6363636363636365, 1.4528907922912206, 1.024390243902439, 1.2237186807281522, 1.097841726618705, 1.255038259943381, 1.1111111111111112, 1.7472527472527473, 1.0, 1.0436261959304676, 1.5714285714285714, 3.9, 1.058547949901288, 1.0514081321516526, 1.4428571428571428, 1.088422971741112, 1.037560257686986, 1.8571428571428572, 1.0303030303030303, 1.1164556962025316, 1.5661764705882353, 1.0602516597190057, 2.3333333333333335, 1.3040816326530613, 1.6848249027237354, 1.0455030216850338, 1.0718931872646353, 1.016213979384546, 1.1871444823663253, 1.0, 1.0035897205246558, 1.024340770791075, 1.021511473466969, 2.153328443850037, 1.2008633514620881, 1.0475615644616127, 1.1376674611654476, 1.2144684100019087, 1.8506616257088846, 1.0136608467122896, 2.0990291262135923, 1.1713196033562165, 1.2, 2.6666666666666665, 1.103887247101614, 1.5118110236220472, 1.2467741935483871, 1.239014580780573, 1.0560984299055907, 1.0416666666666667, 1.4210526315789473, 1.256544502617801, 1.25, 1.7, 1.6206896551724137, 1.0085578002244668, 1.0975313638203157, 3.3333333333333335, 1.0161586766733037, 1.4197952218430034, 3.3, 1.0147542208277305, 1.3173076923076923, 1.0818713450292399, 1.2, 1.266039603960396, 6.0, 1.1081349206349207, 1.0032588509585623, 1.328358208955224, 1.0315500685871055, 1.5714285714285714, 1.3333333333333333, 1.6554054054054055, 1.3529411764705883, 1.056910569105691, 1.2321428571428572, 1.1557562076749435, 1.6543739279588336, 1.0251928020565553, 1.0, 1.1193026560279813, 1.0, 1.1241830065359477, 2.0, 1.1250313833793624, 1.3491379310344827, 1.3953167217051936, 1.2238425082026978, 1.5, 1.1428571428571428, 1.0, 1.4129554655870444, 1.6369426751592357, 1.0120143454871489, 1.0283882783882783, 1.0280909374026783, 1.0763888888888888, 1.0690987716796245, 1.639908256880734, 1.2155090605088346, 1.0194554562625515, 1.2228692429857067, 1.1278162911611784, 3.0, 1.5908096280087527, 1.625, 1.2509505703422052, 1.307066102246825, 1.0, 1.0134824252326846, 1.0550747442958301, 1.6472491909385114, 1.1811051071988845, 1.25, 1.1111111111111112, 1.0343676081814388, 1.0, 2.849673202614379, 1.1004201153749686, 2.0516171338907236, 1.1213483146067416, 1.0764944275582573, 2.2888888888888888, 1.0, 1.3962264150943395, 1.5454545454545454, 1.0098317508167622, 1.0, 1.3872340425531915, 1.0556407539594022, 1.65625, 1.0680030257186082, 2.0514230271668823, 1.0591721209977003, 1.0111294311624073, 1.2526385224274406, 1.36, 1.375, 1.5192982456140351, 1.0223631163640123, 2.0, 1.247104247104247, 1.0084060252867613, 1.0571428571428572, 1.0925925925925926, 1.0842696629213484, 1.0063846576197348, 1.0832383124287344, 1.0290295759591401, 1.1404424153486603, 2.1272727272727274, 1.078068895870736, 1.0693711967545638, 2.0163934426229506, 1.1025641025641026, 2.0, 1.25, 1.7846410684474123, 1.3580316742081449, 1.0625809894046803, 1.0235690235690236, 1.0588235294117647, 1.02033293214022, 1.36056338028169, 1.2857142857142858, 1.0285027483332232, 2.0, 1.10828025477707, 1.0077220077220077, 1.0336426607445008, 1.114630467571644, 1.3831578947368421, 1.0017264599690527, 1.2658227848101267, 1.4569423043999314, 1.4584269662921348, 1.086021505376344, 1.4850389741010812, 3.0, 1.1402550091074681, 1.1705948372615038, 1.0714285714285714, 1.0229885057471264, 1.0023501762632196, 1.34375, 1.46875, 1.0056438662229152, 1.3846153846153846, 1.2686697782963827, 1.0880503144654088, 1.0132450331125828, 1.0, 1.2554272762687255, 1.126917457998539, 1.1170212765957446, 1.2369020501138952, 2.0, 3.0, 1.0451688923802043, 3.0, 1.243076923076923, 1.2240836150034458, 1.476905311778291, 1.122750737463127, 1.0767735854556761, 1.3106233939948608, 1.0804971629289382, 1.291041340576374, 1.0299809822127755, 1.1062968306417833, 1.1818181818181819, 1.0137689841650206, 1.0317460317460319, 1.1768103156447791, 1.0909090909090908, 1.0, 1.975, 3.0, 1.118103448275862, 1.5, 1.3076923076923077, 1.1905383447430808, 1.3473744056233203, 1.0596078431372549, 1.6256983240223464, 2.1538461538461537, 1.476923076923077, 1.121875, 1.0820256089342448, 1.0840664711632453, 1.0200892857142858, 1.1905476369092274, 1.0532468410027704, 1.1610378912685337, 1.175129832660127, 3.0, 1.743737574552684, 1.5121951219512195, 1.4375, 2.4146341463414633, 1.0, 1.5, 1.0324715327596827, 2.236842105263158, 1.0581308954645303, 2.3333333333333335, 1.0458500669344042, 1.3333333333333333, 1.2277227722772277, 1.2087715816630284, 1.232480359147026, 1.0, 1.0271323423293404, 2.1818181818181817, 1.25, 1.0371987506468545, 1.454329774614472, 1.5, 1.4590057661469173, 1.0125304436835976, 3.2, 1.0754716981132075, 1.120318196884322, 1.2202797202797202, 1.0294117647058822, 1.0015372965032192, 1.0483333333333333, 1.311881188118812, 1.0068104758564247, 1.1117898594990836, 1.0156826364499811, 1.3820224719101124, 1.0071241551482677, 1.5348837209302326, 1.0620220900594732, 1.050513153238174, 1.0230061349693251, 1.2806420233463034, 1.237597911227154, 1.088135593220339, 1.0577264220034177, 1.271604938271605, 1.1818181818181819, 1.9]
origin-bjaq_15.71 	max: 14.2857	99th: 3.3150	95th: 2.2900	median: 1.1782	mean: 1.3660

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 12.077121 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=7', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[ 6.3312054e-04  1.1920929e-07 -5.9604645e-08  2.3841858e-07
  4.1723251e-07]
Distance score: 0.00012676716141868383
SAUCE Drift detection: True
Detection latency: 0.0362s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.6791 bits (loss 19.129, data 18.450) 0.00300 lr
epoch 10 train loss 12.4671 nats / 17.9863 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.5236 bits (loss 17.926, data 18.450) 0.00256 lr
epoch 20 train loss 12.1775 nats / 17.5683 bits
time since start: 8.9 secs
Epoch 20 Iter 0, train entropy gap -0.8798 bits (loss 17.570, data 18.450) 0.00150 lr
epoch 30 train loss 12.0427 nats / 17.3740 bits
time since start: 13.2 secs
Epoch 30 Iter 0, train entropy gap -1.0764 bits (loss 17.373, data 18.450) 0.00044 lr
epoch 40 train loss 12.0306 nats / 17.3565 bits
time since start: 17.4 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.7879 nats / 31.4332 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.088352 | Model-update-time: 19.879599


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=7', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:7
origin-bjaq_15.71 	max: 7.0000	99th: 3.8191	95th: 2.3333	median: 1.1813	mean: 1.3652
ReportEsts: [2.0, 1.0802440168934773, 1.0108454415932309, 1.0277078085642317, 1.3862078346028293, 1.1694752968211413, 1.0260755480238342, 1.8630645493916271, 2.0, 3.2481884057971016, 1.0189614443600776, 1.1753635585970916, 1.2867132867132867, 1.0144072745474264, 3.0, 1.0530007794232268, 1.434782608695652, 1.1631944444444444, 1.2, 1.32950423216445, 1.1637018497039253, 1.328502415458937, 1.75, 1.5046539862403885, 1.13946587537092, 1.0059365361782553, 1.594890510948905, 1.25, 1.0224642671190312, 1.1764705882352942, 1.096757591353577, 1.710144927536232, 1.1075116293623146, 1.1088059013370217, 1.625668449197861, 1.0202423943677064, 1.1428571428571428, 2.142857142857143, 1.0239694132640558, 3.0, 1.1546793760831888, 1.1846865014115968, 3.0, 1.290909090909091, 1.0537295852492807, 1.1660851360781577, 2.0, 1.136919315403423, 1.161768272516812, 1.1893764434180139, 1.0227272727272727, 1.0767172167707404, 1.8454788953542072, 4.5, 1.0805032636458234, 1.0340278444551128, 1.02999435458138, 1.0174821727843317, 1.0340560900876286, 1.0666666666666667, 1.0062597809076683, 1.0547670357434793, 1.0805434255215915, 1.0144927536231885, 1.2345679012345678, 1.0546372819100092, 1.5192307692307692, 1.059023939673839, 1.0248447204968945, 1.1111111111111112, 1.3905710384708057, 1.2092391304347827, 1.0, 1.0034896986779411, 1.167808219178082, 1.0225751342305278, 1.1345029239766082, 1.1458333333333333, 1.4714714714714714, 1.3359375, 1.2374392718774982, 1.2840774397471355, 1.0342502829585158, 1.228645713848742, 1.0831268582755202, 1.0762309422644338, 1.1412037037037037, 1.0725124647734663, 1.375, 1.1729323308270676, 1.0995594713656387, 1.0163725590780068, 1.1704545454545454, 1.0363636363636364, 1.1828571428571428, 1.3439490445859872, 1.2861296888630416, 1.1027875569919778, 2.5, 1.0042466765140325, 1.8080985915492958, 1.884312537855845, 1.0, 1.0487073824401096, 1.4815915469704475, 1.2228188199899717, 1.330373001776199, 1.2099202834366696, 1.8066469148525055, 1.0120380859796085, 1.0709531987977672, 4.0, 1.3033509700176367, 1.5253731343283583, 1.051776649746193, 1.5, 1.2179487179487178, 1.2865384615384616, 1.546435272045028, 1.0866743031691486, 1.0234933605720122, 2.0, 1.231270358306189, 2.0, 1.0249487354750513, 1.13669391462307, 2.5, 1.777592199702072, 1.0940906881466566, 1.4802494802494803, 1.626086956521739, 1.4310344827586208, 1.2658227848101267, 1.1409489355781273, 1.0, 1.3, 1.1638044914134742, 1.847429999637773, 1.0124197512288093, 1.0460977515409324, 3.027713625866051, 1.1020036429872495, 2.0, 2.112781954887218, 1.251298994064909, 1.75, 1.0974025974025974, 1.1183673469387756, 1.0720953252057988, 1.2237837837837837, 2.4, 1.0988584342585617, 2.0, 2.0, 1.3205610926541158, 1.3029625489100056, 1.0535033957263542, 1.2941176470588236, 1.0002759838825412, 1.2324525185796862, 1.2170805116629044, 1.3497363796133568, 1.1612903225806452, 1.341211225997046, 1.2204688849040313, 1.875, 1.0169351777931919, 1.8824921135646688, 1.0555555555555556, 1.5745341614906831, 1.0, 1.065217391304348, 1.6346153846153846, 1.118582312023849, 1.5221932114882506, 1.3530863048133321, 1.010023130300694, 1.5873015873015872, 1.3659003831417624, 1.0433485562757807, 1.074935400516796, 1.2527110457119095, 1.4916446789797713, 2.1923076923076925, 1.1893629456458212, 1.099041533546326, 1.0328125, 1.0281525378612757, 1.3472222222222223, 1.082700780296194, 1.2757795726408343, 1.4164810690423162, 1.0117213897886421, 1.0810358605533912, 1.3909287257019438, 1.140625, 1.3333333333333333, 1.0, 1.5002105424338705, 1.2142857142857142, 1.263157894736842, 1.3114754098360655, 1.1578947368421053, 1.5714285714285714, 2.5619047619047617, 1.0587129409218783, 1.4285714285714286, 1.1340385007822598, 1.1919873268945782, 1.0327449102793622, 1.0545454545454545, 1.3233256351039262, 1.2015915119363396, 1.0919540229885059, 1.4223871366728509, 1.4880952380952381, 1.2296520128667512, 2.0, 1.2463867859600826, 1.2371244635193133, 2.7, 1.0852941176470587, 1.2093023255813953, 1.318544809228039, 2.0, 1.5787671232876712, 1.1800780583518171, 1.001605458559101, 1.0903954802259888, 2.0, 1.0030970266926504, 1.7727272727272727, 1.6496694995278565, 1.215852714289811, 1.101489016003027, 1.2916666666666667, 1.838064829596724, 1.0898345153664302, 1.3848413631022327, 1.1416709077759624, 1.0366494658141623, 1.6271676300578035, 1.1263736263736264, 1.0081254632877312, 1.223387183942929, 1.0238927738927739, 1.0139323286892237, 1.118437900128041, 1.0594794301690853, 6.087719298245614, 1.6238143289606457, 1.3517382413087935, 1.0392441860465116, 1.052083390226718, 1.1336760925449871, 1.2641509433962264, 1.6666666666666667, 1.0065135766803188, 1.3463519313304722, 1.0041165451826235, 1.1954612005856515, 1.1428571428571428, 1.0579489945906353, 1.3488372093023255, 1.1741293532338308, 1.0031336579067702, 1.1402497598463017, 1.0220414400215272, 1.103409090909091, 1.8, 1.0732842105263158, 1.0770483588073165, 1.3755656108597285, 1.015407102395523, 1.4948805460750854, 1.2826086956521738, 1.0144308181514374, 1.7613049455653402, 1.1506410256410255, 1.1976149914821124, 1.2794117647058822, 1.2307377049180328, 1.3269447576099211, 1.7647058823529411, 1.9055658425008168, 1.2735219982634058, 1.5263157894736843, 1.0966850828729282, 1.018372362247903, 1.3571428571428572, 2.15018315018315, 1.1285377358490567, 1.535294117647059, 1.4846765039727583, 1.0687097242079526, 1.178743961352657, 1.1690140845070423, 1.2647058823529411, 1.1214035087719298, 1.1536094674556212, 1.0448364571848585, 1.0579268292682926, 1.0787196142289077, 1.2186484575098437, 1.486842105263158, 2.1923076923076925, 1.3333333333333333, 2.2941176470588234, 1.0491048082403474, 1.2826086956521738, 1.075268817204301, 1.1129533678756476, 1.8725361366622864, 1.3239267658735825, 1.023715415019763, 1.0059066068915867, 1.073309721654634, 1.0778504994832931, 1.1784463894967177, 1.0130358606722067, 1.0492031786632945, 1.0609038029191002, 1.1966571834992887, 1.1716171617161717, 1.0378152929493545, 1.0268106488370672, 1.1915417778690207, 1.1742587754174714, 1.108991825613079, 1.5, 1.0621221297256238, 1.0243428239662036, 1.6289517470881865, 1.0, 1.0696945967110416, 1.232248520710059, 1.0192307692307692, 1.0149732338975916, 1.4820310851677334, 1.25, 1.0909090909090908, 1.1100478468899522, 1.0596129837702872, 1.0072491771384406, 1.1277372262773722, 1.0225224748250192, 2.4523809523809526, 1.2258064516129032, 4.4, 1.0892857142857142, 1.0240242148373644, 1.368421052631579, 1.0015559654196173, 1.0154668486295917, 1.4791666666666667, 1.3363939057612753, 1.5, 1.4208695652173913, 1.1826347305389222, 1.1364133406232915, 1.231330713082538, 1.0, 1.0677966101694916, 1.2777777777777777, 1.2429840142095914, 1.7777777777777777, 3.0, 1.25, 1.398061229303269, 1.0448318804483188, 1.4019607843137254, 1.5, 2.4533898305084745, 1.1372717616711345, 1.3157415832575068, 1.5189932634730539, 1.0265474561551486, 2.0, 1.0, 1.0551642196384623, 1.169435215946844, 1.5357798165137615, 1.0104223145972648, 1.2473148180332998, 1.2344139650872819, 1.0657678905939105, 1.5604982206405693, 1.2164948453608246, 3.588235294117647, 1.0784313725490196, 1.0, 2.222916666666667, 1.3549488054607508, 1.6585365853658536, 1.0797720797720798, 1.1432706222865412, 1.0325581395348837, 1.037887067395264, 1.2435129740518962, 2.111111111111111, 1.1542738012508686, 1.4399038461538463, 1.0, 2.0, 1.542857142857143, 1.0, 1.0095621810367983, 1.0844711177794448, 1.044239338001273, 1.1219512195121952, 1.425055928411633, 1.2276422764227641, 1.0759075907590758, 1.6608505997818974, 1.1579892280071813, 1.2282722513089006, 1.0000695555400987, 1.022477693891558, 1.4484126984126984, 1.1841004184100419, 1.0558294164851543, 1.0541871921182266, 1.1348314606741574, 1.1557203389830508, 3.2222222222222223, 1.449438202247191, 1.2, 1.0031605562579013, 1.1204819277108433, 1.118421052631579, 1.3593637020968907, 1.0193523388560808, 1.0585506619052771, 2.5, 1.1975766567754698, 1.0, 1.75, 1.2340184801056007, 1.2355918198719273, 1.0, 1.2619227857683573, 1.020299034781294, 1.6275659824046922, 1.1569314641744548, 1.2335502530730296, 1.5833333333333333, 2.0, 1.1941894411030214, 1.00136215960111, 1.230327604147978, 1.044378698224852, 1.2247933884297522, 1.837048230701423, 1.008445945945946, 1.9792674498963372, 1.4750816993464053, 1.050314465408805, 1.263632300921823, 1.0726435369972367, 2.15, 1.0809900156083543, 1.29587266037434, 1.0447110141766631, 1.5, 1.1452991452991452, 1.0878962536023056, 1.242603550295858, 1.0956719817767653, 1.6374799786438867, 1.1061583318607529, 1.0197897268777156, 1.205128205128205, 2.073170731707317, 2.0422535211267605, 1.0112722740087465, 1.611764705882353, 1.2732558139534884, 1.0011152432488728, 1.1240601503759398, 1.0069324090121317, 1.2014242115971516, 1.0037895700955979, 1.0409498561678605, 3.0, 1.5714285714285714, 1.2857142857142858, 1.0039766122009497, 1.4642857142857142, 1.0667751710068403, 1.0466444309682637, 1.2, 2.0, 1.0545548922917207, 1.0460330270672957, 2.002421307506053, 1.458762886597938, 1.0769230769230769, 1.3333333333333333, 1.0182418290130413, 1.1322985957132299, 1.0121713729308666, 1.3089622641509433, 1.0930232558139534, 1.000299282918128, 1.155500921942225, 1.2037252619324796, 1.0583501006036218, 1.0046428891989587, 1.2148148148148148, 1.0469983549395105, 1.0987394957983194, 1.2312092031280295, 1.0122783083219646, 1.8333333333333333, 2.2769516728624537, 1.0946254603085817, 2.261006289308176, 1.2510798308340172, 1.129113924050633, 1.0418579619823398, 1.6071428571428572, 2.5772357723577235, 2.0, 2.58, 1.1090225563909775, 1.4119850187265917, 1.9840425531914894, 1.2238397957473146, 1.154228855721393, 1.307094456052647, 1.0, 1.003873506956121, 1.646341463414634, 1.0042925355681154, 1.7320866312951204, 1.1901840490797546, 1.0434363403607136, 1.2428004751126152, 1.2335164835164836, 1.0301200624682934, 2.0, 1.2222505091649694, 1.3291139240506329, 1.4385964912280702, 1.2580708624533923, 1.0462382445141065, 1.1131498470948011, 1.0, 2.727272727272727, 1.4786324786324787, 1.0713382698212028, 2.3333333333333335, 1.8361256741031768, 1.085536575310545, 1.0, 2.0, 1.7241379310344827, 1.3715415019762847, 1.0957202024850436, 1.0212379158235847, 1.0, 1.7357142857142858, 2.3333333333333335, 1.2578849721706864, 1.7272727272727273, 2.35, 1.1557496360989812, 1.0760095011876485, 1.0427946404156412, 1.1428571428571428, 1.203167667941016, 1.1039168665067947, 1.0320445791584492, 1.26644370122631, 1.2375478927203065, 1.034763766251608, 1.016515926071569, 1.1914893617021276, 1.2973910171730516, 1.0809976342275152, 1.1909448818897639, 1.0036833694603104, 1.0, 1.673806078147612, 1.0788740245261985, 1.0110942613137521, 1.6538461538461537, 1.0451905306697176, 1.2138613861386138, 1.048070608789951, 1.6666666666666667, 1.034719648022726, 1.096774193548387, 1.129467962444408, 3.8173076923076925, 1.1693393200769724, 1.014167790666307, 1.1330872697590233, 1.013288596020916, 1.307116104868914, 1.2317444219066938, 1.0576923076923077, 1.0357294768183751, 1.185647425897036, 1.092220559948707, 1.1170454545454545, 1.2, 7.0, 1.0596816976127321, 1.7991540455723838, 1.1847061676501496, 1.7433628318584071, 1.0, 1.1149732620320856, 1.2057750759878418, 1.7211981566820276, 1.25792053560754, 1.013895224003471, 1.4786324786324787, 1.0046270172666742, 1.14112945084605, 1.3727870510875064, 1.033597153935324, 1.045241809672387, 1.3429275844274984, 1.8010752688172043, 1.5083798882681565, 2.1897233201581026, 2.5, 1.0928725701943844, 1.1146454605699139, 1.074884437596302, 1.008613569321534, 1.0455124082113951, 1.238800461361015, 1.6400862068965518, 1.032201833796237, 1.1866141732283464, 1.1777188328912467, 1.2591973244147157, 1.0, 1.9163319178239413, 1.1666666666666667, 1.2727272727272727, 1.374052518949621, 1.0561533704390846, 1.1381074168797953, 1.2392638036809815, 1.2408970225677982, 2.1731843575418996, 4.04054054054054, 2.0, 2.75, 1.4, 1.0, 1.2272727272727273, 1.2105263157894737, 1.1591096455070073, 1.368, 2.3333333333333335, 1.2193158953722334, 1.782939921317597, 1.0326483374342317, 1.0, 1.0953288846520495, 1.0857142857142856, 2.0, 1.1785714285714286, 1.093813799528255, 1.3333333333333333, 1.7261904761904763, 1.0509383378016086, 1.0073849593974344, 1.380952380952381, 1.0588235294117647, 1.1111111111111112, 1.0928, 1.0263522884882108, 1.0105820105820107, 1.238323961712986, 2.1739130434782608, 1.0584895344109688, 1.0155576344260961, 1.0115732437177865, 1.0000900803516737, 2.0, 1.0299400852964369, 1.385912524152468, 1.3529411764705883, 2.6, 1.0122449703407488, 1.002812303829253, 1.375, 1.0833333333333333, 1.0, 1.0061429110094384, 1.002337441563961, 1.3904761904761904, 1.411764705882353, 1.772076372315036, 1.2057716905208713, 1.1923076923076923, 1.1542583192329385, 1.077687649948589, 1.4668587896253602, 1.0291134302155467, 1.266660025898994, 1.2351429003477998, 2.448717948717949, 1.3061224489795917, 1.019482496194825, 1.0402711506698477, 1.079480020938754, 2.353233830845771, 1.365530303030303, 1.0686687401213482, 1.95689274029534, 1.3745056282324308, 1.2130801687763713, 1.0555555555555556, 1.1638078902229845, 1.042857142857143, 1.2113834788448623, 1.2359396433470509, 1.167440162694895, 1.2222222222222223, 1.1324503311258278, 1.0, 1.040833777003372, 1.4285714285714286, 3.8, 1.0339156086587487, 1.0110157985682549, 1.6746987951807228, 1.1414913957934991, 1.0631893979444629, 1.5, 1.5164835164835164, 1.1018131101813111, 1.5774647887323943, 1.0009761539534234, 1.4, 1.1534296028880866, 1.695822454308094, 1.0153605909998649, 1.000685166152792, 1.0077184577601954, 1.0702781844802343, 1.0, 1.0033000026807495, 1.134469696969697, 1.0019382998478075, 1.8210321680180779, 1.1912180960445142, 1.1575911398246423, 1.027602355779465, 1.1528158506540824, 1.2836990595611286, 1.0075307125307125, 1.7681357686903794, 1.0735708792617278, 1.0, 4.0, 1.1263235656242305, 1.1181102362204725, 1.0244346243826359, 1.2339793183583143, 1.0987121848995456, 1.0833333333333333, 2.25, 1.2455696202531645, 2.0, 1.9024390243902438, 1.3076923076923077, 1.0139463009464942, 1.3465232424126008, 1.6666666666666667, 1.017682727569805, 1.2331002331002332, 2.2, 1.0154536802204996, 1.217142857142857, 1.0335195530726258, 1.125, 1.150634392153334, 3.0, 1.350665054413543, 1.00085318036596, 1.0106382978723405, 1.2504288164665522, 1.3333333333333333, 1.1666666666666667, 1.1359649122807018, 2.202127659574468, 1.0187265917602997, 1.1452282157676348, 1.022977022977023, 1.3022790883646542, 1.2193396226415094, 1.0, 1.1286201363818693, 3.5, 1.4260768335273575, 1.627540974513991, 1.0287904493917073, 1.7462686567164178, 1.0667340748230536, 1.0834386852085967, 1.0577253870282304, 2.0418848167539267, 1.0523505137956146, 1.3095238095238095, 1.0, 2.5, 1.0034833535890983, 1.120570264765784, 1.0239243210253282, 1.0194457948468643, 1.0393505130347236, 1.5748898678414096, 1.1975986874813562, 1.005838259876156, 1.2813765182186234, 1.0061005368472427, 4.0, 1.0415472779369628, 1.0, 2.220779220779221, 1.157439446366782, 1.2222222222222223, 1.0113323688764078, 1.0, 1.36869340232859, 1.1936669493921401, 1.625, 1.0919540229885059, 1.023250427823312, 1.0, 1.7628865979381443, 1.0072011013449116, 1.7732039187227866, 1.1125, 1.2673130193905817, 1.9545454545454546, 1.0, 1.1777777777777778, 1.5454545454545454, 1.0023950512070765, 1.0, 1.6727941176470589, 1.0200178707173626, 1.435897435897436, 1.0060389988358556, 1.9088478366553232, 1.1458766181876299, 1.0231731402238315, 1.024406332453826, 1.1007194244604317, 1.0291970802919708, 1.5912162162162162, 1.0252759143042631, 2.0, 1.092526690391459, 1.0087228112723994, 1.5217391304347827, 1.1166666666666667, 1.0414364640883977, 1.0150911210793239, 1.1450151057401812, 1.1108941021506598, 1.2034987094924003, 1.0751445086705202, 1.0370191811012777, 1.0933277027027026, 1.209090909090909, 1.146067415730337, 5.0, 1.6666666666666667, 1.6306068601583112, 1.0040144520272982, 1.0314474544266106, 1.2401315789473684, 1.394904458598726, 1.0270668271788124, 1.3827493261455526, 1.1111111111111112, 1.01613904779618, 1.5, 1.2867132867132867, 1.0905459387483356, 1.02590634817733, 1.0783289817232375, 1.5103448275862068, 1.0023593047366701, 1.9801980198019802, 1.5614678899082568, 1.3534932221063607, 1.042857142857143, 1.2599182495792258, 3.6666666666666665, 1.0923623445825932, 1.1408554572271385, 1.0491329479768785, 1.0141328954281266, 1.2952571810287241, 1.5, 1.00999303997216, 1.7727272727272727, 1.3015873015873016, 1.1990122105748187, 1.3050259965337956, 1.06993006993007, 1.0, 1.2929044258438644, 1.1825483142307371, 1.227436823104693, 1.0686912509038322, 3.0, 1.6713848508033664, 1.3825254708243284, 1.2222222222222223, 1.7619047619047619, 1.3072, 1.0903549173665674, 1.2086772766294658, 2.5, 1.0377780211667256, 1.0790991084927792, 1.2457770875642098, 1.0747353790227734, 1.0292003052576615, 1.1883116883116882, 1.0291549960660897, 1.088235294117647, 1.212861136999068, 1.1666666666666667, 1.0, 2.0609756097560976, 6.0, 1.087530966143683, 3.0, 1.8888888888888888, 1.178898316261485, 1.2463962133346083, 1.0933633295838021, 1.0633802816901408, 1.2666666666666666, 1.2121212121212122, 1.1653944020356235, 1.0033390410958904, 1.660919540229885, 1.1299107142857143, 1.1853171774768354, 1.0887075973672395, 1.3309726156751653, 1.1330675074183976, 3.0, 1.646416487234697, 1.4045307443365695, 1.365979381443299, 1.736842105263158, 1.0, 3.0, 1.100248230210536, 1.8478260869565217, 1.0178928472394517, 2.3333333333333335, 1.2137232845894264, 1.4444444444444444, 1.182640144665461, 1.0142225639054392, 1.1921963435287988, 1.5, 1.0374870555747324, 2.8, 1.6694214876033058, 1.0281716737443514, 1.2166030534351144, 1.4285714285714286, 1.349326400378161, 1.0542473813449744, 1.2, 1.06, 1.039680098431252, 1.2466666666666666, 1.2952448545067423, 1.0014506694559366, 1.054255319148936, 1.321875, 1.8120425281829353, 1.2236851151598487, 1.0095674523039555, 1.3571428571428572, 1.4479166666666667, 1.1595744680851063, 1.1533397581203426, 1.083414856844714, 3.5, 1.1745495495495495, 1.0028169014084507]
origin-bjaq_15.71 	max: 7.0000	99th: 3.8191	95th: 2.3333	median: 1.1813	mean: 1.3652

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.013346 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=7', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[4.8440695e-04 1.1920929e-07 0.0000000e+00 3.5762787e-07 2.9802322e-07]
Distance score: 9.703636169433594e-05
SAUCE Drift detection: True
Detection latency: 0.0399s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.7008 bits (loss 19.068, data 18.367) 0.00300 lr
epoch 10 train loss 12.4554 nats / 17.9693 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.4378 bits (loss 17.929, data 18.367) 0.00256 lr
epoch 20 train loss 12.1738 nats / 17.5631 bits
time since start: 8.7 secs
Epoch 20 Iter 0, train entropy gap -0.9111 bits (loss 17.456, data 18.367) 0.00150 lr
epoch 30 train loss 12.0412 nats / 17.3718 bits
time since start: 12.9 secs
Epoch 30 Iter 0, train entropy gap -0.9719 bits (loss 17.395, data 18.367) 0.00044 lr
epoch 40 train loss 12.0156 nats / 17.3348 bits
time since start: 17.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.6895 nats / 31.2913 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.098953 | Model-update-time: 19.530140


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=7', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:7
origin-bjaq_15.71 	max: 31.5000	99th: 5.3359	95th: 2.3333	median: 1.1668	mean: 1.4309
ReportEsts: [2.4, 1.0145049324077458, 1.0104944002094713, 1.0411442006269593, 1.3756996684373775, 1.0695681398084356, 1.0470211590001355, 1.6993173048382308, 1.0, 3.0185185185185186, 1.0057253070754237, 1.1059233449477353, 1.2253968253968255, 1.0106545747906641, 3.0, 1.0262058488416255, 1.6041666666666667, 1.0441330998248686, 2.5, 1.2775852108607741, 1.1805623964536784, 1.5185185185185186, 1.25, 2.1233580810965162, 1.1587537091988132, 1.0185246188184043, 1.2835365853658536, 1.5, 1.0221612807589682, 1.0, 1.3128378378378378, 1.5526315789473684, 1.0282908388634355, 1.0419354838709678, 1.7674418604651163, 1.0006887831155613, 1.3333333333333333, 4.0, 1.0126585448307812, 2.22, 1.0028933092224233, 1.271816240064428, 1.5, 2.730769230769231, 1.0092317837124958, 1.3064894448788116, 1.3333333333333333, 1.1248554913294797, 1.0011986963486714, 1.2014403518416712, 1.455128205128205, 1.013363650581682, 1.174074074074074, 1.018875047187618, 1.1339522546419099, 1.3294830741079597, 1.8713692946058091, 1.475823511634935, 1.0122485672547477, 1.3076923076923077, 1.169284467713787, 1.0271141726513264, 1.334375, 1.2602739726027397, 1.5235294117647058, 1.0889284126278347, 1.256120527306968, 1.0749601981248895, 1.0148422207403902, 1.0, 1.3034951346671435, 1.0337078651685394, 1.0, 1.1022712772744672, 1.0195758564437194, 1.0046642730109727, 1.455, 1.0863309352517985, 1.1893203883495145, 1.2994791666666667, 1.4594908246899252, 1.5037014188772362, 1.006232014750059, 1.2390684044111977, 1.1095305832147937, 1.1957325746799432, 1.0443458980044347, 1.041614772296529, 2.0, 1.562043795620438, 1.1578544061302682, 1.0074326723760603, 1.254335260115607, 1.0701754385964912, 1.2432432432432432, 1.0, 1.089289593743211, 1.1233392122281012, 2.5, 1.154344122657581, 2.1037037037037036, 1.2739557739557739, 1.0, 1.0554214393928667, 1.75, 1.2325839005323809, 1.287280701754386, 1.0608108108108107, 1.6968746745657985, 1.0083973431296152, 1.0031970298561337, 1.6118740086109222, 1.4565217391304348, 2.1, 1.7721518987341771, 1.063080684596577, 1.6740331491712708, 1.2925170068027212, 1.0, 6.5, 1.091208479640575, 1.0261627906976745, 1.0456551658677804, 1.0024421626258293, 1.139344262295082, 1.0254295701836442, 1.1209518196552233, 31.5, 1.5775029708853239, 1.3514674302075877, 1.0214736012608352, 1.2129380053908356, 1.7863013698630137, 2.0725388601036268, 1.152856407617087, 1.2857142857142858, 2.142857142857143, 1.4183467741935485, 1.7659605381687153, 1.0226597805035507, 1.042490968518837, 2.22992700729927, 1.0492472569533045, 2.0, 1.9202453987730062, 1.2690453881038941, 1.12, 1.1542857142857144, 1.0219895287958116, 1.0023964643119498, 1.3683892414626775, 3.7142857142857144, 1.0544121365360304, 1.0, 2.0, 1.3112469971609522, 1.1028277634961439, 1.2774252039891205, 2.0, 1.0345606721191485, 1.5605277146861258, 1.2672101449275361, 1.029262086513995, 1.2467532467532467, 1.3512974051896207, 1.2661292545128842, 2.235294117647059, 1.0080180688876341, 1.1112099644128113, 1.043859649122807, 1.3493975903614457, 1.0, 1.1428571428571428, 2.217391304347826, 1.0247299602046618, 1.70126582278481, 1.2, 1.1304347826086956, 1.056338028169014, 1.3933975240715268, 1.0938215102974829, 1.2782764811490126, 1.2273482307957502, 1.0159862974593206, 1.2398751579103813, 1.720073664825046, 1.334855403348554, 1.168268075906798, 1.3203562512650968, 1.0187583572110792, 1.5, 1.0135446198907268, 1.0, 1.0138326114293699, 1.056779661016949, 1.023728813559322, 1.624113475177305, 2.4285714285714284, 1.0, 1.4093382889759076, 1.6470588235294117, 1.411764705882353, 1.6326530612244898, 1.1428571428571428, 1.3636363636363635, 1.03584229390681, 1.0078975010698585, 1.1111111111111112, 1.0173716897117413, 1.1010306354009076, 1.0592977024271482, 1.2306639288158796, 1.1670061099796334, 1.2430703624733475, 1.1650618982118295, 1.3894487255483106, 1.0760456273764258, 1.1004972520282648, 1.1111111111111112, 1.010540184453228, 1.5164141414141414, 5.333333333333333, 1.7655502392344498, 1.255868544600939, 1.1435897435897435, 2.0, 1.041036717062635, 1.1722030379425037, 1.0356716615833443, 1.4296296296296296, 2.0, 1.0020655676061307, 1.709907794182756, 1.412037037037037, 1.0037718057520038, 1.2005287594144665, 1.0275472527981295, 3.0, 1.0556507400775503, 1.0143072501338444, 1.1604244694132335, 3.2, 1.3846153846153846, 1.1742313323572475, 1.2245511750213467, 1.0063359001852032, 1.0434782608695652, 1.041469169572571, 1.0508660038766962, 2.3, 1.0200826934435911, 2.1201298701298703, 2.0877010897768553, 1.3545081967213115, 1.0903328050713155, 1.0490649783647428, 1.0212765957446808, 1.4565217391304348, 3.0, 1.0094807367295555, 1.3874391862007962, 1.0020773763259911, 1.0106132075471699, 1.2857142857142858, 1.0480050080722216, 1.5744416873449132, 1.0976744186046512, 1.0249394860174075, 1.100739371534196, 1.0206638771123049, 1.0078467153284671, 7.0, 1.064782639174019, 1.0752571737953438, 1.1586715867158672, 1.0377681374258807, 1.562956204379562, 2.0, 1.148404255319149, 1.0959164292497625, 1.5700904565647915, 3.0, 1.0410958904109588, 1.0161491520852297, 1.629404992558897, 1.6107372907736883, 1.393939393939394, 1.217612147783778, 2.1052631578947367, 1.2291970802919707, 1.0075084075481098, 1.1538461538461537, 1.536649214659686, 1.0066539923954372, 1.2701149425287357, 1.1321695760598505, 1.0037571837353019, 1.0875280226130304, 1.3522727272727273, 1.088235294117647, 1.2107784431137725, 1.2106308991554893, 1.1078119476846942, 1.1236162361623616, 1.0350256245996157, 1.2279783515181864, 1.135678391959799, 1.6153846153846154, 1.5384615384615385, 1.303030303030303, 1.0369218073955127, 1.2142857142857142, 1.0163934426229508, 1.1644120707596255, 1.0501766784452298, 1.2920177842113425, 1.8368794326241136, 1.001863538844606, 1.043901819182956, 1.1307922272047832, 1.0216082182075805, 1.0638034260385083, 1.0192506584662906, 1.0298826520853726, 1.2035050071530757, 1.110667996011964, 1.0319122903942743, 1.0072551333041542, 1.0897159295217547, 1.0593867670790749, 1.2060889929742389, 1.5, 1.0201587413078599, 1.0155295185263788, 1.3903095558546434, 1.0, 1.0452096509721247, 1.6852678571428572, 1.1851851851851851, 1.0032598497282617, 1.5527210884353742, 1.2, 1.1333333333333333, 1.3975903614457832, 1.2510737992971495, 1.0184738648396934, 1.127906976744186, 1.0462477006058968, 1.6818181818181819, 1.1097560975609757, 1.375, 1.0923866552609067, 1.020148123675009, 1.4210526315789473, 1.0116016947285718, 1.2491606043648573, 1.0532915360501567, 1.13408600215905, 1.0, 1.1332082551594747, 1.3573883161512028, 1.0332353835241666, 1.4362955032119915, 1.6666666666666667, 1.303448275862069, 1.0909090909090908, 1.2964601769911503, 1.3333333333333333, 1.25, 1.5, 1.350186489846664, 1.1851351351351351, 1.018363939899833, 1.0384615384615385, 2.0, 1.006300281089464, 1.0395398993529834, 1.230763399287393, 1.3080065359477124, 1.016888250089831, 1.0215618987166009, 1.4240963855421687, 1.0355518112889637, 1.1519916142557651, 1.093189964157706, 1.0445908381249762, 1.2681427031611683, 1.0534979423868314, 1.082276588796438, 1.1819407008086253, 1.3801169590643274, 4.066666666666666, 1.1437908496732025, 1.0, 2.3796610169491523, 1.9635791366906474, 1.0108695652173914, 1.1372549019607843, 1.3189812007277137, 1.1871657754010696, 1.0029899429192715, 1.2677760968229954, 1.4545454545454546, 1.1099630996309964, 1.0951585976627713, 3.0, 2.0, 4.6, 1.2931456548347613, 1.1797752808988764, 1.0134050105103554, 1.492537313432836, 1.2266187050359711, 1.4642638973732438, 1.5892264776839566, 1.6666666666666667, 1.4104046242774566, 1.2850277264325323, 1.221334124427869, 2.7777777777777777, 1.1962457337883958, 1.2357615894039735, 1.03125, 1.060283261113786, 1.000714874896893, 1.0745614035087718, 1.351170568561873, 1.2383654937570943, 1.2340425531914894, 1.4098360655737705, 1.3333333333333333, 1.4619565217391304, 1.2083333333333333, 1.1292134831460674, 1.246358454718176, 1.0109411994846438, 1.0374109345498146, 1.3333333333333333, 1.02079127977392, 1.0, 1.2727272727272727, 1.3270804911323328, 1.2369972081480716, 1.0, 1.2047756874095514, 1.026841220781968, 1.5633802816901408, 1.0983746792130025, 1.1437782076079948, 1.4285714285714286, 2.0, 1.2053712480252765, 1.0027207432379543, 1.2469194916024704, 1.2492753623188406, 1.0334728033472804, 1.7362170186922194, 1.023041474654378, 2.1990975747320927, 2.2317676143386898, 1.0731707317073171, 1.2346598183823148, 1.0113449523183164, 14.333333333333334, 1.0287747598149686, 1.0225321888412018, 1.280701754385965, 1.25, 1.1541218637992832, 1.0194260485651214, 1.0031847133757963, 1.5542388331814039, 1.4859473357567161, 1.0528766118337518, 1.0066512004877795, 1.0238095238095237, 1.9318181818181819, 1.8651685393258426, 1.0055912430109462, 1.3548387096774193, 1.311377245508982, 1.0304543056752828, 1.1586715867158672, 1.197934595524957, 1.358736059479554, 1.0132923440474366, 1.1369148936170212, 2.2, 1.5714285714285714, 1.1111111111111112, 1.0303541384377954, 1.2608695652173914, 1.033985500477809, 1.0213815789473684, 1.6237623762376239, 2.0, 1.2147651006711409, 1.0069064776963748, 1.3636363636363635, 1.3003708281829418, 1.0769230769230769, 1.3333333333333333, 1.0168198663964805, 1.1582682753726048, 1.0046189376443417, 1.1045045045045045, 1.1209677419354838, 1.0321570778133873, 1.027327935222672, 1.539053905390539, 1.0859375, 1.008132741294695, 1.1884057971014492, 1.0262626262626262, 1.0551307847082494, 1.235260743406442, 1.1566265060240963, 1.1379310344827587, 1.7104072398190044, 1.227614936759687, 2.2266325224071704, 1.2205595143837424, 1.1765601217656012, 1.0013840830449827, 3.2, 1.3634408602150538, 2.0, 1.167883211678832, 1.3265306122448979, 1.1459074733096086, 1.394392523364486, 1.1418408393711879, 1.3081896551724137, 1.2924577782439945, 1.3636363636363635, 1.0705128205128205, 1.1676616915422886, 1.004672809503256, 1.6525548069115825, 1.1757575757575758, 1.026768998920229, 1.1698996867187748, 1.2020725388601037, 1.0117818336081141, 2.0, 1.169990723562152, 1.0545454545454545, 1.1547619047619047, 1.2889722891450621, 1.0769230769230769, 1.2597014925373133, 1.0, 3.0, 1.2013888888888888, 1.2172631578947368, 1.3333333333333333, 1.6626826568640394, 1.044388447373522, 1.0, 2.0, 1.3761467889908257, 1.9051321928460343, 1.1390134529147982, 1.066287357376648, 4.5, 1.956386292834891, 1.1650853889943074, 13.0, 1.2653061224489797, 1.2985781990521328, 1.4242424242424243, 1.0256410256410255, 1.2320284697508896, 1.2522202486678509, 1.2438316400580551, 1.56, 1.14713216957606, 1.0023025783380515, 1.1647972690539223, 1.0810810810810811, 1.062795634044112, 1.3362445414847162, 1.010688643678828, 1.2427184466019416, 1.0044880838894186, 1.0215827338129497, 2.0, 1.0015318341193307, 1.0057900582614587, 1.7382448471602465, 1.0234551570685215, 1.0468572260594975, 1.046875, 1.0021710979473757, 1.0583941605839415, 1.1805579980758687, 6.333333333333333, 1.1411238956235874, 5.587155963302752, 1.177668106107341, 1.041636532699659, 1.1238297589801474, 1.0023810578541685, 1.0969807868252517, 1.2369786535303777, 2.08, 1.148696963170364, 1.148471615720524, 1.0076822184747987, 1.2083879423328965, 1.5, 1.4330321852060983, 1.0700431034482758, 1.631653242547538, 1.3029904218761423, 1.8859416445623343, 1.0, 1.3210702341137124, 1.0299418604651163, 1.2112676056338028, 1.3501432909876385, 1.0081894806581029, 1.073394495412844, 1.0182295588377257, 1.164613958416104, 1.5181644359464628, 1.0071225896114424, 1.0156028368794325, 1.362282630421747, 1.015625, 1.229050279329609, 2.059479553903346, 3.5, 1.1844262295081966, 1.2543909348441926, 1.0429528663879504, 1.1661664392905866, 1.0475353246519057, 1.2781754619610455, 1.9792027729636048, 1.0348409505215357, 1.2355144855144855, 1.1403940886699508, 1.1338155515370705, 1.0, 1.7236425165359175, 1.2857142857142858, 1.3571428571428572, 1.3118779615635294, 1.0405272234540528, 1.017467248908297, 1.645631067961165, 1.3507109004739337, 1.5, 4.840909090909091, 1.0, 3.25, 1.6666666666666667, 2.3333333333333335, 1.4945454545454546, 1.3422982885085575, 1.0261697065820776, 1.137291280148423, 2.111111111111111, 1.110587226746678, 1.6333464711398633, 1.0107376044516319, 1.5, 1.129904097646033, 1.275735294117647, 2.0, 1.078125, 1.0857908093984998, 1.1428571428571428, 1.5143769968051117, 1.082010582010582, 1.0785920925747348, 1.1904761904761905, 1.6111111111111112, 1.1071428571428572, 1.0998389694041868, 1.271604938271605, 1.2682047584715213, 1.2524377284458095, 2.3134328358208953, 1.0088626104647467, 1.0484986360387747, 1.005428648212846, 1.1093021917965828, 1.5, 1.0289314173599464, 1.6694879390605164, 1.0, 2.0, 1.0145417536354384, 1.020425255405942, 1.8372093023255813, 1.0784313725490196, 1.0007219890799153, 1.0238560588641068, 1.0172410800553102, 1.0382102553949712, 1.0, 1.2199528672427338, 1.1028320618664438, 3.0, 1.1006475984889368, 1.0309528799801841, 1.886120996441281, 1.011027106331121, 1.147239263803681, 1.0819852363750588, 1.556701030927835, 1.4, 1.1733870967741935, 1.070932259280196, 1.1575782537067545, 1.4408163265306122, 1.1519154557463673, 1.0113928630802782, 1.7270476729381807, 1.2001404494382022, 1.1488511488511488, 1.2241813602015112, 1.1806367771280053, 3.0, 1.6029286259713427, 1.0880420499342969, 1.1929768470412703, 2.0, 1.0769230769230769, 1.0, 1.0689858034152309, 1.1428571428571428, 1.8, 1.0484028278747655, 1.0414925737289944, 1.6526315789473685, 1.3266666666666667, 1.0175604384768353, 2.2222222222222223, 1.1288659793814433, 1.0141206675224648, 1.2072538860103628, 1.0268488635583328, 2.3333333333333335, 1.0234741784037558, 1.1972350230414746, 1.0425189170016553, 1.0798521256931608, 1.013375037930954, 1.1366215626364033, 1.0, 1.0020916352620854, 1.362962962962963, 1.0131150851012083, 1.6306944069170495, 1.3616980088495576, 1.275923059915985, 1.0210668467251858, 1.0267359607333622, 1.5973154362416107, 1.0139309224084128, 1.6112239023059907, 1.1311415031797087, 6.0, 1.0, 1.0548766940679848, 1.094488188976378, 1.0372506608988223, 1.2173044024215334, 1.0455939680561157, 1.0, 1.3846153846153846, 1.1628571428571428, 1.6666666666666667, 1.7647058823529411, 1.0612244897959184, 1.0572771587743732, 1.1002012072434608, 10.0, 1.002418045528343, 1.1199095022624435, 1.65, 1.016712838793934, 1.4931506849315068, 1.1384615384615384, 1.4285714285714286, 1.194600149476831, 3.0, 1.0849927149101506, 1.0062591096307125, 1.076086956521739, 1.0945945945945945, 2.0, 1.0, 1.536723163841808, 1.4577464788732395, 1.0845070422535212, 1.7037037037037037, 1.3420707732634338, 1.136518771331058, 1.0841121495327102, 1.0, 1.151054211286916, 4.0, 1.6932059447983014, 1.5489999767165707, 1.0491491022638564, 1.2412060301507537, 1.1782857142857144, 1.0021978021978022, 1.0084888812779802, 2.6375, 1.0685960693258147, 1.0961538461538463, 1.0909090909090908, 1.5, 1.0009061038449922, 1.1313017306245297, 1.1394684195484424, 1.3087087087087088, 1.0766462986224956, 1.5959821428571428, 1.1524884524792756, 1.0231441048034935, 1.5396208070004862, 1.022136782010952, 5.0, 1.1236476043276662, 1.1333333333333333, 1.3536121673003803, 1.0234574196838349, 1.7142857142857142, 1.021910338799596, 1.0327868852459017, 1.195433789954338, 1.1601302754783553, 1.75, 1.0303030303030303, 1.0401662391475928, 1.0, 2.3333333333333335, 1.0117259283026574, 1.6242908142859258, 1.5258426966292136, 1.267402376910017, 2.5168539325842696, 1.0, 1.2830188679245282, 1.1176470588235294, 1.0276980643709206, 1.0, 1.221498371335505, 1.0136021374787467, 1.2040816326530612, 1.0408222142084385, 1.6627816627816627, 1.071357438333078, 1.0712571067593177, 1.2532981530343008, 1.4624183006535947, 1.3396226415094339, 1.3644444444444443, 1.024166990529567, 2.0, 1.1287128712871286, 1.0135497291021671, 1.75, 1.1967213114754098, 1.0076142131979695, 1.0061180721422673, 1.0376447876447876, 1.0299955888839876, 1.3208485458894623, 1.0054945054945055, 1.0781582560933745, 1.0050037064492217, 3.0425531914893615, 1.1794871794871795, 1.2, 1.8, 1.9625962596259625, 1.3564718162839249, 1.0727209705372618, 1.013157894736842, 1.3016759776536313, 1.015921786249889, 1.025974025974026, 2.2, 1.0224056637573986, 1.5, 1.3310344827586207, 1.008254716981132, 1.0684542065776437, 1.2114164904862579, 1.1628318584070796, 1.7142857142857142, 9.5, 1.1749275162225596, 1.424807903402854, 1.1290322580645162, 1.7281732319741996, 4.0, 1.003125, 1.1530398322851152, 1.1211180124223603, 1.0224274406332454, 1.6717238702164139, 1.5, 1.0022862105556787, 3.9722222222222223, 1.0181093806591814, 1.023754044774522, 1.0082781456953642, 1.0, 1.24625, 1.27816091954023, 1.2491908789996322, 1.1213033742568141, 1.9578947368421054, 1.09366391184573, 1.0340993328391401, 1.1174968071519795, 1.8496732026143792, 1.171919770773639, 1.561284587176353, 1.0105149138327365, 1.0240645509560473, 1.0364109232769831, 1.1644685802948023, 3.0, 1.844645691345346, 1.0189519953033974, 1.0435481049098978, 1.012332890946169, 1.2376681614349776, 1.3674540682414698, 1.0139339779103003, 1.3624161073825503, 1.0503483394420974, 1.4635105742977463, 1.1979608570104452, 1.3143455545582177, 2.0, 1.4320175438596492, 1.588235294117647, 1.1660419692318396, 1.239492202358311, 1.005391804457225, 1.4615384615384615, 1.8823529411764706, 1.0861244019138756, 1.02803738317757, 1.0906332020997376, 1.1392045454545454, 1.006741573033708, 1.3661016949152542, 1.0301524963804867, 1.3644724104549855, 1.0743867053547878, 1.5, 1.6467418546365915, 1.0116550116550116, 1.2857142857142858, 1.375, 1.0, 3.0, 1.0520655483780121, 1.2686567164179106, 1.0272816212438853, 1.2727272727272727, 1.0953160825417623, 1.1666666666666667, 1.0436046511627908, 1.0720668220668221, 1.17806798595367, 2.0, 1.033640695314568, 2.6666666666666665, 1.291866028708134, 1.0389121338912133, 1.0239752513534417, 1.2222222222222223, 1.3558646557786982, 1.050723387740141, 1.6, 1.0860655737704918, 1.0186390532544378, 1.0503355704697988, 1.1703567035670357, 1.0064970497937253, 1.047400611620795, 1.595667870036101, 1.7069920062446697, 1.2587340876944837, 1.0078588225835627, 1.4285714285714286, 1.126232741617357, 1.3568627450980393]
origin-bjaq_15.71 	max: 31.5000	99th: 5.3359	95th: 2.3333	median: 1.1668	mean: 1.4309

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.014883 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=7', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[5.1528215e-04 5.9604645e-08 0.0000000e+00 2.3841858e-07 2.9802322e-07]
Distance score: 0.00010317564010620117
SAUCE Drift detection: True
Detection latency: 0.0402s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.5356 bits (loss 18.816, data 18.280) 0.00300 lr
epoch 10 train loss 12.3889 nats / 17.8734 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap -0.4272 bits (loss 17.853, data 18.280) 0.00256 lr
epoch 20 train loss 12.0978 nats / 17.4535 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.8804 bits (loss 17.400, data 18.280) 0.00150 lr
epoch 30 train loss 11.9683 nats / 17.2666 bits
time since start: 12.8 secs
Epoch 30 Iter 0, train entropy gap -0.9679 bits (loss 17.312, data 18.280) 0.00044 lr
epoch 40 train loss 11.9432 nats / 17.2304 bits
time since start: 17.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.6118 nats / 31.1793 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.102936 | Model-update-time: 19.465205


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=7', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:7
origin-bjaq_15.71 	max: 43.0000	99th: 6.3333	95th: 2.5000	median: 1.1669	mean: 1.4396
ReportEsts: [2.4, 1.0908996539792388, 1.0288969400672225, 1.5099488345650938, 1.2781640728040096, 1.0851900393184797, 1.0059516688599115, 1.5828755081859136, 1.0, 5.227405247813411, 1.0705700183876898, 1.1323529411764706, 1.002469135802469, 1.0083613818883579, 3.0, 1.0836898395721926, 1.6325088339222615, 1.0784131411746474, 1.25, 1.4664086259330937, 1.1694503586415033, 2.2088888888888887, 4.5, 1.248998982015609, 1.0637982195845697, 1.025062558902863, 1.0732394366197182, 1.0, 1.599335893742999, 1.2061415846225974, 5.0, 1.5466666666666666, 1.3589895988112928, 1.3867924528301887, 1.688495575221239, 1.0160789329435411, 1.2916666666666667, 2.8333333333333335, 1.012325787153908, 3.264705882352941, 1.0961611554542, 1.2429012267289767, 3.0, 1.3661971830985915, 1.0486438250980554, 1.236861584011843, 1.5, 1.0410677618069815, 1.0136912645017746, 1.219515189393094, 1.842911877394636, 1.0208328419185462, 1.2348484848484849, 1.0683605565638234, 1.2036199095022624, 1.2155878467635404, 7.0, 1.2399805683750305, 1.216545131387284, 1.0008107669855684, 1.5, 1.0481927710843373, 1.066505529920164, 1.056910569105691, 1.2597402597402598, 1.0532544378698225, 1.0204081632653061, 1.4613778705636744, 1.110935441370224, 1.0654244670787778, 1.0, 1.2684016776249518, 1.1237373737373737, 1.0, 1.0239199414205515, 1.045329556171432, 1.0252445284368057, 1.4303405572755419, 1.2701793721973094, 1.631578947368421, 1.3681343720839392, 1.2758620689655173, 1.0333369696391195, 1.0852415176332944, 1.2391682907129253, 1.1409934171154996, 1.02562358276644, 1.2415254237288136, 1.058836744882676, 1.25, 1.6056338028169015, 1.0179506357516828, 1.0142238763057854, 1.5804195804195804, 1.2127659574468086, 1.6235294117647059, 1.3892215568862276, 1.0156903765690377, 1.2445776069823486, 1.6666666666666667, 1.032550754224793, 1.4753246753246754, 1.2286729857819905, 1.0, 1.0361130278193844, 1.7486360093530786, 1.2217467540600342, 1.7393442622950819, 1.0392017106200997, 1.5643186562454487, 1.009279998860476, 1.0528039702233252, 1.2651397539162146, 1.2935153583617747, 2.2, 2.025, 1.1306347746090157, 1.4225352112676057, 1.03242542153048, 1.0, 1.1142857142857143, 1.1567531768699035, 1.113564668769716, 1.0856846277248278, 1.0646985670129159, 1.033116883116883, 1.080375889793619, 1.1159495895225282, 2.8636363636363638, 1.5539020335663698, 1.0930074677528854, 1.0630943672275055, 1.1544117647058822, 1.0524861878453038, 2.8368794326241136, 1.2527511961722488, 1.125, 1.7, 1.2976406533575318, 1.6496180429246998, 1.0307814109089177, 1.0454295370588698, 1.3086232980332828, 1.2364756904816252, 2.0, 1.5233160621761659, 1.2420363006764192, 1.1785714285714286, 1.5689655172413792, 1.1693753671431368, 1.0135100835294661, 1.2672823957458719, 4.0, 1.063814395700925, 1.3194444444444444, 2.0, 1.294602551521099, 1.0580399619410086, 1.0026162790697675, 1.4666666666666666, 1.070361597978841, 1.49248925555878, 1.5088449531737773, 1.8067940552016986, 1.1290322580645162, 1.0134730538922156, 1.2598275129228196, 2.2777777777777777, 1.0666377461258525, 1.1710122699386503, 1.004149377593361, 1.1433224755700326, 1.0, 1.1395348837209303, 1.3294117647058823, 1.1825833603107803, 2.142105263157895, 1.3333333333333333, 1.2361623616236161, 1.352112676056338, 1.3266932270916334, 1.01364522417154, 1.570230607966457, 1.310214460169293, 1.1113496109471426, 1.1726548978885427, 1.0474766355140186, 1.0477017444255197, 1.1169151004536617, 1.3719153112731353, 1.0093591951092207, 1.2857142857142858, 1.0115919489954244, 1.0, 1.1984222489637653, 1.1646191646191646, 1.10752688172043, 1.207070707070707, 1.8, 1.0, 1.355837385038955, 1.1666666666666667, 2.0, 1.275, 1.0833333333333333, 1.8333333333333333, 1.1333333333333333, 1.045662896716656, 1.1764705882352942, 1.074255806346091, 1.143478642995254, 1.0023730070448647, 1.1476761619190405, 1.348235294117647, 1.0186721991701244, 1.0382585751978892, 1.053989202159568, 1.5449438202247192, 1.160960795140806, 1.6666666666666667, 1.079863481228669, 1.1825922421948911, 4.222222222222222, 1.473053892215569, 1.0169300225733635, 1.4358523725834798, 2.0, 1.0371134020618558, 1.1882126828011252, 1.0690469939616698, 1.115606936416185, 1.0, 1.0075342704663575, 1.5933404523832637, 1.3090128755364807, 1.3306148055207025, 1.232314164058893, 1.0277822221206372, 2.5, 1.038919808228686, 1.0050037644832663, 1.777246653919694, 6.333333333333333, 1.6923076923076923, 1.0483660130718955, 1.0057155863534053, 1.0642272368366372, 1.25, 1.4305555555555556, 1.160556810728081, 1.0668455796162626, 7.0, 6.333333333333333, 1.0, 1.2688971499380421, 1.0138461538461538, 1.359437751004016, 1.8873239436619718, 2.3333333333333335, 1.029137357141686, 1.493809523809524, 1.0034192957073669, 1.0465116279069768, 1.25, 1.0626301242013065, 1.0793650793650793, 1.293859649122807, 1.0427079217700514, 1.2333036509349955, 1.0170770917379115, 1.3228617289612474, 3.0, 1.0765288259550299, 1.0257156720038816, 1.2404580152671756, 1.042251458164413, 1.4909662656353095, 3.0, 1.0773506252894858, 1.1386481802426343, 1.5649708397685622, 3.0, 3.1739130434782608, 1.005132187813481, 1.5604597428757627, 1.4527465375932969, 1.1219512195121952, 1.1693615951742626, 1.1176470588235294, 1.0218390804597701, 1.0243236829615567, 1.7777777777777777, 1.322072072072072, 1.353913043478261, 1.2808988764044944, 1.158917418459403, 1.019986160765771, 1.0148320184816535, 1.3623188405797102, 1.0256410256410255, 1.156498673740053, 1.163776075017908, 1.0688273852876913, 1.2085561497326203, 1.0568209570016769, 1.22574148927478, 1.0585480093676816, 1.8076923076923077, 1.15, 1.8461538461538463, 1.0567983491504385, 1.5635324734102738, 1.3006993006993006, 1.0661157024793388, 1.050387596899225, 1.0390070921985815, 1.0590953888424322, 1.1626794258373205, 1.2826380190769824, 1.0533764776189019, 1.3067226890756303, 1.150375939849624, 2.0, 1.314095559749677, 1.6004116307584515, 1.833718244803695, 1.0468275714965463, 1.0838103215598678, 1.1358978968182636, 1.0475801511129263, 1.670378619153675, 1.5, 1.0572980095430133, 1.0075574771612756, 1.048293401523153, 1.032871013932293, 1.4650856389986824, 1.0180722891566265, 1.0858585858585859, 1.4736842105263157, 1.018594061514043, 1.5264366588335825, 1.3333333333333333, 1.1666666666666667, 1.1917808219178083, 1.3972961186218926, 1.0237016993316672, 1.0336700336700337, 1.0228673958273684, 2.282608695652174, 1.3333333333333333, 1.6923076923076923, 1.123730378578024, 1.0843052771683948, 1.8666666666666667, 1.0152101202808674, 1.1750230293459665, 1.205128205128205, 1.2374883305597273, 1.0, 1.5590551181102361, 1.5737051792828685, 1.0701616946603159, 1.1195097037793666, 1.0, 1.2857142857142858, 1.6666666666666667, 1.0785714285714285, 1.25, 1.6216216216216217, 1.25, 1.3704018318806324, 1.2413559322033898, 1.1735668789808917, 1.0422567912700256, 1.5610007836541218, 1.3288694593547674, 1.2, 1.0726742096984119, 1.8581081081081081, 1.0480769230769231, 1.014773371104816, 1.3648960739030023, 1.0692241581373545, 1.0944055944055944, 1.074454428754814, 1.0638846238210133, 1.2398054814162196, 1.1777777777777778, 1.0964993573995225, 1.5225694444444444, 1.4567901234567902, 1.3934426229508197, 1.2026143790849673, 1.5, 1.9340028694404592, 1.4965729952021933, 1.116504854368932, 1.1087584215591915, 1.0443230115361264, 1.2245989304812834, 1.0548794146195775, 1.0450321658327377, 1.3095238095238095, 1.1156848828956707, 1.022184300341297, 3.0, 2.0, 3.111111111111111, 1.0534979423868314, 1.5441176470588236, 1.0726601200791193, 1.5859213250517599, 1.0713276836158192, 1.2675644028103044, 1.495392077607114, 2.0, 1.3622047244094488, 1.1990771259063941, 1.18114825319278, 2.2222222222222223, 1.2149046793760832, 1.047239067985956, 1.0606060606060606, 1.001471630239276, 1.1356191885038038, 1.2418032786885247, 1.0240811153358682, 1.8122923588039868, 2.0714285714285716, 1.5087719298245614, 1.5, 1.2662824207492795, 1.154518950437318, 1.0216216216216216, 1.1612274719922064, 1.0053447041208254, 1.0098586482993832, 4.0, 1.0310728942739886, 1.0, 1.75, 1.1984732824427482, 1.2425218113834648, 1.0833333333333333, 1.201163757273483, 1.0220650456427807, 1.0616358385054998, 1.0, 1.100558659217877, 1.4545454545454546, 1.0, 1.1758349705304518, 1.0092076359832636, 1.238236250045141, 1.3977272727272727, 1.2753872633390706, 1.5036807220420252, 1.268018018018018, 1.8639165481270745, 2.5269419174247725, 1.0059880239520957, 1.242263128108897, 1.0333929322675641, 43.0, 1.1456882821387941, 1.0783413205537806, 1.1536203522504893, 1.25, 1.3018018018018018, 1.102726387536514, 1.0344827586206897, 1.2474308300395256, 1.4557941868407074, 1.0646305077905418, 1.0160897140756444, 1.3142857142857143, 1.0588235294117647, 1.8113207547169812, 1.01590648378783, 1.0693069306930694, 1.3150684931506849, 1.0269533367278223, 1.2901960784313726, 1.1045627376425855, 1.2547008547008547, 1.0592962810423323, 1.1261515227787566, 6.5, 1.1428571428571428, 1.1111111111111112, 1.0196063023063926, 1.3580246913580247, 1.0226169461606356, 1.0303297314844873, 1.0789473684210527, 2.0, 1.0280488358371533, 1.0308943729160314, 1.1554993678887484, 1.0864516129032258, 1.2727272727272727, 1.0, 1.0221419529442577, 1.1583617747440274, 1.0758587786259541, 1.2278761061946903, 1.187214611872146, 1.0271022634795737, 1.0355, 1.408223201174743, 1.0635179153094463, 1.0253603721158717, 1.569377990430622, 1.5787429145250584, 1.0156428532564339, 3.5, 1.0597400798688859, 1.0266649261878769, 1.0, 1.8633461047254152, 1.3233411397345825, 1.564185544768069, 1.2383498308594483, 1.0495214315439034, 1.026036109352865, 3.642857142857143, 1.2912423625254583, 1.3333333333333333, 1.0902255639097744, 1.4961636828644502, 1.0779661016949154, 1.0404463040446303, 1.131888888888889, 1.021551724137931, 1.6212053237625244, 1.2, 1.0831946755407653, 1.2282446544007957, 1.0039450883312704, 1.545416174236029, 1.136163982430454, 1.0061916271297706, 1.1391741988496302, 1.1604166666666667, 1.0132773700985842, 1.0, 1.242011077971879, 1.1282051282051282, 1.697674418604651, 1.2473203172892944, 1.0744601638123603, 1.3070175438596492, 1.0, 3.727272727272727, 1.2041763341067286, 1.109823399558499, 1.6666666666666667, 1.5513048382410746, 1.012504330845066, 1.0, 2.0, 1.875, 1.2431729518855656, 1.4032459425717854, 1.016534826741337, 2.5, 1.903030303030303, 1.1891385767790261, 2.3636363636363638, 1.0315789473684212, 1.1385041551246537, 1.1951219512195121, 1.3333333333333333, 1.017482289361656, 1.1333333333333333, 1.0533049040511726, 1.0540032871566096, 1.0232852747783072, 1.030706243602866, 1.3900709219858156, 1.041776273857671, 1.0283054003724394, 1.1702127659574468, 1.0673821491645157, 1.0434425057208239, 1.4795763993948563, 1.0131512583119315, 1.2300578034682081, 1.5464681487524645, 1.2775791624106232, 1.0210677302410593, 1.0238095238095237, 1.08858116053688, 1.1307385229540918, 1.0221611741420522, 1.073943661971831, 1.1672155627377983, 5.25, 1.0818398525338506, 2.3157894736842106, 1.2537612838515546, 1.0156391522251071, 1.0790269764540776, 1.004082996176831, 1.3061926605504588, 1.2458543619322278, 1.1063829787234043, 1.1882213793384722, 1.0537897310513447, 1.0809944644071088, 1.2346832814122535, 2.0, 1.3995476678943075, 1.102803738317757, 1.5014845432846249, 1.3079026342114037, 1.3840579710144927, 1.5, 1.2358208955223882, 1.2139723253459331, 1.2254601226993864, 1.3339954357197195, 1.0665081364751134, 1.0163065371167077, 1.0414921517203586, 1.1150841955771962, 1.660027161611589, 1.0303688434072003, 1.189710610932476, 1.3237626833266871, 1.64, 1.3798882681564246, 1.8972602739726028, 2.0, 1.1784287616511318, 1.0774647887323943, 1.0519384745048461, 1.0292466073935425, 1.0253663797020496, 1.2502750483705756, 1.4489208633093524, 1.0149827082772473, 1.0078721374045803, 1.196029776674938, 1.121765601217656, 1.0, 1.5647149658988546, 1.5714285714285714, 1.5714285714285714, 1.3149977972182012, 1.0648127128263336, 1.484599589322382, 1.1142857142857143, 1.5423728813559323, 1.5, 3.9029126213592233, 1.6666666666666667, 1.0666666666666667, 2.6, 1.3333333333333333, 1.083916083916084, 1.4037339556592765, 1.1191749427043545, 1.0460176991150443, 1.0, 1.125, 1.5187276232442852, 1.0052081235989745, 1.0, 1.0594732370433304, 1.4060913705583757, 1.0, 1.1612903225806452, 1.084318423855165, 1.6, 1.3983957219251337, 1.0167464114832536, 1.0536253563263809, 1.2380952380952381, 2.5789473684210527, 1.1428571428571428, 1.5303728034865123, 1.072122052704577, 1.423191278493558, 1.2112143199977414, 1.9218106995884774, 1.0429130895128267, 1.001181651172881, 1.070965836732434, 1.0438561490553926, 2.0, 1.033644742485903, 1.472839275714019, 1.2608695652173914, 1.6, 1.0221541696567147, 1.017368620492061, 1.5341614906832297, 1.0784313725490196, 1.0065028586392004, 1.0130507469125816, 1.046029478976234, 1.0087239161941213, 1.0, 1.4590043923865301, 1.0510571472345642, 1.8, 1.0331262939958592, 1.0150973204696945, 1.4864864864864864, 1.0381038068752775, 1.2471557473519026, 1.076356530888321, 1.719298245614035, 1.0208333333333333, 1.1205332600329851, 1.0587011941500066, 1.101327088212334, 1.56993006993007, 1.2168978562421184, 1.0152266621578463, 1.647183596511902, 1.0740427927927927, 1.232583065380493, 1.111842105263158, 1.0508964719491036, 1.0, 1.4929026503567788, 1.0387409200968523, 1.1318789655956925, 1.8571428571428572, 1.048913043478261, 1.0, 1.062137426299733, 1.4285714285714286, 2.05, 1.0187360563350498, 1.0003659987190046, 2.457943925233645, 1.3233353329334132, 1.1558718861209965, 1.6302217036172695, 1.6112554112554112, 1.0443223995327544, 1.1061093247588425, 1.0912627702542173, 1.5605095541401275, 1.219464362660067, 1.0939597315436242, 1.1454545454545455, 2.7142857142857144, 1.2149659863945579, 1.0572207084468666, 1.1372549019607843, 1.596938775510204, 1.1472527472527472, 1.004368207969316, 1.5363829859885951, 1.2327625056331681, 1.1845806127574083, 1.0341983376689297, 1.0482740570564457, 1.0082352941176471, 1.0763541784462287, 1.5479374695176733, 1.1201672907649662, 7.0, 1.0, 1.0415078356628547, 1.6377952755905512, 1.1354922279792745, 1.2262180368674824, 1.0124751563605332, 1.0714285714285714, 1.0925925925925926, 1.375, 1.6666666666666667, 1.0002695417789758, 1.1476369719782518, 1.0188178681314282, 1.5, 2.5, 1.0522426891455927, 1.0855263157894737, 1.1515151515151516, 1.0047291166000218, 1.0672645739910314, 1.3754646840148699, 1.1649484536082475, 1.2460534008965114, 3.0, 1.2685973878478138, 1.0057544649607688, 1.4054054054054055, 1.0978915662650603, 2.0, 1.3333333333333333, 3.475609756097561, 1.5333333333333334, 1.0499806061949355, 1.0841450777202073, 1.0269025796737452, 1.0235183443085607, 7.0, 1.396551724137931, 2.25, 1.1194539249146758, 1.663058957561948, 1.3945945945945946, 3.0, 1.1170651277823578, 1.34575260804769, 1.3658969804618117, 1.3891756608790864, 1.506161971830986, 1.102095301661462, 1.2880597014925372, 1.0, 1.5, 1.0082140754992137, 1.0349895031490552, 1.0162882802476711, 1.0473032714412025, 1.0240319128235065, 1.5575645446135733, 1.1561122116429166, 1.0141628498561126, 1.2619270346117868, 1.0532988964545669, 6.0, 1.0788303693570451, 1.5766739121169502, 1.608786610878661, 1.3677126163168145, 1.0926565301108824, 1.3333333333333333, 1.751111111111111, 1.0113066991861297, 1.1488372093023256, 1.0586643557001876, 1.105304829770388, 1.0142121673555218, 1.0434782608695652, 1.1666666666666667, 1.0038391987759077, 1.503605498385037, 1.6123188405797102, 1.181532416502947, 1.0686695278969958, 1.0, 1.1886792452830188, 1.0, 1.0047218523249177, 1.0, 1.3196480938416422, 1.0160941835056103, 1.2653061224489797, 1.0289816538154746, 1.5825258397932818, 1.0593920498830864, 1.0179633450661487, 1.0356200527704484, 1.0588235294117647, 2.5789473684210527, 2.4461538461538463, 1.3318456054427144, 2.0, 1.2172284644194757, 1.0446729813390756, 1.5217391304347827, 1.1071428571428572, 1.0583756345177664, 1.030919231451052, 1.0491195551436516, 1.3524498886414253, 1.220367570082587, 1.1473684210526316, 1.0027675629391213, 1.0152302454757212, 1.3421052631578947, 1.4615384615384615, 7.0, 1.4, 1.3486842105263157, 1.514623172103487, 1.25842175066313, 1.6414473684210527, 1.0763052208835342, 1.0112937595129377, 2.4444444444444446, 2.0, 1.0179388317942948, 3.5, 1.4744525547445255, 1.2461538461538462, 1.0681912309569384, 1.0968730839975476, 2.4745762711864407, 1.625, 2.3529411764705883, 1.2661806278827556, 1.4817351598173516, 1.0669642857142858, 1.051150895140665, 4.666666666666667, 1.041860465116279, 1.2042440318302388, 1.2057877813504823, 1.0002138477756057, 1.569853041291857, 1.5, 1.0020363950274331, 1.1501340482573728, 1.0933878663940013, 1.008317033157712, 1.0603174603174603, 1.0, 1.0980310012568077, 1.0827906976744186, 1.233382355611235, 1.0463197083688824, 1.288632326820604, 1.034521158129176, 1.0311835577604536, 1.382306477093207, 1.0247349823321554, 1.0331050228310503, 1.4290355518425695, 1.0117376394786546, 1.0284132942433624, 1.2249163879598661, 1.0367917586460633, 3.0, 1.1338289962825279, 1.4137931034482758, 1.38688138256088, 1.0000080062288461, 1.6096033402922756, 1.0108411749973165, 1.1666666666666667, 1.373134328358209, 1.3486040652931635, 9.0, 1.0, 1.21656050955414, 7.0, 1.183453237410072, 1.0659003831417624, 1.2, 1.1685316879313952, 1.3072409988968008, 1.0034530386740332, 1.4524886877828054, 1.8888888888888888, 1.2935779816513762, 1.1076555023923444, 1.0140589210962798, 1.067945643485212, 1.0916179337231968, 1.2884615384615385, 1.0266003801239967, 1.0649792217604837, 1.0325333784012167, 1.5, 1.4800169168957495, 1.1267281105990783, 1.2935153583617747, 1.375, 1.0, 1.5, 1.0525311861717392, 1.2878787878787878, 1.0445314280352282, 2.3333333333333335, 1.1477045908183632, 3.0, 1.3079710144927537, 1.1138691199444541, 1.2164162020455636, 3.0, 1.0738779573422574, 5.285714285714286, 1.4210526315789473, 1.012253442909823, 1.4488935721812435, 1.5, 1.3234818049490538, 1.010256892820175, 1.6, 1.0392156862745099, 1.380155165373622, 1.0092879256965945, 1.0953436807095345, 1.0055175546795707, 1.1044117647058824, 1.1979166666666667, 1.5443388997676937, 1.28365367278497, 1.000682031682302]
origin-bjaq_15.71 	max: 43.0000	99th: 6.3333	95th: 2.5000	median: 1.1669	mean: 1.4396

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.213013 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=7', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[4.8714876e-04 2.3841858e-07 0.0000000e+00 1.1920929e-07 2.3841858e-07]
Distance score: 9.754896018421277e-05
SAUCE Drift detection: True
Detection latency: 0.0417s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.7365 bits (loss 18.928, data 18.191) 0.00300 lr
epoch 10 train loss 12.3617 nats / 17.8342 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap -0.3905 bits (loss 17.801, data 18.191) 0.00256 lr
epoch 20 train loss 12.0666 nats / 17.4084 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.8285 bits (loss 17.363, data 18.191) 0.00150 lr
epoch 30 train loss 11.9455 nats / 17.2337 bits
time since start: 12.8 secs
Epoch 30 Iter 0, train entropy gap -1.0394 bits (loss 17.152, data 18.191) 0.00044 lr
epoch 40 train loss 11.9104 nats / 17.1831 bits
time since start: 17.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.4479 nats / 30.9427 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.111908 | Model-update-time: 19.503616


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=7', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:7
origin-bjaq_15.71 	max: 30.0000	99th: 6.5010	95th: 2.6667	median: 1.1659	mean: 1.4381
ReportEsts: [2.6666666666666665, 1.0630701111924896, 1.0010895501247534, 1.0434625135820355, 1.3487335167441419, 1.0248293887033542, 1.0009557396947368, 1.4903902702957021, 2.0, 5.152298850574713, 1.021325079280682, 1.0500963391136802, 1.429054054054054, 1.0203395708509193, 3.0, 1.0726622255119664, 1.582191780821918, 1.0266685887271154, 1.1111111111111112, 1.3037605932203389, 1.1598970883293174, 1.735042735042735, 2.625, 1.2321906802356721, 1.1008902077151335, 1.003563261670141, 1.1953488372093024, 1.0, 1.5241038318912237, 1.1203816209891544, 5.0, 1.1717171717171717, 1.1681043551441195, 1.2244897959183674, 1.5352112676056338, 1.0793073593073592, 1.7894736842105263, 2.25, 1.0291144359078044, 1.8333333333333333, 1.033781454670803, 1.265171358380328, 3.0, 1.8450704225352113, 1.0281811421190654, 1.3261904761904761, 1.0, 1.2333965844402277, 1.0074049544672992, 1.1993173162406296, 1.0670859538784068, 1.0195955602995983, 1.3303571428571428, 1.2868593636142822, 1.1717501815541032, 1.1049941927990707, 8.0, 1.031856738925542, 1.2324386039333195, 1.0122699386503067, 1.3571428571428572, 1.2786206896551724, 1.2293988448710649, 1.01875, 1.0657894736842106, 1.7064220183486238, 1.0249441548771407, 1.1693290734824282, 1.0830003158516321, 1.074589289524216, 1.0, 1.2901158675161135, 1.072289156626506, 1.0, 1.0513765978367748, 1.06074489486593, 1.0310143637667186, 1.1111111111111112, 1.047362755651238, 1.1176470588235294, 1.327486734607934, 1.4349030470914128, 1.0035457143890878, 1.0451238390092878, 1.4908788364353507, 1.0098019668022018, 1.053191489361702, 1.3882113821138211, 1.051371918285042, 1.5, 1.4149659863945578, 1.0411764705882354, 1.0108295230874098, 1.4355828220858895, 1.3255813953488371, 1.6967213114754098, 1.9069767441860466, 1.0065040650406505, 1.184404636459431, 2.5, 1.0386946915188942, 1.3433098591549295, 1.2413819709883431, 1.2447209653092006, 1.0, 1.2663273960983885, 1.0202086049543677, 1.4987012987012986, 1.0031444368541305, 1.1537466307277628, 3.0, 1.3832020997375327, 1.029438202247191, 1.170704845814978, 1.9166666666666667, 2.7349397590361444, 1.0467019740009629, 1.4852941176470589, 1.2904820766378244, 1.0, 6.5, 1.0663215087208158, 1.2299651567944252, 1.1053698074974672, 1.0115886387004878, 1.0469245402663285, 1.0324400886391154, 1.0729256351276681, 2.8, 1.497360750019696, 1.0484496124031009, 1.1781679123935338, 1.1690427698574337, 1.0200501253132832, 7.6923076923076925, 1.2051855163164953, 1.1111111111111112, 2.111111111111111, 1.403957131079967, 1.5309874386490308, 1.0113358617783397, 1.021379275855171, 1.7599486521181, 1.2778734395178648, 2.0, 1.5066666666666666, 1.237243667509537, 1.1071428571428572, 1.1058823529411765, 1.3579638752052545, 1.0234454751231636, 1.5323181049069374, 1.6666666666666667, 1.0462127937946826, 1.3517241379310345, 2.0, 1.2503875830853395, 1.0181979582778518, 1.006579868402632, 1.2222222222222223, 1.0470252939080869, 1.4178654825712937, 1.9243589743589744, 1.0447427293064877, 1.9357798165137614, 1.4653679653679654, 1.2671245156040987, 1.8421052631578947, 1.0041786944780706, 1.1393894814269951, 1.1056910569105691, 1.150943396226415, 1.0, 1.0816326530612246, 1.5088757396449703, 1.031951412727753, 1.0047961630695443, 2.75, 1.1148654045850308, 1.4230769230769231, 1.485959162613822, 1.1176470588235294, 1.0588235294117647, 2.090909090909091, 1.0251986819150998, 1.2118644067796611, 1.0, 1.3333333333333333, 2.6666666666666665, 1.3407707910750508, 1.0438036727554199, 1.3055555555555556, 1.0080508362850136, 1.2505787675008269, 1.4432677760968229, 1.0142670780444372, 1.1468003013629826, 1.2445255474452555, 1.2205882352941178, 2.7142857142857144, 1.0, 1.2964239834307736, 1.3333333333333333, 1.7142857142857142, 2.1052631578947367, 1.75, 1.8333333333333333, 1.1412213740458015, 1.0449400215371516, 1.3333333333333333, 1.0072494898507143, 1.08355573804147, 1.0093253932557316, 1.0464355788096795, 1.4078624078624078, 1.8265682656826567, 1.1511627906976745, 1.1261234272019174, 1.0343868018286624, 1.0004860362057986, 1.064516129032258, 1.063953488372093, 1.1790909090909092, 3.6666666666666665, 1.2279534109816972, 1.380848748639826, 1.047940995697603, 2.0, 1.0019120458891013, 1.2159433029337436, 1.2014036329322955, 1.4191176470588236, 2.0, 1.004756242568371, 1.5235895790017164, 1.5885416666666667, 1.0023629489603025, 1.242069503978821, 1.017996233844047, 2.5, 1.0306435388503152, 1.0036242092052352, 1.3500363108206246, 5.5, 1.5289022782903408, 1.0321750321750323, 1.0003628344628235, 1.0120284639954715, 1.75, 1.2206845421969603, 1.1091288502233718, 1.0076657129232236, 1.0234702430846605, 1.013157894736842, 1.7344255227419703, 1.1072026800670016, 1.194767441860465, 1.0474718631635196, 1.0910973084886129, 1.1119402985074627, 2.6666666666666665, 1.025896995302204, 1.5280077934729663, 1.0038246174282912, 1.0193236714975846, 1.36, 1.2432396341056287, 1.2142857142857142, 1.0033863591402605, 1.033928503372842, 2.75, 1.186747407252732, 1.0661426380368098, 1.3846153846153846, 1.069877725603236, 1.0568350464464353, 1.0632911392405062, 1.0054317485703939, 1.4216120242161203, 3.0, 1.0333487725798982, 1.06163753449862, 1.4699216526147423, 3.0, 1.1232876712328768, 1.0141270118964312, 1.5131721918117145, 1.4310082726437108, 1.4375, 1.1858874208377537, 1.263157894736842, 1.054176072234763, 1.0252954693090042, 1.1875, 1.1379897785349233, 1.4028892455858748, 1.0655737704918034, 1.0046296296296295, 1.0053530745364103, 1.0566294378236725, 1.2048192771084338, 1.0789473684210527, 1.0952955367913149, 1.2657946926055341, 1.0279329608938548, 1.1306436119116234, 1.0636786869723034, 1.2356714747394484, 1.080047789725209, 1.5769230769230769, 1.0, 1.325, 1.0250782906086684, 1.4852298059470588, 5.8125, 1.1813725490196079, 1.3225806451612903, 1.116851168511685, 1.0111581515499426, 1.0784313725490196, 1.2604146941867072, 1.016177727143264, 1.1752988047808766, 1.4536940686784598, 2.0, 1.2848679098679099, 1.5033395872420263, 1.2564102564102564, 1.0232040893305412, 1.0, 1.0701071080817917, 1.298553111398659, 2.0, 1.328964588688341, 1.1151901105075857, 1.7165775401069518, 1.001850138760407, 1.0, 1.0, 1.002824245057571, 1.1155729676787463, 1.2083333333333333, 1.0045732416513915, 1.4357496666031626, 2.0, 1.05, 1.2677595628415301, 1.4663615560640733, 1.0023927383038014, 1.1018518518518519, 1.0010560340869437, 1.9791666666666667, 1.074468085106383, 1.5, 1.1154150197628458, 1.2166802943581356, 1.3791469194312795, 1.2409021014864172, 1.20863665276698, 1.032107158482819, 2.5714285714285716, 1.565217391304348, 1.4405975258694468, 1.0048947435134898, 5.333333333333333, 1.2344322344322345, 1.2733282579047973, 3.340909090909091, 1.3883248730964468, 1.1041028781383957, 1.2007722007722008, 1.25, 30.0, 1.3333333333333333, 1.3162784502422538, 1.1620962827544181, 1.075268817204301, 1.00430848772081, 1.554917562136002, 1.2885120995868433, 1.6666666666666667, 1.0733643642623358, 1.5357917570498916, 1.0961538461538463, 1.0050418885307137, 1.9146868250539957, 1.0346590481918654, 1.0430579964850615, 1.2857142857142858, 1.084668889947594, 1.2644226957601812, 1.0228550018733609, 1.0448171455463977, 1.34715821812596, 1.0888306654224391, 1.2282974318356135, 1.1292639138240574, 1.005175983436853, 1.6080665581479472, 1.0405089969632417, 1.9411764705882353, 1.2295081967213115, 1.2997502081598669, 1.0072625698324023, 1.896, 1.0175053918044572, 1.1726332537788384, 1.1578947368421053, 1.0832782551222737, 1.1051660516605166, 1.0, 2.0, 6.6, 1.38676844783715, 1.819047619047619, 1.0698865162503357, 1.4404761904761905, 1.0441595441595442, 1.1538461538461537, 1.4224738182847438, 3.0, 1.0173410404624277, 1.0978584176085664, 1.2444661317764516, 3.0, 1.2451154529307282, 1.1623536660505238, 1.619047619047619, 1.0759396093030251, 1.0306764551651808, 1.6923076923076923, 1.371816638370119, 1.7568438003220612, 2.6363636363636362, 1.1727272727272726, 1.5, 1.0870044052863437, 1.340983606557377, 1.0666666666666667, 1.2127162225338943, 1.0403073168302037, 1.2488048443641773, 1.3333333333333333, 1.098380323935213, 1.0, 1.0, 1.1380398909456162, 1.213936767029558, 1.1818181818181819, 1.025152957171992, 1.0110681212736268, 1.069778227506535, 1.1818181818181819, 1.2148148148148148, 1.3333333333333333, 1.0, 1.2498202135310061, 1.0066262038523275, 1.2359821927437233, 1.565459610027855, 1.0631276901004305, 1.5343441193567138, 1.0838963963963963, 1.6820032573289903, 1.52106149957877, 1.2198581560283688, 1.2408678770928945, 1.0392414664981036, 10.75, 1.0784142317022531, 1.19133759835282, 1.2632558139534884, 2.25, 1.2875536480686696, 1.3331371394938198, 1.008, 1.1766759776536313, 1.3129765930641204, 1.0350796836901026, 1.0071345858034186, 1.0204081632653061, 1.1529411764705881, 1.4516129032258065, 1.0086655544729095, 1.1827956989247312, 1.2166666666666666, 1.0078405422977637, 1.207017543859649, 1.2853982300884956, 1.4901185770750989, 1.0190275059235603, 1.136335418556898, 3.75, 2.2857142857142856, 1.125, 1.006135015677534, 1.391304347826087, 1.0191716599901373, 1.037173893687116, 1.4260869565217391, 2.0, 1.1163586584531142, 1.0165715912953215, 1.3755230125523012, 1.0171428571428571, 1.2727272727272727, 2.0, 1.0057876885836523, 1.4130232558139535, 1.1003281762775434, 1.2091503267973855, 1.2642201834862385, 1.014739994868492, 1.0131086142322097, 1.1755952380952381, 1.1684053651266766, 1.0040000578670216, 1.9523809523809523, 1.5206858293204617, 1.0077884946456823, 3.5, 1.0064605931935295, 1.0551403733120592, 1.0, 1.5858250276854928, 1.0038479486731615, 1.0121845082680592, 1.0272763298791747, 1.3063047999247563, 1.0714285714285714, 1.2308228730822872, 1.1224489795918366, 1.4384449244060475, 1.143341151941621, 2.7771084337349397, 1.1079136690647482, 1.1583850931677018, 1.1179649742763602, 1.4637223974763407, 1.4731375817412489, 3.25, 1.0194610778443114, 1.1428571428571428, 1.001019622890426, 1.5061532188078335, 1.1262699564586358, 1.009571781183629, 1.2536311333657357, 1.096969696969697, 1.0268611452090404, 1.0, 1.113672182821119, 1.1356347438752783, 1.0267349260523322, 1.229527559055118, 1.0803765387400435, 1.1925287356321839, 1.0, 2.8181818181818183, 1.1507760532150777, 1.0456570155902005, 2.0, 1.5080880129231178, 1.0513997659555316, 1.0, 2.0, 2.459016393442623, 1.2966480446927375, 1.7132616487455197, 1.033266057224267, 1.671875, 1.1184371184371185, 1.0104547561415254, 1.75, 1.2589167767503302, 1.5833333333333333, 1.450381679389313, 1.0454545454545454, 1.162079510703364, 1.0232508919392878, 1.2, 1.045876037091264, 1.0261941448382126, 1.028109492193696, 1.1522593320235757, 1.1634877384196185, 1.0146908499285527, 1.1647058823529413, 1.0, 1.1314804147465438, 1.0695517264144716, 1.1222707423580787, 1.008188979010691, 1.464929859719439, 1.4245869603837271, 1.0146806948862246, 1.0273588571087002, 1.2285714285714286, 1.0185282702396974, 1.0530503978779842, 1.0120367796208776, 1.082191780821918, 1.242498475742531, 3.2857142857142856, 1.0805518145087905, 2.6134453781512605, 1.166907166907167, 1.0179251389840835, 1.064915583269604, 1.0178188140164472, 1.0202874049027895, 1.221121381524326, 1.3333333333333333, 1.0238888028496205, 1.8802660753880267, 1.0227935329976146, 1.102085620197585, 1.2, 1.3332857095756723, 1.0998330550918196, 1.484598763881212, 1.2464754198847616, 1.3844444444444444, 1.5, 1.4579124579124578, 1.196998722860792, 1.0941644562334218, 1.2933295091370975, 1.0108535674668484, 1.0013901090382926, 1.1002931582641728, 1.3142242281136982, 1.38993981083405, 1.0943513225462649, 1.218210361067504, 1.2980730949916395, 1.9116279069767441, 1.3875968992248062, 1.3231046931407942, 3.0, 1.1268417680973735, 1.0587012987012987, 1.0093704097654865, 1.2859936813600121, 1.0383073344669331, 1.1576967290207962, 1.6371463714637147, 1.0019922964537122, 1.1020781000228363, 1.4346590909090908, 1.0007272727272727, 1.0, 1.5419212040725985, 1.2857142857142858, 1.4285714285714286, 1.2719313207118086, 1.0774010683527744, 1.4269662921348314, 2.018867924528302, 1.1553030303030303, 1.5, 3.2333333333333334, 1.3333333333333333, 2.25, 2.6666666666666665, 2.25, 1.0934691431995207, 1.1697127937336815, 1.0382262996941896, 1.251585623678647, 1.08, 1.0599046970728387, 1.4955655533375045, 1.004104691137051, 1.0, 1.1548771407297096, 1.2324561403508771, 1.0204640250260688, 1.4107617201522005, 1.0311041990668741, 1.115702479338843, 1.1046377325836105, 1.0039515279241307, 2.6666666666666665, 1.1315958815958815, 1.0114365506695353, 1.0871212121212122, 1.4623841877702286, 1.0209971999490899, 1.0178956767616638, 2.4014084507042255, 1.1618705035971224, 1.1323062981422747, 1.015755329008341, 1.0863747530806134, 1.101457191690307, 3.0, 1.0089011863244954, 1.6530483972344439, 1.6956521739130435, 1.2, 1.0005024533856721, 1.0060925886836054, 1.0347222222222223, 1.7333333333333334, 1.0240785369263352, 1.0305545468693262, 1.0134017693908, 1.0073131868880143, 1.0, 1.2339261285909713, 1.1005347180665213, 1.5, 1.0618556701030928, 1.0192741100408107, 1.1067961165048543, 1.0386880299055319, 1.0904725152216792, 1.4234693877551021, 1.4166666666666667, 1.1197478991596639, 1.008256758556399, 1.002945897076451, 1.0576110328464448, 1.6215384615384616, 1.6054158607350097, 1.0208890775220978, 1.5133422534144556, 1.0986145069274653, 1.3545347467608952, 1.2668269230769231, 1.0867224880382775, 3.0, 1.4657159016557062, 1.0102739726027397, 1.2638947695260676, 3.5, 1.0515463917525774, 1.0, 1.087763594707065, 1.1428571428571428, 1.35, 1.009579202965138, 1.0024582503758481, 1.1260504201680672, 1.0372455608488522, 1.0081688223281144, 1.513159319831041, 1.166871969189029, 1.1029727396077464, 1.8736263736263736, 1.2394366197183098, 1.0208020233862396, 1.0101678061715236, 1.6666666666666667, 1.0330551641920451, 1.0, 1.0859257400903162, 1.0350877192982457, 1.4520593080724877, 3.0, 1.1616031027795735, 1.2453589627042416, 1.271537622682661, 1.0172413793103448, 1.0209424083769634, 1.2275862068965517, 3.0, 1.4166666666666667, 1.0699588477366255, 1.0130032363396082, 1.2874015748031495, 1.003302065703458, 1.5, 1.3461538461538463, 1.056701030927835, 1.0606176134197485, 1.0275974025974026, 1.026326929667184, 1.2282608695652173, 2.0, 1.7222222222222223, 1.261764705882353, 2.0, 1.013771186440678, 1.1378901619913078, 1.030076408228978, 1.5, 1.6666666666666667, 1.1262013549708523, 2.0636942675159236, 3.6666666666666665, 1.0178182690002398, 1.1403508771929824, 1.670428893905192, 1.1981132075471699, 1.2535045583766298, 6.0, 1.353939393939394, 1.0005401812518953, 2.18, 2.182634730538922, 1.8235294117647058, 1.3333333333333333, 2.1366906474820144, 1.656, 1.015981364104231, 1.016774280560379, 1.0372960512888239, 1.31374321880651, 8.0, 1.2073170731707317, 1.8, 1.0020494603087853, 1.572973303195064, 1.3674911660777385, 2.2857142857142856, 1.221891731112433, 1.1629353233830846, 1.167987321711569, 1.2062478777589134, 1.148523206751055, 1.0516617006646802, 1.1920265780730896, 1.2727272727272727, 1.0, 1.0030935938939556, 1.1422963689892052, 1.0152774055213079, 1.5718120805369127, 1.0180981994898244, 1.5031316588106154, 1.1538655233879571, 1.003490564567653, 1.1518018018018017, 1.1097546521275334, 7.0, 1.0423006695069994, 1.5212966522065419, 1.4040150564617315, 1.179053801955078, 1.0355732670371454, 1.5833333333333333, 1.0360195360195361, 1.0403356435380653, 1.4885057471264367, 1.0424194496826653, 1.1658670322138451, 1.0013609369844936, 1.3157894736842106, 2.5, 1.038150520416333, 1.480765477610322, 1.062052505966587, 1.1025641025641026, 1.8016528925619835, 1.0, 1.3962264150943395, 1.0, 1.023300174474623, 1.0, 1.0989304812834224, 1.0140914206354907, 1.1607142857142858, 1.0354954034729316, 1.4335084324025436, 1.0034665723381677, 1.0057236304170074, 1.1358839050131926, 1.2857142857142858, 1.6593406593406594, 1.0333333333333334, 1.313029632905794, 2.0, 1.0297619047619047, 1.000303339861088, 1.3428571428571427, 1.0847457627118644, 1.3860759493670887, 1.0090115771415658, 1.0658362989323844, 1.153564899451554, 1.1827405445014374, 1.085427135678392, 1.0508249294849503, 1.1748557787945098, 1.3697478991596639, 1.4411764705882353, 8.0, 1.2, 1.6800656275635768, 1.0189964157706093, 1.0998323319826744, 1.7321937321937322, 1.7852348993288591, 1.052889021813586, 1.1658986175115207, 1.4444444444444444, 1.2050473186119874, 1.1215469613259668, 1.4078212290502794, 1.434127285926643, 1.0807291666666667, 1.081177352830896, 1.0235666549419626, 1.4475125810105662, 1.2441299453200385, 1.223809523809524, 1.223981422841461, 1.0148716718637563, 1.0140571480371146, 1.2337164750957854, 1.9444444444444444, 1.0472175379426645, 1.0460858585858586, 1.1211340206185567, 1.0163016726346168, 1.5077398167524905, 1.5, 1.0031972467562815, 1.6692607003891051, 1.0654824103099965, 1.0376910094076155, 1.1590106007067138, 1.1388888888888888, 1.2494729444834856, 1.2279835390946503, 1.2456404144127624, 1.0037750740867597, 1.0623931623931624, 1.1031941031941033, 1.071240105540897, 1.3888888888888888, 1.2968197879858658, 1.0061596143545795, 1.43578712555768, 1.0042630007195206, 1.127412179339034, 1.059013742926435, 1.3242296918767507, 3.0, 1.3140495867768596, 1.0476190476190477, 1.1460564751703992, 1.0018286603042121, 1.3967391304347827, 1.0045523001095291, 1.2222222222222223, 1.075268817204301, 1.3598840078973347, 5.0, 1.0, 1.00990099009901, 9.0, 1.3110047846889952, 1.106749311294766, 1.1538461538461537, 1.2294220665499125, 1.2681016660586162, 1.0060180541624875, 1.2304832713754648, 1.6111111111111112, 1.3171806167400881, 1.2351485148514851, 1.057179673028912, 1.0982218458933108, 1.0186448385629832, 1.0018703241895262, 1.0258251203746198, 1.2224631396357328, 1.1074956947339798, 3.0, 1.463753542371332, 1.1036866359447004, 1.0198675496688743, 1.1785714285714286, 1.0, 1.5, 1.0480793734391194, 1.8941176470588235, 1.004622238244837, 2.0, 1.019804822043628, 2.2857142857142856, 1.3579136690647482, 1.1508742714404663, 1.217396124340384, 2.0, 1.0350552002281337, 8.2, 1.1546391752577319, 1.037726615844567, 1.032890132960112, 1.5555555555555556, 1.306072601701339, 1.054844552366546, 1.8, 1.6226415094339623, 1.1266666666666667, 1.2727272727272727]
origin-bjaq_15.71 	max: 30.0000	99th: 6.5010	95th: 2.6667	median: 1.1659	mean: 1.4381

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.304829 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=248.608609