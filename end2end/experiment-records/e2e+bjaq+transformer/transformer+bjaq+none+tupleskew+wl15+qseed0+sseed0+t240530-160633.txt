Input arguments = Namespace(data_update='tupleskew', update_size=20000, dataset='bjaq', debug=False, drift_test='none', model_update='none', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 0, 'transformer': {'epochs': 40}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=tupleskew', '--model_update=none', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.5007	95th: 1.6679	median: 1.0839	mean: 1.1695
ReportEsts: [1.0975609756097562, 1.0111979166666667, 1.058005294909075, 1.0743801652892562, 1.5, 1.0, 1.048547874346678, 1.0700143540669858, 1.0, 1.0290620871862615, 1.1665079502496176, 1.042971867630415, 1.0759150474469046, 1.1162790697674418, 1.0473330978452844, 1.0, 1.2162162162162162, 1.0161987041036717, 3.0, 2.0, 1.2857142857142858, 1.1189131798658365, 1.0496768881459118, 1.1403405754550793, 1.0838677849037988, 1.0, 1.1540623311115115, 2.0, 1.4, 1.0071942446043165, 1.0, 1.0517420014674166, 1.0013705338306267, 1.08157602663707, 1.070788662064914, 1.232046042205355, 1.2085561497326203, 1.0174218954587453, 1.0845443901095118, 1.0952380952380953, 1.2341772151898733, 1.0396341463414633, 1.0, 1.0032976553111812, 1.0988135593220338, 1.8615384615384616, 1.0, 1.243816254416961, 1.0236999390119943, 1.1574074074074074, 1.0417335876330054, 1.2353951890034365, 1.0396915322442197, 2.0, 1.3558441558441559, 1.1844437029622215, 1.0464231354642313, 1.3592233009708738, 1.00625, 1.0, 1.0724509269356597, 1.108343711083437, 1.0772727272727274, 1.0481927710843373, 1.1818181818181819, 1.0943146092951024, 1.2603586889301175, 1.75, 1.0, 1.0848326652372517, 1.020706455542022, 1.059675550405562, 1.052132701421801, 1.1365555393798223, 1.051764705882353, 1.0344827586206897, 1.0, 1.11482254697286, 2.0, 1.0093991223623804, 1.032258064516129, 1.021741448434701, 1.196319018404908, 1.0954773869346734, 1.1172718351324828, 1.04, 1.0664697003757346, 1.0526898520058559, 1.0392156862745099, 1.75, 1.1408235892221656, 1.0816241302033398, 1.003125, 1.0, 1.0009140767824498, 1.0233766233766233, 1.0887096774193548, 1.1650099403578529, 1.0, 1.2276262460291378, 1.0255463673951566, 1.0360205831903946, 1.2257352941176471, 1.3076923076923077, 1.0111899143080698, 1.0883992567029466, 1.2364494518879416, 1.1281759575274934, 1.0441446965052115, 1.1666666666666667, 2.0, 1.0658878504672897, 1.0774135291980047, 1.069488313329122, 1.103896103896104, 1.0615462195467869, 1.0, 1.0819930621255125, 1.1741573033707866, 1.0, 1.021978021978022, 1.1666666666666667, 1.1353383458646618, 1.0303671292185903, 1.11260386736041, 1.108910891089109, 1.8, 1.1481788079470199, 1.0, 1.0769230769230769, 1.091615462473546, 1.1818181818181819, 1.1189778645833333, 1.0354839317452442, 1.0943687323219338, 1.0827770360480642, 1.0138888888888888, 1.0627435697583787, 1.039972432804962, 1.0798293723339427, 1.034372528896142, 1.1020408163265305, 1.0421481985044188, 1.1444913655669275, 2.0, 1.0214220601640838, 1.0274285714285714, 1.090663058186739, 1.115581436386095, 1.5, 1.1683216275127148, 1.0305343511450382, 1.0, 1.1074561403508771, 1.1824817518248176, 1.000842886041807, 1.0929882461930402, 1.1589068297016252, 1.047808764940239, 1.0986842105263157, 1.2857142857142858, 1.3529411764705883, 1.027982326951399, 1.2857142857142858, 1.0617637271214642, 1.0441711335961388, 1.1642091152815013, 1.3389101338432123, 1.1618168914123492, 1.1380297368211816, 1.328421052631579, 1.1306413301662708, 1.0553887866757046, 1.0262891809908998, 1.0517241379310345, 1.086491739552964, 1.0276999688764394, 1.1078111587982833, 1.0059644348816605, 1.0, 1.008, 1.024837708156929, 1.0279106858054226, 1.184487291849255, 1.013157894736842, 1.087119023322719, 1.276955602536998, 1.1127848840984351, 1.1372549019607843, 1.2263636363636363, 1.1000870431809868, 1.0, 1.0, 1.0602477704693112, 1.0500595947556615, 1.0170585523282618, 1.1666666666666667, 1.0572347266881028, 1.0506173664171168, 1.0906686353502562, 1.0626410835214446, 1.0107515547591441, 1.112994350282486, 1.0847457627118644, 1.1830985915492958, 1.0, 1.4285714285714286, 1.037218104399937, 1.3414634146341464, 1.1839080459770115, 1.013346515076619, 1.0031277926720286, 1.0295808932477246, 1.0279103318166685, 1.0285237140948564, 1.0114942528735633, 1.0419075144508672, 1.0088264138607388, 1.0453644666551785, 1.013204043738395, 1.0, 1.0459627329192547, 1.1381639847950682, 1.0094393070205039, 1.1518131530424094, 1.0140459686245895, 1.277570648943643, 1.0357142857142858, 1.0048518746262118, 1.057632800412584, 1.033276931754089, 1.1098265895953756, 1.1503221188260557, 1.0309477756286267, 1.1173228346456694, 2.0, 1.1778458112997494, 1.0612996873604288, 1.1432255039849977, 1.098360655737705, 1.0, 1.6666666666666667, 1.1121330964984788, 1.1454545454545455, 1.1255370617756435, 1.5, 1.0, 1.025, 1.115534738485558, 1.010204081632653, 1.0138121546961325, 1.1381856540084387, 1.0541455160744502, 1.005457598656591, 1.0910357910222412, 1.0, 2.0, 1.0770053256019576, 1.0812374805252616, 1.1138353765323994, 1.0174132993289713, 1.1496394055300885, 1.0265856245685518, 1.0779014308426074, 1.0987447846064469, 1.0245215311004785, 1.030507018046405, 1.1480332722402369, 1.0, 1.0220372484745803, 1.1009389671361502, 1.2045454545454546, 1.1904761904761905, 1.0084341767510083, 1.0555555555555556, 1.017094017094017, 1.1135186057465851, 1.0222841225626742, 1.3759398496240602, 1.0307781858332734, 1.0335570469798658, 1.0258595277383418, 1.0637148662377243, 1.1111111111111112, 1.0554383412149873, 1.6666666666666667, 1.033299166863781, 1.0475161987041037, 1.0339401938919486, 1.0810810810810811, 1.6666666666666667, 1.4782608695652173, 1.0757575757575757, 1.0952694698451997, 1.0, 1.1253822629969419, 1.0361990950226245, 1.0080128205128205, 1.0149243761906974, 1.1454545454545455, 1.150943396226415, 1.0026543383490367, 1.142072441759023, 1.0977172958735733, 1.1794871794871795, 1.0, 1.1026252983293556, 1.264797507788162, 1.1030927835051547, 1.0172704296545914, 1.0233527939949958, 1.1971830985915493, 1.18, 1.0041152263374487, 1.0046439628482973, 1.2857142857142858, 1.0087218161127933, 1.0360531309297913, 1.0555555555555556, 1.0933395359019265, 1.0952380952380953, 1.2727272727272727, 1.0013271624506013, 2.0, 1.1906721536351166, 1.058139534883721, 1.1189499589827727, 1.0975508509755085, 1.1712538226299694, 1.0705882352941176, 1.0942112312125434, 1.0960216807445453, 1.036723163841808, 1.0263239836064195, 1.030320407139273, 2.0, 1.0, 1.0563312689960922, 1.25, 1.0691578360290017, 1.3529411764705883, 1.0, 1.4666666666666666, 1.359437751004016, 1.0619136960600375, 1.29, 1.0194805194805194, 1.0, 1.1990679094540613, 1.0594976277955792, 2.0, 1.2888624181060155, 1.0, 1.0951947164654976, 1.1265822784810127, 1.000734715297822, 1.1428571428571428, 1.1363636363636365, 1.311731843575419, 1.3055555555555556, 1.0236508277789722, 1.0217306844708534, 1.072857142857143, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.2307692307692308, 1.0689388018155142, 1.3333333333333333, 1.1064891846921796, 1.1744186046511629, 1.3340882969373267, 1.043989292596371, 1.230690010298661, 1.0090681528361594, 1.013921113689095, 1.05, 1.5, 1.1483253588516746, 1.0808510638297872, 1.0515555700762063, 1.0952380952380953, 1.5714285714285714, 1.0089086859688197, 1.0123602118893467, 1.0410121762638933, 1.0122549019607843, 1.1464387464387464, 1.0041039671682626, 1.0256410256410255, 1.0907770515613653, 1.0942796610169492, 1.2307692307692308, 1.0240793201133145, 1.1388888888888888, 1.0757708969419888, 1.0598991864473326, 1.0252622033637313, 1.4098360655737705, 1.1326530612244898, 1.1049382716049383, 1.0, 1.027688482595811, 1.0689845897725156, 1.0571789493755364, 1.0574608154195335, 1.0864325784334095, 1.1464887194153162, 1.8333333333333333, 1.2617163724893488, 1.2, 1.2476515798462853, 1.25, 1.0170797071418705, 1.0117302052785924, 1.0429922613929492, 1.150197628458498, 1.2348860257680871, 3.0, 1.2432629278951202, 1.000548918993507, 1.1229998160750414, 2.0, 1.0, 1.2600767754318618, 1.2654545454545454, 1.0803708182184604, 1.318087318087318, 1.2352941176470589, 1.0250215703192407, 1.0127608853156334, 1.048448323093179, 1.0985140713671124, 1.1023026315789475, 1.2023217247097844, 1.1785714285714286, 2.142857142857143, 1.0648648648648649, 1.4444444444444444, 1.2278056951423786, 1.1, 1.2293981421248472, 1.6666666666666667, 1.0518358531317495, 1.1256251181494785, 1.0801974090067858, 1.0, 1.163265306122449, 1.16, 1.2864937925510613, 1.048165137614679, 1.0, 1.0626146957351539, 1.1361613249788134, 1.0841276419394945, 1.5, 2.0, 1.005859375, 1.011786038077969, 1.0491803278688525, 1.1111111111111112, 1.0689655172413792, 1.1065830721003134, 1.4705882352941178, 1.0187947269303201, 1.0454545454545454, 1.0616797900262467, 1.0032362459546926, 1.207824989482541, 1.0111359853050916, 1.0, 1.0422535211267605, 1.0568946382742594, 1.0127916492104574, 1.0133220965284755, 1.0, 1.1134704711347048, 1.0101586842960661, 1.0220010476689365, 2.0, 1.0462519936204147, 1.0463675661030307, 1.084376197165113, 1.1023109519024945, 1.008971895373222, 1.0104714522624971, 1.0067681895093064, 1.1538090646094503, 2.0, 1.122797043774872, 1.2131147540983607, 1.25, 1.1398963730569949, 1.1153846153846154, 1.003434134631414, 1.1505376344086022, 1.0597129040273716, 1.0060018467220684, 1.0805948027650554, 1.0515352360340864, 1.064201255244634, 1.1573033707865168, 3.0, 1.0128580002400671, 1.1959514170040486, 1.0495093639859496, 1.0281696895291623, 1.1032470826991374, 1.0893230983949755, 2.3222222222222224, 2.5714285714285716, 1.0147660320397331, 1.082247947143828, 1.011337402211401, 1.1492649830380701, 1.047531816428847, 1.052060737527115, 1.0630215886745906, 1.0147783251231528, 1.1966463414634145, 3.0, 1.0833333333333333, 1.01875, 1.0782442748091603, 1.099630996309963, 1.0243605359317904, 1.107843137254902, 1.0934065934065933, 1.148905109489051, 1.116564417177914, 1.0660149019980067, 1.2282608695652173, 1.0163220054509339, 2.0, 1.2876965772432933, 1.0912698412698412, 1.165289256198347, 1.0972067039106146, 1.0702576112412179, 1.0541666666666667, 1.1102464332036317, 1.0790478386757885, 1.0, 1.1702127659574468, 1.0, 1.0, 1.0568181818181819, 1.0564516129032258, 1.0077760497667185, 1.1019417475728155, 1.0653636654918295, 1.074245939675174, 1.1349533437013997, 1.1570361074667732, 1.0426687354538402, 1.0740115994543884, 1.0918918918918918, 1.1081967213114754, 1.0338655055636188, 1.0696688741721854, 1.1459537572254335, 1.1360711002145265, 1.0682612881974358, 1.1945717953420136, 1.0763747093606524, 2.0, 1.0466830466830468, 1.0984771573604062, 1.4205607476635513, 1.0, 1.1590909090909092, 1.1538461538461537, 1.0865384615384615, 1.3333333333333333, 1.1666666666666667, 1.0049783706711133, 1.1295567689095873, 1.033122946791174, 1.039381815329097, 1.1567567567567567, 1.1289437585733881, 2.0, 1.1240875912408759, 1.0261872744001699, 1.0908306106728292, 1.083496055611966, 1.1002392071989977, 1.0231971021916506, 1.2025974025974027, 1.128398537630794, 1.0817051509769093, 1.000179416448003, 1.0785312223498182, 1.303030303030303, 1.0691489361702127, 1.0, 1.2422535211267605, 1.2073213295830167, 3.0, 1.1346287300485773, 1.0234672210917455, 1.4285714285714286, 1.015993851334041, 1.2, 1.1176470588235294, 1.0796592803290972, 1.6923076923076923, 1.0112577499002937, 1.045279794959419, 1.3103448275862069, 1.1153846153846154, 1.1134020618556701, 1.0086083213773314, 1.0375275938189845, 1.0789482237462216, 1.1549961140488563, 1.0, 1.0448620464914187, 1.146341463414634, 2.0, 1.012154900016145, 1.0877152002768407, 1.1002838221381268, 1.019414817409023, 1.047947842603763, 1.0560747663551402, 1.8571428571428572, 1.0346320346320346, 1.0403225806451613, 1.1394125532384234, 1.2035327177840225, 1.016896604268986, 1.0650608116580058, 1.2087912087912087, 1.1107438016528925, 1.2006688963210703, 1.02628694103138, 1.0649842271293375, 1.0063810391978123, 1.0818181818181818, 1.0564631142227408, 3.0, 1.1304103012432023, 1.0391806462275845, 1.0314641930222856, 1.3571428571428572, 1.277392028884877, 1.138655462184874, 1.1428571428571428, 1.0654934048106088, 1.0420575865415722, 1.1266375545851528, 1.0588235294117647, 1.3333333333333333, 1.0686845083792764, 1.5, 1.102803738317757, 1.0833333333333333, 1.0857581466750401, 1.44, 1.1561181434599157, 1.0880503144654088, 1.0, 1.5264550264550265, 1.3507067137809188, 1.25, 2.0, 1.1176470588235294, 1.2206896551724138, 1.0376310919185687, 1.215561224489796, 1.1228070175438596, 1.1946902654867257, 1.1014466214978942, 1.0571428571428572, 1.1666666666666667, 1.3346938775510204, 1.04, 1.0, 1.1244343891402715, 1.0808080808080809, 1.0609504132231404, 1.059883961873187, 1.0961846027866986, 1.046119235095613, 1.09172027391575, 1.1830176402544823, 1.136798905608755, 1.016990291262136, 1.5714285714285714, 1.0, 1.2592592592592593, 1.0017226986415724, 1.0847308031774052, 1.107843137254902, 1.0, 1.0346697212676594, 1.0281980742778543, 1.0106043101190751, 1.1142857142857143, 1.2222222222222223, 1.030511060259344, 1.0690615058324495, 1.0749670836076366, 1.0481553828463765, 1.0328947368421053, 1.0839486119314825, 1.014793527547353, 1.323728813559322, 1.3564154786150713, 1.125, 1.0889872173058013, 1.9516483516483516, 1.1555555555555554, 1.20327868852459, 1.0701001430615165, 1.0, 1.028169014084507, 1.0081192122081648, 1.0185185185185186, 1.0905038250583112, 1.0010604453870626, 1.2285714285714286, 1.065473040133218, 1.013914924297044, 1.0889403706688154, 1.0286259541984732, 1.0916976456009913, 1.2028607260278616, 1.1991434689507494, 1.2142857142857142, 1.0, 1.4285714285714286, 1.0656412740704857, 1.3333333333333333, 1.2363929504642241, 1.0991061332184588, 1.0305715551617192, 1.0758689175769613, 1.05498947031429, 1.0002143622722401, 1.050179211469534, 1.042995839112344, 1.014464507948435, 1.0685461192350956, 1.0376222948406126, 1.2274479103938336, 1.6666666666666667, 1.03125, 1.0395256916996047, 1.060574023363028, 1.0618892508143323, 1.2895595432300162, 1.0329067641681902, 2.220779220779221, 1.0590833836203561, 1.0536912751677852, 1.0913397129186604, 1.1875, 1.048119690301932, 1.0221618717665621, 1.3632455668995165, 1.0581052631578947, 1.0666666666666667, 1.2536912751677853, 1.1104972375690607, 1.625, 1.0810899540380827, 1.8076923076923077, 1.3405405405405406, 1.0756501182033098, 1.0080917060013486, 1.036655611799616, 1.0119047619047619, 1.5714285714285714, 1.0717703349282297, 1.0966395823375858, 1.0585199177732096, 1.0054601261370075, 1.009873521011832, 1.034273920692922, 1.2307692307692308, 1.0664983164983164, 1.0362348178137653, 1.0090094148385063, 1.0370741482965933, 1.0208333333333333, 1.0, 1.056563477966675, 1.3937246963562753, 1.0111140513363324, 1.0, 1.3333333333333333, 1.041355781354298, 1.0160114367405289, 1.2145922746781115, 1.1101102770827542, 1.0678371907422186, 1.1538461538461537, 1.100679145597382, 1.0878781912449957, 1.0955882352941178, 1.0451977401129944, 1.043859649122807, 1.1099249006037402, 1.0952380952380953, 1.75, 1.0598167912164975, 1.1729569962322983, 1.0311581422692533, 1.0057142857142858, 1.2447501810282404, 1.0010430066404756, 1.1672757942086027, 1.1235955056179776, 1.2307692307692308, 1.0694070080862534, 1.1670761670761671, 1.146875, 1.4827586206896552, 1.0591239244608337, 1.1674925668979188, 1.1625207296849087, 1.048780487804878, 1.0270304610960646, 1.057625816365732, 1.064524765729585, 1.2573776985541691, 1.3333333333333333, 1.1666666666666667, 2.0, 1.1692789968652038, 1.1923076923076923, 1.0, 1.1538461538461537, 1.056953642384106, 1.1304347826086956, 1.0854558705361315, 1.0189533468559837, 1.055662188099808, 1.3076923076923077, 1.1428571428571428, 1.0689655172413792, 1.0405405405405406, 1.1, 1.1263157894736842, 1.0214739671626267, 1.0366257281733517, 1.3333333333333333, 1.0905329530921948, 1.0476953105450177, 2.5, 1.0690687625463577, 1.1589403973509933, 3.0, 2.0, 1.1547337278106509, 1.0889335150254609, 1.0315356265356266, 1.2515527950310559, 1.0, 1.084033613445378, 1.5153374233128833, 3.0, 2.0, 1.0004923682914821, 1.151498857373303, 1.0526052730226165, 1.6666666666666667, 1.0155984327641014, 1.0449264136328427, 1.015625, 1.125, 1.0339805825242718, 1.0226528984710153, 1.3289473684210527, 1.1546417601705008, 1.0001939826579505, 1.328125, 1.09765625, 1.059761188800981, 1.057813911472448, 1.0578512396694215, 1.2321428571428572, 1.0231640596162836, 1.4293706293706294, 1.0720114990318481, 1.3053892215568863, 1.1176470588235294, 1.2537313432835822, 1.073627844712182, 1.0616588419405322, 1.0277908861486695, 1.0752557961295268, 1.0414847161572052, 1.5, 1.6666666666666667, 1.1355238764942786, 1.1635883905013193, 1.1524995137132854, 1.0210233060468084, 1.0031879194630873, 1.1142651357878235, 1.3363636363636364, 1.0212765957446808, 1.1081675968870373, 1.0739043783772677, 1.2589020771513353, 1.2253218884120172, 1.6666666666666667, 1.0273972602739727, 1.0075774377171582, 1.1557580778790388, 1.0433077273615, 1.0882234468336747, 1.0355113636363635, 1.6, 1.0918367346938775, 1.0278268951759157, 1.1985378112862692, 1.091254752851711, 1.0680517808611072, 1.0605095541401275, 1.011037527593819, 1.0170990566037736, 1.0338148998943966, 1.0651569997474535, 1.0587557603686637, 1.0399467376830893, 1.0, 1.2210745957224831, 1.0572492915257337, 1.0528511821974966, 1.0640450336267826, 1.0924012158054712, 1.0279878971255674, 1.2857142857142858, 1.2139175257731958, 1.6666666666666667, 2.0, 1.1764705882352942, 1.0051413881748072, 1.003949447077409, 1.0072783987522744, 1.0073050767717378, 1.1299864314789687, 1.0084388185654007, 1.1141304347826086, 1.1395348837209303, 1.0393105915528524, 1.6, 1.5833333333333333, 1.0322255790533736, 1.1428571428571428, 1.1044117647058824, 1.1369315342328836, 1.0495695771450193, 1.1003229942705037, 2.0, 1.0316192909613542, 1.2286821705426356, 1.067340963534735, 1.0401111957209832, 1.1717171717171717, 1.1256849315068493, 1.1574593729573783, 1.1173500060117831, 1.0254372019077902, 1.2241379310344827, 1.0768156424581006, 1.0, 1.0, 1.0417322341833268, 5.0, 1.4285714285714286, 2.0, 1.121786197564276, 1.0930232558139534, 1.0992239467849223, 1.0870929776382896, 1.0, 1.1247672253258845, 1.0245327102803738, 1.1435897435897435, 1.3125, 1.4285714285714286, 1.020988490182803, 1.0842572062084257, 1.1293859649122806, 1.0792116028263294, 1.0140250937409865, 1.033527831805131, 1.0970127181307305, 1.0, 1.2787578795955494, 1.0665983377019066, 1.0055595408895266, 1.1774193548387097, 1.100132170235263]
origin-bjaq_15.71 	max: 5.0000	99th: 2.5007	95th: 1.6679	median: 1.0839	mean: 1.1695

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.996027 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=tupleskew', '--dataset=bjaq', '--drift_test=none', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
TupleSkewSample - START
0.001
TupleSkewSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
None Drift detection: False
Detection latency: 0.0000s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.060886 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=tupleskew', '--model_update=none', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 65.0000	99th: 6.2143	95th: 2.0000	median: 1.0879	mean: 1.4948
ReportEsts: [1.0617977528089888, 1.013913483430306, 1.0422409225709233, 1.0505050505050506, 1.5, 1.0, 1.0008345196603015, 1.0515353566888923, 1.0, 1.099502487562189, 1.0961102770574587, 1.040387459014637, 1.0286521388216303, 1.158139534883721, 1.1245650661099513, 1.0, 1.2162162162162162, 1.0296580600139567, 3.0, 2.0, 1.1111111111111112, 1.127220577350111, 1.046152394877721, 1.187903699354081, 1.039090909090909, 1.0, 1.1288378477918772, 1.5, 1.2, 1.014388489208633, 1.0, 1.039288606178992, 1.0028465216323954, 1.0049480455220188, 1.029685931449878, 1.2476907150820193, 1.1657754010695187, 60.0, 1.0455635491606714, 1.095435684647303, 1.0137820802798636, 1.03330194332677, 1.1357155030392547, 1.00398406374502, 1.0577828834003447, 1.2777777777777777, 1.48, 1.0048076923076923, 1.0326848249027238, 1.349056603773585, 1.1714240110664786, 1.040518638573744, 1.0452488687782806, 1.1920279825863762, 1.1450381679389312, 1.0737360250303911, 1.0754315023881893, 1.0229927914491672, 1.3656716417910448, 1.047617810837766, 1.4444444444444444, 1.1208703599276644, 1.0664395229982964, 1.1136363636363635, 1.0459770114942528, 1.0909090909090908, 1.1739197057922157, 1.2569668524493987, 1.75, 1.0, 1.056161012480225, 1.0723306544202067, 1.0358917725013805, 1.0899122807017543, 1.0927830500993159, 1.0021186440677967, 1.0487364620938628, 1.3333333333333333, 1.1695198329853862, 4.545454545454546, 1.0122581829586397, 1.4285714285714286, 1.0020268934150682, 1.1840490797546013, 1.115702479338843, 1.1756624141315015, 1.08, 1.0668353749480428, 1.035801942776811, 1.0784313725490196, 1.75, 1.1053897978825793, 1.0837361172563273, 1.1557632398753894, 1.0078534031413613, 1.0096491228070175, 1.0136986301369864, 19.666666666666668, 1.6173285198555956, 1.0, 1.2387625869407246, 1.047880367677322, 1.0015673981191222, 1.2130064829821718, 1.2142857142857142, 1.0192593476768823, 1.051242633871381, 1.1498281173266665, 1.1276827937431793, 1.0458902120243974, 1.3333333333333333, 1.6666666666666667, 1.0647163120567376, 1.0528229146427512, 1.0238788584740828, 1.2207792207792207, 1.058062397372742, 1.0, 1.067826599823061, 1.155299055613851, 1.0, 1.0384615384615385, 1.0, 1.1334792122538293, 1.0209547939635677, 1.0104099361045302, 1.018181818181818, 1.8, 1.0915972747918243, 1.0, 1.0357142857142858, 1.0923015811502093, 1.1818181818181819, 1.019935502785107, 1.0335269491788224, 1.0507686395080706, 20.0, 1.4166666666666667, 1.061124694376528, 1.0123140071831709, 1.014404432132964, 1.0441889010918017, 1.125, 1.0171974522292995, 1.1559515423080922, 2.0, 1.0012760527435134, 1.1279569892473118, 1.098951507208388, 1.045045045045045, 1.5, 1.3825280512937943, 1.0321100917431192, 1.0986193293885602, 1.1644736842105263, 1.339908952959029, 1.1400305521204626, 1.1800319583357992, 1.121824755018552, 1.0654205607476634, 1.0804953560371517, 1.3877551020408163, 1.4375, 1.0736698499317872, 1.4285714285714286, 1.048420063957779, 1.0129870129870129, 1.0250368188512518, 1.373913043478261, 1.0927903871829105, 1.0794786202511524, 1.416842105263158, 1.0507726269315674, 1.1181434599156117, 1.1617795753286149, 1.007727975270479, 1.019538188277087, 1.0404010616337365, 1.1315518165697556, 1.0245501101106318, 1.144578313253012, 1.2580645161290323, 1.0227223299134793, 1.0245311612047736, 1.2789699570815452, 1.0431075186880279, 1.0923566878980893, 1.0, 1.0885423442175102, 1.0551891192981881, 1.0, 1.168141592920354, 1.2335329341317365, 1.0468703501636742, 1.1053193762016662, 1.076666295760543, 1.1049457177322075, 1.0796812749003983, 1.1174311926605505, 1.0, 2.2708333333333335, 2.0, 1.047889035132125, 1.2994350282485876, 1.015625, 1.135135135135135, 1.0, 1.3008130081300813, 1.131304154632304, 1.3937282229965158, 1.4482758620689655, 1.0483792936623126, 11.3, 1.053483110813868, 1.0570652173913044, 1.2215462031107045, 1.2, 1.1213872832369942, 1.0015484670176524, 1.0529582982715096, 1.0399232202080777, 1.0, 1.0195788695973402, 1.1454182523692262, 1.0113588891177077, 1.130281690140845, 1.017458324099382, 1.276012078407288, 1.0, 1.0100908552294705, 1.2181598062953995, 1.0623335109216836, 1.1428571428571428, 1.068337617823479, 1.0444524756053488, 1.2086614173228347, 2.0, 1.2392638036809815, 1.074367744610282, 1.0796812749003983, 1.102880658436214, 1.0, 1.6666666666666667, 1.0950870302297866, 1.1636363636363636, 1.1383074577210979, 1.5, 1.0, 2.2222222222222223, 1.0774808075063975, 1.028468649673152, 1.0873015873015872, 1.0833333333333333, 1.0112359550561798, 1.0524769101595297, 1.1147375009204035, 1.88135593220339, 2.0, 1.0861464656354023, 1.0692598292990065, 1.1558669001751314, 1.075136963272087, 1.0959017709057834, 1.0192530147210295, 1.1764705882352942, 1.090660950818025, 1.0723684210526316, 1.0156883959967542, 1.2664173522812265, 1.4545454545454546, 1.0479752785930752, 1.14, 1.736842105263158, 1.1904761904761905, 1.02803738317757, 1.1111111111111112, 1.1549295774647887, 1.110001403079121, 1.192200557103064, 1.4736842105263157, 1.0256817625319599, 1.0739817123857025, 1.03208117681755, 1.0552755545877968, 1.25, 1.330708661417323, 1.090313182811362, 1.0438449773261897, 1.1936952891767445, 1.1083584079566133, 1.2003676470588236, 1.2276368491321763, 1.0734227852321028, 1.0299491579281856, 1.1556003239942678, 1.0413435886234925, 1.0389610389610389, 1.0, 1.2727272727272727, 1.0727459016393444, 9.428571428571429, 1.0, 1.1478871366646277, 1.197674418604651, 1.5483870967741935, 1.0891089108910892, 2.2857142857142856, 1.0071656050955413, 1.0729128315391072, 1.05, 1.2237684386306706, 1.0215240575349476, 1.0349854227405249, 1.2826086956521738, 1.056241426611797, 1.018058690744921, 1.2857142857142858, 1.007591280474171, 1.021978021978022, 1.1176470588235294, 1.0797391066616329, 1.3333333333333333, 6.181818181818182, 1.019455862675844, 2.0, 1.5, 1.0013531799729365, 1.0316301703163018, 1.1494064674580433, 1.0130548302872062, 1.0340909090909092, 1.0950754852624012, 1.0760724897858116, 1.3300970873786409, 1.0147739012953985, 1.05135307905391, 2.0, 1.0, 1.0341757023031453, 1.25, 1.0477200424178155, 1.411764705882353, 13.444444444444445, 1.375, 1.4518072289156627, 1.0488454706927175, 1.0238095238095237, 1.0714285714285714, 1.0, 1.102486355366889, 1.0367413012241038, 2.0, 1.1793981481481481, 1.0, 1.094346427386431, 1.0229885057471264, 1.0553741018039295, 1.0709939148073022, 1.080550098231827, 1.2958057395143487, 1.006993006993007, 1.0314679894589986, 1.0144728772240184, 1.1360448807854138, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.2307692307692308, 1.0190858864892014, 1.1666666666666667, 1.1093023255813954, 1.2625, 1.0693976275634922, 1.10021962298055, 1.309989701338826, 1.0111643281165676, 1.0672498633132859, 1.011866235167206, 65.0, 1.1940298507462686, 1.133587786259542, 1.0408900270657784, 1.2380952380952381, 1.5714285714285714, 1.2069716775599129, 1.3308823529411764, 1.0436592939983522, 1.0490196078431373, 1.0377266046055855, 1.0472717450027011, 1.0, 1.1297355253752681, 1.1239406779661016, 1.2692307692307692, 5.818181818181818, 1.0443349753694582, 1.0206034522228835, 1.1707875457875458, 1.0118495783828252, 1.9855072463768115, 1.018348623853211, 1.2064896755162242, 1.0, 1.0468961072760847, 1.052019154439067, 1.0302660212284052, 1.0671975349052452, 1.0903484729835553, 1.131979695431472, 1.5714285714285714, 1.1175202156334232, 1.0, 1.0564516129032258, 1.1, 1.0321957432689168, 1.0054794520547945, 1.0849132714804357, 1.0206185567010309, 1.065359477124183, 3.0, 1.338551146705497, 1.013595703489457, 1.1307667210440457, 2.0, 1.0677966101694916, 1.2231985940246046, 1.31438127090301, 1.0873949579831932, 1.32016632016632, 1.105263157894737, 1.3330457290767903, 1.004797974188676, 1.025307897525856, 1.0953999981720637, 1.1506646971935008, 1.1348837209302325, 1.1481481481481481, 1.6666666666666667, 1.0735694822888284, 1.4444444444444444, 1.1644162033359808, 5.615384615384615, 1.1585704614953665, 2.272727272727273, 22.5, 1.0819624186590626, 1.2035175879396984, 54.0, 1.3243243243243243, 1.1505791505791505, 1.1149236578558528, 1.1428571428571428, 1.3076604554865425, 1.077549066539014, 1.1341280150785766, 1.173913043478261, 1.0757150869321368, 2.0, 1.002906976744186, 1.0350427350427351, 1.083076923076923, 1.2222222222222223, 1.087062306462041, 1.076219512195122, 1.3888888888888888, 1.0379705281587395, 1.1, 1.128395061728395, 1.0361816782140107, 1.317556634304207, 1.023563734290844, 1.0, 1.0136986301369864, 1.0862312741962632, 1.0258982233359082, 1.030868226459138, 1.0, 1.0673917679675837, 1.0070382074116633, 1.020367610531545, 2.0, 1.0360015319800842, 1.0528696469482466, 1.009491429380932, 1.0279905593971264, 1.0216610160893496, 1.062329514457174, 1.050365556458164, 1.0973571267223854, 2.0, 1.107736981986416, 1.3214285714285714, 1.25, 1.2538860103626943, 1.1923076923076923, 1.001734880202165, 1.052003410059676, 1.0647019093862948, 1.1322858590978206, 1.0655394984863198, 1.0128346167950129, 1.0620188904618653, 1.10752688172043, 4.0, 1.0032820954142214, 1.139418447910649, 1.0470383176990201, 1.0433806518733488, 1.1105687088113254, 1.066887417218543, 2.548780487804878, 2.4285714285714284, 1.000265279523881, 1.0848247616203417, 1.001654324877895, 1.1405309734513274, 1.0630882081564865, 1.0206185567010309, 1.0671773052432985, 1.0556690500510726, 1.1493411420204978, 1.2269430051813472, 1.1567912488605288, 1.161819537658464, 1.0045871559633028, 1.023370233702337, 1.1428571428571428, 1.275811209439528, 1.0978187542163256, 1.211187214611872, 1.0435643564356436, 1.0521567749160134, 1.153061224489796, 1.0283533900792485, 2.0, 1.0894736842105264, 1.1004366812227073, 1.7232142857142858, 1.1791044776119404, 1.135135135135135, 1.0671936758893281, 1.1484662576687117, 1.0449588404981356, 1.0, 1.537313432835821, 1.0, 1.0, 1.2954545454545454, 1.0887096774193548, 1.0493827160493827, 1.070539419087137, 1.0779781168130682, 1.0639219934994584, 1.0925781802745154, 1.1612675290792478, 1.066099856851603, 1.1481623177316558, 1.0196439827631332, 1.211172498465316, 1.0158039025963554, 1.0516453675259974, 1.066557555919258, 1.0449029126213591, 1.2528735632183907, 1.4851485148514851, 1.046583434017989, 1.2405913978494623, 1.1049379942487418, 1.2597402597402598, 1.182697780307342, 1.323076923076923, 1.5, 1.0084388185654007, 1.1428571428571428, 1.008849557522124, 1.4074074074074074, 1.1666666666666667, 1.0038526725763934, 1.147374267437852, 1.02182410822601, 1.061572757321854, 1.0257510729613735, 1.1148387096774193, 1.0, 1.1578947368421053, 1.0269328688195096, 1.0689521329209812, 1.0899961215682068, 1.0209609803289261, 1.0363285363285364, 1.0941176470588236, 1.123926623698562, 1.0549273021001615, 1.0573057016981051, 1.1003829297248082, 1.3636363636363635, 1.1173520561685055, 26.0, 1.1393563625627399, 1.0, 1.0857538035961272, 1.1717171717171717, 1.2338129496402879, 1.4285714285714286, 1.0294552364864864, 1.5, 1.0555555555555556, 1.03123436544555, 1.164461247637051, 1.0322631606663273, 1.000019892777927, 1.2559241706161137, 1.2666666666666666, 1.1153846153846154, 1.0705009276437847, 1.060592459605027, 1.0843795019551348, 1.119458207322566, 1.1649100964183339, 1.0, 1.08, 1.173780487804878, 2.0, 1.0144334433443345, 1.1000434686328704, 1.2090823084200568, 1.0184026811532831, 1.0038603734415636, 1.0442477876106195, 1.7142857142857142, 1.10271546635183, 1.002248875562219, 1.070754489477661, 1.2242334687846324, 1.001632208922742, 1.081910803537101, 1.2142857142857142, 1.1078095238095238, 1.2073578595317727, 1.0820326616303282, 1.103658536585366, 1.0625, 1.0404411764705883, 1.006354992856791, 1.4276315789473684, 1.019456752070892, 1.1666666666666667, 1.4, 1.1857355126300149, 1.6760655737704917, 1.0870343839541547, 1.0666666666666667, 1.0833333333333333, 1.0556070435588507, 1.0403292181069959, 1.0714285714285714, 1.0600784141865507, 3.0, 1.0307692307692307, 1.5, 1.103305785123967, 1.0, 1.0297947092863047, 1.3333333333333333, 1.2953586497890295, 1.0911949685534592, 1.0, 1.0061641940726909, 1.2222222222222223, 1.5, 2.0, 1.4285714285714286, 1.2137931034482758, 1.0053128689492326, 1.1838671411625148, 1.0578512396694215, 3.4, 1.1104847801578355, 1.1116883116883116, 1.0745614035087718, 1.3346938775510204, 1.1538461538461537, 1.0, 1.3270440251572326, 1.1183261183261184, 1.0795454545454546, 1.0711021362525242, 1.0662902341700902, 1.0224389852280025, 1.074834694671334, 1.115367664508255, 1.221763085399449, 1.025656324582339, 1.5714285714285714, 1.0, 1.2142857142857142, 1.0148831532469398, 1.1376875551632832, 1.0168067226890756, 1.2767123287671234, 1.0644005847953217, 1.0595715477568157, 1.0179354770330504, 1.8767123287671232, 1.1578947368421053, 1.0096225018504812, 1.0421604818340782, 1.0541271157804197, 1.0509465442268027, 1.270967741935484, 1.035080478745357, 1.0175339754632688, 1.1875, 1.2484220018034264, 1.0, 1.071264367816092, 1.7969018932874354, 1.0196078431372548, 1.0138121546961325, 1.0915395284327323, 1.0, 1.04337899543379, 1.016240864513711, 1.0185185185185186, 1.0758036687250272, 1.0589430894308942, 1.162162162162162, 1.0342086872060932, 1.032957141868033, 1.0488744741658906, 1.0801526717557253, 1.040348964013086, 1.2132227686176196, 1.1451942740286298, 1.2857142857142858, 1.0, 1.1111111111111112, 1.0776058838447882, 1.5, 1.1771596630277654, 1.1179100307348422, 1.0483870967741935, 1.0896036760482481, 1.046133399940619, 1.1528656126482213, 1.093189964157706, 1.0556962025316456, 1.0163281365268284, 1.1475204578992084, 1.0431747845545873, 1.2205832485588335, 1.4285714285714286, 1.1411589895988112, 1.08300395256917, 1.1149650164140996, 1.0456026058631922, 1.278415015641293, 1.0976909413854352, 2.128630705394191, 1.046525564942848, 1.0789808917197452, 1.0474429926286541, 1.25, 1.0520591435847384, 1.0457844618545156, 1.3684733963202387, 1.0661290322580645, 1.125, 1.0756476683937823, 1.0151515151515151, 1.6875, 1.1205194437564134, 1.6538461538461537, 1.2846625766871165, 1.0483870967741935, 1.1224489795918366, 1.0029296875, 1.041049030786773, 1.8333333333333333, 1.037037037037037, 1.0883143635221004, 1.0498797282651793, 1.0108513150322453, 1.0349674322934521, 1.0827449991595226, 1.0, 1.0761047463175122, 1.1116888519134775, 1.0653737011670827, 1.0741482965931863, 1.0694444444444444, 1.047970479704797, 4.136363636363637, 1.0836770771950501, 1.4375, 1.0, 1.3333333333333333, 1.0795312522974225, 1.0250206213912565, 1.2134035677924837, 1.102798107423225, 1.03486646884273, 1.271264367816092, 1.098930606363968, 1.0960450211036423, 1.193014705882353, 1.3409090909090908, 1.0255348516218081, 1.090847718040343, 1.1547619047619047, 1.75, 1.0371099356214377, 1.1787993128412786, 1.0813099943534725, 1.0909090909090908, 1.179028995279838, 1.002237284984963, 1.1533297529538131, 1.0325, 1.3076923076923077, 1.089308996088657, 2.864406779661017, 1.1875, 1.4827586206896552, 1.0516960243729752, 1.1947318908748825, 1.0817518248175182, 1.024390243902439, 1.0161696217531744, 1.1192371783003148, 1.0754735090862555, 1.2606130935112658, 1.3333333333333333, 1.1071428571428572, 1.3333333333333333, 1.1707650273224044, 1.3076923076923077, 1.0, 1.1538461538461537, 1.0566502463054188, 1.108695652173913, 1.0100809104065254, 1.051129308583374, 1.1072727272727272, 1.2830188679245282, 1.0666666666666667, 1.096774193548387, 1.1216216216216217, 1.1, 1.0682196339434276, 1.0249179086033067, 1.03071536086044, 1.2549019607843137, 1.060790154680503, 1.0456834224802152, 2.5, 1.0665155194810434, 1.20926517571885, 1.5, 2.0, 1.2104391052195527, 1.0830920476735573, 1.1010676067918228, 1.2391304347826086, 1.5, 1.2685950413223142, 1.3076923076923077, 3.0, 1.0558307068887889, 1.0653658231019794, 1.0609318154226928, 1.0310483380007305, 1.6666666666666667, 1.0333212110191836, 1.007823613086771, 1.1005128205128205, 2.675675675675676, 1.0138888888888888, 1.0, 1.4210526315789473, 1.1377583697234352, 1.0484547029564635, 1.1010362694300517, 1.15234375, 1.0695398059354253, 1.10896309314587, 1.165289256198347, 1.2105263157894737, 1.0232899820427708, 1.1263973577235773, 1.07444781437092, 1.2748091603053435, 1.1470588235294117, 1.0035335689045937, 1.1428571428571428, 1.0585978374607603, 1.032544378698225, 1.014221784407543, 1.0626927029804727, 1.5, 1.6666666666666667, 1.1201425367861642, 1.0990623726049735, 1.0442461762563728, 1.0126240014046177, 1.0059979007347428, 1.1475234929623703, 1.2016348773841963, 1.0212765957446808, 1.1010778623652673, 1.1108306674884316, 1.2487838776928422, 1.0174880763116056, 1.6666666666666667, 1.0135135135135136, 1.0715584078346998, 1.2204103103629669, 1.0168277731934456, 1.0718368917716292, 1.0634178905206944, 2.0, 1.0338164251207729, 1.0563952974454167, 1.1595157179269329, 1.3536121673003803, 1.074768636802362, 1.0304709141274238, 1.2415966386554622, 1.0492445439283715, 1.036543460825797, 1.1284273386010268, 1.052863436123348, 1.086900129701686, 1.03125, 1.1783036322913623, 1.0631681623097933, 1.0583805201556813, 1.0901877810103147, 1.0459837019790454, 1.0501766784452298, 5.3076923076923075, 1.4339152119700749, 1.6666666666666667, 2.0, 1.2941176470588236, 1.0639386189258313, 1.0410958904109588, 1.0408412182140745, 1.0069778584035283, 1.0415269538302812, 1.0281520209129298, 1.0429184549356223, 1.0552147239263803, 1.0684226683038813, 1.6, 1.5833333333333333, 1.1540260608085533, 1.1428571428571428, 1.0153256704980842, 1.156353330184223, 1.025612183092498, 1.0924658325312802, 2.0, 1.0219064535227946, 1.2732558139534884, 1.096722621902478, 1.0393169026058675, 1.0156412930135559, 1.1207008436080468, 1.155317975478342, 1.10811113600717, 1.0604133545310015, 1.0923076923076922, 1.1284916201117319, 1.0, 1.0, 1.0423730615334243, 5.0, 1.5714285714285714, 1.8, 1.0608591885441527, 1.032967032967033, 1.1188925081433225, 1.2182316238015523, 1.1666666666666667, 1.1135940409683427, 1.0055005500550056, 1.0825242718446602, 1.0838206627680311, 1.25, 1.0314101864979823, 1.2245011086474502, 1.0662525879917184, 1.0343224883804076, 1.020926540626353, 1.1402023740027243, 1.1688422247446084, 1.0, 1.2533398901729367]
origin-bjaq_15.71 	max: 65.0000	99th: 6.2143	95th: 2.0000	median: 1.0879	mean: 1.4948

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 12.129383 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=tupleskew', '--dataset=bjaq', '--drift_test=none', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
TupleSkewSample - START
0.001
TupleSkewSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (40000, 5)
None Drift detection: False
Detection latency: 0.0000s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 1.986174 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=tupleskew', '--model_update=none', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 68.0000	99th: 14.7550	95th: 2.0000	median: 1.0935	mean: 1.6329
ReportEsts: [1.2038567493112948, 1.0332289910907777, 1.0589938163819927, 1.0288461538461537, 1.3636363636363635, 1.0, 1.0795477087879388, 1.0404283170792277, 1.2, 1.0599520383693046, 1.1115852247898619, 1.0392792748692594, 1.0259839510890332, 1.213953488372093, 1.1264054514480408, 1.5617283950617284, 1.2384615384615385, 3.3529411764705883, 1.0909090909090908, 1.2615230460921845, 1.142016376663255, 1.0584239130434783, 1.1441189378977397, 2.25, 1.295155418650238, 1.0306530960568259, 2.0, 1.1594790636333663, 2.0, 1.2, 1.0575539568345325, 1.0, 1.0494391391848876, 1.0033910574085416, 1.0392826643894109, 1.0736423477783872, 1.2436485267588695, 1.3155080213903743, 60.0, 1.0479505027068832, 1.1313969571230982, 1.0144906618941778, 1.0355595364211312, 1.064528261336772, 1.0740740740740742, 1.066800602712205, 1.2777777777777777, 1.4230769230769231, 1.1122994652406417, 1.0007782101167315, 1.4150943396226414, 1.1082464409846213, 1.0864485981308412, 1.0995670995670996, 1.1912017988709214, 1.1984732824427482, 1.0632469834734375, 1.0471675422495095, 1.0648764697002735, 1.4253731343283582, 1.02111601534485, 1.462962962962963, 1.139263394098993, 1.0468227424749164, 1.0218978102189782, 1.103448275862069, 15.25, 1.105223625810857, 1.364158355998791, 1.75, 1.0, 1.0341700948702879, 1.1727272727272726, 1.0393081761006289, 1.0289855072463767, 1.197698314837649, 1.0039138943248533, 1.1732580037664784, 1.0, 1.205316973415133, 4.166666666666667, 1.0119672513596665, 1.0714285714285714, 1.1883250710187712, 1.1840490797546013, 1.062992125984252, 1.1552197802197801, 1.12, 1.0711668578652869, 1.0385000825945707, 1.125, 1.75, 1.0335339638865004, 1.0789107151433648, 1.0212201591511936, 1.0199004975124377, 1.0075757575757576, 1.0247747747747749, 19.666666666666668, 1.5342465753424657, 1.0, 1.2835198372329604, 1.0998666666666668, 1.0855310049893085, 1.2440898345153664, 1.1333333333333333, 1.0231340969794545, 1.1042853604161507, 1.3187054573855317, 1.0170603674540681, 1.021386031402274, 1.3333333333333333, 2.3333333333333335, 1.0098670962545309, 1.05803806992515, 1.0699658703071673, 1.3246753246753247, 1.0614483687587042, 2.0, 1.1343494213942986, 1.212249208025343, 1.0, 1.10989010989011, 1.0, 1.2297592997811817, 1.0163281790906993, 1.0275298640670054, 1.0267857142857142, 1.8, 1.1712827988338192, 1.0, 1.2727272727272727, 1.0937981563333363, 1.0833333333333333, 1.0390420899854862, 1.0262210416749615, 1.1702403631794414, 20.0, 1.3076923076923077, 1.080684596577017, 1.043206913106097, 1.0015353121801434, 1.0170673311467535, 1.1408450704225352, 1.120817843866171, 1.0819110371651774, 3.0, 1.0603096984515077, 1.0949895615866387, 1.0604938271604938, 1.0001513317191284, 1.5, 1.029517091698318, 1.136163982430454, 1.0430711610486891, 1.1027667984189724, 1.110691823899371, 1.0601328676118074, 1.043335781682581, 1.1140153482199526, 1.1147370609020995, 1.1304347826086956, 1.1699867197875167, 1.1668426610348468, 1.2754182754182755, 1.5714285714285714, 1.0557550257930728, 1.0050377833753148, 1.0114942528735633, 1.370484040687478, 1.1013698630136985, 1.018305487081165, 1.4021052631578947, 1.0021052631578948, 1.0629311078940646, 1.0027777777777778, 1.040644171779141, 1.0445586975149956, 1.0359897172236503, 1.1324366471734892, 1.0481756622680822, 1.0555555555555556, 1.1949860724233983, 1.083283112210479, 1.0830357567966482, 1.1637630662020906, 1.089798732639459, 1.1005434782608696, 1.1428571428571428, 1.0803954428744946, 1.0637293531096148, 1.5625, 1.1666666666666667, 1.1706586826347305, 1.0235471413770367, 1.1409970238095237, 1.1522222222222223, 1.0595979195300078, 1.0502608062755245, 1.0700723327305606, 1.3663294797687862, 1.0159251769464106, 1.0571289901384737, 1.0556690500510726, 1.1000382555470543, 1.2768361581920904, 1.015625, 1.05, 1.0, 1.6119402985074627, 1.0512493806186736, 1.4250871080139373, 1.3563218390804597, 1.0057983942908117, 10.272727272727273, 1.0462436542281084, 1.1630434782608696, 1.245009474287225, 14.75, 1.1865079365079365, 1.0485792850595783, 1.0787097618424497, 1.017847299503895, 1.0, 1.0028530670470757, 1.1224587207863381, 1.014427702985129, 1.1401129943502826, 1.0194233972178564, 1.413355338326774, 1.0344827586206897, 1.0044613044681603, 1.0389300625109719, 1.0031152647975077, 1.0217821782178218, 1.133022170361727, 3.642857142857143, 1.2045283018867925, 2.0, 1.223265519040167, 1.110472759141146, 1.0685338425631232, 1.0895522388059702, 1.0833333333333333, 1.6666666666666667, 1.0913312938864144, 1.2545454545454546, 1.132474611466208, 1.5, 1.0, 1.7721518987341771, 1.0374121636452127, 1.0079123777427745, 1.1019417475728155, 1.12625250501002, 1.7358490566037736, 1.0827160493827162, 1.1157235133047814, 1.7903225806451613, 2.0, 1.0713365088260016, 1.0192234728721385, 1.1183144246353323, 1.0570369062334453, 1.099475079257835, 1.0159745363798025, 1.1248196248196247, 1.105860595625279, 1.077929465301479, 1.1243319268635725, 1.0861691784151677, 1.9090909090909092, 1.0160673297628156, 1.0701754385964912, 1.706896551724138, 1.3888888888888888, 1.1017811704834606, 1.2354570637119113, 1.0204670149617063, 1.0161581241545168, 1.2451253481894151, 1.3571428571428572, 1.0208644780372496, 1.0512611879576892, 1.0433143459220968, 1.0407939302941573, 1.0, 1.2611940298507462, 1.1449077238550922, 1.0383111505724263, 1.1600357533022148, 1.1141173734398016, 1.1359278059785674, 1.2176913425345044, 1.0451552210724364, 1.0068622723394784, 1.0592421277352784, 1.0845040214477213, 1.0811688311688312, 1.0, 1.3636363636363635, 1.110185030838473, 4.3076923076923075, 1.0442655935613683, 1.1220069323629795, 1.2936046511627908, 1.5806451612903225, 1.118811881188119, 2.2222222222222223, 1.081666978134928, 1.062586624480253, 1.35, 1.252556512378902, 1.0448153414378132, 1.3333333333333333, 1.2040816326530612, 1.1179698216735254, 1.0631907736665065, 1.2857142857142858, 1.0057086048211386, 1.0186757215619695, 1.1578947368421053, 1.0988968717815086, 1.8823529411764706, 6.181818181818182, 1.0134136158542657, 2.0, 1.4328358208955223, 1.1340996168582376, 1.0117924528301887, 1.105743628756181, 1.1444141689373297, 1.0459770114942528, 1.0982182138143424, 1.0768285594461162, 1.249240121580547, 1.0320482833194016, 1.046301824212272, 3.0, 1.0, 1.0498249063095164, 1.25, 1.110494450050454, 1.4705882352941178, 11.0, 1.2941176470588236, 1.3387829246139873, 1.0362869198312237, 1.0573770491803278, 2.046153846153846, 1.4242424242424243, 1.6, 1.0861516725401579, 61.0, 2.1267605633802815, 1.029948732101347, 1.2008733624454149, 1.022295623451693, 1.1300813008130082, 1.75, 1.3333333333333333, 1.2100082034454471, 1.0606060606060606, 1.1024691358024692, 1.1395094877757366, 1.2818782704489122, 1.182825484764543, 1.5, 1.0306096522987411, 1.0324027916251246, 1.2727272727272727, 1.0415764400173235, 1.0841783750763592, 1.75, 1.3394835904777054, 1.0520833333333333, 1.297328722199034, 1.0644964459201383, 1.2811447811447811, 1.0135509168492676, 1.0976207642393656, 1.096774193548387, 1.011308562197092, 1.1078591345657338, 1.1537037037037037, 1.1, 1.0127868733211058, 1.0903736080757622, 1.5384615384615385, 1.075917859365277, 1.4246575342465753, 1.064516129032258, 1.1808830415540081, 1.0578778135048232, 10.285714285714286, 1.2352941176470589, 23.8, 1.25, 5.818181818181818, 1.0591133004926108, 1.0959048479373683, 1.245857590685177, 1.0982148117598538, 1.5054945054945055, 1.368421052631579, 1.3014084507042254, 1.0, 1.0383180510607695, 1.0399159460427823, 1.020629839958699, 1.0551968093957498, 1.0900508351488745, 1.1390160183066362, 1.5714285714285714, 1.0849150849150848, 1.0, 1.1482444733420025, 1.1, 1.0282910899851982, 1.0356164383561643, 1.1493138854236638, 1.145631067961165, 1.0265755504935459, 3.0, 1.3712953712953713, 1.0114008772464884, 1.118536164619871, 2.0, 1.1904761904761905, 1.191687871077184, 1.2319749216300941, 1.0859486959014044, 1.2390852390852392, 1.105263157894737, 1.3350041771094403, 1.0265663193104335, 1.0259431469935538, 1.0937823834196891, 1.020485120260905, 1.4778761061946903, 1.2, 1.0922389272653392, 1.0158730158730158, 1.3448275862068966, 1.1545454545454545, 5.214285714285714, 1.0891033154722036, 1.7857142857142858, 22.5, 1.0680069726902963, 1.3101736972704714, 54.0, 1.462686567164179, 1.1057513914656771, 1.029087348443395, 1.0666666666666667, 1.3057753164556962, 1.097639322403709, 1.1090842758117476, 1.0637329286798178, 1.0978593272171253, 1.127659574468085, 1.048659793814433, 1.1551020408163266, 1.24, 1.2222222222222223, 1.0739692089895594, 1.058983666061706, 1.3157894736842106, 1.0340373248323038, 1.1545454545454545, 1.102652825836217, 1.035450516986706, 1.3041958041958042, 1.0822921399363925, 1.0, 1.054054054054054, 1.0905598155826277, 1.0813433880591932, 1.0399616344879594, 1.0, 1.0883462378399842, 1.0088501364990812, 1.020350212967345, 2.0, 1.0651128375878653, 1.0193558225407648, 1.0501968767578282, 1.0412001261630657, 1.010975201072386, 1.0495344024831867, 1.082039911308204, 1.0425757254818895, 2.0, 1.0032595721237718, 1.2542372881355932, 1.0, 1.2590673575129534, 1.2884615384615385, 1.0035511980104235, 1.0134680134680134, 1.070517838195133, 1.005143591941706, 1.0563156357815728, 1.9135802469135803, 1.0773402056320636, 1.0324185390929441, 1.08, 1.2272727272727273, 1.0785764792300248, 1.0795698924731183, 1.0232397606994938, 1.0636804858870421, 1.0, 1.0127744510978043, 1.3006329113924051, 3.8947368421052633, 1.2954545454545454, 1.008341943361668, 1.0116279069767442, 1.040002992276187, 1.3118279569892473, 1.3183538315988648, 1.0459486166007905, 1.3267326732673268, 1.2580310880829015, 1.3002832861189801, 1.1637114403692008, 1.316831683168317, 1.0231481481481481, 1.0434782608695652, 1.1564171122994653, 1.0827630453378956, 1.4486301369863013, 1.0349056603773585, 1.0491101178727722, 1.6767676767676767, 1.0059090845139778, 2.0, 1.1156156156156156, 1.1865079365079365, 1.7232142857142858, 1.1293059125964011, 1.0580503833515882, 1.098814229249012, 1.429032258064516, 1.033995521680142, 1.0, 1.8070175438596492, 1.5, 1.0, 1.2272727272727273, 11.2, 1.0740740740740742, 1.084033613445378, 1.0479851915135983, 1.0585048754062838, 1.1032601282226162, 1.1783937823834196, 1.0804711976273027, 1.0963501683501684, 1.0280909913765883, 1.2307242990654206, 1.0153869826127095, 1.0661665612365576, 1.0266257040450588, 1.0378006872852235, 1.203973509933775, 1.171875, 1.0146586867898344, 1.1654040404040404, 1.0912323779687567, 1.5, 1.1920021911804985, 1.0772357723577235, 1.5, 1.0562587904360057, 1.3571428571428572, 1.0495575221238937, 1.5185185185185186, 1.1666666666666667, 1.0015386410372336, 1.1390278381905177, 1.0265626456604828, 1.0311587147030186, 1.108433734939759, 1.1950617283950618, 1.0, 68.0, 1.0158311345646438, 1.021437575065701, 1.0541261528562236, 1.0681097407500628, 1.031599127388114, 1.1647058823529413, 1.0874353382238964, 1.137318255250404, 1.0624072083141352, 1.1094900849858358, 1.019076427960187, 1.4935064935064934, 26.0, 1.2088896801376774, 1.0, 1.0439698492462313, 1.3254716981132075, 1.3018867924528301, 1.5714285714285714, 1.0466151323494963, 1.5, 1.0, 1.063844191724053, 1.2048736462093863, 1.0695057388871136, 1.0000189503406323, 1.3211845102505695, 1.2258064516129032, 1.0357142857142858, 1.072356215213358, 1.0778894472361809, 1.0019829466587349, 1.0983533202076248, 1.1653534599541069, 1.0, 1.106721522752057, 1.25, 2.0, 1.0162720638153429, 1.118015731252546, 1.2133090246125797, 1.0158780839294805, 1.0354202872038782, 1.079646017699115, 1.8571428571428572, 1.0811888365349764, 1.0112191473448018, 1.1147591051385815, 1.209277238403452, 1.0019372133447821, 1.0561246916896627, 1.3630136986301369, 1.121480910142692, 1.3444816053511706, 1.0488929644805123, 1.0696603339090385, 1.0797101449275361, 1.13297350343474, 1.017129217952918, 1.3478260869565217, 1.0274296094459583, 1.1666666666666667, 1.4, 1.173848439821694, 1.6256552574776442, 1.0486740516951998, 1.0440993788819877, 1.0833333333333333, 1.0140474100087797, 1.0348432055749128, 1.1642857142857144, 1.0420093635328356, 2.0, 1.0868055555555556, 1.5, 1.0601092896174864, 1.0769230769230769, 1.0061407951380097, 1.2857142857142858, 1.2236286919831223, 1.0897920604914935, 1.0, 1.036412837848953, 1.2095375722543353, 1.5, 2.0, 1.4516129032258065, 1.3103448275862069, 1.0048613096940235, 1.27116704805492, 1.032258064516129, 1.0169491525423728, 1.0183246073298429, 1.1570839064649243, 1.1916666666666667, 1.7469387755102042, 1.1538461538461537, 1.0, 1.2114967462039046, 1.156208277703605, 1.0759377859103385, 1.1283280085197018, 1.0881125544604469, 1.0804606830818109, 1.089366561429435, 1.1725927597433996, 1.1504539559014266, 1.0425179458862508, 1.5714285714285714, 1.0, 1.096774193548387, 1.045328544898405, 1.0969845150774247, 1.0303030303030303, 1.0928270042194093, 1.0149675232985031, 1.104193358957933, 1.0069537710194794, 1.7792207792207793, 1.1, 1.085122131754256, 1.010971055088702, 1.088912322988852, 1.0623137908397717, 1.1588235294117648, 1.0406901879989698, 1.026377822502826, 1.1774647887323944, 1.268566493955095, 1.0, 1.035175879396985, 1.06318347509113, 1.0294838119410914, 1.3333333333333333, 1.0422712933753944, 1.0, 1.0593607305936072, 1.0030566350814374, 1.3518518518518519, 1.0651362880485864, 1.0744368266405484, 1.075, 1.03999727909666, 1.034316477854477, 1.0598482288242341, 1.1755725190839694, 1.0155642023346303, 1.2139659530407771, 1.0769230769230769, 1.3571428571428572, 1.0, 1.1111111111111112, 1.0636118361885543, 1.5, 1.1338891699080778, 1.0797649846466306, 1.0345255323547653, 1.101957886959734, 1.0543307442196532, 1.0060848242666425, 1.146953405017921, 1.0335731414868106, 1.0195472242003505, 1.0880229643752277, 1.0401126413676327, 1.2077788874193636, 1.4285714285714286, 1.1341632088520055, 1.08300395256917, 1.0969510268562401, 1.1009771986970684, 1.2798812175204157, 1.0842105263157895, 2.1685823754789273, 1.0121297887395129, 1.089171974522293, 1.0888896173430362, 1.25, 1.0752453886165316, 1.0277915057915057, 1.324141048824593, 1.0899096976835492, 1.28125, 1.3608695652173912, 1.0728752035875226, 1.0928935109955584, 4.333333333333333, 1.0198667567725765, 1.2727272727272727, 1.1526717557251909, 1.1693121693121693, 1.0363391655450875, 1.0344827586206897, 1.0331384015594542, 1.1917808219178083, 1.0704679935449166, 1.0006275025398912, 1.071055381400209, 1.0069612736247366, 1.1072638313887844, 1.0833333333333333, 1.0761035007610351, 1.0187565126780131, 1.0111389185197341, 1.054234062797336, 1.1180555555555556, 1.075623151668779, 2.935483870967742, 1.0094654788418709, 2.6666666666666665, 1.0, 1.3333333333333333, 1.0636390379200695, 1.0120222728423185, 1.20831404889132, 1.071404868336294, 1.030420353982301, 1.203921568627451, 1.1013881098022456, 1.1053790312983458, 1.2720588235294117, 1.2040816326530612, 1.136, 1.0786852255576052, 1.1904761904761905, 1.75, 1.0357268877911079, 1.1777554057603081, 1.201805629314923, 1.1363636363636365, 1.2154626108998732, 1.0082375368999572, 1.1959601259181531, 1.0899182561307903, 1.4230769230769231, 1.0124925639500297, 2.864406779661017, 1.0756756756756756, 2.8, 1.0498139748228938, 1.2436500470366887, 1.0267379679144386, 1.048780487804878, 1.0446099135838431, 1.128635953026197, 1.0116804758139375, 1.2091954022988505, 1.3333333333333333, 1.0769230769230769, 2.0, 1.2489754098360655, 1.4230769230769231, 1.0, 1.0714285714285714, 1.0244470314318976, 1.111295681063123, 1.0375390061012528, 1.019700802197008, 1.3436363636363637, 1.2142857142857142, 1.0, 2.189189189189189, 1.135135135135135, 1.1285714285714286, 1.0524590163934426, 1.0279495681914301, 1.0407552996385998, 1.2075471698113207, 1.0649546359402422, 1.0456794254911184, 2.5, 1.0394567584663912, 1.0594043379734541, 1.5, 2.0, 1.1058355437665783, 1.0807885581754928, 1.0667134993205427, 1.329192546583851, 1.0, 1.2633744855967077, 1.056338028169014, 3.0, 1.05648369132856, 1.0961359752990198, 1.0573583699204068, 1.0378258845437616, 1.4285714285714286, 1.0319799322218206, 1.0463087248322147, 1.086031452358927, 1.98, 1.0185643564356435, 1.0, 1.0263157894736843, 1.2315927203520876, 1.0446345283981906, 2.4574468085106385, 1.2109375, 1.053274565861923, 1.0830592105263157, 1.10431654676259, 1.0144927536231885, 1.0447123670291794, 1.333530280649926, 1.0593376216043804, 1.218978102189781, 1.2156862745098038, 1.0424028268551238, 1.1428571428571428, 1.0762316910785619, 1.0798816568047338, 1.0155883559055372, 1.129496402877698, 1.5, 1.1555555555555554, 1.0421316839227286, 1.1480592236894758, 1.0420124481327802, 1.0257039993301889, 1.0323058684054536, 1.1192150080830106, 1.1886792452830188, 1.125, 1.1098680436029833, 1.1073937239863443, 1.1814595660749507, 1.0227642276422764, 1.6666666666666667, 1.0933333333333333, 1.0535424268629643, 1.0975609756097562, 1.060121788207337, 1.0783441010911499, 1.021971123666039, 1.6, 1.0436781609195402, 1.0214445694364214, 1.0881447267128561, 1.1140684410646389, 1.0700249025552186, 1.191977077363897, 1.1676646706586826, 1.0565217391304347, 1.033100145701158, 1.2124634116770874, 1.1200440528634361, 1.0358467243510507, 1.09375, 1.1641030392883618, 1.074600555097142, 1.0078313637815395, 1.0077688759407624, 1.03964265773311, 1.024707412223667, 4.928571428571429, 1.7058823529411764, 1.6666666666666667, 2.0, 1.2941176470588236, 1.1099744245524297, 1.0141043723554302, 1.0630813953488372, 1.007309952841512, 1.0129507364144235, 1.056379243074522, 1.075221238938053, 1.0612157534246576, 1.0382751414833682, 1.6, 1.6666666666666667, 1.2646952758745043, 1.0, 1.095115681233933, 1.1002247191011236, 1.0222016651248844, 1.100766187738055, 2.0, 1.0594322101353144, 1.2713178294573644, 1.043424317617866, 1.0408676320874282, 1.0306878306878307, 1.0927927927927927, 1.1585016155088852, 1.0941478493215278, 1.1255961844197138, 1.126984126984127, 1.1225296442687747, 1.0, 1.0, 1.0427206728354048, 5.0, 1.7142857142857142, 1.7419354838709677, 1.0031982942430704, 1.0106382978723405, 1.1095477386934673, 1.2452022438736345, 1.1666666666666667, 1.0756231583977065, 1.026838432635534, 1.0985221674876848, 1.101364522417154, 1.25, 1.0659435076790893, 1.1376146788990826, 1.7727272727272727, 1.0245442165380514, 1.1111111111111112, 1.0242061730414262]
origin-bjaq_15.71 	max: 68.0000	99th: 14.7550	95th: 2.0000	median: 1.0935	mean: 1.6329

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 12.211241 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=tupleskew', '--dataset=bjaq', '--drift_test=none', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
TupleSkewSample - START
0.001
TupleSkewSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (60000, 5)
None Drift detection: False
Detection latency: 0.0000s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 1.985373 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=tupleskew', '--model_update=none', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 106.0000	99th: 19.5300	95th: 2.3226	median: 1.1011	mean: 1.7873
ReportEsts: [1.3873015873015873, 1.0740239223651546, 1.0442195358135757, 1.042933810375671, 1.3636363636363635, 1.0, 1.0977326405290506, 1.0587898773695545, 1.2, 1.0, 1.1362550781730887, 1.0396419985427454, 1.0934432665881428, 1.3348837209302327, 1.1505016722408026, 1.488235294117647, 1.3269230769230769, 3.1666666666666665, 1.0909090909090908, 1.1126373626373627, 1.0923275457531676, 1.038560643278958, 4.916666666666667, 1.0685859441151566, 1.0132552966487984, 1.0370495369937893, 2.0, 1.141684158538091, 1.5, 1.4, 1.1223021582733812, 1.0, 1.0463068290262243, 1.000871790919022, 1.0796192124621375, 1.110981610981611, 1.2296619879690633, 1.1855421686746987, 106.0, 1.0307242136064374, 1.0675512665862485, 1.0078108108108108, 1.0255392794719507, 1.0725532248783805, 1.2048872180451127, 1.0385261797026504, 1.3888888888888888, 1.3703703703703705, 1.0769230769230769, 1.0928301886792453, 1.490566037735849, 1.1108368702712677, 1.073699421965318, 1.1137884872824633, 1.1895958530207809, 1.1603053435114503, 1.116952145184484, 1.1202118726180479, 1.4123006833712983, 1.2435897435897436, 1.049237773202108, 1.6111111111111112, 1.1717038476278754, 1.033003300330033, 1.0182481751824817, 1.34375, 15.25, 1.115690069407368, 1.2938608458390177, 1.75, 1.0, 1.0225077819458857, 1.1305263157894736, 1.0405811623246493, 1.004040404040404, 1.156876582672589, 1.0191326530612246, 1.2856265356265357, 1.0217391304347827, 1.303030303030303, 1.1061949447410546, 1.0368852459016393, 1.8846153846153846, 1.0, 15.666666666666666, 1.0417149478563152, 1.3529411764705883, 1.0459290187891441, 1.2, 47.5, 1.1357997968664146, 1.1307655729909654, 1.2318415260454878, 1.0804794520547945, 1.1713123698045829, 1.0450928381962865, 1.0299043062200957, 1.0445131375579597, 1.110105580693816, 11.0, 1.0753881394756934, 1.1540041067761806, 3.7333333333333334, 1.31680236861584, 1.0237825594563987, 1.1040424121935057, 1.2213184772516248, 1.1333333333333333, 1.0206544744125468, 1.02134724857685, 1.2678627494954025, 1.0575317042994123, 1.054239073196419, 1.3333333333333333, 5.875, 1.0255269773738156, 1.055773920260359, 1.0005091649694502, 1.2337662337662338, 1.0601707186952214, 2.0, 1.070034750066827, 1.1254716981132076, 1.0, 1.1538461538461537, 1.1428571428571428, 1.2166301969365427, 1.0258760388554133, 1.0610424786945893, 1.3361344537815125, 1.5, 1.0944935418082937, 1.0, 42.0, 1.1706545382637927, 1.0833333333333333, 1.0221055540204476, 1.0236276396757842, 1.0813146338008217, 15.0, 1.2142857142857142, 1.1466992665036675, 1.0437235543018335, 1.008959681433549, 1.0260116653986886, 1.1172413793103448, 1.02600996126176, 1.0885130729265267, 3.0, 1.0701687116564418, 1.1323828920570265, 1.0776119402985074, 1.0455338958393947, 1.5, 1.1106687085247575, 1.0038809831824063, 1.0758377425044092, 1.2054794520547945, 1.2386666666666666, 1.0114221576653901, 1.0453624923578562, 1.190579667586774, 1.0903264570398559, 1.1375, 1.031941031941032, 1.2347140039447733, 1.2696078431372548, 1.5714285714285714, 1.0440032382108886, 1.0165605095541401, 1.2629310344827587, 1.3137827533057516, 1.0262762762762763, 1.0259762527326504, 1.503157894736842, 1.069327731092437, 1.117761715260294, 1.0633640552995391, 1.0384615384615385, 1.102796052631579, 1.0016159439806087, 1.123413518299882, 1.0140871837510392, 1.0674157303370786, 1.1171875, 1.011191912940327, 1.0968772826880935, 1.0263929618768328, 1.1647298545003024, 1.002469135802469, 1.0, 1.086316069135511, 1.102380261032067, 1.1363636363636365, 1.1112812659520164, 1.404191616766467, 1.0717284855251985, 1.15668285662889, 1.0123691722169363, 1.0147111510414657, 1.0704805041354863, 1.0941023417172593, 1.124025926735125, 1.0378769601930036, 1.0443843700224131, 1.0711847879083374, 1.1103327495621715, 1.5593220338983051, 1.03125, 1.037037037037037, 1.0, 1.6240601503759398, 1.0480328752357855, 1.5679442508710801, 1.471264367816092, 1.008095440988496, 9.416666666666666, 1.0455388288842875, 1.233695652173913, 1.1982657506702412, 30.25, 1.2711409395973154, 1.0343632688420445, 1.051308427628773, 1.0132501791246606, 5.0, 1.0003436426116838, 1.1029732794070364, 1.08275361442139, 1.0521978021978022, 1.0449050086355787, 1.0313253012048194, 1.1022231385080576, 1.5643564356435644, 1.0068181762957815, 1.036010848090284, 1.0248447204968945, 1.0167487684729064, 1.1583143507972664, 3.642857142857143, 1.2312727272727273, 2.0, 1.2411840411840411, 1.0916465063327168, 1.1574398024284833, 1.0307692307692307, 1.0833333333333333, 1.6666666666666667, 1.0696597482653387, 1.309090909090909, 1.112242431566862, 1.2, 1.0, 1.6867469879518073, 1.0254981252703936, 1.0383827683615818, 1.1428571428571428, 1.15850144092219, 1.725, 1.0962545308095046, 1.0955041100486496, 1.6818181818181819, 2.0, 1.0778197942088843, 1.0504815257757916, 1.1669367909238249, 1.0073644035908187, 1.1599330123508478, 1.0427281031158022, 1.1724386724386724, 1.0927791067973, 1.0823204419889503, 1.074112197632527, 1.0001093493712412, 1.1818181818181819, 1.005328110521439, 1.1200873362445414, 1.65, 1.0, 1.0484261501210654, 1.2169167803547067, 1.0348875359994167, 1.0124891083357537, 1.2116991643454038, 1.4397321428571428, 1.0101605230354371, 1.103968253968254, 1.0397053963457816, 1.0560885573150258, 1.1111111111111112, 1.207142857142857, 1.002659574468085, 1.0504103643513307, 1.165447686503965, 1.1061517832322207, 1.2186301369863013, 1.3055207026348807, 1.0190856003418316, 1.024178461755674, 1.2009666413949962, 1.0611556064073226, 1.031925849639547, 5.777777777777778, 1.3636363636363635, 1.0823823667344068, 4.3076923076923075, 1.0091743119266054, 1.1701489135389758, 1.154708520179372, 1.6774193548387097, 1.1584158415841583, 3.073170731707317, 1.010653665583243, 1.1018732461339602, 3.1904761904761907, 1.2153926976622011, 1.0329761933949542, 1.4087759815242493, 1.3275862068965518, 3.3333333333333335, 1.0727825883454247, 1.4285714285714286, 1.003983191660835, 1.077943615257048, 1.1578947368421053, 1.0805445061096157, 2.206896551724138, 5.230769230769231, 1.0114367979888774, 2.0, 1.352112676056338, 1.2783751493428912, 1.0849056603773586, 1.21007371007371, 1.069047619047619, 1.058139534883721, 1.100493867615392, 1.0703986249938364, 1.3902439024390243, 1.00377538590855, 1.060158410862459, 3.0, 1.1111111111111112, 1.0379272670516622, 1.5, 1.1495417269657502, 1.5294117647058822, 8.642857142857142, 1.2941176470588236, 1.3533151680290645, 1.0717163577759872, 1.048780487804878, 1.020497803806735, 1.5, 1.3333333333333333, 1.1303842325303604, 61.0, 2.5, 1.0071541646371165, 1.348936170212766, 1.0075528700906344, 1.1044061302681993, 1.75, 1.0, 1.4020912547528517, 1.0, 1.0598870056497176, 1.140215678550325, 1.2926893989651054, 1.2572178477690288, 1.5, 1.0313225831882933, 1.0024342745861734, 1.1666666666666667, 1.0123407643312101, 1.0639780859638304, 1.4, 1.314627460752554, 1.0297029702970297, 1.0647721935180836, 1.1187631337384405, 1.149546827794562, 1.0145255003227889, 1.0849504681775004, 1.0569948186528497, 1.0516962843295639, 1.1022431601356146, 1.147008547008547, 1.0666666666666667, 1.0108506625517428, 1.0731401254855095, 1.6666666666666667, 1.108823952785375, 1.547945205479452, 1.053191489361702, 1.1685265446586703, 1.100418410041841, 10.285714285714286, 1.2, 23.8, 1.3076923076923077, 5.333333333333333, 1.0264672036823936, 1.0948200175592626, 1.2884012539184952, 1.0797581013235966, 1.3173076923076923, 1.1818181818181819, 1.2419354838709677, 1.0, 1.075976655630251, 1.3673469387755102, 1.1083632652260103, 1.002238424149399, 1.082324455205811, 1.071927554980595, 1.5714285714285714, 1.0209540793580028, 1.0, 1.078144078144078, 1.0909090909090908, 1.0846605816488675, 1.0012422360248447, 1.0306141154903758, 1.0925925925925926, 1.0835214446952597, 3.0, 1.2640283520378026, 1.0189962733051807, 1.0977865223807182, 2.0, 1.3174603174603174, 1.2748091603053435, 1.190909090909091, 1.1271043178136226, 1.1534090909090908, 1.05, 1.299439551641313, 1.0204210260935334, 1.0160511245746535, 1.1812376128606035, 1.044656344410876, 1.2748091603053435, 1.2, 1.123679060665362, 1.0343915343915344, 1.3, 1.1522214129643118, 4.866666666666666, 1.1594107253102846, 1.7857142857142858, 22.5, 1.1188572719060523, 1.1891891891891893, 54.0, 1.4489795918367347, 1.1239092495636998, 1.1097553804539575, 1.0, 1.3128126202385533, 1.0217960408271318, 1.1148619026742657, 1.0402777777777779, 1.0517073170731708, 1.0698431488606097, 1.034251968503937, 1.1011673151750974, 1.1225626740947074, 1.3333333333333333, 1.0695439053345077, 1.1243243243243244, 1.25, 1.0429004951285736, 1.209090909090909, 1.0483351235230935, 1.0392291810048175, 1.3204588910133843, 1.00720885369073, 1.0, 1.0945945945945945, 1.0219372257846777, 1.0157665213015767, 1.0996376811594204, 1.25, 1.0813736468831654, 1.0060970595158083, 1.0681495504022716, 2.0, 1.0767857142857142, 1.0318460598141084, 1.0430054630660488, 1.0028074763479733, 1.0260743658056295, 1.0782115921496729, 1.0655021834061136, 1.0839423266837842, 2.0, 1.1018579522993808, 1.1782178217821782, 1.0, 19.5, 1.3076923076923077, 1.0006920340781962, 1.0188261351052048, 1.0811958735573182, 1.0301946762018275, 1.0714798962791714, 1.7714285714285714, 1.148894286079509, 1.0008675078864353, 1.1333333333333333, 1.1408450704225352, 1.10389474235991, 1.161764705882353, 1.0043916229791672, 1.0624451307051157, 1.0, 1.2858264625049078, 1.1533477321814254, 3.7, 1.3409090909090908, 1.024478176750846, 1.0191570881226053, 1.2448979591836735, 1.0, 1.3645833333333333, 1.0823170731707317, 1.1869402784977567, 1.0510164190774043, 1.012225980875263, 1.1175020542317173, 3.7777777777777777, 1.0374592833876222, 1.0288663319395004, 1.037190082644628, 1.0011782745541118, 1.0140637775960752, 1.043956043956044, 1.083039388594944, 1.1379310344827587, 1.0484979046761627, 2.0, 1.4050324675324675, 1.123015873015873, 1.0339297434580372, 1.167816091954023, 1.0107632093933463, 1.326086956521739, 1.2840579710144928, 1.2173017636266055, 1.0, 1.537313432835821, 1.0, 1.0, 1.3068181818181819, 11.2, 1.1759259259259258, 1.0892193308550187, 1.0475929978118161, 2.317073170731707, 1.0887929506902718, 1.2214568447026166, 1.0655312642844759, 1.0958257433871257, 1.0169191099992976, 1.2092238470191226, 1.0018534359851725, 1.062022156853753, 1.0354114713216958, 1.024236037934668, 1.1866840731070496, 1.1533333333333333, 1.02311267428715, 1.1943127962085307, 1.1004813968668408, 1.430232558139535, 1.2551440329218106, 1.1111791730474732, 1.5, 1.1969057665260197, 1.3571428571428572, 22.5, 1.9147982062780269, 1.035864639907446, 1.0639578630549285, 1.1345565749235473, 1.0591397849462365, 1.1205425477634787, 1.0821922140349767, 1.110732538330494, 1.0, 5.625, 1.0263301649732328, 1.3865546218487395, 1.1026503996634414, 1.0733317037399168, 1.0, 1.221965317919075, 1.24, 1.1410029923928326, 1.0013986013986014, 1.016684955127954, 1.0925925925925926, 1.0159371942841813, 1.7012987012987013, 26.0, 1.1607300397000442, 1.0, 1.0665859564164648, 1.2112068965517242, 1.29979035639413, 1.5714285714285714, 1.0885095726101426, 1.7, 1.0526315789473684, 1.0215980963116038, 1.2317939609236235, 1.0750596500530223, 1.0000180931616895, 1.2608695652173914, 1.1515151515151516, 1.0344827586206897, 1.1428571428571428, 1.748299319727891, 1.1120107962213226, 1.0791562649014053, 1.1557845902417165, 1.0, 1.0858721768380586, 1.0189733465762552, 2.0, 1.0255134480496544, 1.1102991772625281, 1.2178669097538741, 1.0155128184000484, 1.0402024425129277, 1.0707964601769913, 2.4285714285714284, 1.1059626436781609, 1.05835734870317, 1.0957712715419583, 1.1824301581958936, 1.0206132658348945, 1.0613906273673415, 1.1142857142857143, 1.1044191019244476, 1.3979933110367893, 1.0800832357913903, 1.083560895685418, 1.181159420289855, 1.018651362984218, 1.0138306415633087, 1.2329545454545454, 1.0817409766454353, 1.4444444444444444, 1.4, 1.3060921248142645, 1.62124849939976, 1.0837662337662337, 1.0046043165467626, 1.1666666666666667, 1.067603160667252, 1.0625, 1.3928571428571428, 1.0308099908125548, 2.0, 1.0756013745704467, 1.5, 1.236220472440945, 1.0769230769230769, 1.0859492466783272, 1.2413793103448276, 1.1296296296296295, 1.1001890359168243, 1.0, 1.011569126913401, 1.2139830508474576, 1.5, 2.0, 1.2949640287769784, 1.0051150895140666, 1.0589507842076797, 1.1984897518878102, 1.1104565537555229, 1.016332590942836, 1.038560411311054, 1.1374312843578211, 1.1721311475409837, 1.5510204081632653, 1.1153846153846154, 1.0, 1.0582010582010581, 1.043859649122807, 1.0776699029126213, 1.085254372019078, 1.0747298254339823, 1.0817514936096195, 1.0893014519044586, 1.1283871767842748, 1.1029585798816568, 1.0195974576271187, 1.375, 1.0, 1.096774193548387, 1.0335327146839783, 1.1572942135289324, 1.0798898071625345, 1.0679245283018868, 1.030954599920117, 1.0275136916475023, 1.0139654960674487, 1.6506024096385543, 1.1, 1.010857142857143, 1.0149849011452339, 1.1011144293102193, 1.107970848886519, 1.165680473372781, 1.0056882110263783, 1.024238197530783, 1.2552552552552552, 1.2695899309784815, 1.0, 1.1261603375527427, 1.208284023668639, 1.0353903738938541, 1.3333333333333333, 1.046216060080878, 1.0, 1.1187214611872147, 1.0289830193267815, 1.2962962962962963, 1.0672714729216972, 1.0166821130676553, 1.048780487804878, 1.0095278335269884, 1.0532604229225275, 1.0347131823309903, 1.1984732824427482, 1.014367816091954, 1.2112162718241137, 1.3877551020408163, 1.3571428571428572, 1.0, 1.25, 1.0653683638037066, 1.6666666666666667, 1.0764962440534145, 1.1175209692451071, 1.0357757796058924, 1.0795434591747146, 1.3330259849119865, 1.0426356589147288, 1.2222222222222223, 1.0377358490566038, 1.0261965655827547, 1.13361126438191, 1.0392316134217052, 1.2419646548160397, 1.25, 1.2098273572377158, 1.150197628458498, 1.0865750929650149, 1.1368078175895766, 1.2482089207302982, 1.0032467532467533, 2.088560885608856, 1.011705480820673, 1.0867469879518072, 1.0674932716172205, 1.3125, 1.0962413386369554, 1.039469420139238, 1.353046594982079, 1.1232612055641422, 1.0666666666666667, 1.5572139303482586, 1.063835516186715, 1.0497187592513404, 4.0, 1.0176062410599251, 1.2222222222222223, 1.0126656848306332, 1.1402616279069768, 1.0508701472556894, 1.1009147241074062, 1.0880974695407686, 1.3056410256410256, 1.01066531234129, 1.003407723087934, 1.0717846460618146, 1.0024089110015688, 1.0782411089648904, 1.0, 1.128869690424766, 1.244435368593016, 1.0838398887564562, 1.45, 1.018421052631579, 1.212837837837838, 1.370176848874598, 1.036388140161725, 1.0693986379406348, 4.785714285714286, 1.0357345433919456, 1.23023797636878, 1.012863913337847, 1.1498194945848375, 1.0778715437385606, 1.124371307192734, 1.0731707317073171, 1.4733475479744136, 1.1062368807947582, 1.080238726790451, 1.169435215946844, 1.1346153846153846, 1.13570069752695, 1.0966939777473141, 1.2738095238095237, 1.75, 1.0457772777551928, 1.1795235952528265, 1.2033730158730158, 1.125, 1.1112708453133986, 1.0109734103482733, 1.2190939339646787, 1.2658227848101267, 1.4615384615384615, 1.0422453703703705, 2.864406779661017, 1.1243243243243244, 2.4705882352941178, 1.0699620587747618, 1.303857008466604, 1.0173611111111112, 1.2195121951219512, 1.008108108108108, 1.2102482831484416, 1.1764705882352942, 9.2, 1.0455384615384615, 1.053941908713693, 1.027027027027027, 1.0833333333333333, 1.0075551394543751, 1.0559006211180124, 1.0481044126786825, 1.4842105263157894, 1.6964285714285714, 1.2365170231997589, 1.0078486856802442, 1.0732792462706098, 1.1266666666666667, 1.2142857142857142, 1.0625, 2.025, 1.3406593406593406, 1.1857142857142857, 1.0825545171339563, 1.0263412665217888, 1.0391977682176954, 1.1531531531531531, 1.058583655373527, 1.0450427889223755, 2.5, 1.0422560849814124, 1.033085194375517, 1.5, 2.0, 1.1816372231898482, 1.0863580998781974, 1.0545885216333095, 1.4596273291925466, 1.0, 1.2134387351778657, 1.1071428571428572, 3.0, 1.0833656455990694, 1.0834180350163916, 1.0195191498964038, 1.061419068736142, 1.4285714285714286, 1.0280103888158456, 1.0294682895579756, 1.0371024734982333, 2.152173913043478, 1.107398568019093, 1.0, 1.7894736842105263, 1.1391530736942777, 1.015040146666893, 2.2427184466019416, 1.26171875, 1.1072824766231708, 1.0507302075326672, 1.019543973941368, 1.0147058823529411, 1.062158295798986, 1.4009834599910596, 1.0462593378309086, 1.238532110091743, 1.4215686274509804, 1.1968253968253968, 1.0, 1.0573248407643312, 1.1715976331360947, 1.0102589417253234, 1.0495495495495495, 1.5, 1.2668539325842696, 1.043081842537378, 1.1946697566628042, 1.046481178396072, 1.0001757066869705, 1.0558425240820886, 1.1373572593800978, 1.2661498708010337, 1.0833333333333333, 1.0561902852943141, 1.1043587706535032, 1.25, 1.0103703703703704, 1.6666666666666667, 1.0933333333333333, 1.0289249306844004, 1.1131147540983606, 1.0487057699333915, 1.0956467094090627, 1.0089766606822261, 2.0, 1.0357917570498916, 1.0178497100874093, 1.0899267399267398, 1.2927756653992395, 1.1073485240807872, 1.0505050505050506, 1.2220200181983623, 1.0384236453201972, 1.0299770829871746, 1.1332177045462126, 1.1762114537444934, 1.08584686774942, 1.125, 1.1230019659799984, 1.1361597453335264, 1.0693386670769547, 1.0045369038397698, 1.1043010752688172, 1.0259165613147914, 4.928571428571429, 1.6782407407407407, 1.6666666666666667, 2.0, 1.2941176470588236, 1.145780051150895, 1.026143790849673, 1.0158637089156, 1.0166891081803928, 1.1185518220539516, 1.0627264061010486, 1.1620553359683794, 1.0251277683134583, 1.0465351173417545, 1.6, 1.5833333333333333, 1.0641102456560816, 1.0, 1.005611672278339, 1.1269769543605965, 1.0067567567567568, 1.0916446242414812, 2.0, 1.0237851662404092, 1.148166750376695, 1.148666905074105, 1.0414704120058251, 1.0303030303030303, 1.1235589713272243, 1.1331849060912256, 1.0990434436030292, 1.054331864904552, 1.3148148148148149, 1.2371541501976284, 1.0, 1.0, 1.0418568342460088, 5.0, 1.7142857142857142, 1.8, 1.0581632653061224, 1.0851063829787233, 1.1194690265486726, 1.2655685594567259, 1.1666666666666667, 1.1370138815301474, 1.008495752123938, 1.0568720379146919, 1.230019493177388, 1.25]
origin-bjaq_15.71 	max: 106.0000	99th: 19.5300	95th: 2.3226	median: 1.1011	mean: 1.7873

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 12.134214 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=tupleskew', '--dataset=bjaq', '--drift_test=none', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
TupleSkewSample - START
0.001
TupleSkewSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (80000, 5)
None Drift detection: False
Detection latency: 0.0000s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 1.991047 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=tupleskew', '--model_update=none', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 106.0000	99th: 22.5100	95th: 2.2786	median: 1.1010	mean: 1.8872
ReportEsts: [1.1409921671018277, 1.038917089678511, 1.049006805003115, 1.0410714285714286, 1.25, 1.0, 1.0476702663167405, 1.0427346144209086, 1.2, 1.048913043478261, 1.1342299086332277, 1.0383203920427846, 1.0276399716513112, 1.330232558139535, 1.1838259175056836, 1.4213483146067416, 1.2168284789644013, 3.1666666666666665, 1.0909090909090908, 1.189324437030859, 1.060566871430111, 1.134852325649944, 1.039291217257319, 1.1549657534246576, 1.0068026027349595, 1.0170687790542952, 2.0, 1.1345617792905138, 1.0, 1.4, 1.6511627906976745, 1.0, 1.0448034035845641, 1.0021660466474525, 1.0068603712671509, 1.0082314489771214, 1.245350971361291, 1.0802603036876355, 106.0, 1.0823518520423383, 1.0737976782752903, 1.0713676140883779, 1.141145139813582, 1.0500607973507878, 1.1654545454545455, 1.1871325568496949, 1.4444444444444444, 1.2115384615384615, 1.2959183673469388, 1.1321022727272727, 12.75, 1.4556962025316456, 1.295, 2.4411764705882355, 1.001204051278419, 1.0033146458239555, 1.1854914196567863, 1.211340206185567, 1.294871794871795, 1.048731663352974, 1.5185185185185186, 1.1534034140884522, 1.0105421686746987, 1.0291970802919708, 1.2403846153846154, 15.25, 1.0260997933274285, 1.3024402907580477, 1.4470588235294117, 1.5454545454545454, 1.2253798536859877, 1.2926829268292683, 1.090297790585975, 1.040241448692153, 1.096747352496218, 1.1403991741225052, 1.0864851235501765, 1.173913043478261, 1.2524271844660195, 1.0906355188057955, 1.0028887818969667, 1.7818181818181817, 1.0, 15.666666666666666, 1.1170336037079953, 1.5098039215686274, 1.1662904439428141, 18.333333333333332, 47.5, 1.1013772179244834, 1.1499537179882753, 1.2053316407489685, 1.0928384656393593, 1.145599695875309, 1.0093240093240092, 1.0237812128418549, 1.075268817204301, 1.0991847826086956, 1.1328125, 1.3330705557745368, 1.12, 45.0, 1.087115217724233, 1.1633281972265024, 1.0741457124435847, 1.2349363102905395, 1.096774193548387, 1.010919307639624, 1.076382380506092, 1.1590648364254914, 1.066350710900474, 1.0171400587659158, 1.5, 5.222222222222222, 1.0159082500924899, 1.062169650756014, 1.0301204819277108, 1.2597402597402598, 1.0564119622049208, 2.0, 1.060096765979119, 1.1259124087591241, 1.0, 1.1758241758241759, 1.0, 1.1749502982107356, 1.013222835664479, 1.0958947435005377, 1.3032786885245902, 1.5, 1.0921052631578947, 1.0, 87.0, 1.1366176196684672, 1.0, 1.0902122641509433, 1.00170456407959, 1.1303548706348083, 1.5, 1.0130208333333333, 1.0870472899107804, 1.1940035273368608, 1.1864406779661016, 1.1666666666666667, 1.5514705882352942, 1.3159692570452604, 3.0, 1.0690936106983655, 1.1682785299806577, 1.044042913608131, 1.0212765957446808, 1.5, 1.1401887155786636, 1.0283505154639174, 1.023489932885906, 1.1045296167247387, 1.0, 1.0323974082073435, 1.081251916318781, 1.1930991104322042, 1.1035087719298247, 1.1346704871060171, 1.510204081632653, 1.1596638655462186, 1.3542654028436019, 1.7142857142857142, 1.0560327069984972, 1.0188235294117647, 1.1063218390804597, 1.0216227794596446, 1.0078291814946618, 1.0114863498483317, 1.4173076923076924, 1.0888429752066116, 1.0810936410812486, 1.0071428571428571, 1.0110957004160888, 1.0964143426294821, 1.043361163479666, 1.1412280701754387, 1.2118956254796622, 1.0368421052631578, 1.9642857142857142, 1.0198230706018996, 1.0951769911504425, 1.0381231671554252, 1.1179567875083218, 1.0469135802469136, 2.56, 1.4720670391061452, 1.0823246618402151, 1.3157894736842106, 1.0817490494296578, 1.4251497005988023, 1.0802075726393592, 1.0869790766038387, 1.0304471931493815, 1.0073005568748639, 1.1582341980794038, 1.0661764705882353, 1.093558282208589, 1.0371389270976616, 1.0634102541789616, 1.0419972001866542, 1.15303360977739, 1.3728813559322033, 1.15625, 1.0238095238095237, 1.0, 1.542857142857143, 1.117196964866416, 1.578397212543554, 1.5517241379310345, 1.0343295638126009, 9.416666666666666, 1.0413595676045204, 1.0961538461538463, 1.2248792366960757, 24.2, 1.0749148694665154, 1.069960022844089, 1.0406823673675478, 1.003243398392652, 6.25, 1.0822569680489462, 1.107774221049753, 1.0779853777416735, 1.1743589743589744, 1.0217391304347827, 1.1704545454545454, 1.1182371430482176, 1.6633663366336633, 1.005228175501401, 1.0202965118923097, 1.1335403726708075, 1.0813953488372092, 1.1145833333333333, 3.4, 1.254272043745728, 2.0, 1.243605068132919, 1.0065463472291676, 1.099922239502333, 1.1679104477611941, 1.1666666666666667, 2.0, 1.1143911973360359, 1.3454545454545455, 1.135642007181222, 1.2, 1.1613636363636364, 1.0911793855302279, 1.1428571428571428, 1.0311877179870454, 1.0810810810810811, 1.1194029850746268, 1.6235294117647059, 1.121011673151751, 1.1085057618643117, 1.6818181818181819, 2.0, 1.0744596360282501, 1.0896137982752157, 1.2301829268292683, 1.0043074599715125, 1.048394792447686, 1.0409355102720248, 1.087557603686636, 1.0784731132625685, 1.1069114470842332, 1.0754231052244296, 1.0776862993455774, 1.1818181818181819, 1.0290978831341575, 1.0116959064327486, 1.546875, 1.1904761904761905, 1.0993227990970655, 1.2767123287671234, 1.052859465573307, 1.0880085181377588, 1.1325, 1.3109756097560976, 1.0242513655270415, 1.0047683923705721, 1.0693214419358863, 1.0580827991799857, 1.0, 1.1575342465753424, 1.0983112183353438, 1.0391432948887092, 1.0990629183400267, 1.0909787708459144, 1.195686480799579, 1.3331242158092849, 1.0160986828350407, 1.0413020061936178, 1.1485420802447774, 1.0649724914854597, 1.1349124613800206, 5.2, 1.3636363636363635, 1.090007513148009, 4.0, 1.0345454545454544, 1.1542662445931904, 1.01848660504465, 1.7741935483870968, 1.2871287128712872, 2.8636363636363638, 1.0716448032290615, 1.155745709900944, 3.0454545454545454, 1.2926371149511646, 1.0300559584385058, 1.2103174603174602, 23.5, 1.4285714285714286, 1.0066083990620336, 1.4285714285714286, 1.0087425696135082, 1.0093167701863355, 1.0555555555555556, 1.1010557552930433, 2.1333333333333333, 5.230769230769231, 1.0131759452384619, 2.0, 1.2972972972972974, 1.2242562929061784, 1.1226415094339623, 1.2301304863582443, 1.1797752808988764, 1.054945054945055, 1.104853052332044, 1.080831719388853, 1.586750788643533, 1.019304858493513, 1.1262833028909744, 3.0, 1.1111111111111112, 1.0522579981483386, 1.5, 1.1230982019363762, 1.6470588235294117, 9.307692307692308, 1.1578947368421053, 1.4504995458673933, 1.0366328916601715, 1.0310077519379846, 1.1181156910287495, 1.5606060606060606, 1.3333333333333333, 1.037644801165413, 61.0, 2.5675675675675675, 1.0122314049586776, 1.268, 1.04047976011994, 1.0656192236598891, 1.75, 1.0, 1.2436305732484076, 1.0984848484848484, 1.2351453855878634, 1.134595064221476, 1.2747868143057146, 1.3358395989974938, 2.0, 1.0285511754068717, 1.9655172413793103, 1.32, 30.5, 1.0086692674469007, 1.0, 1.072562358276644, 1.02020202020202, 1.2614772059216504, 1.074995106177816, 1.1460843373493976, 1.038150646141173, 1.1096765606282444, 1.02, 1.0969305331179322, 1.1172614847550786, 1.1384863123993558, 1.1, 1.0068781570126988, 1.0650338320785286, 1.0173102529960054, 1.2796208530805686, 1.2, 1.4723926380368098, 2.0, 1.1428571428571428, 1.2, 1.1222627737226278, 2.3636363636363638, 1.2017857142857142, 1.1106434155141311, 1.1473029045643153, 1.0274865400963447, 1.1647350993377483, 1.1028824833702882, 1.2017543859649122, 1.3928571428571428, 1.169620253164557, 1.0, 1.0901044444155406, 1.2884615384615385, 1.0992983241891539, 1.004010612698217, 1.0859030837004404, 1.0490101400289715, 1.375, 1.058637798827244, 1.3333333333333333, 1.0847851335656213, 1.0, 1.0901029070043156, 1.0697115384615385, 1.0801026957637998, 1.0201729106628241, 1.0851544837980407, 3.0, 1.5099695843190266, 1.0196822427996157, 1.1296734412548202, 2.0, 1.3968253968253967, 1.3095843935538591, 1.341317365269461, 1.1503829434899606, 1.0132947658561893, 1.2380952380952381, 1.0632506004803843, 1.0009415457041977, 1.0274255144298168, 1.0418648568061453, 1.0552500654621628, 1.0112244897959184, 6.5, 1.0004522840343737, 1.0643763693425181, 1.287037037037037, 1.0330434782608695, 1.0, 1.5, 1.0743321718931476, 1.0982905982905984, 1.0216934919524143, 1.1275167785234899, 1.126068376068376, 1.0, 1.043859649122807, 1.44, 1.0491983221608059, 1.0454545454545454, 1.0, 1.0603984238178634, 1.0, 1.0, 1.022815158546017, 2.0, 1.0314832846478417, 1.090293453724605, 1.0549738219895288, 1.3333333333333333, 1.0840301840873172, 1.1289537712895377, 1.25, 1.061420286278381, 1.2727272727272727, 1.0487046632124353, 1.0935960591133005, 1.2046543463381245, 1.0324594875861044, 1.0, 1.162162162162162, 1.1014586709886547, 1.0009487666034156, 1.0422885572139304, 1.0, 1.040867992766727, 1.0114635627310875, 1.0756953944368446, 2.0, 1.1033529208434152, 1.019055583763926, 1.0002481020195504, 1.0166764835812103, 1.001487902237978, 1.0679110405083398, 1.0517241379310345, 1.0578602620087336, 2.0, 1.0813122287464896, 1.0074701195219125, 1.0823443933155728, 1.1188571428571428, 1.1328125, 1.0035265987190352, 1.150943396226415, 1.0701911565327011, 1.0799835931091057, 1.081667818751941, 2.0584795321637426, 1.081952497634586, 1.0293509081155645, 1.16, 1.0864197530864197, 1.1035934587040026, 1.1917525773195876, 1.018816922107915, 1.059006333540183, 1.0, 1.0165289256198347, 1.4246153846153846, 3.5238095238095237, 1.3409090909090908, 1.0862494919650563, 1.0574712643678161, 1.2921348314606742, 1.0, 1.3232323232323233, 1.1232876712328768, 1.127823022173556, 1.0561631139944394, 1.0083916982586905, 1.1336190105181145, 4.533333333333333, 1.0614406779661016, 1.0615368150684932, 1.165289256198347, 1.008370000076789, 1.0905587668593448, 1.2307692307692308, 1.021978021978022, 1.055363321799308, 1.0203815218764476, 1.0456273537328487, 1.030488829161767, 1.039279588336192, 1.1415873015873015, 1.0602381729544186, 2.0, 1.1687898089171975, 1.0197065907597986, 1.2031394275161589, 1.1428571428571428, 1.0259067357512954, 1.0325138634405602, 1.1277683134582623, 1.144508943319647, 1.204, 1.0788704965920155, 1.5, 1.3414634146341464, 1.2857142857142858, 1.115586690017513, 1.3645569620253164, 1.5, 1.0456518123930454, 1.5294117647058822, 1.0328068043742407, 1.0816844345317265, 1.3599320882852293, 1.0588235294117647, 1.0258232646292347, 1.1252692031586504, 1.0781002638522428, 1.0669436150417586, 1.2571720330599612, 1.0750499585709412, 2.0, 1.624078624078624, 1.0377358490566038, 21.166666666666668, 1.0, 1.2658227848101267, 1.5, 22.5, 1.5141843971631206, 1.0500351041422888, 1.0712742980561556, 1.2232415902140672, 1.0304568527918783, 1.0766943183596807, 1.0833433771242618, 1.0866666666666667, 1.0, 5.625, 1.1010147601476015, 1.264367816091954, 1.15187210769878, 1.1024917724494594, 1.0, 1.042920572274297, 1.2117647058823529, 1.1047957072448653, 1.0670391061452513, 1.0108756430328785, 1.0949311934933372, 1.7838709677419355, 1.0, 1.1059485054749927, 1.0909903867650346, 20.333333333333332, 1.198997280761387, 3.0, 1.1478819969742813, 1.0433118452860597, 1.7142857142857142, 1.0776983805036353, 1.3, 1.105263157894737, 1.041060798282424, 1.154281098546042, 1.0185445245979186, 1.0000173101723229, 1.2860125260960333, 1.1176470588235294, 1.0357142857142858, 1.0981067125645438, 1.980891719745223, 1.0191801429108687, 1.1186317321688501, 1.158856666498257, 1.0, 1.0796086795252227, 1.0173165254270444, 2.0, 1.0191828599900348, 1.0887297700550411, 1.1608391608391608, 1.0146612089721139, 1.031742708180657, 1.1327433628318584, 2.142857142857143, 1.0157728706624605, 1.0756832515767345, 1.162604785432743, 1.236340533672173, 1.0043505105675612, 1.0734366386966374, 1.030054644808743, 1.100134861766689, 1.2972972972972974, 1.0844321246628708, 1.097214636810486, 1.0634057971014492, 1.030345471521942, 1.0504179381716863, 1.1666666666666667, 1.112834498039884, 1.2222222222222223, 1.6, 1.264487369985141, 1.5833333333333333, 1.0761323482171539, 2.358974358974359, 1.1666666666666667, 1.0063542494042892, 1.0557353469974828, 1.0546448087431695, 1.0581169957355931, 2.0, 1.036134463788135, 1.5, 1.1893939393939394, 1.1538461538461537, 1.0963117769993818, 1.1612903225806452, 1.2518518518518518, 1.0154109589041096, 1.0, 1.0158411594380525, 1.3273638968481376, 1.75, 1.3333333333333333, 1.3043478260869565, 1.0916030534351144, 1.032249742002064, 1.1621338912133892, 1.147517730496454, 1.0365230094959825, 1.1002570694087404, 1.0671811166591012, 1.1, 1.2938775510204081, 1.2692307692307692, 1.0, 1.417381974248927, 1.1479713603818615, 1.178391959798995, 1.0231660231660231, 1.0617660717839845, 1.08762098828324, 1.065657621325202, 1.1770023931219902, 1.08, 1.01693175987686, 1.375, 1.0, 1.0, 1.0436404443664267, 1.176039119804401, 1.0224438902743143, 1.1670103092783506, 1.0444032711474571, 1.0498289384876767, 1.0107573719712253, 1.611764705882353, 1.0476190476190477, 1.0373883928571428, 1.0283161884136438, 1.052472114972115, 1.0087762121380228, 1.4945652173913044, 1.0963754200672107, 1.0776832438250752, 1.0650692459881292, 1.126572327044025, 1.0897213018904697, 1.1119402985074627, 1.088470776621297, 1.2020316027088036, 1.033649025069638, 28.0, 1.1058201058201058, 1.0, 1.1894977168949772, 1.0029647039970087, 1.1296296296296295, 1.0834119159879982, 1.0158870255957635, 1.0930232558139534, 1.0725765183147058, 1.0331343463579354, 1.0548105606512588, 1.165927240461402, 1.0383141762452108, 1.206579611051953, 1.4504347826086956, 1.7142857142857142, 1.0, 1.1111111111111112, 1.0697870123624997, 1.6666666666666667, 1.104192546583851, 1.0962246269808036, 1.1042019973619748, 1.107185122569738, 1.3133036989998412, 1.0580610315960033, 1.0625, 1.0286624203821657, 1.0010115494922873, 1.1289295273821387, 1.0336818370714165, 1.1683481990544426, 1.25, 1.1815823605706874, 1.2411067193675889, 1.111230630578248, 1.3387622149837133, 1.235921889191644, 1.0, 2.028673835125448, 1.0325897052609005, 1.1397590361445784, 1.1129587789325701, 1.3125, 1.0722801460560467, 1.0132296449634266, 1.304312114989733, 1.095135135135135, 1.21875, 1.7565217391304349, 1.0708174936585821, 1.0645760297107365, 3.7142857142857144, 1.0167885956930542, 1.1379310344827587, 1.0424310216256525, 1.1553533939818055, 1.0012062726176116, 1.1138557637705848, 1.0864086408640865, 1.2471590909090908, 1.0119343610144207, 1.0133603443515995, 1.1176470588235294, 1.0056907501729233, 1.1025637235701458, 1.0769230769230769, 1.227173119065011, 1.077218145430287, 1.044931129476584, 1.380952380952381, 1.052048726467331, 1.0854126679462572, 1.072892938496583, 1.092327698309493, 1.0647816640656078, 3.35, 1.0302375809935205, 1.244685535850114, 1.0, 1.1039861351819757, 1.0804296743873782, 1.1885298289918782, 1.0432503276539973, 1.4767676767676767, 1.1022890481097705, 1.131537198363439, 1.1075757575757577, 1.1132075471698113, 1.1393095093882495, 1.1076787290379524, 1.3333333333333333, 1.4, 1.019249814310473, 1.1816595186232461, 1.1770984958757884, 1.2102272727272727, 1.0455635491606714, 1.0165094891535815, 1.2314474650991918, 1.0061576354679802, 1.5, 1.0101522842639594, 2.3472222222222223, 1.1891891891891893, 2.27027027027027, 1.0955820672942493, 1.3951081843838193, 1.0048939641109298, 1.1951219512195121, 1.109375, 1.206896551724138, 1.2470588235294118, 10.222222222222221, 1.0617577197149644, 1.0, 1.2041728763040238, 1.0833333333333333, 1.0082835316738554, 1.0235294117647058, 1.0671834625322998, 1.5368421052631578, 1.6101694915254237, 1.2370056497175141, 1.014611143354614, 1.0274328155572416, 1.0612244897959184, 1.1147540983606556, 1.0625, 1.975609756097561, 1.196078431372549, 1.2571428571428571, 1.537037037037037, 1.0362288835046527, 1.03418146726453, 1.1130434782608696, 1.0595784410807751, 1.043797516367894, 2.5, 1.0383335844857364, 1.056342723787298, 1.5, 2.0, 1.1250600096015362, 1.0853307213643697, 1.0471745998860518, 1.4658385093167703, 1.0, 1.0586206896551724, 1.6903225806451614, 2.533333333333333, 1.1405088062622308, 1.09289408682124, 1.0597796143250688, 1.0363282848956201, 1.4285714285714286, 1.0132269327237426, 1.0452599388379205, 1.0791245791245792, 1.5714285714285714, 1.1639150943396226, 1.0, 2.275, 1.1821278407578903, 1.00766252358951, 2.138888888888889, 1.3046875, 1.1246166819993866, 1.1632341723874904, 1.003257328990228, 1.1129032258064515, 1.0270719656866738, 1.227692697126946, 1.0334145691329348, 1.2844036697247707, 1.392156862745098, 1.1744548286604362, 1.0, 1.070856438693777, 1.0151898734177216, 1.0045585613023338, 1.0441441441441441, 1.5, 1.228882833787466, 1.0432121585541179, 1.1449115044247788, 1.0885996550101928, 1.0596539402580487, 1.0190927555856466, 1.1143051771117167, 1.2458628841607564, 1.1458333333333333, 1.0432074987159734, 1.1132736440238418, 1.2894736842105263, 1.1022900763358778, 1.6666666666666667, 1.16, 1.1152475734119671, 1.0462249614791987, 1.031722415579585, 1.1024244604316547, 1.0771028037383177, 2.0, 1.0498938428874736, 1.0171733214448253, 1.065757680358992, 1.1977186311787071, 1.0868325044738638, 1.2277486910994764, 1.0716783216783217, 1.0480905233380482, 1.0303896539738473, 1.1787750539008224, 1.2081497797356828, 1.140176600441501, 1.1875, 1.128251864125932, 1.0941437076007199, 1.044575333628033, 1.00190134150206, 1.0838943552563438, 1.0087010565568677, 4.6, 1.53276955602537, 1.6666666666666667, 2.5, 1.4705882352941178, 1.0484581497797356, 1.0181200453001134, 1.0056663431737782, 1.0024622775535943, 1.0554076941688846, 1.0489373102339703, 1.065217391304348, 1.0264244426094138, 1.0543772839333485, 1.3333333333333333, 1.8333333333333333, 1.004945054945055, 1.0, 1.141025641025641, 1.0566349731293923, 1.0564889025893958, 1.109195984309913, 2.0, 1.0009729992702505, 1.1437684003925417, 1.075974001435967, 1.0398100706546267, 1.0538243626062322, 1.105524861878453, 1.1479081923763597, 1.1656063819044733, 1.1350954478707782, 1.028169014084507, 1.160248447204969, 1.0, 57.0, 1.0404585424583874, 5.0, 1.7142857142857142, 1.7419354838709677, 1.1683467741935485, 1.0088826660212578, 1.1386623164763459, 1.5526315789473684, 1.017916186082276, 1.0952380952380953, 1.1, 1.0]
origin-bjaq_15.71 	max: 106.0000	99th: 22.5100	95th: 2.2786	median: 1.1010	mean: 1.8872

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.082215 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=tupleskew', '--dataset=bjaq', '--drift_test=none', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
TupleSkewSample - START
0.001
TupleSkewSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (100000, 5)
None Drift detection: False
Detection latency: 0.0000s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 1.986963 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=tupleskew', '--model_update=none', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 126.0000	99th: 20.3550	95th: 2.5000	median: 1.1054	mean: 1.9376
ReportEsts: [1.1490384615384615, 1.0030132583366813, 1.0444919994721775, 1.1097770154373927, 1.25, 1.0, 1.0915882200535452, 1.0319331482030287, 1.2, 1.0507246376811594, 1.111321764732123, 1.0393890445422838, 1.0447089096172402, 1.3976744186046512, 1.1681472081218274, 1.3675675675675676, 1.2103559870550162, 3.0, 1.0, 1.033527696793003, 1.0187413691063325, 1.0447872745476852, 1.0252788104089219, 1.1235340109460517, 1.0089342162180148, 1.0291906515285376, 2.0, 1.1942788334459162, 1.2, 1.4, 1.775, 1.0, 1.043165769419003, 1.0025172820157695, 1.0202808112324493, 1.0144, 1.227893625445427, 1.210412147505423, 106.0, 1.0679694891201514, 1.141603121120766, 1.0370677991078008, 1.032183908045977, 1.0554895848795212, 1.270979020979021, 1.0658904891821586, 1.6666666666666667, 1.2237061769616027, 1.141732283464567, 1.0731534090909092, 10.2, 1.554054054054054, 1.0861423220973783, 2.3055555555555554, 1.0373441550063922, 1.0181228996639462, 1.0821118349619978, 1.0681818181818181, 1.3461538461538463, 1.0697215028768903, 1.7592592592592593, 1.1525351617152535, 1.0542168674698795, 1.1167883211678833, 1.2169811320754718, 15.25, 1.0168270583600654, 1.311291963377416, 1.4057142857142857, 1.5454545454545454, 1.3559699415530198, 1.3170731707317074, 1.0677419354838709, 1.009242144177449, 1.1173875977612218, 1.0597196831200488, 1.103370221327968, 1.0337078651685394, 1.5092592592592593, 1.0717712547953824, 1.070192782995551, 1.719298245614035, 1.0, 15.666666666666666, 1.054054054054054, 1.4313725490196079, 1.1149264190609671, 18.333333333333332, 47.5, 1.1056067764475637, 1.103448275862069, 1.2804397768296685, 1.0172463908535994, 1.1933437528730348, 1.0415704387990763, 1.083623693379791, 1.1960651289009498, 1.0574712643678161, 1.0740740740740742, 1.3125739061884114, 1.2, 45.0, 1.047060359316613, 1.1402646502835538, 1.154435226547543, 1.2408283002588438, 1.0303030303030303, 1.019058713654812, 1.0887185104052575, 1.1298879572605178, 1.0202190395956192, 1.0450581395348837, 1.5, 4.7, 1.0166190135811293, 1.0792742876369341, 1.025931164545026, 1.3506493506493507, 1.0596623487998724, 2.0, 1.1184763789265397, 1.1312775330396476, 1.0, 1.2692307692307692, 7.125, 1.2485089463220675, 1.0186211483041454, 1.0550229007633587, 1.2519685039370079, 1.5, 1.1038878266411727, 1.0, 126.0, 1.0855575868372944, 1.0, 1.032469304229195, 1.2323232323232323, 1.066218313502328, 1.131052291801162, 1.0936675461741425, 1.111091944109022, 1.1066235864297254, 1.2203389830508475, 1.3333333333333333, 1.7430555555555556, 1.2724167378309137, 3.0, 1.0442383160899036, 1.170731707317073, 1.0905125408942202, 1.0218651211801897, 1.5, 1.1777736237031498, 1.109356014580802, 1.021311475409836, 1.054908485856905, 1.0, 1.0078973346495557, 1.1461657722122838, 1.0814021649927703, 1.1157894736842104, 1.0327455919395465, 1.6122448979591837, 1.0072992700729928, 1.3275261324041812, 2.0, 1.0512369010367013, 1.0625, 1.0689655172413792, 1.0203475004926756, 1.0399174122505161, 1.0612742297878823, 1.4330985915492958, 1.0353634577603144, 1.0100691313495642, 1.0653465346534654, 1.0235783633841886, 1.2947658402203857, 1.0424028268551238, 1.053405572755418, 1.21478899354743, 1.0473684210526315, 1.1018077826575425, 1.1012987012987012, 1.0644528998039895, 1.0904836193447738, 1.21712158808933, 1.1261261261261262, 1.0980059899117276, 1.2955679927393737, 1.0959802978931565, 1.103448275862069, 1.2684387869711717, 1.099890514581467, 1.0, 1.6363636363636365, 1.0123724489795918, 1.0363036303630364, 1.053370786516854, 1.5890410958904109, 1.0250434019116796, 1.3919536726607742, 1.043040908736335, 1.048747763864043, 1.0593471810089021, 1.0089005235602093, 1.0054462403373154, 1.064530852927389, 1.4705882352941178, 1.5319148936170213, 1.046088351431392, 1.6620209059233448, 1.020979020979021, 1.0085903943771963, 9.416666666666666, 1.047599583701144, 1.1538461538461537, 1.2144045822206742, 1.024390243902439, 1.2905405405405406, 1.0574618736383443, 1.0385345591365682, 1.0084378035805153, 5.0, 1.0928104575163398, 1.0549939905698174, 1.0546994535519125, 1.1280788177339902, 1.0595813204508857, 1.054255319148936, 1.0891590053680509, 1.7227722772277227, 1.0053757098051612, 1.0166542511250223, 1.2142857142857142, 1.0068434559452524, 1.1720977596741344, 3.4, 1.2380636604774535, 2.0, 1.1944507105797428, 1.044597360742128, 1.1254991443240159, 1.123134328358209, 1.25, 2.0, 1.1000432121997799, 1.3454545454545455, 1.1036365652198015, 1.2, 1.0826271186440677, 1.0236148955495004, 1.0, 1.0205275019796551, 1.0084033613445378, 1.1146010186757216, 1.550561797752809, 1.117712588191608, 1.1804435795261483, 1.48, 2.0, 1.09128182465444, 1.0081566973698812, 1.263719512195122, 1.0495458156322315, 1.1020380373110616, 1.0130822775819095, 1.1217168481742472, 1.0975391248355217, 1.1603671706263499, 1.0190876738919443, 1.011940608451874, 1.0896980461811723, 1.0851231566925075, 1.0292397660818713, 1.5, 1.1363636363636365, 1.1231155778894473, 1.1990291262135921, 1.1352272354926438, 12.75, 1.009686812544502, 1.0158227848101267, 1.3780487804878048, 1.012381258831265, 1.0520471894517696, 1.0438637560718675, 1.0684386396708765, 1.0, 1.1045751633986929, 1.0785634118967453, 1.0574622294814209, 1.1366962344251546, 1.0843379712581385, 1.0594530321046374, 1.444792973651192, 1.0200104288880198, 1.055726252466121, 1.130559190438803, 1.067281901473908, 1.0974409448818898, 5.2, 1.4545454545454546, 1.0923562311773984, 4.0, 1.0101010101010102, 1.0354191263282173, 1.04191336865067, 1.8064516129032258, 1.386138613861386, 3.6, 1.0034163006344559, 1.2167380020034606, 2.4814814814814814, 1.3122858541360745, 1.0258763916915459, 1.4987714987714988, 23.5, 1.05, 1.0150774246128769, 1.5714285714285714, 1.005971034520712, 1.1444662095984328, 22.5, 1.0675227282004631, 1.1618497109826589, 5.230769230769231, 1.0096402215571476, 2.0, 1.2307692307692308, 1.363021420518602, 1.0885529157667386, 1.2048997772828507, 1.1714285714285715, 1.0879120879120878, 1.107526423002677, 1.1010530109935377, 1.6601123595505618, 1.006817219017825, 1.079123414071511, 3.0, 1.2222222222222223, 1.0494677689522882, 1.5, 1.1151461470327724, 1.7058823529411764, 9.307692307692308, 1.1, 1.4596638655462184, 1.0352059925093633, 1.3306451612903225, 1.0890188434048083, 1.6515151515151516, 1.3333333333333333, 1.0875743137833622, 61.0, 2.375, 1.0119907992777526, 1.1611721611721613, 1.0330985915492958, 1.151215121512151, 2.0, 1.0, 1.2834839769926047, 1.0303030303030303, 1.0920245398773005, 1.1318780038629115, 1.2520886305848165, 1.28743961352657, 2.0, 1.0365586568637235, 1.9, 1.1379310344827587, 30.5, 1.0181893344357171, 1.0, 1.1374207188160677, 1.0594059405940595, 1.1909652923136835, 1.0889938526725245, 1.1385714285714286, 1.0273877793158, 1.117102046068717, 1.0294117647058822, 1.0285714285714285, 1.0769874030318127, 1.1878980891719746, 1.2, 1.0051300464531765, 1.0716685330347144, 1.0146474677259185, 1.2328767123287672, 1.2857142857142858, 1.5116731517509727, 2.0, 1.2142857142857142, 1.0439471555675384, 1.0901360544217686, 1.7037037037037037, 1.1241721854304636, 1.0779076238174736, 1.2033195020746887, 1.140377462460394, 1.1539370078740157, 1.1169225847728728, 1.2685185185185186, 1.0722021660649819, 1.221951219512195, 1.0, 1.0906956852902798, 1.9636363636363636, 1.0955968584526814, 1.0053450807635829, 1.0893547061241267, 1.0599814729041224, 1.375, 1.0004189359028068, 1.1666666666666667, 1.1330275229357798, 1.0909090909090908, 1.0926976791600123, 1.12743972445465, 1.0948715871344081, 1.0028328611898016, 1.0568720379146919, 3.0, 1.339890078102401, 1.0156372757128147, 1.1030626259743503, 2.0, 1.1511627906976745, 1.4317217981340118, 1.5030487804878048, 1.1218042189170798, 1.0257057193905763, 1.4285714285714286, 1.0905321354526607, 1.012271662763466, 1.0557194000662387, 1.0407242585861332, 1.033389293042343, 1.0494450050454087, 6.5, 1.0791139240506329, 1.0435592914127054, 1.2222222222222223, 1.0602209944751382, 6.428571428571429, 1.5, 1.042973286875726, 1.1965811965811965, 1.0123372172721041, 1.1529615517838587, 1.1655982905982907, 1.0, 1.043859649122807, 1.44, 1.0454011484206867, 1.1363636363636365, 1.0, 1.0734452619002703, 1.0, 1.0, 1.0154128440366972, 1.1026785714285714, 1.0627692307692307, 1.0469653179190752, 1.0049627791563276, 1.4444444444444444, 3.395348837209302, 1.2264397905759161, 1.0392927308447937, 1.5, 1.851063829787234, 1.3181818181818181, 1.0879446640316206, 1.029504080351538, 1.0271317100686284, 1.028322440087146, 1.0, 1.1756756756756757, 1.0486769029728846, 1.0665177859307704, 1.0599520383693046, 1.0, 1.0872809300711435, 1.0111109958129472, 1.0957683741648108, 2.0, 1.093544137022398, 1.0502581351689613, 1.1306413301662708, 1.0180995475113122, 1.0005405424135219, 1.128447596532703, 1.0170765027322404, 1.1724890829694323, 1.5, 1.0433752654794968, 1.0582669322709164, 1.0379397562658081, 1.1252783964365256, 1.173697270471464, 1.0108466147905992, 1.079646017699115, 1.0505147344153027, 1.1632953291651342, 1.0596703193781025, 1.9447513812154695, 1.1243895632761267, 1.1467223933128026, 1.24, 1.3064516129032258, 1.0966817884902347, 1.096774193548387, 1.0042335285319544, 1.0680990098066765, 1.0, 1.251793400286944, 1.2095032397408207, 3.3636363636363638, 1.3181818181818181, 1.0880617995979873, 1.10727969348659, 1.3129251700680271, 1.0, 1.2718446601941749, 1.1366767111493759, 1.461734693877551, 1.359375, 3.0, 1.5, 1.2346625766871167, 1.105263157894737, 1.0014388489208632, 1.152, 1.1446654611211573, 1.7613636363636365, 1.3455284552845528, 1.1593406593406594, 1.0828972625106528, 1.4413793103448276, 1.0320400500625782, 2.0, 1.2589792060491494, 1.1785714285714286, 1.0041773275546968, 1.212253829321663, 1.0054347826086956, 1.0936936936936936, 1.3035230352303524, 1.0881652104845114, 1.0, 1.3918918918918919, 1.1666666666666667, 1.0, 1.3977272727272727, 14.0, 1.0561941251596425, 1.0772058823529411, 1.0637920101458465, 2.111111111111111, 1.0243779138347469, 1.1512022822986008, 1.070895848506919, 1.1125078529332575, 1.0215469460574031, 1.209008097165992, 1.0034309844286091, 1.0509415769926673, 1.0823798627002288, 1.1656746031746033, 1.1647982062780269, 1.2605042016806722, 1.018773466833542, 1.2260967379077616, 1.095535249981428, 1.7956989247311828, 1.2093914710110205, 1.036875170718383, 3.0, 1.3488372093023255, 1.3333333333333333, 1.028814359943316, 1.157676348547718, 1.030276230768618, 1.0202120609675283, 1.1675105341851297, 1.825, 1.0153605461527522, 1.0794568503686417, 1.1151315789473684, 1.2936507936507937, 1.0296245353483473, 1.0556501987507099, 1.0368114307200602, 1.0206896551724138, 1.1166505324298162, 1.05727076048059, 1.0105695800566947, 1.2307692307692308, 1.0242446393762183, 1.5797101449275361, 1.032786444565909, 1.0884582151783488, 1.614730878186969, 1.0, 1.0789399492528897, 1.072692793931732, 20.333333333333332, 1.194938440492476, 3.0, 1.157021813592933, 1.094721154023073, 1.7142857142857142, 1.0483052330669156, 1.6, 1.105263157894737, 1.0450740766828672, 1.1712962962962963, 1.019217580055574, 1.0000145181227653, 1.2597137014314927, 1.0857142857142856, 1.1724137931034482, 1.1721170395869192, 1.94375, 1.0936874658904858, 1.0601022042559682, 1.1619107525190822, 1.0, 1.1373014097113447, 1.010276653196661, 2.0, 1.0098531666957455, 1.0805427568427404, 1.1802641802641802, 1.013728842149786, 1.0248432391608948, 1.1838235294117647, 2.142857142857143, 1.094284791733936, 1.0592495062541145, 1.1129557941227335, 1.279179810725552, 1.0181101039855844, 1.086356570097602, 1.1709511568123394, 1.1332027424094024, 1.3873873873873874, 1.0492763163994772, 1.14199890770071, 1.0777957860615883, 1.1718398560503824, 1.0608449991566875, 1.172972972972973, 1.041945487187857, 1.5555555555555556, 1.6, 1.1339401820546164, 1.5953031130529765, 1.0753112663225022, 2.4210526315789473, 1.25, 1.0412213740458016, 1.0648148148148149, 1.067357512953368, 1.0763162698516182, 2.0, 1.0391193845308422, 2.1636363636363636, 1.2427007299270072, 1.1538461538461537, 1.0824681019605624, 1.125, 1.262962962962963, 1.0079239302694136, 1.0, 1.0066383813894422, 1.2519788918205805, 1.5, 2.0, 1.1920529801324504, 1.1526717557251909, 1.023670082967301, 1.2267206477732793, 1.0873655913978495, 1.0723155588020452, 1.1233933161953729, 1.1125163541212386, 1.2490421455938698, 1.5224489795918368, 1.1538461538461537, 1.0, 1.2052919708029197, 1.0883352208380521, 1.4901960784313726, 1.009967579072415, 1.0905719619396488, 1.0709856227264853, 1.0974545068953938, 1.1604288777698355, 1.087248322147651, 6.857142857142857, 2.3703703703703702, 3.5, 1.708502024291498, 1.0072877364158517, 1.219233903830481, 1.0648379052369077, 1.0905587668593448, 1.0119517003449976, 1.0336462966013287, 1.0066935772316181, 1.5222222222222221, 1.0, 1.0982142857142858, 1.016097000104526, 1.0818300584594676, 1.008286585756031, 1.4397905759162304, 1.0466750457038392, 1.0104222311860194, 1.1178713782002145, 1.1965408805031446, 1.0533650476460326, 1.033112582781457, 1.0828267477203648, 1.1703296703296704, 1.035268102326926, 28.0, 1.0342771982116243, 1.0628175352010452, 1.1044594918094457, 1.2168264979936068, 2.111111111111111, 1.5330188679245282, 1.18732782369146, 1.024103468547913, 1.0318645001377031, 1.0596446969536368, 1.0341442117165023, 1.0841972163596976, 1.0292814960629921, 1.0256410256410255, 1.186966268146883, 1.4661157024793388, 1.5714285714285714, 1.0, 1.1111111111111112, 1.0609730513226403, 1.6666666666666667, 1.1198886441138305, 1.1101493550577053, 1.1269349845201238, 1.0910409281340638, 1.2903837403306537, 1.0031286020088919, 1.0469613259668509, 1.1290322580645162, 1.0005792172398813, 1.1468996851610957, 1.0376505190585, 1.1786213320912902, 1.25, 1.1517067003792667, 1.142925659472422, 1.0791080139372822, 1.181556195965418, 1.250871839581517, 1.0906148867313916, 1.9450171821305842, 1.0313623591262049, 1.0367567567567568, 1.0447682398901912, 1.4375, 1.074062615722837, 1.03123908953782, 1.326883491148621, 1.074212131480854, 1.1428571428571428, 1.5719844357976653, 1.0698387107093275, 1.0570300907157828, 3.7142857142857144, 1.0144859845659433, 1.064516129032258, 1.0100151954689873, 1.1263157894736842, 1.0301204819277108, 1.091301998919503, 1.0289855072463767, 1.277673545966229, 1.0345987506006729, 1.004850498833943, 1.1131178707224334, 1.040003603387184, 1.080535981801032, 1.2307692307692308, 1.1578221915920055, 1.1865438108484005, 1.0639574575114081, 1.3181818181818181, 1.0185929648241205, 1.1727447216890594, 1.2449725776965266, 1.0728218465539663, 1.0437281695006333, 3.1904761904761907, 1.0147808358817534, 1.2347953441763664, 1.0024829298572315, 1.0403100775193799, 1.0890801489562247, 1.028530647066544, 1.0601686668829062, 1.1956841589014222, 1.105852702324279, 1.1085141026314407, 1.0079260237780714, 1.0305676855895196, 1.140197789412449, 1.0848274720244646, 1.380952380952381, 1.4, 1.037696136361676, 1.1694778084655404, 1.1552380952380952, 1.2784090909090908, 1.0610376398779247, 1.0144358128877216, 1.2477261847774055, 1.0677339901477831, 1.5769230769230769, 1.036668412781561, 2.5606060606060606, 1.107398568019093, 2.3333333333333335, 1.0434518220433713, 1.3660955816050495, 1.0421216848673946, 1.2439024390243902, 1.1308641975308642, 1.148433734939759, 1.0396937486062587, 1.1489841986455982, 1.0429428392838818, 1.0010471204188482, 1.0357142857142858, 1.3333333333333333, 4.135135135135135, 1.6923076923076923, 1.25, 1.0666666666666667, 1.0267326732673268, 1.0602782071097372, 1.0511677404509894, 1.0614750862046274, 1.4183673469387754, 1.0793650793650793, 1.125, 2.25, 1.196078431372549, 1.3714285714285714, 1.4821428571428572, 1.097085182776851, 1.068568127223523, 1.032258064516129, 1.0820936370386027, 1.0444455874905039, 2.5, 1.0422438673775236, 1.0325287931897846, 1.5, 1.6, 1.2072031000683838, 1.1056154910096818, 1.0830677474560118, 1.5062111801242235, 1.5, 1.0809859154929577, 1.4200542005420054, 2.4516129032258065, 1.0539629005059021, 1.1093735638975328, 1.037452047974366, 1.0151494838450195, 1.4285714285714286, 1.0247769269073927, 1.0029342723004695, 1.1045380875202593, 1.7678571428571428, 1.2360515021459229, 1.0, 1.3790849673202614, 1.1705579138872044, 1.029991578028011, 2.5588235294117645, 1.375, 1.071207213924552, 1.296817172464841, 1.0879478827361564, 1.0144927536231885, 1.2847085789129011, 1.361970684039088, 6.875, 1.0361985923132724, 1.1296296296296295, 1.206896551724138, 1.1812154696132597, 1.0833333333333333, 1.031295276731382, 1.0883838383838385, 1.018452424194845, 1.051948051948052, 1.5, 1.2058823529411764, 1.0142785667551861, 1.1416078035654222, 1.1428142363718277, 1.0345874782494502, 1.0472671677920755, 1.1381931422448432, 1.2488151658767772, 1.2916666666666667, 1.1268253773469137, 1.1132206661867678, 9.6, 1.2512998266897748, 1.6666666666666667, 1.1333333333333333, 1.0901307966706302, 1.0294550810014726, 1.026577736073951, 1.0848280356827655, 1.1441988950276243, 1.6, 1.0362537764350452, 1.0207616773296742, 1.0565393988627132, 1.2970588235294118, 1.0904991948470208, 1.3012048192771084, 1.250211327134404, 1.0686580472581364, 1.029802152329775, 1.2104430865600146, 1.236784140969163, 1.1534334763948497, 1.25, 1.1976435446398939, 1.102307255667969, 1.021428731034791, 1.007088555578385, 1.0945198592257417, 1.0566258026853474, 4.3125, 1.5625, 1.25, 2.5, 1.4705882352941178, 1.319672131147541, 1.6, 1.6792207792207792, 1.6379310344827587, 1.4, 1.0627553901863724, 1.5714285714285714, 1.171875, 1.0695165801038753, 1.0498085787952183, 1.6, 1.8333333333333333, 1.0171849427168576, 1.125, 1.4219143576826196, 1.0015673981191222, 1.0147047956846227, 1.0850191662829085, 2.0, 1.0714946783896344, 1.1568148510014655, 1.1416325347058611, 1.0405839490408786, 1.021838034576888, 1.0954412156758198, 1.1559315413840856, 1.1577481026035161, 1.170337738619677, 1.1690140845070423, 1.1726190476190477, 1.0, 57.0, 1.041238354999823, 5.0, 1.8571428571428572, 1.35, 1.1520076481835564, 1.0075825194762429, 1.0013458950201883]
origin-bjaq_15.71 	max: 126.0000	99th: 20.3550	95th: 2.5000	median: 1.1054	mean: 1.9376

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.231236 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=tupleskew', '--dataset=bjaq', '--drift_test=none', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
TupleSkewSample - START
0.001
TupleSkewSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (120000, 5)
None Drift detection: False
Detection latency: 0.0000s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 1.994882 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=tupleskew', '--model_update=none', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 122.0000	99th: 22.0050	95th: 2.6152	median: 1.1099	mean: 2.0031
ReportEsts: [1.1990950226244343, 1.0330216829122738, 1.0660807506773278, 1.104631217838765, 1.1111111111111112, 1.0, 1.0914112467812942, 1.0499301563711323, 1.2, 1.108457711442786, 1.118962280252603, 1.038847943344176, 1.1614255765199162, 1.5116279069767442, 1.244277202884917, 1.7564766839378239, 1.3009708737864079, 2.85, 1.0833333333333333, 1.0043731778425655, 1.1554112554112554, 1.0690315743709582, 1.0780669144981412, 1.0969465648854961, 1.0253350288565, 1.0370080287164674, 2.0, 1.1246439315283656, 1.5, 1.6, 1.5106382978723405, 1.0, 1.0462938960466204, 1.0082134134535758, 1.0677455777192322, 1.0409152389540126, 1.2337516448952082, 1.1595959595959595, 106.0, 1.0767883515734464, 1.041492669924478, 1.0761547566798335, 1.0963045912653975, 1.0426797416658753, 1.2239057239057238, 1.0649676846264589, 1.6111111111111112, 1.2036124794745484, 1.0805860805860805, 1.0610786224821314, 10.2, 1.517509727626459, 1.039426523297491, 2.075, 1.0330757028586857, 1.006159461617429, 1.005162550579043, 1.2261904761904763, 1.4102564102564104, 1.0388362735995047, 1.7962962962962963, 1.131225985903873, 1.0454545454545454, 1.1605839416058394, 1.1944444444444444, 15.25, 1.0999059155592144, 1.2765651235308226, 1.3591160220994476, 1.6363636363636365, 1.3751701606316362, 1.2640449438202248, 1.0987162461266047, 1.1001757469244289, 1.1383493393024766, 1.020716685330347, 1.2257890477475046, 1.0180995475113122, 1.052253928555286, 1.202513966480447, 3.5714285714285716, 1.0105658741497845, 1.1428571428571428, 1.1152567118176657, 1.607361963190184, 1.2024832855778413, 1.3832417582417582, 1.32, 1.0607630665253762, 1.069519870189557, 1.063157894736842, 1.4, 1.093527871305649, 1.0554055820200008, 1.0717821782178218, 1.0465116279069768, 1.041365725541694, 1.0285714285714285, 1.0357142857142858, 1.354778028592927, 1.24, 45.0, 1.047770675782195, 1.0602235845654526, 1.1547836684948203, 1.216584602341279, 1.1470588235294117, 1.0153191164943762, 1.0942675159235669, 1.3464827467663616, 1.0723853683668212, 1.042647401538103, 1.6666666666666667, 4.7, 1.0105793450881613, 1.0533906043346342, 1.0590994371482176, 1.5974025974025974, 1.058902757007554, 1.0, 1.091360946745562, 1.202391118701964, 1.0, 1.3296703296703296, 6.333333333333333, 1.2783300198807157, 1.0332270677988482, 1.092355175688509, 1.1605839416058394, 1.5, 1.0006931561028318, 1.4, 1.1099476439790577, 1.0323654475764592, 1.0528238855830463, 1.0, 1.095114345114345, 1.1198135393919033, 1.3856382978723405, 1.0454545454545454, 1.2722222222222221, 1.0347259902333152, 1.0237362637362637, 1.0389095015325052, 1.2048192771084338, 1.037853378054624, 1.0865284063040803, 3.0, 1.0581196581196581, 3.0833333333333335, 1.0547803617571059, 1.0192549710546186, 1.5, 1.0889987639060568, 1.0817535545023698, 1.0246913580246915, 1.08, 111.0, 1.0285580524344569, 1.1230248559965932, 1.1614570614570614, 1.0015503875968992, 1.0153452685421995, 1.7346938775510203, 1.0144927536231885, 1.362239297475302, 1.0773114425559795, 1.3333333333333333, 1.5900383141762453, 1.136168307967771, 1.045668549905838, 1.25, 1.2760744785104299, 1.1643835616438356, 1.0323946046616626, 1.3309608540925266, 1.0596887374971413, 1.2965260545905708, 1.1428571428571428, 1.7352941176470589, 1.1880681224532441, 1.013994649104754, 1.255702618980569, 1.011427124041106, 1.0708154506437768, 1.1054642278305162, 1.1094452773613193, 1.2085308056872037, 1.6306306306306306, 1.0966893930081039, 1.3714576369713705, 1.0816040245731147, 1.1724137931034482, 1.107168458781362, 1.0750661249628404, 1.556836902800659, 1.25, 1.0906279162778296, 1.2857142857142858, 1.1271368161289936, 1.0617464944203936, 1.0295748613678373, 1.1122300335676738, 1.0551890941072999, 1.0573582503129093, 1.072992700729927, 1.0221606648199446, 1.0342914775592535, 1.0525071754178625, 1.063956970627828, 1.2483660130718954, 1.0506674757281553, 1.1106252994729275, 1.490909090909091, 1.140625, 1.0003717472118958, 9.416666666666666, 1.0385956875961129, 1.1947115384615385, 1.2282693667870306, 1.1986062717770034, 1.049645390070922, 1.073772643738514, 1.0492321639819124, 1.0058907296190485, 7.7272727272727275, 1.138626339004411, 1.0999499071809529, 1.057509330810072, 1.1009615384615385, 1.0547112462006079, 1.089708670918807, 1.3459821428571428, 1.2413793103448276, 1.0053480736674705, 1.0148842822482307, 1.1583850931677018, 1.693069306930693, 1.1434071222329163, 3.0, 1.191194968553459, 2.0, 1.181224134175561, 1.072818915707085, 1.1856654060868, 1.208955223880597, 1.3333333333333333, 2.0, 1.0671140939597314, 1.509090909090909, 1.1511731099894613, 1.2, 1.1117886178861789, 1.0460905349794238, 1.0, 1.0259230950561107, 1.0104166666666667, 1.0284178187403994, 1.4759358288770053, 1.100280504908836, 1.1501236312257153, 1.4415584415584415, 2.0, 1.0544995055488409, 1.125707064628716, 1.2652439024390243, 1.0032349181802402, 1.142443045427782, 1.0488058151609554, 1.1079092581238503, 1.0960129310344828, 1.1642636457260556, 1.0061108773617038, 1.0904901960784315, 1.2196219621962197, 1.111278420422816, 1.0331384015594542, 1.4142857142857144, 1.0416666666666667, 1.1557788944723617, 1.3155339805825244, 1.0869838082088616, 12.75, 1.003469835512549, 1.0292307692307692, 1.4247967479674797, 1.0117490439941388, 1.049472295514512, 1.076897329549589, 1.045257391913979, 1.1, 1.05625, 1.0110352075669995, 1.073898118366825, 1.1074361424707235, 1.047356548806659, 1.0146242621795436, 1.3877551020408163, 1.0031367242757858, 1.048027391344582, 1.133296478708078, 1.0709178201133869, 1.3070175438596492, 5.2, 1.5454545454545454, 1.0766917293233083, 1.090843023255814, 1.6961325966850829, 1.0495858965140743, 4.538461538461538, 9.05, 1.1011812313874125, 12.75, 1.1919686581782567, 1.1243902439024391, 1.0859375, 1.1199819430561377, 1.0084084084084084, 1.2761506276150627, 23.5, 1.4285714285714286, 1.0317924712307391, 1.5714285714285714, 1.000796568627451, 1.1517290049400142, 22.5, 1.0753153682687526, 1.0436893203883495, 4.857142857142857, 1.0113091250167492, 1.055237737972428, 1.0043975373790677, 1.0408116799954463, 1.1243432574430823, 1.099352051835853, 1.2465166130760985, 1.4785714285714286, 1.1538461538461537, 1.1032873937198808, 1.0786038346952147, 1.660621761658031, 1.026284003443712, 1.1466312056737589, 3.0, 1.2222222222222223, 1.0535512624891166, 1.75, 1.0904074702886248, 1.7647058823529411, 8.642857142857142, 1.1, 1.4186959937156323, 1.0179340028694404, 1.25, 1.1135577225542623, 1.6818181818181819, 1.3333333333333333, 1.0611400744015171, 61.0, 2.289156626506024, 1.0123346322651074, 1.1527272727272728, 1.0026720106880427, 1.1328731665228646, 2.0, 1.0, 1.2343927355278093, 1.1428571428571428, 1.3244803695150116, 1.1347424899667904, 1.289827929298841, 1.1663019693654266, 1.5, 1.102778160834191, 1.78125, 1.1785714285714286, 30.5, 1.0078833267638945, 1.0, 1.236786469344609, 1.0693069306930694, 1.1948042721481515, 1.1209254608317956, 1.1725105189340814, 1.0095215649304736, 1.1418502202643173, 1.107843137254902, 1.002721088435374, 1.130734813285149, 1.1051851851851853, 1.2666666666666666, 1.006704976688713, 1.080938292476754, 1.0684304248282879, 1.1894273127753303, 1.3428571428571427, 1.6163021868787277, 2.0, 1.2619047619047619, 1.077302204928664, 1.1666666666666667, 1.9285714285714286, 1.1432973805855162, 1.1067538126361656, 1.1244813278008299, 1.216646911629132, 1.1073446327683616, 1.1259125964010284, 1.170940170940171, 1.226984126984127, 1.1788235294117646, 1.0, 1.099268016996996, 1.9285714285714286, 1.0936471390807538, 1.0045933228769885, 1.108579305870905, 1.0664758969843715, 1.375, 1.0728956906967377, 1.0, 1.1963713980789754, 1.1818181818181819, 1.1130017403642571, 1.836734693877551, 1.062984441301273, 1.095808383233533, 7.875, 1.0273037542662116, 1.1928571428571428, 1.0, 1.0031662153899903, 1.0593552068061505, 1.08079193993201, 2.25, 1.252832131822863, 1.295884315906563, 1.0694444444444444, 1.5714285714285714, 1.0572067522723994, 1.0009025270758123, 1.096294516525175, 1.0688259109311742, 1.1083578890972408, 1.1039150098549966, 1.1565600882028666, 1.0513196480938416, 1.378238341968912, 1.1648936170212767, 1.1378116343490305, 1.28, 1.6019417475728155, 1.0855704697986577, 1.2094017094017093, 1.0022749431264217, 1.1172297431945901, 1.183264887063655, 1.0, 1.1228070175438596, 1.52, 1.0014629124600407, 1.1818181818181819, 1.0, 1.0699094841396988, 1.0, 1.0, 1.0430224150397687, 1.048582995951417, 1.0635062611806798, 1.053030303030303, 1.0173697270471465, 1.5555555555555556, 1.3245324532453244, 1.2539267015706805, 1.0309513917739925, 1.5, 1.8297872340425532, 1.3818181818181818, 1.372093023255814, 1.143884892086331, 1.0094072670511933, 1.1977401129943503, 3.3684210526315788, 1.3492063492063493, 1.0246665490171523, 1.0564553289529823, 1.0983213429256595, 1.25, 1.1277390861219636, 1.0168768698450816, 1.1420935412026727, 4.5, 1.1010587102983638, 1.0287389164377754, 1.0842824601366743, 1.0314510364546103, 1.0175187013486566, 1.0540889791397452, 1.0245901639344261, 1.1784968684759916, 1.5, 1.0161817333125875, 1.0261927034611786, 1.0270390070921986, 1.0470941883767535, 1.0799086757990868, 1.0014132224626664, 1.1431646932185144, 1.072048222810504, 1.02045944005743, 1.0868175790171664, 1.1880081300813008, 1.0813359964491789, 1.1176803394625177, 1.28, 1.0493827160493827, 1.112277207203058, 1.024822695035461, 1.0044069041498347, 1.062342403029503, 1.0, 1.0253560263980548, 1.3088552915766738, 3.217391304347826, 1.1136363636363635, 1.0888929101980869, 1.1379310344827587, 1.2781456953642385, 1.0, 1.212962962962963, 1.112603305785124, 1.4602609727164888, 1.421875, 3.0, 1.4166666666666667, 1.2630057803468209, 1.172514619883041, 1.07492795389049, 1.077, 1.2513562386980108, 1.7514124293785311, 1.4024390243902438, 1.2142857142857142, 1.1073166145674196, 1.2981366459627328, 1.02591508926972, 2.0, 1.0728952772073923, 1.2896825396825398, 1.0140613123891564, 1.2401656314699794, 1.0389845874886672, 1.1442953020134228, 1.4986876640419948, 1.0912592179771703, 1.0, 2.1176470588235294, 1.0, 1.0, 1.2115768463073853, 14.0, 1.0651340996168583, 1.0173611111111112, 1.070486195944295, 2.0652173913043477, 1.0493803199600744, 1.1808748546381609, 1.0759523072158563, 1.1017737399956737, 1.0283338484406965, 1.2289766970618035, 1.0612614946250485, 1.0583818262559619, 1.0254010695187166, 1.1486359360301035, 1.2750885478158205, 1.0067114093959733, 1.0182759119861031, 1.2139784946236558, 1.0923359224684672, 1.67, 1.2341787153353876, 1.0440944881889764, 3.0, 1.255813953488372, 1.6666666666666667, 1.039964077233947, 1.1528925619834711, 1.0199514550158704, 1.0357852882703777, 1.1610877296009918, 1.75, 1.0585921605859216, 1.0923941049160053, 1.0117994100294985, 1.3492063492063493, 1.0349852116324019, 1.0270557029177718, 1.0810338551146705, 1.0067567567567568, 1.1011547344110855, 1.0622303892820373, 1.0077994951815026, 1.2692307692307692, 1.0619021966840247, 1.5246636771300448, 1.391304347826087, 1.2873563218390804, 1.0620382505422112, 1.0135600080955272, 1.1378205128205128, 1.0923076923076922, 1.1629078812191185, 1.0, 1.0943983402489628, 6.375, 1.187891440501044, 1.0187667560321716, 1.2222222222222223, 1.1109778729478943, 1.1625, 1.0408707241226123, 1.0764297917820616, 1.328358208955224, 1.0661547548730066, 1.1705360513401284, 1.0183792815371764, 1.0098319061211545, 1.4, 1.0089469821409849, 1.0606373920447634, 1.5, 1.203125, 1.1621927836848527, 1.0232758620689655, 1.0090738682547318, 1.0, 1.072992700729927, 1.0436250555308753, 1.0397727272727273, 1.5642857142857143, 1.0424564183835183, 1.1418439716312057, 2.7142857142857144, 1.0801947586996992, 1.0469924812030076, 1.0680258248545123, 1.217503586800574, 1.0221742002370964, 1.052604855832846, 1.2190760059612518, 1.1424936386768447, 1.4084084084084083, 1.0735993290089663, 1.2714363735663572, 1.1766467065868262, 1.2011519716437749, 1.09738318522462, 1.1302083333333333, 1.042325581395349, 1.3888888888888888, 1.6, 1.2873862158647593, 1.5734634661039304, 1.1051842972729997, 2.3, 1.25, 1.0126206384558278, 1.0288998357963874, 1.0758293838862558, 1.0495646349631613, 2.0, 1.033017138040319, 1.4631147540983607, 1.2702702702702702, 1.0404172099087354, 1.0642161204605847, 1.0360741249142074, 1.0909090909090908, 1.2962962962962963, 1.003041825095057, 1.0, 1.0186664254804012, 1.2177914110429449, 1.75, 1.3333333333333333, 1.1612903225806452, 1.193384223918575, 1.04873858056278, 2.479338842975207, 1.1386138613861385, 1.0821256038647342, 22.0, 1.055925432756325, 1.1931931931931932, 1.2074074074074075, 1.8653061224489795, 1.3461538461538463, 1.0, 1.2049252418645557, 1.1517553793884485, 1.4074074074074074, 1.0176676143094054, 1.0789873417721518, 1.0931993345329847, 1.1064067733426717, 1.053645266594124, 1.1096911608093716, 6.857142857142857, 2.2857142857142856, 3.5, 1.889795918367347, 1.0311206420752461, 1.2753737214791503, 1.1097256857855362, 1.1673076923076924, 1.0700052900722976, 1.1008607049476506, 1.020375696885764, 1.4270833333333333, 1.0454545454545454, 1.0643305439330544, 1.0172907765770294, 1.05880823240954, 1.0265573070707688, 1.3959390862944163, 1.0005898123324397, 1.0174840623619263, 1.0092760936514416, 1.2437106918238994, 1.1023449579110118, 1.033132530120482, 1.0914768552534901, 1.1024844720496894, 1.0249402324750625, 28.0, 1.0547652916073968, 1.120250879608383, 1.106117117413164, 1.2239453279011696, 2.2222222222222223, 1.5116279069767442, 1.2699724517906337, 1.2472552023490362, 1.0670042037299394, 1.0238006107772633, 1.0467270819213363, 1.095578093306288, 1.039461247637051, 1.1923076923076923, 1.1871206054813628, 1.3730650154798762, 1.7142857142857142, 1.0, 1.25, 1.0596927578639357, 1.6666666666666667, 1.1640513552068474, 1.051720585936945, 1.0095766129032258, 1.1220657276995305, 1.4169611307420495, 1.058727518820938, 1.0508747620174164, 1.0372836218375499, 1.08, 1.1370558375634519, 21.0, 1.0385336651159436, 1.375, 1.0590382056643224, 1.0, 1.231270358306189, 1.047142746375126, 1.0230352139157437, 1.259090909090909, 1.4183673469387754, 1.0336492336492336, 1.146810753821824, 1.0078771572669334, 1.091503267973856, 1.0862451857023807, 1.0369565217391303, 1.2302558398220245, 1.103240895422653, 1.0625, 1.4584837545126355, 1.0507919301415236, 1.0617702559264064, 3.25, 1.0170950081951677, 1.1515151515151516, 1.051209398756047, 1.0754830917874396, 1.0241379310344827, 1.1007007526602648, 1.021150592216582, 1.3052003410059676, 1.0470423847228691, 1.0365856715669597, 1.158745247148289, 1.0189204453767953, 1.1074533907544701, 1.3076923076923077, 1.0845706907682375, 1.1104837479017244, 1.0746246688254342, 1.2608695652173914, 1.0247524752475248, 1.143953934740883, 1.2398013479957433, 1.1157347204161248, 1.0464398145365958, 4.681818181818182, 1.0120598166907864, 1.2078651685393258, 1.0045589692765113, 1.0307219662058371, 1.0581353919239904, 1.0864870286172774, 1.0338194228979212, 1.1965234186383389, 1.0911070047206866, 1.098254202152901, 1.0275229357798166, 1.0381355932203389, 1.1298342541436464, 1.0995825767927672, 1.4523809523809523, 1.4, 1.0272411760853906, 1.1716083551561938, 1.0926573426573427, 1.2784090909090908, 1.066348448687351, 1.012048643392214, 1.2977967306325515, 1.0407925407925407, 1.7307692307692308, 1.095311695002576, 2.3472222222222223, 1.1575178997613365, 2.1, 1.0389421128424465, 1.442741208295762, 1.003003003003003, 1.3414634146341464, 1.0930787589498807, 1.0735489587948603, 1.045340005520582, 1.1986455981941309, 1.080775384330002, 1.0347707516618374, 2.4516129032258065, 1.3333333333333333, 4.135135135135135, 1.8461538461538463, 1.25, 1.0666666666666667, 1.0635897435897437, 122.0, 1.048016701461378, 1.053368730139576, 1.0236753349674708, 1.318840579710145, 1.1875, 2.25, 1.2323232323232323, 1.3714285714285714, 1.3833333333333333, 1.0907231117536347, 1.0520827281705687, 1.736, 1.0652728067254869, 1.043161264870114, 1.6666666666666667, 1.0370199376371734, 1.035206668715427, 1.5, 1.6, 1.1816148512636995, 1.0643284219517404, 1.0814350853349879, 1.593167701863354, 1.5, 1.0622837370242215, 1.2476190476190476, 3.757575757575758, 1.1254442075337598, 1.1241157070567207, 1.037751801205705, 1.0125402257751444, 1.25, 1.0093782784505851, 1.025539160045403, 1.1409553641346908, 2.0625, 1.240043057050592, 1.0, 1.2771458117890382, 1.1971018778648528, 1.1041271561455794, 2.61, 1.1754966887417218, 1.084330260835458, 1.2904385334291877, 1.1107491856677525, 1.1014492753623188, 1.1670593274791177, 1.3678487460815048, 6.875, 1.0487892455777856, 1.2160493827160495, 1.312755519215045, 1.1494623655913978, 1.0, 1.0212053571428572, 1.0069605568445477, 1.016086394567014, 1.0545886075949367, 1.5, 1.1331658291457287, 1.012315359890209, 1.0580507179957226, 1.0786122090469916, 1.0724343462231822, 1.0063694267515924, 1.130573655295771, 1.0216216216216216, 1.2708333333333333, 1.06788205639252, 1.1293286940676568, 9.6, 1.1218836565096952, 1.6666666666666667, 1.2666666666666666, 1.1468933042379694, 1.1005747126436782, 1.3049645390070923, 1.0984994584313, 1.1679144385026738, 2.0, 1.0, 1.0318876561408954, 1.045717768972874, 1.1794117647058824, 1.0889124335532687, 1.3432835820895523, 1.3169907016060862, 1.1152826855123674, 1.0303808927147127, 1.1532528701795701, 1.255543822597677, 1.1014344262295082, 1.28125, 1.2839651123783966, 1.0794374393792434, 1.0635558681986177, 1.0386257571244166, 1.089399120664387, 1.0830449826989619, 1.0, 1.5393939393939393, 1.6666666666666667, 2.5, 1.5294117647058822, 1.087837837837838, 2.0, 1.7038961038961038, 1.4393939393939394, 1.4666666666666666, 1.1589397125228362, 1.8571428571428572, 1.1875, 1.049980923311713, 1.0320751079167514, 1.3333333333333333, 1.9166666666666667, 1.1318836486868116, 1.125, 1.2870275791624106, 1.0179594956056552, 1.0210711768851304, 1.1098959855262585, 1.3333333333333333, 1.11587147030185, 1.0471327572663, 1.139135598471548, 1.3238380809595203, 1.0647130647130647, 17.5, 33.0, 5.090909090909091, 1.2135416666666667, 1.3268817204301075, 1.18600129617628, 1.064, 1.0022620194528393, 1.112086258776329, 1.512089810017271]
origin-bjaq_15.71 	max: 122.0000	99th: 22.0050	95th: 2.6152	median: 1.1099	mean: 2.0031

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.179491 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=tupleskew', '--dataset=bjaq', '--drift_test=none', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
TupleSkewSample - START
0.001
TupleSkewSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (140000, 5)
None Drift detection: False
Detection latency: 0.0000s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.007668 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=tupleskew', '--model_update=none', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 122.0000	99th: 30.5250	95th: 3.0000	median: 1.1100	mean: 2.0805
ReportEsts: [1.1157894736842104, 1.0229050279329608, 1.0430949684431046, 1.0496124031007752, 1.1538461538461537, 1.0, 1.1106483520884225, 1.0479015646153582, 1.4, 1.0784123910939012, 1.1090927729369555, 1.0372667117704328, 1.1082823074444086, 1.569767441860465, 1.247191011235955, 1.6865671641791045, 1.3656957928802589, 2.7142857142857144, 1.0833333333333333, 1.0345065562456868, 1.1103227740581594, 1.1389357779105098, 1.068036853295535, 1.1046770601336302, 1.0230965716747706, 1.0298242229149954, 2.0, 1.1466296403028478, 1.5, 1.6, 1.6904761904761905, 1.0, 1.047310474175555, 1.1056521910622017, 16.75, 1.458994708994709, 1.9285714285714286, 1.5363636363636364, 45.0, 2.0, 1.0247597930524759, 1.4523809523809523, 1.0922598479612993, 1.0338266384778012, 24.5, 1.0837385197190708, 1.0898518790549638, 1.375, 1.3398058252427185, 1.1976470588235295, 1.0384039693289902, 1.4054054054054055, 1.0848836352018874, 1.0100125156445556, 1.0340026498824084, 2.0, 1.2749077490774907, 1.4126616168212094, 1.0138888888888888, 1.5607142857142857, 1.2670807453416149, 1.0, 1.1265822784810127, 1.202054794520548, 1.092797783933518, 1.057712018347693, 1.1428571428571428, 1.3095238095238095, 1.1217622315696258, 1.0146140089653597, 1.6666666666666667, 1.0, 1.3566820276497695, 1.1064664664664665, 1.008148631029987, 1.150943396226415, 1.124489727067238, 1.0695216907675196, 1.2214488270172725, 1.078048780487805, 1.0564165095722087, 1.1529411764705881, 3.3333333333333335, 1.0082952180507707, 44.0, 1.0811346223549851, 1.4, 1.0712900814156965, 1.025150288308183, 1.6341463414634145, 1.2, 43.333333333333336, 1.1050101320662427, 1.1246826139248964, 1.055581017457606, 1.011523080051515, 1.165319556703608, 1.115473441108545, 1.1107419712070874, 1.0104358502148558, 1.0236612702366128, 2.5833333333333335, 1.3725207356653444, 1.32, 45.0, 1.0685920850061883, 1.1272912423625254, 1.1544424567680382, 1.2311155098652704, 1.0, 1.010579111813074, 1.1528481654165823, 1.0641234294642277, 1.0074981254686328, 1.053454133635334, 1.6666666666666667, 4.7, 1.0413687436159347, 1.0674670921420024, 1.0153846153846153, 1.4155844155844155, 1.0534272666773756, 2.0, 1.1091967403958092, 1.1762845849802372, 1.0, 1.3571428571428572, 6.333333333333333, 1.1754068716094033, 1.0302394137399509, 1.1375353209157488, 1.1118881118881119, 1.5, 1.0209475608041614, 1.4, 1.165813715455476, 1.024133349438338, 1.1063786736810157, 1.0, 1.0754147812971342, 1.1057327333202895, 1.476063829787234, 1.0606060606060606, 1.2148541114058355, 1.0081342145399086, 1.0041771094402674, 1.0109608797548224, 1.1173184357541899, 1.0540784136998649, 1.1163604004449388, 3.0, 1.0844748858447488, 3.5806451612903225, 1.2371541501976284, 1.1433904013471794, 1.0089365504915102, 1.1065414853827953, 17.25, 1.0344537815126051, 1.135107500138175, 1.093619972260749, 1.0759755092674683, 1.0436759120727357, 1.1684460260972716, 1.119717046415665, 1.0424581005586593, 1.0933864758557201, 1.0025337837837838, 1.065217391304348, 1.4383860414394765, 1.0139727956710278, 1.3333333333333333, 1.2597402597402598, 1.1134089953762085, 1.1589164785553048, 1.315, 1.2769271734788976, 1.2054794520547945, 1.0052443320872442, 1.2425249169435215, 1.0013037358377368, 1.1772287862513426, 1.0867647058823529, 1.7352941176470589, 1.0913196807523355, 1.0677713832109545, 1.2517777192520412, 1.0014391290140923, 1.113733905579399, 1.0476491671937593, 1.1117478510028653, 1.1382189239332097, 1.4958677685950412, 1.0942261645624727, 1.2226394103740788, 1.0943323041596202, 1.206896551724138, 1.094608695652174, 1.0755939050630132, 1.553627760252366, 1.25, 1.1252703723972586, 1.2857142857142858, 1.1069862843876435, 1.1068023215642921, 1.0400715563506262, 1.0850898203592814, 1.0250200160128102, 1.0490860213198425, 1.1151940545004129, 1.0426599749058971, 1.0456140350877192, 1.093871348978558, 1.0647546455039738, 1.232258064516129, 1.0429664508534433, 1.1147588443054832, 1.503030303030303, 1.0616438356164384, 1.010834236186349, 9.416666666666666, 1.037038901861071, 1.2307692307692308, 1.2219987790426259, 1.0797546012269938, 1.2702702702702702, 1.0713557594291538, 1.063020099859173, 1.0174399986151863, 7.083333333333333, 1.1560798548094373, 1.1417113434144823, 1.0482723872643063, 1.0675990675990676, 1.050974512743628, 1.0860624607831266, 1.3405493720004085, 1.3103448275862069, 1.0054016264509031, 1.0003976462554978, 1.2018633540372672, 1.2982456140350878, 1.1275415896487986, 3.0, 1.108244531688166, 2.0, 1.2206838682609609, 1.0577471482889733, 1.056457182320442, 1.0477815699658704, 1.0465116279069768, 2.0, 1.0305382955910658, 1.5272727272727273, 1.151998518636087, 1.2, 1.105050505050505, 1.193607305936073, 1.0, 1.0088023582642078, 1.0769230769230769, 1.0628195763330899, 1.1637470186692984, 1.1402805611222444, 1.115563348158285, 1.9743589743589745, 2.0, 1.0801882502728264, 1.1027822727984549, 1.3109756097560976, 1.00407039020658, 1.0811867336021728, 1.0344932621780345, 1.1333333333333333, 1.087877271969318, 1.1092198581560284, 1.004065275610273, 1.0516932364871239, 1.1220196353436185, 1.106141153157273, 1.0815109343936382, 1.3943661971830985, 1.08, 1.2060301507537687, 1.4466019417475728, 1.0837655051102417, 12.75, 1.0082252048331048, 1.0439306358381504, 1.5264227642276422, 1.0365846134863348, 1.0312304809494066, 1.052553269905404, 1.0668632095003063, 1.2, 1.0180722891566265, 1.021794221996959, 1.0236358851944438, 1.1383063488016318, 1.0891517005776064, 1.0696308724832215, 1.4020213363279057, 1.0005398596364945, 1.0087253185194132, 1.2148165047910828, 1.021729758700642, 1.3638443935926774, 4.7272727272727275, 1.5454545454545454, 1.0778607943373968, 1.0885082084225552, 1.867403314917127, 1.017498331726848, 4.214285714285714, 1.9411764705882353, 1.0520008322966519, 1.0, 1.2049335863377608, 1.0821596244131455, 1.0048192771084337, 1.0769112016796345, 1.0249774300331027, 1.920844327176781, 23.5, 2.857142857142857, 1.0258587417985334, 1.7142857142857142, 1.0078790142945824, 1.124359260084689, 22.5, 1.0588323706868787, 1.0, 4.25, 1.0441350199769037, 1.08487446862624, 1.0733074601121173, 1.0553184983390551, 1.1567425569176883, 1.1533477321814254, 1.22938689217759, 1.0547619047619048, 1.2307692307692308, 1.1072805580354952, 1.0831174722165853, 1.6563307493540051, 1.0152057245080501, 1.127282698108034, 3.0, 1.2222222222222223, 1.0497327311150706, 1.75, 1.09109477124183, 1.8235294117647058, 12.923076923076923, 1.0476190476190477, 1.4210526315789473, 1.0310077519379846, 1.064516129032258, 1.1132189099668774, 1.2820512820512822, 1.3333333333333333, 1.0796399115255395, 61.0, 2.111111111111111, 1.0320106630318036, 1.2689655172413794, 1.0039113428943938, 1.0815485996705108, 2.0, 1.0, 1.1560677589558457, 1.1904761904761905, 1.1861427094105481, 1.1308257530026435, 1.300900900900901, 1.146236559139785, 2.0, 1.0837078308965573, 1.7272727272727273, 1.1785714285714286, 30.5, 1.0415864458991144, 1.1428571428571428, 1.001934235976789, 1.0, 1.1812592559350177, 1.113795099363303, 1.1659693165969316, 1.022960229602296, 1.1362214199759326, 1.1813725490196079, 1.0089858793324775, 1.07113183691565, 2.883116883116883, 1.2333333333333334, 1.0107150866759143, 1.055347566528382, 1.1105757037788486, 1.0887096774193548, 1.4285714285714286, 1.6524822695035462, 2.0, 1.3095238095238095, 1.0649828347229033, 1.1511254019292605, 2.0, 1.1180758017492711, 1.1683006535947713, 1.2199170124481329, 1.2485228951255538, 1.1608954179783142, 1.13901167121927, 1.2568807339449541, 1.256910569105691, 1.1334841628959276, 1.0, 1.0928395887897913, 1.8620689655172413, 1.08589066979411, 1.0086202252033833, 1.0216011976901689, 1.0387759379584993, 1.2222222222222223, 1.0233258088788564, 1.1666666666666667, 1.1738219895287958, 4.0, 1.0985604829347573, 1.8, 1.1123545273914277, 1.2395209580838322, 7.875, 1.06312292358804, 1.152915291529153, 1.0, 1.001192343897082, 1.0800002830365578, 1.1091430399393387, 2.25, 1.164150491253295, 1.2237394957983194, 1.0266666666666666, 45.0, 1.3157894736842106, 1.025816249050873, 1.048173001567398, 1.0122950819672132, 1.12890625, 1.110874924929671, 1.1896361631753032, 1.0771428571428572, 1.5854922279792747, 1.0720583080946517, 1.0223048327137547, 1.0097065462753951, 1.2, 1.070305089232534, 1.0363682604272635, 1.1045015750431866, 2.7777777777777777, 1.2056451612903225, 1.0, 1.131578947368421, 1.6, 1.0309372552432339, 1.1818181818181819, 1.0, 1.0254564942770739, 1.0, 1.0, 1.0614605929139551, 1.0164609053497942, 1.0130700778642936, 1.0549305095962938, 1.0595533498759304, 1.5555555555555556, 1.2465753424657535, 1.3259162303664922, 1.0359541683129199, 1.0, 1.946808510638298, 1.4272727272727272, 1.2826086956521738, 1.178896625602571, 1.004226429028704, 1.271186440677966, 2.723404255319149, 1.3968253968253967, 1.010313619336669, 1.0499323034761756, 1.1446842525979217, 1.0, 1.1115648480888598, 1.0068479519684266, 1.1678352322524101, 4.153846153846154, 1.087248322147651, 1.0524232180625102, 1.043859649122807, 1.2044317369549677, 1.0200923629466192, 1.0208189951823812, 1.1318306010928962, 1.1419624217118998, 1.5, 1.0629268292682927, 1.0370036101083033, 1.016188214979495, 1.0597161037689673, 1.1875, 1.0037909764424406, 1.1055776892430278, 1.043688910765769, 1.1666666666666667, 1.3425196850393701, 49.0, 1.0067921827563517, 1.297737556561086, 1.3466666666666667, 1.2842105263157895, 1.0866189546736067, 1.0242214532871972, 1.0318443063408251, 1.064211946286385, 1.0, 1.0429184549356223, 1.2159827213822894, 5.555555555555555, 1.0077841757304329, 1.0531761169874574, 1.012378561485192, 1.011217510259918, 1.0803015111365752, 1.0623003194888179, 1.073640622129692, 1.0762932638630442, 1.6016949152542372, 1.0876132930513596, 1.2825768667642752, 1.155505107832009, 1.3165816326530613, 1.044820717131474, 1.1666666666666667, 1.1147186147186148, 1.2045497630331754, 1.3061023622047243, 1.1044045676998369, 1.0616906731441815, 1.984251968503937, 1.0357400051106929, 2.0, 1.3183747725894481, 1.1013513513513513, 1.0278884462151394, 1.183794466403162, 1.0923623445825932, 1.0649762282091917, 1.2831460674157302, 1.1180957416600574, 1.0, 1.1706036745406825, 1.0, 1.0, 1.284, 8.0, 1.015587529976019, 1.0409556313993173, 1.1936, 1.1142561716427557, 1.6538461538461537, 1.3555858310626703, 1.0119617224880382, 16.714285714285715, 1.1096023888103097, 1.1651785714285714, 1.2335526315789473, 1.025722296720712, 1.0527841266686542, 1.0313676286072773, 1.107394366197183, 1.1663066954643628, 1.094890510948905, 1.0025051475634865, 1.2564366632337796, 1.0825289821765998, 1.6616915422885572, 1.25135076723579, 1.0723014256619146, 2.8421052631578947, 1.2093023255813953, 1.6666666666666667, 1.0669603524229074, 1.1027667984189724, 1.0066459218874566, 1.0089783281733746, 1.1563208328773975, 1.9, 1.029715931404634, 1.126898926473567, 1.039877300613497, 1.4126984126984128, 1.034040674337704, 1.0489838457529963, 1.0053609970061965, 1.28, 1.142921550946799, 1.0461192209523091, 1.0188519544475223, 1.3076923076923077, 1.0714384389570022, 1.7671232876712328, 1.391304347826087, 1.3333333333333333, 1.119463251943648, 1.05153831079757, 1.1163522012578617, 1.0923076923076922, 1.1228030025631637, 1.0, 1.1239754098360655, 6.375, 1.2063385030343898, 1.0526315789473684, 1.2692307692307692, 1.0540617774660328, 1.1847133757961783, 1.0552577319587628, 1.0711067346999672, 1.2388641425389755, 1.0849557522123894, 1.0650759219088937, 1.0290322580645161, 1.0146386093321134, 1.9183673469387754, 1.7976878612716762, 1.0223755047106327, 1.0333356119124115, 1.153306333746137, 1.0, 1.1026301795721356, 1.0100525094976855, 2.0, 1.0348144948891882, 1.0875237387498968, 1.1610878661087867, 1.016255909072941, 1.0375063920784715, 1.0, 2.5714285714285716, 1.0491621378645652, 1.0532296650717703, 1.0704538513224604, 1.3172846889952152, 1.0135283701335214, 1.081262605591088, 1.033007334963325, 1.129218607479477, 1.4534534534534536, 1.0774842314563242, 1.24119530416222, 1.0515818431911967, 1.018622780424426, 1.0953298215268497, 1.0904522613065326, 1.052756372258447, 1.6111111111111112, 1.8, 1.3016905071521456, 1.5956532726813242, 1.1424832800232625, 1.8775510204081634, 1.3333333333333333, 1.0156139105748758, 1.023422860712055, 1.3137254901960784, 1.0868739143022583, 2.0, 1.0063538973032877, 1.7798165137614679, 1.4722222222222223, 1.0082122552116235, 1.0462025316455696, 1.0430338179603293, 1.0285714285714285, 1.3777777777777778, 1.0271858927259367, 1.0, 1.0278406820301051, 1.3686746987951808, 1.75, 1.3333333333333333, 1.0843373493975903, 1.119815668202765, 1.0469685815815544, 2.479338842975207, 1.1274509803921569, 1.0696864111498259, 22.0, 1.0252996005326231, 1.087071240105541, 1.1241379310344828, 1.2816901408450705, 1.3461538461538463, 1.5, 1.3100088573959257, 1.2253680634201585, 1.3571428571428572, 1.090916385352965, 1.079052236270648, 1.0413427890124183, 1.1200130626462743, 1.179762219286658, 1.1003167898627244, 1.0625, 1.0, 4.0, 1.6654676258992807, 1.0376370097262309, 1.3516915814319435, 1.0594965675057209, 1.0230642504118617, 1.0826250914616986, 1.069397018187167, 1.0095180796192769, 1.4270833333333333, 1.1363636363636365, 1.0290275761973875, 1.077251589636519, 1.0999177631578947, 1.0585916205133878, 1.0526315789473684, 1.015891714595893, 1.0609867368393213, 1.0527807907524953, 1.1406727828746177, 1.24, 1.2222222222222223, 1.0924608819345663, 1.0734573947110675, 1.0399646572884942, 28.0, 1.0194500335345407, 1.0830114952973784, 1.0538873571680778, 1.2374366965329178, 2.3333333333333335, 1.406926406926407, 1.2396694214876034, 1.2479860324072656, 1.04578315876576, 1.0709021299328274, 1.0426896184115637, 1.0900478822629311, 1.0004546487838144, 1.3632478632478633, 1.1966628423205468, 1.390282131661442, 1.7857142857142858, 1.0, 1.1111111111111112, 1.041476335214937, 1.8333333333333333, 1.169188445667125, 1.0609404761092034, 1.0893617021276596, 1.0204081632653061, 1.2852564102564104, 1.0528421452863268, 1.134516344516991, 1.128238341968912, 7.714285714285714, 1.2385786802030456, 24.153846153846153, 1.0574704533427413, 1.3125, 1.0770558636647445, 1.0, 1.1757387247278384, 1.0757156048014773, 1.072269044895291, 1.2136363636363636, 1.39, 1.032042678551833, 1.0918781725888325, 1.0013879592077803, 3.0, 1.4753694581280787, 1.0796812749003983, 1.0397767312053026, 38.5, 1.490909090909091, 3.161290322580645, 1.164150732416415, 1.0844258233094561, 1.0359051872208862, 3.466666666666667, 1.016534153286675, 1.121212121212121, 1.0019865427747516, 1.083050847457627, 1.064367816091954, 1.1111942159062578, 1.0508474576271187, 1.3776460626587637, 1.030674846625767, 1.0015283361788843, 1.1200353045013238, 1.0162463158243982, 1.1181724561334019, 1.4615384615384615, 1.0467289719626167, 1.125647476690839, 1.0456877178125916, 1.2340425531914894, 1.0363636363636364, 1.200888888888889, 1.1000344946533287, 1.2041612483745123, 1.039693941148649, 4.681818181818182, 1.0103092783505154, 1.2100429305369835, 1.0068519223448802, 1.0546528803545052, 1.1040979610564652, 1.0534221627259002, 1.0650834210130768, 1.1668952903520804, 1.090468764597242, 1.112445650868385, 1.0838794233289646, 1.0932203389830508, 1.1214024071166928, 1.0625543239634763, 1.4880952380952381, 1.4, 1.0427862372006127, 1.1708231361547186, 1.0455876202425762, 1.3465909090909092, 1.0794841735052756, 1.0066503841652674, 1.2929087624209576, 1.0198135198135199, 1.6923076923076923, 1.0409795102448776, 2.223684210526316, 1.1837708830548925, 2.048780487804878, 1.0727918806836452, 1.4105902777777777, 1.014388489208633, 1.4390243902439024, 1.0675990675990676, 1.1281822242072355, 1.0269707588310386, 1.2889390519187358, 1.0360051765449552, 1.0203312018363666, 2.375, 1.0, 4.725, 2.076923076923077, 1.25, 1.1333333333333333, 1.0141242937853108, 122.0, 1.0756972111553784, 1.0577994591772324, 1.0873120290122782, 1.3623188405797102, 1.25, 1.8837209302325582, 1.196078431372549, 1.4, 1.3174603174603174, 1.0913326392503904, 1.0573597871868765, 1.9242424242424243, 1.1118907737692767, 1.0434219455775364, 1.6666666666666667, 1.0345211467208497, 1.06857855361596, 1.6853932584269662, 1.065075212557227, 1.0729749959732053, 1.0795261395827969, 1.0662327611126134, 1.2506043513295728, 1.8333333333333333, 1.0057471264367817, 1.2086247086247086, 6.375, 1.0115704149185258, 1.2570422535211268, 1.0383483226847896, 1.2702167672968425, 1.058389279008154, 1.25, 1.0298558210350786, 1.0439500813890397, 1.216612377850163, 2.106382978723404, 1.2225641025641025, 1.0, 1.2771458117890382, 1.181104202702071, 1.058500463714352, 2.0076923076923077, 1.2880794701986755, 1.2203389830508475, 1.017982799061767, 1.0303393213572853, 1.0, 1.0223881103688013, 1.0581132075471698, 1.0419823412133296, 1.0764304425150908, 1.0094043887147335, 1.6274509803921569, 1.1580381471389645, 1.125, 1.0032546786004881, 1.0313199105145414, 1.010654839506066, 1.0103016924208976, 1.5, 1.173396674584323, 1.0091598783344404, 1.073885731379001, 1.2014979115656057, 1.025961394583271, 1.0464327485380116, 1.162621359223301, 1.1524390243902438, 1.3541666666666667, 1.0627126332501702, 1.0900858927055075, 6.857142857142857, 1.2461300309597523, 1.6666666666666667, 1.2933333333333332, 1.1032428855062872, 1.1344873501997337, 1.5283687943262412, 1.0770187262191937, 1.1395465994962217, 1.6, 1.0396600566572238, 1.0248154767815179, 1.0208816705336428, 1.1794117647058824, 1.0800325556158437, 1.221276595744681, 1.2321428571428572, 1.0615194054500412, 1.0312925891555085, 1.1605825906204619, 1.2607361963190185, 1.1415752741774676, 1.34375, 1.1965072020300023, 1.0978470536992098, 1.0400860628342246, 1.0054588235294117, 1.0573159366262814, 1.0868055555555556, 1.125, 1.5, 1.25, 2.5, 1.6470588235294117, 1.080536912751678, 2.0, 1.6298472385428908, 1.4179104477611941, 1.4666666666666666, 1.0940556572221871, 1.4285714285714286, 1.178125, 1.0143729787998563, 1.0537861352213267, 1.1428571428571428, 2.0833333333333335, 1.3211610486891385, 1.25, 1.3656343656343657, 1.0159420289855072, 1.0024433283561829, 1.1057641743952578, 2.0, 1.1039185970989391, 1.0117249165972708, 1.0094161273903874, 1.3488372093023255, 1.0546829552065153, 17.5, 33.0, 4.666666666666667]
origin-bjaq_15.71 	max: 122.0000	99th: 30.5250	95th: 3.0000	median: 1.1100	mean: 2.0805

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.214270 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=0 | total-time=111.241505