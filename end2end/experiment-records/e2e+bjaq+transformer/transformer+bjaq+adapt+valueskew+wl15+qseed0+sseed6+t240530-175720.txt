Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 6, 'transformer': {'epochs': 40}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.5050	95th: 1.8017	median: 1.0829	mean: 1.1778
ReportEsts: [1.0161290322580645, 1.0283854166666666, 1.0399505229807735, 1.0721649484536082, 1.5789473684210527, 1.0, 1.0204509701101205, 1.0753706259406903, 1.0, 1.0359042553191489, 1.0984907511615156, 1.0422528230130765, 1.0280656303972366, 1.1069767441860465, 1.0589897562698694, 1.0, 1.1842105263157894, 1.0145235565001771, 3.0, 2.0, 1.125, 1.0792756726561772, 1.0877265558342166, 1.1021726365237816, 1.0656142081894426, 1.0, 1.1514900959844698, 2.0, 1.2, 1.0145985401459854, 1.0, 1.0448240522321468, 1.0005477630955384, 1.1015538290788014, 1.0337788221471582, 1.2317891840053372, 1.0989304812834224, 1.0014249448016264, 1.1307941318272607, 1.1904761904761905, 1.1126961483594864, 1.125, 1.0, 1.0549498986218449, 1.1466218606296428, 1.890625, 1.0404040404040404, 1.2473498233215548, 1.0320959544622892, 1.0833333333333333, 1.0889987801198893, 1.161512027491409, 1.0362374075523784, 2.0, 1.212987012987013, 1.1825147129585076, 1.2019230769230769, 1.3592233009708738, 1.1338028169014085, 1.25, 1.0211286804798254, 1.0896637608966375, 1.0136363636363637, 1.0481927710843373, 1.0909090909090908, 1.069086737714624, 1.2580246913580246, 1.75, 1.0, 1.1064603337372985, 1.0157575757575759, 1.0602898550724638, 1.0398126463700235, 1.0667243578065222, 1.0705882352941176, 1.0997963340122199, 1.3333333333333333, 1.1139874739039666, 2.0, 1.0360842491893598, 1.0, 1.0550056701201185, 1.1349693251533743, 1.1136653895274584, 1.1197252208047106, 1.0, 1.0729683622828785, 1.0311750599520384, 1.1029411764705883, 1.75, 1.0925024342745862, 1.0451617836492932, 1.0498442367601246, 1.004225352112676, 1.0018298261665142, 1.0051948051948052, 1.0150375939849625, 1.152409046214356, 1.0, 1.2305918524212145, 1.0012975778546713, 1.0763293310463122, 1.2145979770272588, 1.4782608695652173, 1.0178674116135034, 1.049641624634988, 1.266334009044129, 1.1213500189609404, 1.049662783568363, 1.3333333333333333, 1.6666666666666667, 1.0738317757009346, 1.066898567160273, 1.0442198357548957, 1.1948051948051948, 1.0593959752653066, 2.0, 1.0712708924629455, 1.130952380952381, 1.0, 1.0494505494505495, 1.0, 1.2205513784461153, 1.0122529686212227, 1.1258833579249825, 1.087378640776699, 1.8, 1.1076158940397351, 1.0, 1.0357142857142858, 1.089509359887947, 1.1818181818181819, 1.0382486979166667, 1.0314770736118875, 1.1339253996447602, 1.0774365821094793, 1.1027190332326284, 1.0268901013250196, 1.039972432804962, 1.0786106032906764, 1.0324097397145255, 1.208955223880597, 1.0085526315789475, 1.1228900707062102, 2.0, 1.020510483135825, 1.0127314814814814, 1.0988411724608043, 1.081348155990824, 1.5, 1.2120368127876, 1.056338028169014, 1.0330578512396693, 1.1074561403508771, 1.1255474452554743, 1.0412497805862735, 1.1185707513628822, 1.0679443347618818, 1.1360691144708424, 1.105263157894737, 1.2244897959183674, 1.3142857142857143, 1.0294550810014726, 1.4285714285714286, 1.059823949510048, 1.0282426858001206, 1.1293888166449935, 1.3817087608524072, 1.139178844815588, 1.0585990299753518, 1.3010526315789475, 1.0818181818181818, 1.1136825796455891, 1.1122345803842264, 1.014667817083693, 1.0602526724975705, 1.0312304809494066, 1.1140748413828823, 1.0223165841000237, 1.0, 1.0873015873015872, 1.0345752187411799, 1.0287081339712918, 1.2923738943342098, 1.25, 1.0727561691699221, 1.361714395541034, 1.109300261887756, 1.1372549019607843, 1.1390909090909092, 1.0915770631751556, 1.0, 1.1818181818181819, 1.0744118477866107, 1.0823095823095823, 1.017832003754106, 1.4583333333333333, 1.0610932475884245, 1.0474367604063366, 1.0456987231170194, 1.0626410835214446, 1.0441657004321703, 1.5593220338983051, 1.103448275862069, 1.2352941176470589, 1.0, 1.4285714285714286, 1.165904431477685, 1.3310104529616724, 1.3563218390804597, 1.0128521997034108, 1.0031277926720286, 1.0321297213184326, 1.0466374431250693, 1.138157894736842, 1.2222222222222223, 1.0221565731166913, 1.0035644847699288, 1.0709833993911195, 1.0320702381771083, 1.0, 1.0795031055900621, 1.142496996435113, 1.0028636795650923, 1.151105651105651, 1.0096029887658187, 1.2788144302017417, 1.0357142857142858, 1.0024481449839637, 1.0456420835482207, 1.038917089678511, 1.1228070175438596, 1.2143576826196474, 1.0154738878143132, 1.1661417322834646, 2.0, 1.2094884252643612, 1.0629745422063421, 1.152836380684482, 1.1806167400881058, 1.0, 1.6666666666666667, 1.0863157524489544, 1.1090909090909091, 1.141862935423611, 1.5, 1.0, 1.0526315789473684, 1.10967993754879, 1.0769230769230769, 1.0524861878453038, 1.1181434599156117, 1.0797227036395147, 1.008816120906801, 1.1798648884071157, 1.0178571428571428, 2.0, 1.0824851438323773, 1.0308388739567125, 1.1208406304728546, 1.0046201986685428, 1.0728025720669174, 1.0339494658300832, 1.089825119236884, 1.076298787035896, 1.0287081339712918, 1.082443207462013, 1.0134411947728688, 1.0909090909090908, 1.0284641233445344, 1.0586907449209932, 1.1818181818181819, 1.3157894736842106, 1.0007278020378456, 1.1111111111111112, 1.0769230769230769, 1.1218895094542762, 1.1615598885793872, 1.4160401002506267, 1.029511714184682, 1.028523489932886, 1.0209439090351167, 1.0417141088424846, 1.1111111111111112, 1.0497453619497998, 2.5, 1.0426029593419013, 1.0151187904967602, 1.0344954713030814, 1.0526315789473684, 2.5, 1.4782608695652173, 1.0923076923076922, 1.0621176136510313, 1.0, 1.001531393568147, 1.0091324200913243, 1.0072115384615385, 1.0169020956275265, 1.08, 1.1257861635220126, 1.0022104837575587, 1.0934232506341643, 1.0751107098327528, 1.1025641025641026, 1.0, 1.0859188544152745, 1.3181818181818181, 1.1223776223776223, 1.0845829823083404, 1.030442035029191, 1.0929577464788733, 1.4047619047619047, 1.0153203342618384, 1.0316742081447965, 1.2857142857142858, 1.0140416868637907, 1.0360531309297913, 1.0526315789473684, 1.113192316112084, 1.1428571428571428, 1.4, 1.0142986960840255, 2.0, 1.1810699588477367, 1.0319767441860466, 1.129614438063987, 1.0903092783505155, 1.0295698924731183, 1.0963855421686748, 1.0879205616959104, 1.0994133541053042, 1.0470756062767475, 1.029651393497294, 1.0583124723899278, 2.0, 1.0, 1.04436801572248, 1.25, 1.07035175879397, 1.3529411764705883, 1.0, 1.4666666666666666, 1.395582329317269, 1.0520446096654275, 1.1025641025641026, 1.0378787878787878, 1.0, 1.2203728362183754, 1.1104195450255119, 2.0, 1.1917808219178083, 1.0, 1.095953844985956, 1.0853658536585367, 1.0234321700341118, 1.152073732718894, 1.1363636363636365, 1.3295583238958097, 1.2685185185185186, 1.024844490246814, 1.0121280332211087, 1.0931586608442503, 1.0, 1.1666666666666667, 1.5714285714285714, 1.5, 1.2307692307692308, 1.0693347050754458, 1.3333333333333333, 1.0532445923460898, 1.086021505376344, 1.1969609656971278, 1.0496307340849442, 1.2687950566426365, 1.0265323685199326, 1.009860788863109, 1.0785714285714285, 1.5, 1.0666666666666667, 1.0595744680851065, 1.0422298049406402, 1.0952380952380953, 1.5714285714285714, 1.0089086859688197, 1.039274924471299, 1.0156320664500917, 1.0122549019607843, 1.1464387464387464, 1.0325581395348837, 1.095890410958904, 1.0907770515613653, 1.090042372881356, 1.1923076923076923, 1.0269121813031161, 1.128440366972477, 1.0538868704585318, 1.0949429757587326, 1.0072342236351348, 1.075, 1.1326530612244898, 1.098159509202454, 1.0, 1.022114409662059, 1.0371167322824186, 1.0569522220898369, 1.0552980880063694, 1.0902835696413677, 1.1433110899269145, 1.8333333333333333, 1.2733415233415233, 1.0, 1.2365499573014518, 1.25, 1.0440084625114148, 1.0391304347826087, 1.0908211521926052, 1.0671936758893281, 1.1046099290780143, 3.0, 1.1699794379712132, 1.0093021120293848, 1.1594169578811844, 2.0, 1.0476190476190477, 1.2687140115163147, 1.2747252747252746, 1.111737868104521, 1.1018711018711018, 1.05, 1.2873166522864539, 1.0494469107944373, 1.0572821089603188, 1.0989284125418286, 1.0777412280701755, 1.0281923714759535, 1.0775510204081633, 2.142857142857143, 1.0341207349081365, 1.5, 1.225752508361204, 1.1785714285714286, 1.1912710219106932, 1.0, 1.068869379523075, 1.147038099984533, 1.0604565083281925, 1.0, 1.2527472527472527, 1.16, 1.2852070414082817, 1.1925601750547046, 1.0, 1.0296352583586625, 1.1181863556361153, 1.1230832987981765, 1.5, 2.0, 1.0189948555599526, 1.0154686078252957, 1.0065573770491802, 1.1111111111111112, 1.0688430385771321, 1.0675403225806452, 1.4705882352941178, 1.0643691148775896, 1.0454545454545454, 1.101049868766404, 1.0137096774193548, 1.3550694152292806, 1.0266368082974837, 1.0, 1.0571428571428572, 1.0671650937614903, 1.0431633496662835, 1.02462643026158, 2.0, 1.090466710904667, 1.0087008769827328, 1.0220010476689365, 2.0, 1.036682615629984, 1.0228616143983627, 1.0823740689492742, 1.0038006203311345, 1.0210715126113847, 1.007687165775401, 1.046613896218118, 1.084619093539055, 2.0, 1.068013850845005, 1.608695652173913, 1.0, 1.145077720207254, 1.1346153846153846, 1.003404006189102, 1.1781781781781782, 1.0742970736089608, 1.0532354290959156, 1.1264674966122517, 1.0459894494792372, 1.065183721118393, 1.1573033707865168, 4.0, 1.0027895810827032, 1.1858299595141701, 1.047946018444885, 1.0284622246093937, 1.082191780821918, 1.122214234363767, 2.049019607843137, 2.4285714285714284, 1.0256320619264623, 1.0619589317348723, 1.0013233266395831, 1.1180784745141181, 1.0453866178172002, 1.0146443514644352, 1.0623417215537205, 1.074973031283711, 1.2323390894819466, 3.0, 1.1666666666666667, 1.0251572327044025, 1.0928433268858802, 1.0642857142857143, 1.1051248357424441, 1.0254901960784313, 1.1775147928994083, 1.148905109489051, 1.103030303030303, 1.0749425727411945, 1.2555555555555555, 1.056430360802941, 2.0, 1.050566037735849, 1.0714285714285714, 1.0846153846153845, 1.097486033519553, 1.0351075877689695, 1.0541666666666667, 1.0946822308690014, 1.0897563626483109, 1.0, 1.1702127659574468, 1.1666666666666667, 1.0, 1.1704545454545454, 1.1048387096774193, 1.0125, 1.058252427184466, 1.0639218199295097, 1.080046403712297, 1.1187291610776837, 1.1882835383714119, 1.0354391371340523, 1.1281773636085226, 1.1837837837837837, 1.1266666666666667, 1.001453488372093, 1.0849005910800644, 1.2890173410404624, 1.107890017931859, 1.043936552982314, 1.254091101613338, 1.0775785758967036, 2.0, 1.1302211302211302, 1.0691699604743083, 1.4476190476190476, 1.0, 1.0851063829787233, 1.25, 1.1345381526104417, 1.3333333333333333, 1.1666666666666667, 1.0100936868137622, 1.1120553359683794, 1.0291975995240437, 1.0212749556771756, 1.2108108108108109, 1.1289437585733881, 1.0, 1.193798449612403, 1.021991964474519, 1.0740696469838233, 1.0845879194864088, 1.1016061054789839, 1.0222620266120779, 1.1428571428571428, 1.0483933939796197, 1.1119005328596803, 1.0251137968921675, 1.116493156874188, 1.2727272727272727, 1.0403726708074534, 1.0, 1.2387640449438202, 1.2091583903933543, 3.0, 1.1094774937796879, 1.0679206092776368, 1.4285714285714286, 1.051873744837255, 1.3, 1.1176470588235294, 1.0720929349683004, 1.6923076923076923, 1.0154031156714163, 1.060230670653567, 1.3571428571428572, 1.1153846153846154, 1.1402061855670103, 1.0196078431372548, 1.0428256070640176, 1.046532156368222, 1.157147437365456, 1.0, 1.0993373886595699, 1.1189024390243902, 2.0, 1.0194662914869572, 1.1044121463794445, 1.097445600756859, 1.0129325989366105, 1.016827099713425, 1.0761904761904761, 1.8571428571428572, 1.0630812778002425, 1.0088709677419354, 1.092053688086471, 1.1779960707269155, 1.015722527361693, 1.057774558018362, 1.0622710622710623, 1.0402476780185759, 1.1906354515050168, 1.0814381633095083, 1.043533123028391, 1.1288343558282208, 1.0477941176470589, 1.0436664044059796, 3.0, 1.1410281338338892, 1.0000198805180862, 1.0475959871668583, 1.7272727272727273, 1.305165949173726, 1.4414893617021276, 1.1428571428571428, 1.082422233194611, 1.0420575865415722, 1.1375545851528384, 1.0303030303030303, 1.3333333333333333, 1.0932404066662185, 1.5, 1.0350467289719627, 1.0, 1.0445537645663248, 1.44, 1.1518987341772151, 1.0660377358490567, 1.0, 1.626984126984127, 1.1645087585681646, 1.25, 2.0, 1.1176470588235294, 1.1620689655172414, 1.0276456599286563, 1.2124681933842238, 1.1228070175438596, 1.2448377581120944, 1.1014466214978942, 1.0571428571428572, 1.1036036036036037, 1.3142857142857143, 1.0384615384615385, 1.0, 1.0665236051502145, 1.0577200577200576, 1.012396694214876, 1.1840039254170756, 1.09030459985874, 1.09056467616814, 1.043444105178905, 1.1279641411220358, 1.2329376854599408, 1.013914095583787, 1.8333333333333333, 1.0, 1.2142857142857142, 1.027001593685968, 1.0661959399823477, 1.107843137254902, 1.1576354679802956, 1.0005348410757946, 1.0196287051056458, 1.0048122871076042, 1.0833333333333333, 1.2222222222222223, 1.0312977099236642, 1.01033934252386, 1.1263925775187114, 1.03599890455977, 1.0328947368421053, 1.086015948021264, 1.0240063086698716, 1.130246020260492, 1.329429735234216, 1.125, 1.0826001955034212, 2.3307086614173227, 1.1818181818181819, 1.0699708454810495, 1.0701001430615165, 1.0, 1.100502512562814, 1.0436294283447822, 1.0740740740740742, 1.0913078435586974, 1.0158898305084745, 1.2285714285714286, 1.0440573770491803, 1.006416726748378, 1.166565941445071, 1.0181297709923665, 1.0057077625570776, 1.2007037488158072, 1.1940298507462686, 1.1428571428571428, 1.0, 1.4285714285714286, 1.0655443865810827, 1.3333333333333333, 1.1430994602929838, 1.11202950837327, 1.0719982277359326, 1.0768619662363457, 1.0475329551888901, 1.1459807073954984, 1.010752688172043, 1.0346740638002774, 1.0030337896541197, 1.092800899887514, 1.0425641435696509, 1.2365410092737565, 1.6666666666666667, 1.0158730158730158, 1.0952380952380953, 1.064508301847551, 1.0456026058631922, 1.2895595432300162, 1.036697247706422, 2.2017167381974247, 1.037586405529954, 1.0348993288590604, 1.0638995215311005, 1.1875, 1.0492610547619607, 1.0327384005197113, 1.335966298051606, 1.0581052631578947, 1.28125, 1.0518018018018018, 1.1229050279329609, 1.5625, 1.065121293800539, 1.5769230769230769, 1.0806451612903225, 1.1097560975609757, 1.08327246165084, 1.0211485557083906, 1.0143198090692125, 3.6666666666666665, 1.0566037735849056, 1.0827603956027796, 1.0506250347241513, 1.0176131092834597, 1.0433694319574989, 1.0529234478601568, 1.0833333333333333, 1.0903614457831325, 1.040632936120336, 1.0361991996854254, 1.0300601202404809, 1.0069444444444444, 1.0049841413683733, 1.0025226294702478, 1.4210526315789473, 1.107129749463965, 1.0, 1.3333333333333333, 1.0557096590768622, 1.0015477698044182, 1.2575347758887172, 1.0996756556389584, 1.0582601755786114, 1.066350710900474, 1.1103389813801736, 1.0835049187828871, 1.119485294117647, 1.0324324324324323, 1.0577777777777777, 1.0785230452068915, 1.1071428571428572, 1.75, 1.0681383971463596, 1.1601265721123728, 1.0305522914218566, 1.0056818181818181, 1.218320057929037, 1.010454797754467, 1.1459094742760754, 1.183431952662722, 1.3846153846153846, 1.0296495956873315, 1.0969976905311778, 1.15, 1.5357142857142858, 1.0549558609900547, 1.184340931615461, 1.1674958540630183, 1.025, 1.032801685224195, 1.0653092585478294, 1.0650602409638554, 1.3255100019805903, 1.3333333333333333, 1.0769230769230769, 1.3333333333333333, 1.1494252873563218, 1.5, 1.0, 1.25, 1.0450331125827814, 1.0670289855072463, 1.0949293119698398, 1.0374378376592264, 1.1381818181818182, 1.3333333333333333, 1.1428571428571428, 1.064516129032258, 1.054054054054054, 1.0714285714285714, 1.1184668989547037, 1.026559640153178, 1.0315275871025193, 1.3195876288659794, 1.0885975530525294, 1.0464140933887194, 2.5, 1.0704892654213876, 1.25, 3.0, 2.0, 1.1789940828402368, 1.1704798106576777, 1.0892639389772463, 1.236024844720497, 1.0, 1.032, 1.3404907975460123, 3.0, 2.0, 1.1003937007874016, 1.2375319263341846, 1.0596026490066226, 1.6666666666666667, 1.018710079714175, 1.0449264136328427, 1.0092307692307692, 1.1428571428571428, 1.0240384615384615, 1.024187884713367, 1.1842105263157894, 1.1371774293122607, 1.0175326312523032, 1.3621794871794872, 1.1328125, 1.07734314714786, 1.094392523364486, 1.0867768595041323, 1.1311475409836065, 1.0470663505942763, 2.057372924006039, 1.0459076052942677, 1.237037037037037, 1.1862745098039216, 1.208955223880597, 1.1092669432918396, 1.062323833385531, 1.003787233616207, 1.0706725426326882, 1.0938864628820961, 1.5, 1.6666666666666667, 1.1016109441922906, 1.183377308707124, 1.065356934448551, 1.0245210539880463, 1.0931593912025421, 1.1037434950478429, 1.08843537414966, 1.0, 1.0250766449178523, 1.082944669310267, 1.2617100371747212, 1.3126436781609196, 2.5, 1.0135135135135136, 1.031482953040451, 1.1253025006722237, 1.0137421721804036, 1.1139721364402022, 1.0093189964157707, 2.0, 1.0918367346938775, 1.0501575022003984, 1.179118117432031, 1.079847908745247, 1.087684165355457, 1.015923566878981, 1.2428256070640176, 1.0028985507246377, 1.0315903309273151, 1.071091842747706, 1.0149769585253456, 1.0582655826558265, 1.0, 1.1633038465361296, 1.0440168205503246, 1.0147453083109919, 1.069411616940134, 1.1011029411764706, 1.0446293494704992, 1.2, 1.2493368700265253, 1.6666666666666667, 2.0, 1.1176470588235294, 1.0, 1.042654028436019, 1.0008912325002786, 1.0011376758906805, 1.0459835367584445, 1.0629308427840782, 1.1956521739130435, 1.1951219512195121, 1.0653212399250827, 1.6, 1.5, 1.0572357723577235, 1.1428571428571428, 1.0572569906790945, 1.1660686827268067, 1.0181701385702486, 1.0910064761162779, 2.0, 1.0179566563467493, 1.1744186046511629, 1.0396681358568836, 1.0400836720276705, 1.1641414141414141, 1.1126712328767123, 1.1348478486663278, 1.073404562518048, 1.0381558028616853, 1.0142857142857142, 1.0782122905027933, 1.0, 1.0, 1.04179929187082, 5.0, 1.5714285714285714, 2.0, 1.03625, 1.146341463414634, 1.0753880266075388, 1.0851314240878775, 1.0, 1.0211049037864681, 1.0151869158878504, 1.2054054054054053, 1.2884615384615385, 1.4285714285714286, 1.0413166072045115, 1.0953436807095345, 1.1419068736141906, 1.0330978058757903, 1.0194280329116676, 1.0304737279527196, 1.1153504880212954, 1.0, 1.214282692389051, 1.053394621264921, 1.0566714490674318, 1.1774193548387097, 1.090161357921207]
origin-bjaq_15.71 	max: 5.0000	99th: 2.5050	95th: 1.8017	median: 1.0829	mean: 1.1778

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.990812 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[1.7881393e-07 6.8759918e-04 4.7683716e-07 5.9604645e-08 1.1920929e-07]
Distance score: 0.00013768672943115234
SAUCE Drift detection: True
Detection latency: 0.0212s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.9197 bits (loss 19.533, data 18.614) 0.00300 lr
epoch 10 train loss 12.6505 nats / 18.2508 bits
time since start: 5.0 secs
Epoch 10 Iter 0, train entropy gap -0.4158 bits (loss 18.198, data 18.614) 0.00256 lr
epoch 20 train loss 12.3391 nats / 17.8015 bits
time since start: 9.8 secs
Epoch 20 Iter 0, train entropy gap -0.8713 bits (loss 17.742, data 18.614) 0.00150 lr
epoch 30 train loss 12.2200 nats / 17.6298 bits
time since start: 14.5 secs
Epoch 30 Iter 0, train entropy gap -0.9439 bits (loss 17.670, data 18.614) 0.00044 lr
epoch 40 train loss 12.1908 nats / 17.5876 bits
time since start: 19.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.8921 nats / 31.5836 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.169116 | Model-update-time: 21.918664


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 25.3333	99th: 5.0000	95th: 2.5000	median: 1.1496	mean: 1.4115
ReportEsts: [1.0434782608695652, 1.0556631171345596, 1.0141567272321925, 1.089908256880734, 1.5, 1.0, 1.1827416125408996, 1.010267193407247, 1.25, 1.0012239902080784, 1.1133136284777998, 1.0173536504702, 1.0088424437299035, 1.0196078431372548, 1.2416666666666667, 1.0, 2.0454545454545454, 1.8366948601171114, 3.0, 1.6666666666666667, 1.125, 1.0558714057834677, 1.2517480436787765, 1.0428969359331477, 1.1491181186531267, 1.0, 1.1047156110139602, 1.5, 1.2, 1.1982758620689655, 1.0, 1.0202569388353766, 1.0039262208593964, 1.1185599006828058, 1.1675240054869684, 1.0584808496942388, 1.2442748091603053, 3.5555555555555554, 1.0257771038665655, 1.1868686868686869, 1.3167681147335946, 1.0486277173913043, 1.133374704519723, 1.9913419913419914, 1.190251643618227, 1.2, 1.8, 2.3636363636363638, 1.5054545454545454, 1.2197802197802199, 1.1835623467700553, 1.5492289442467377, 1.4259259259259258, 1.0522353339254749, 1.201834862385321, 1.1129109925457943, 1.0609017880937575, 1.2303697920770096, 1.3285714285714285, 1.1189498925007986, 1.255813953488372, 1.2903007907180037, 1.1923076923076923, 1.1645021645021645, 1.8125, 1.1818181818181819, 1.040679083566837, 1.0859813084112149, 2.6666666666666665, 1.0, 1.008576489232777, 1.1011363636363636, 1.0587912087912088, 1.6923076923076923, 1.1539264912633058, 1.1825396825396826, 1.0793650793650793, 1.5, 1.1069157392686804, 1.3333333333333333, 1.018077591108411, 3.5, 1.0673481035645722, 1.3435114503816794, 1.1894329896907216, 1.137546468401487, 1.12, 1.0301449408153565, 1.0163120173342963, 1.0637254901960784, 1.0, 1.1210598446779352, 1.0260310904606207, 1.1546762589928057, 1.047682119205298, 1.1506986027944113, 1.328358208955224, 4.230769230769231, 1.2298850574712643, 1.0, 1.0926196743687238, 1.2259526607352695, 1.0024549918166938, 1.0116603209137884, 1.3076923076923077, 1.0460633489523787, 1.0159178433889602, 1.279166229129476, 1.1867521367521368, 1.1355386416861826, 2.1666666666666665, 1.6666666666666667, 1.150395105786388, 1.0388109759044295, 1.0727713765918738, 1.375, 1.0364185678789248, 1.0, 1.1110059918006938, 1.3736162361623616, 1.0, 1.5, 1.4, 1.171830985915493, 1.0113600879753453, 1.054723278739424, 1.0530973451327434, 2.25, 1.071248952221291, 1.0, 2.5454545454545454, 1.2091853133885524, 1.2307692307692308, 1.1236465246245197, 1.0378515895810636, 1.038607350096712, 3.12, 1.0588235294117647, 1.174712643678161, 1.5113452188006482, 1.1878871300757055, 1.042931184971768, 2.6129032258064515, 1.1049382716049383, 1.2318382154528829, 2.0, 1.2037519541427828, 1.0206521739130434, 1.0981749528005034, 1.0048, 1.5, 1.154157931516422, 1.7864864864864864, 1.062374245472837, 25.333333333333332, 1.337890625, 1.0029738855673616, 1.305508489228535, 1.313084665482534, 1.052, 1.025078369905956, 1.0588235294117647, 2.2066666666666666, 1.0258992805755396, 3.5, 1.0878765216668744, 1.0681818181818181, 1.146551724137931, 1.221117795797367, 1.204270051933064, 1.0272903469178039, 1.875, 1.2752100840336134, 1.2843950406156477, 1.1025641025641026, 1.5964187327823691, 1.64453125, 1.0386111942532177, 1.065147660657007, 1.0002198747669806, 1.3786407766990292, 1.2328398384925976, 1.0388018235551868, 1.0929820470972254, 1.09009009009009, 1.013904723582143, 1.372, 1.0, 1.0081981996753513, 1.0067550929953872, 1.0416666666666667, 1.8314855875831486, 1.0293343222696087, 1.0109796899297865, 1.1305025321386832, 1.1659076795694474, 2.07487922705314, 1.0305080674220282, 1.379652605459057, 1.0, 1.9038461538461537, 2.0, 1.013734335839599, 1.5, 2.0588235294117645, 1.1979166666666667, 1.0, 1.9651162790697674, 1.2112702960840496, 2.0718954248366015, 1.5, 1.0898823529411765, 1.0, 1.0149283634977941, 1.2281167108753315, 1.0743316966721221, 1.6666666666666667, 1.1228323699421965, 1.2899525316455696, 1.0031287999890697, 1.0234469988510748, 1.0, 1.0511221945137157, 1.0003923840131541, 1.0224439652709485, 1.3140120967741935, 1.1438876799713835, 1.0337837837837838, 1.16, 1.006110708858141, 1.0996738976322133, 1.0388140161725068, 1.3006535947712419, 1.6561319134318104, 1.1091058244462675, 1.6116751269035532, 1.0, 1.0614035087719298, 1.1750468378145729, 1.0823109524871737, 1.0677290836653386, 1.4166666666666667, 4.666666666666667, 1.0728583134061302, 1.1403508771929824, 1.164006852402849, 1.5, 1.5, 3.7615658362989324, 1.1454506244240987, 1.0380963637079936, 1.1424242424242423, 1.055045871559633, 1.1793960923623446, 1.009141494435612, 1.2017003449975356, 2.2, 1.0, 1.008040642860632, 1.4520274982564512, 1.411214953271028, 1.023772662456712, 1.0942274838181862, 1.0605260552457014, 1.0604614160700079, 1.0304530013277922, 1.103708359522313, 1.3027568922305763, 1.027065868263473, 1.8333333333333333, 1.0282453637660485, 2.742690058479532, 1.0851063829787233, 1.25, 1.0533430763609792, 1.0526315789473684, 1.2061855670103092, 1.014582960558268, 1.3296296296296297, 1.6264591439688716, 1.0941384663822211, 1.0392327811682651, 1.0023166168604505, 1.0328685861867195, 2.0, 1.1505791505791505, 1.0362264150943397, 1.0043410368519676, 1.2535274607903761, 1.2006134401021027, 1.6766011414077362, 1.297119341563786, 1.4540372670807453, 1.0910054705059158, 1.048666556918265, 1.1115915790103692, 1.2125902992776059, 2.0, 1.0, 1.1128663875142748, 1.6, 1.0774058577405858, 1.0217516843118384, 1.9336283185840708, 1.0689655172413792, 1.0396039603960396, 4.182108626198083, 1.0197628458498025, 1.037855129865184, 1.0, 1.195007538951248, 1.0080389814054216, 1.3211267605633803, 2.185185185185185, 1.6382022471910112, 1.1108658327201373, 1.375, 1.0156217700735315, 1.1142355008787346, 3.1666666666666665, 1.0241654534109816, 1.05, 2.8, 1.0017756780318094, 2.0, 1.1507936507936507, 1.0271041369472182, 1.0591672753834915, 1.2377560106856633, 1.9054726368159205, 1.231578947368421, 1.01007750941553, 1.0193468758844062, 1.185430463576159, 1.1680566459774542, 1.179808010592519, 4.0, 1.2222222222222223, 1.0495547812620984, 5.0, 1.1323818897637796, 1.7222222222222223, 3.972972972972973, 1.5714285714285714, 1.2015334063526835, 1.0385259631490786, 1.3333333333333333, 1.1417142857142857, 1.0, 1.1641429436705026, 1.2276549408668824, 2.5, 1.1696072851451338, 1.0, 1.0008657633868663, 1.328358208955224, 1.0638755625896434, 1.2156862745098038, 1.0679611650485437, 1.1453658536585365, 1.5740740740740742, 1.0463669639706341, 1.009150070349787, 1.1525851197982346, 2.0, 1.3333333333333333, 1.2307692307692308, 2.5, 2.0, 1.2112312030075187, 1.75, 1.875, 1.3116883116883118, 1.2622337363270006, 1.012882380093156, 1.3128991060025543, 1.0454545454545454, 1.4224422442244224, 1.1730515191545574, 2.0, 1.0354166666666667, 1.2382671480144405, 1.0001070335827094, 1.263157894736842, 22.0, 1.786096256684492, 1.3271028037383177, 1.02307901989884, 1.3239595050618673, 1.7121951219512195, 1.1302889576883386, 1.1267605633802817, 1.1204582651391162, 1.13184584178499, 1.04, 1.0555555555555556, 1.2695652173913043, 1.0425044175939635, 1.2402044293015333, 1.0045617542523484, 1.036144578313253, 1.280701754385965, 1.426923076923077, 1.0, 1.0444784359651533, 1.0241544482738478, 1.3357377702500748, 1.0044816287004403, 1.501995860437611, 1.0235649546827794, 1.1, 1.4385843164469119, 1.0, 1.3310208126858276, 1.5714285714285714, 1.0251685648497113, 1.3169398907103824, 1.451255654344096, 1.9863945578231292, 1.6613333333333333, 3.0, 1.3404004711425206, 1.0212798845836768, 1.2574369055534678, 3.0, 1.2115384615384615, 1.9568138195777351, 1.6043478260869566, 1.1081723942061914, 1.0857787810383748, 2.1, 1.3492433061699651, 1.0497128539435465, 1.0155588240506104, 1.0392657234414613, 1.0024181138711805, 1.146456692913386, 1.639751552795031, 7.5, 1.2160493827160495, 1.7727272727272727, 1.3327272727272728, 1.5, 1.2812050871817122, 2.0833333333333335, 5.065217391304348, 1.1143544039437578, 2.597560975609756, 1.0, 3.769230769230769, 1.323943661971831, 1.0304426627346175, 1.1333333333333333, 1.180359435173299, 1.1772166673150994, 1.0969972926409057, 1.4210526315789473, 1.0169204737732656, 3.0, 1.1752841950861752, 1.1605777400169923, 1.0491803278688525, 1.0, 1.0451532011597837, 1.150559511698881, 2.7, 1.3195169226181602, 1.3414634146341464, 2.0105540897097627, 1.0857580398162328, 1.5802190721649485, 1.0934691431995207, 1.0, 1.08, 1.0223631195927163, 1.0616436124575992, 1.0022480733549415, 1.0, 1.0304685858373608, 1.0073552806423238, 1.0115057528764382, 1.0, 1.2043996333638864, 1.0157951217331038, 1.0101189971451991, 1.0444425117411724, 1.0113358496244373, 1.058412898576833, 1.1225296442687747, 1.5593984962406016, 1.5, 1.3121524481215245, 4.933333333333334, 1.4, 1.6721311475409837, 1.394736842105263, 1.027441616395003, 1.8564668769716088, 1.0023386384938076, 1.0230046948356808, 1.0088921625141443, 1.0844419549082762, 1.001334475600514, 1.063063063063063, 5.0, 1.0249596934364558, 1.1278538812785388, 1.027162381931954, 1.0049413585759361, 1.071088920589634, 1.1000704721634955, 1.7416666666666667, 1.4285714285714286, 1.0571491372678317, 1.0159274738527437, 1.0497989591129833, 1.0633187772925765, 1.0789570158555586, 1.3550295857988166, 1.008157841309684, 1.0350334878928387, 1.2350061199510405, 1.0170483541719826, 1.0095486111111112, 1.1796066252587991, 1.070362473347548, 1.260174418604651, 1.3333333333333333, 1.1451612903225807, 1.2639977603583428, 1.0593607305936072, 1.2301980198019802, 1.0236532943992667, 1.4285714285714286, 1.1769513764294388, 1.0, 1.974468085106383, 1.5593869731800767, 1.744186046511628, 1.345358887636227, 1.3674948240165632, 1.2114624505928853, 1.2199367088607596, 1.2078762064564241, 1.0, 1.7, 1.5, 1.0, 1.0106382978723405, 1.2431077694235588, 1.1055718475073313, 1.4403669724770642, 1.0499389126450824, 1.027413587604291, 1.004468597056946, 1.0814127787146337, 1.0148382162691463, 1.0096830388452749, 1.0250935367911378, 1.1331077270163565, 1.0020497604837888, 1.2026539451816514, 1.0372040586245772, 1.0442708333333333, 1.0593667546174141, 1.0533333333333332, 1.336161668501846, 1.248009101251422, 1.0082004247051914, 1.2439024390243902, 1.0387133504127526, 1.1688311688311688, 2.0, 1.1808510638297873, 1.0714285714285714, 1.556473829201102, 1.7241379310344827, 1.2, 1.0170999404305354, 1.0433114776260646, 1.0503970224925658, 1.985289168789962, 1.1557788944723617, 1.1978171896316507, 2.0, 1.0696202531645569, 1.027432237789708, 1.0103228108631654, 1.035150776728602, 1.111760660247593, 1.3227813852813852, 1.5587044534412955, 1.2935353340719689, 1.15177065767285, 1.3341441019028641, 1.1971827811584403, 1.0, 1.2852112676056338, 2.984375, 1.025528811086798, 1.0, 1.069767441860465, 1.1229508196721312, 1.1590243902439024, 1.7142857142857142, 1.1825105307497894, 1.5, 1.5833333333333333, 1.0449634839969038, 1.4654242275625307, 1.2326343381389253, 1.0000049731944818, 1.0085836909871244, 1.9047619047619047, 1.7058823529411764, 1.564516129032258, 1.094311377245509, 1.0134156729131176, 1.3315225517069524, 1.0462088877730353, 1.0, 1.0338728861767597, 1.6056338028169015, 2.0, 1.0454804239292284, 1.2361112596379036, 1.0609865470852018, 1.0066151142569113, 1.2616696796922078, 1.421487603305785, 1.1666666666666667, 2.6191291585127203, 1.3995703544575726, 1.0171994915772369, 1.067891622547493, 1.017735475869153, 1.0219001047851903, 1.0787545787545787, 1.0216312056737589, 1.0947368421052632, 1.0823409480561605, 1.0295180722891566, 2.1108986615678775, 1.2379713914174253, 1.0449822833463456, 1.4034267912772587, 1.6013545440226808, 1.1111111111111112, 5.0, 1.148876404494382, 1.5378989361702127, 1.0248084640642101, 1.154425045153522, 2.0, 1.266005410279531, 1.2081927710843374, 1.1111111111111112, 1.0042330774707948, 2.0, 1.221476510067114, 1.5, 1.0931372549019607, 3.25, 1.0918761769467111, 1.0571428571428572, 1.6071428571428572, 1.5411954765751212, 1.0, 1.093600075256342, 1.2570006222775358, 2.5, 2.0, 1.404040404040404, 2.457627118644068, 1.2031602708803613, 1.1614401858304297, 1.2587719298245614, 1.372093023255814, 1.0580847723704867, 1.3556338028169015, 1.0698689956331877, 1.225, 1.8571428571428572, 1.5, 1.9835958005249343, 1.18259385665529, 1.056768558951965, 1.2781548516842633, 1.009334339053366, 1.1859898636702944, 1.0084122421373014, 1.194009236479779, 1.2113702623906706, 1.0982587064676617, 2.2, 2.0, 1.6333333333333333, 1.0046528819602982, 1.0549348230912476, 1.2189542483660132, 1.0572916666666667, 1.1049138566735939, 1.1883942766295708, 1.0306949707050903, 1.2345679012345678, 1.0, 1.0436005625879043, 1.061334176414796, 1.090241664117467, 1.011207368113066, 1.394904458598726, 1.3121263322069145, 1.0054675041494452, 1.0, 1.0215369554576603, 1.0, 1.2940199335548173, 1.5815126050420167, 1.7058823529411764, 1.2356902356902357, 1.2011795543905637, 1.0, 1.4267100977198697, 1.0207076923076923, 1.0317460317460319, 1.035538562787928, 1.1088139281828073, 1.3870967741935485, 1.0894505948826312, 1.001233256825734, 1.0459171755597825, 1.0909990108803165, 1.100119189511323, 1.0121564051773262, 1.2845117845117846, 1.0476190476190477, 1.0, 2.0, 1.032209082961395, 1.0, 1.2366679641884002, 1.0060287130230419, 1.2915593705293276, 1.1641423703142748, 1.020986112926562, 1.1732500900468243, 1.0182481751824817, 1.150066401062417, 1.0049766857962696, 1.0996774123709108, 1.0242394960664376, 1.2173594311267502, 1.375, 1.0173410404624277, 1.0419847328244274, 1.0004777358614896, 1.1443661971830985, 1.0724172517552657, 1.0813953488372092, 1.2202247191011235, 1.078506631823224, 1.127536231884058, 1.010554847305011, 1.3529411764705883, 1.0063374420801656, 1.0087979563989464, 1.1570403926009816, 1.089199825098382, 10.666666666666666, 1.2225130890052356, 1.8103448275862069, 1.625, 1.0330093888980398, 1.1818181818181819, 1.17396449704142, 1.0758928571428572, 1.247787610619469, 1.0636523969857303, 1.0299539170506913, 11.0, 1.053811659192825, 1.0060450407952897, 1.0101202917715308, 1.0341979183875765, 1.1440488833479552, 1.0165071416908351, 1.625, 1.1048720066061106, 1.4718228867165037, 1.019422416352148, 1.0502369668246445, 1.048951048951049, 1.2791234140715109, 3.5402384500745154, 1.6006825938566553, 1.375, 1.0, 3.0, 1.053857424341939, 1.2961882181287616, 1.3600083577099875, 1.0046153575140486, 1.0514240506329113, 1.1161290322580646, 1.2089589589589589, 1.1214349312117644, 1.2298456260720412, 1.3181818181818181, 1.3436395759717314, 1.0344042761078223, 1.1136363636363635, 1.75, 1.028665769121159, 1.1632468996617813, 1.173138128580522, 1.1, 2.3687821612349915, 1.1299428542272565, 1.0272108843537415, 1.8181818181818181, 1.625, 1.332191780821918, 2.1470588235294117, 1.3106508875739644, 1.1395348837209303, 1.0530863645509625, 1.0131950989632421, 1.1056231003039514, 1.1714285714285715, 1.0328521750541304, 1.13780855975848, 1.0082765181544315, 1.106145251396648, 1.3333333333333333, 3.4242424242424243, 1.3333333333333333, 1.1471560846560847, 1.0769230769230769, 2.0, 1.25, 1.0930232558139534, 1.1870967741935483, 1.121262909224409, 1.0393057762812141, 1.2035010940919038, 1.1666666666666667, 1.4615384615384615, 2.2142857142857144, 1.0135135135135136, 1.6511627906976745, 1.1585185185185185, 1.0287413411305786, 1.0081475264180033, 1.2072072072072073, 1.0130829453533436, 1.0324090886784119, 5.0, 1.029089246373197, 1.36986301369863, 3.0, 1.9241379310344828, 1.1363057324840764, 1.0161662817551964, 1.0064749830201494, 1.456973293768546, 2.0, 1.4333333333333333, 1.3098159509202454, 6.0, 1.0121069062666566, 1.0399556732130764, 1.0646142398399092, 1.2868217054263567, 2.5, 1.004748978107681, 1.1940622737146995, 2.2058823529411766, 2.726923076923077, 1.1236959761549925, 1.0, 1.2063492063492063, 1.0774513347446688, 1.0369584862512218, 1.6159695817490494, 1.1906976744186046, 1.1761158021712907, 1.2095531587057011, 1.7346938775510203, 1.6956521739130435, 1.0132172155416768, 1.885174083467835, 1.0532160111147364, 1.089820359281437, 1.1372549019607843, 1.092485549132948, 1.125, 1.0706371191135735, 1.1530944625407167, 1.0072258716523497, 1.0115183246073298, 3.0, 1.2, 1.0812325778693492, 2.1636280765724702, 1.016638935108153, 1.0321373343040923, 1.166542750929368, 1.098328025477707, 1.1886792452830188, 3.8043478260869565, 1.3628669380758518, 1.0034018592920613, 1.0935251798561152, 1.5105820105820107, 1.6666666666666667, 1.5660377358490567, 1.0148644404898985, 1.003867151956324, 1.0678979074191504, 1.0205553309071302, 1.2218498659517427, 2.6666666666666665, 1.3004354136429608, 1.0321740398841401, 1.0933270007124198, 1.193916349809886, 1.0065954111443638, 1.353658536585366, 1.2891832229580573, 1.1725969198088158, 1.0145389810472123, 1.23187414500684, 1.0701754385964912, 1.0831295843520783, 1.5238095238095237, 1.1475316661253654, 1.0195914718483285, 1.0077152611629345, 1.5390221682356513, 1.1061855670103093, 1.166804979253112, 2.0, 1.2439024390243902, 1.25, 1.0, 1.2105263157894737, 1.1080402010050252, 1.050974512743628, 1.054772617409735, 1.022614788126613, 1.3953048087845512, 1.091573418588719, 1.0971428571428572, 1.2302702702702704, 1.0012797867022163, 1.6, 1.3076923076923077, 1.5252955082742317, 1.1428571428571428, 1.2078580481622307, 1.0568324279147514, 1.1071700266260935, 1.0056132881002886, 2.0, 1.0176470588235293, 1.110204081632653, 1.161809997630893, 1.019603230960412, 1.3588907014681892, 1.187475989243181, 1.0031685443225615, 1.0874613395528063, 1.1335453100158983, 1.2241379310344827, 1.0297699594046008, 1.3333333333333333, 1.0, 1.0276157273072375, 5.0, 2.3333333333333335, 1.4594594594594594, 1.2373134328358208, 1.5901639344262295, 1.0303358613217768, 1.2453643811987927, 1.5, 3.7323232323232323, 1.2662721893491125, 1.3116883116883118, 1.1072319201995013, 1.2222222222222223, 2.1153969784635165, 1.655045871559633, 1.277264325323475, 1.2088147197261447, 1.0013978752296508, 1.4094985474295818, 1.0895907186593619, 1.0, 1.3518969983239373]
origin-bjaq_15.71 	max: 25.3333	99th: 5.0000	95th: 2.5000	median: 1.1496	mean: 1.4115

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.866458 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[1.7881393e-07 6.0683489e-04 2.9802322e-07 0.0000000e+00 0.0000000e+00]
Distance score: 0.00012146234803367406
SAUCE Drift detection: True
Detection latency: 0.0337s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.3461 bits (loss 18.931, data 18.585) 0.00300 lr
epoch 10 train loss 12.5005 nats / 18.0344 bits
time since start: 4.5 secs
Epoch 10 Iter 0, train entropy gap -0.5363 bits (loss 18.048, data 18.585) 0.00256 lr
epoch 20 train loss 12.2392 nats / 17.6575 bits
time since start: 8.8 secs
Epoch 20 Iter 0, train entropy gap -0.8333 bits (loss 17.751, data 18.585) 0.00150 lr
epoch 30 train loss 12.1243 nats / 17.4916 bits
time since start: 13.0 secs
Epoch 30 Iter 0, train entropy gap -1.0681 bits (loss 17.517, data 18.585) 0.00044 lr
epoch 40 train loss 12.0899 nats / 17.4420 bits
time since start: 17.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.5937 nats / 31.1531 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.070318 | Model-update-time: 19.648078


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 32.0000	99th: 4.0014	95th: 2.4278	median: 1.1374	mean: 1.3914
ReportEsts: [1.0112994350282485, 1.1030275643922278, 1.0322706984219163, 1.2905405405405406, 1.0714285714285714, 1.0, 1.1591965780174818, 1.0439090504511066, 1.2, 1.2192262602579131, 1.1390395424514348, 1.0154128031986138, 1.0493434142459213, 1.0844444444444445, 1.2040816326530612, 3.264566929133858, 2.1670822942643393, 1.5, 2.0, 1.0719656283566057, 1.4166890500492435, 1.5541871921182266, 1.075625798058159, 1.4545454545454546, 1.1976279317697227, 1.0027482678278608, 2.0, 1.0560304697418537, 3.0, 1.2, 1.219298245614035, 1.0, 1.002125822605092, 1.0215885326500935, 1.4439102564102564, 1.0283448377147892, 1.0693965941529677, 1.5110294117647058, 2.410958904109589, 1.1098181818181818, 1.0314637482900137, 1.0267546568707129, 1.0609076179176076, 1.1530899736632572, 1.3649851632047478, 1.3943272959048176, 1.0555555555555556, 1.7272727272727273, 3.2, 1.3184713375796178, 1.0642201834862386, 1.303925879396985, 1.2047451669595781, 1.2577132486388385, 1.0247171058065583, 1.3511450381679388, 1.085536022183906, 1.0021157496403226, 1.2357333486796198, 1.0547945205479452, 1.1120466520476189, 1.0185185185185186, 1.2038034747794282, 1.2634615384615384, 1.120331950207469, 1.2608695652173914, 3.4594594594594597, 1.0610269079254857, 1.1255865921787709, 3.0, 1.0, 1.1611820740420005, 1.0422993492407808, 1.1312116136236738, 1.439153439153439, 1.0902127336847294, 1.070063694267516, 1.197979797979798, 1.6666666666666667, 1.0432145564821835, 1.8888888888888888, 1.0199750265714307, 1.75, 1.137510513036165, 1.0213903743315509, 1.1352459016393444, 1.1256256256256256, 1.2, 1.001659415820128, 1.0009435662563744, 1.3017241379310345, 2.3333333333333335, 1.0509478672985781, 1.0217462286945733, 1.1030927835051547, 1.1994981179422837, 1.1584158415841583, 1.412751677852349, 2.91044776119403, 1.1758530183727034, 1.0, 1.2534392126160385, 1.140625, 1.0701480904130942, 1.010136977512591, 2.125, 1.0469026598247697, 1.0287162162162162, 1.5512893982808023, 1.3702434007541995, 1.0548712206047033, 1.3333333333333333, 1.3333333333333333, 1.0683453237410072, 1.0184912865472506, 1.0735981308411215, 1.2419354838709677, 1.006401903879909, 1.0, 1.2775987107171636, 1.0525328330206378, 1.0, 1.1840796019900497, 1.1666666666666667, 1.138568129330254, 1.0118350075906843, 1.016920233186407, 1.2626262626262625, 2.25, 1.1018744906275468, 1.0, 1.3333333333333333, 1.1630735935883563, 1.4444444444444444, 1.1279382135661518, 1.009016118867421, 1.0527978980258486, 1.556701030927835, 1.105263157894737, 1.1481481481481481, 1.0113882863340564, 1.075523704520397, 1.018411180581096, 1.3278688524590163, 1.0872365339578454, 1.1227847236455557, 2.0, 1.095754290876242, 1.40599173553719, 1.0516232038318254, 1.1377558426476992, 1.5, 1.0990151716795316, 1.8672456575682381, 1.0859375, 1.1513157894736843, 2.4464285714285716, 1.0600392835155814, 1.0521084449059823, 1.741815625627636, 1.056400506970849, 1.3300970873786409, 1.2982758620689656, 1.2580645161290323, 1.4893048128342246, 2.3333333333333335, 1.075202976340419, 1.0029498525073746, 1.86096256684492, 1.727519427655113, 1.0779661016949154, 1.2172138636778949, 1.021978021978022, 1.4294294294294294, 1.2170851194121248, 1.20316301703163, 1.0319240724762726, 1.2354098360655739, 1.1206896551724137, 1.052261455326079, 1.020195451843044, 1.7647058823529411, 1.2711223203026483, 1.0565340157063443, 1.0420471929905892, 1.075098814229249, 1.0436010037641155, 1.0446650124069479, 1.1666666666666667, 1.0610917537746807, 1.040401509702343, 1.4705882352941178, 1.289617486338798, 1.0219953693959167, 1.0912225705329153, 1.0358638189892155, 1.2276080084299263, 1.0302987956705116, 1.0058222218924446, 1.0550621669626998, 1.6394628099173554, 1.9457627118644067, 1.0550374719925828, 1.0991735537190082, 1.0094567210267298, 1.5663716814159292, 1.4615384615384615, 1.1944444444444444, 1.0, 3.1607142857142856, 1.0692184470112132, 1.4141104294478528, 1.00990099009901, 1.0353159851301115, 1.2857142857142858, 1.0053548178308285, 1.2253886010362693, 1.0084701362207475, 3.0, 1.4147398843930636, 1.064476131432114, 1.047628096369189, 1.063140799010076, 1.0, 1.0691188358932902, 1.0676912143555122, 1.0009105146228647, 1.2115568290353391, 1.1173747197391026, 1.0030947659395468, 2.0714285714285716, 1.002872243227008, 1.0397184960111185, 1.6149732620320856, 1.3260572987721693, 1.190307328605201, 2.1605839416058394, 1.2318137730358876, 1.0, 1.0066609368285346, 1.2073278058270416, 1.034446098235169, 1.1806167400881058, 1.3333333333333333, 2.0, 1.0190714422280287, 1.0677966101694916, 1.0609366609197026, 2.0, 1.5, 2.226882745471878, 1.1070828863814322, 1.045138206267448, 1.1, 1.4366071428571427, 1.0202177293934682, 1.1049848942598188, 1.1790550901489838, 1.5833333333333333, 1.0, 1.054382710596826, 1.3538318625174175, 1.120879120879121, 1.0299813921695211, 1.0976200818454083, 1.0430632630410654, 1.0941634241245137, 1.0359882005899705, 1.0703079604880883, 1.2537636861313868, 1.192501324854266, 1.0909090909090908, 1.0522819682111717, 1.237467018469657, 1.0869565217391304, 1.3157894736842106, 1.0148221343873518, 1.1316489361702127, 1.0488965942816844, 1.2581465585757432, 1.2841225626740946, 1.8326359832635983, 1.0954511937755855, 1.1652003910068427, 1.0727801054196513, 1.0068749338948664, 3.3333333333333335, 1.1128472222222223, 2.0771558245083206, 1.0263166763558544, 1.138561378480818, 1.1940872983375646, 1.2929613189600506, 1.3006279434850863, 1.4611159655473724, 1.0739501155470554, 1.0712201062422575, 1.0733632542566076, 1.0662460567823344, 1.0, 1.2222222222222223, 1.0384745762711864, 1.25, 1.0775862068965518, 1.0468308159183393, 1.606060606060606, 1.8235294117647058, 2.7948717948717947, 2.9547738693467336, 1.241710625470987, 1.028466093655676, 1.5384615384615385, 1.2744327318206181, 1.013012916919992, 1.43943661971831, 1.5945945945945945, 2.6129032258064515, 1.053370786516854, 1.4444444444444444, 1.0263602148053637, 1.1044776119402986, 1.9, 1.0414807171417515, 1.5, 1.5555555555555556, 1.024073101317925, 2.0, 1.034351145038168, 1.1677018633540373, 1.014454664914586, 1.0192442267319803, 1.2663185378590078, 1.404040404040404, 1.0317098851587942, 1.0422636596852626, 1.2151898734177216, 1.128349540788763, 1.0416771912099014, 2.0, 1.8888888888888888, 1.00168583485024, 1.5, 1.0390697674418605, 1.3157894736842106, 2.095890410958904, 2.4444444444444446, 1.5943238731218699, 1.0526315789473684, 1.4333333333333333, 1.0458333333333334, 1.2753623188405796, 1.3333333333333333, 1.0792513535731496, 3.791907514450867, 1.0169491525423728, 1.003613667979597, 1.054054054054054, 1.2573158425832491, 1.2911725955204216, 1.0, 1.3333333333333333, 1.261595547309833, 1.0227272727272727, 1.5429616087751372, 1.005162845705968, 1.000938463601019, 1.5, 1.5, 1.0275450149867635, 1.0262008733624455, 1.2727272727272727, 1.160774818401937, 1.0142510144194994, 1.75, 1.5022737757859355, 1.2784810126582278, 1.3639191290824262, 1.0444821815723742, 1.1311623699683402, 1.4214545115932582, 1.037274315666861, 1.0015822784810127, 1.2296718972895864, 1.098965103489651, 1.0825242718446602, 1.8, 1.0115363909041968, 1.1105609939759036, 5.0, 1.1228164955879705, 1.6164383561643836, 1.3764705882352941, 1.3077138013896392, 1.0, 1.9285714285714286, 1.2105263157894737, 2.427015633233796, 2.0, 1.1904761904761905, 1.3597633136094676, 1.0282229321223961, 1.5198329853862214, 1.0857435526632924, 1.7551020408163265, 1.1919191919191918, 1.2315112540192925, 1.0, 1.0289215686274509, 1.0090162170255375, 1.3479542085617846, 1.0226140913791733, 1.5041267546237724, 1.0103626943005182, 1.8333333333333333, 1.0675349734684032, 2.0, 1.0665529010238908, 1.8333333333333333, 1.0227385917165122, 1.9283887468030692, 1.3942754383335831, 1.0242424242424242, 1.3227176220806793, 3.0, 1.3135821469796076, 1.000982113062375, 1.0791980944819373, 4.0, 1.2352941176470589, 1.4913627639155471, 1.0947075208913648, 1.0553090601185435, 1.474012474012474, 1.75, 1.0509059534081104, 1.0826369545032497, 1.0177830268263877, 1.1756590607884778, 1.0017543859649123, 1.16484268125855, 2.0, 1.1587572550358485, 1.1131639722863742, 1.1142857142857143, 1.056957462148522, 1.2150537634408602, 1.4095587577195023, 1.6666666666666667, 3.033707865168539, 1.1669865642994242, 2.5508982035928143, 3.0, 5.444444444444445, 1.1532416502946954, 1.0727737537281636, 1.1666666666666667, 1.0088766452402815, 1.0251041772537859, 1.1203634468538282, 1.0675097638088153, 1.1068548387096775, 1.1449389523434423, 1.1223591549295775, 1.1, 1.6, 1.125, 1.0125673919861409, 1.1087557603686635, 4.142857142857143, 1.1907431493025968, 1.5492957746478873, 1.3298429319371727, 1.434402332361516, 1.2635577678805345, 1.1680062224526835, 1.0, 1.0, 1.014288907099754, 1.060382971192071, 1.0154007495031425, 1.0, 1.0411917616476705, 1.0062657503206116, 1.2990654205607477, 1.0, 1.1792777300085984, 1.0451448766260032, 1.0267258139598565, 1.0142736179992742, 1.0230121224573658, 1.0301583090121165, 1.069267515923567, 1.8975297346752058, 2.0, 1.3290974034894902, 2.1142857142857143, 1.25, 1.0934579439252337, 1.5, 1.0231022338459876, 2.7250392640789767, 1.0101816798907501, 1.1005050505050504, 1.0325098322171522, 2.728514156852919, 1.0005661140315407, 1.0154750082754056, 1.744186046511628, 2.076923076923077, 1.1079919431639094, 1.2727272727272727, 1.0307325824191984, 1.0014006814952148, 1.5, 1.0480576692030437, 2.3533834586466167, 1.5, 1.1395348837209303, 1.0000989784838243, 1.0874125874125875, 1.0742286570144783, 1.1119402985074627, 1.1431522412724644, 1.1576354679802956, 1.05005005005005, 1.0049151664778142, 2.0475352112676055, 1.0457807473397673, 1.5806451612903225, 1.1828947368421052, 1.6, 1.6184738955823292, 1.1973420260782348, 1.8024691358024691, 1.2652068126520681, 1.0192832578747697, 1.5, 1.2909080066788583, 1.0, 1.1314655172413792, 1.4833948339483394, 1.1940298507462686, 1.2029569892473118, 1.0719211822660097, 1.0158102766798418, 1.1637347767253046, 1.255987354230666, 1.0, 1.0754716981132075, 1.5, 1.6666666666666667, 1.1734693877551021, 2.4425427872860634, 1.074438202247191, 1.191304347826087, 1.159047758142252, 1.1759890859481583, 1.0221914870471958, 1.0227791472655894, 1.0120122396658902, 1.15547612969109, 1.0015030530765618, 1.2116263879817113, 1.029347510250643, 1.2665663060334273, 1.136279926335175, 1.0552220888355341, 1.297945205479452, 2.2388059701492535, 1.1899515459160128, 1.3329752953813103, 1.0548231579845557, 1.1388888888888888, 1.175061425061425, 1.1132616487455198, 2.0, 1.1984848484848485, 1.0714285714285714, 1.2230088495575222, 2.774193548387097, 1.1666666666666667, 1.0295493628301307, 1.002513250954552, 1.0075169950724518, 1.812898678414097, 1.356687898089172, 1.213263979193758, 2.0, 7.0, 1.039119804400978, 1.006404871902562, 1.0189353228949727, 1.0837490300410153, 1.3197386502113095, 1.2876254180602007, 1.2651056512214083, 1.0113452188006482, 1.2395827923483078, 1.0490895139707672, 1.0136068899956014, 1.2622950819672132, 1.9914529914529915, 1.0167676767676768, 1.0, 1.0123609394313968, 1.0537190082644627, 1.2387904066736184, 1.4285714285714286, 1.1632536793796486, 1.8, 1.3571428571428572, 1.016366729456854, 1.229934924078091, 1.2680092951200619, 1.0000236879257904, 1.025440313111546, 1.5555555555555556, 1.6111111111111112, 1.1384976525821595, 1.1242344706911636, 1.1776253547776727, 1.3299137674695212, 1.0100373680327968, 1.0, 1.000147980072017, 1.0056338028169014, 2.0, 1.0991285857238158, 1.1782033901760323, 1.144075021312873, 1.0016224486850083, 1.3552081258713404, 1.3402061855670102, 1.1666666666666667, 2.2739256049115206, 1.1491154170176916, 1.073012571498486, 1.2818791946308725, 1.0140574449412412, 1.0065783014236622, 1.116564417177914, 1.047441545238902, 1.3957055214723926, 1.0761498658489843, 1.116548615582743, 1.373134328358209, 1.6094674556213018, 1.0093374776733217, 1.5512820512820513, 1.6441750131787032, 1.125, 2.5, 1.0372413793103448, 1.821259842519685, 1.0518412584912407, 1.0457142857142858, 1.7142857142857142, 1.3564102564102565, 1.0273544353262993, 1.971830985915493, 1.0333353877444107, 1.5, 1.2078313253012047, 3.0, 1.4294478527607362, 1.3, 1.0416190258403841, 1.4473684210526316, 1.0114942528735633, 1.3342657342657342, 1.0, 1.1162645960523976, 1.1035098155859608, 1.75, 2.0, 1.2831858407079646, 2.213740458015267, 1.053465878559914, 1.0220306513409962, 1.0701754385964912, 1.2222222222222223, 1.459016393442623, 1.2323245008162753, 1.8040816326530613, 1.0040816326530613, 1.4444444444444444, 1.0, 1.7146317829457365, 1.0028943560057888, 1.110091743119266, 1.1443884660735342, 1.015965120887832, 1.092772706868173, 1.008395339232639, 1.2280919825978869, 1.016847172081829, 1.0971731448763251, 2.75, 2.0, 1.7529411764705882, 1.0016940632037077, 1.1318681318681318, 1.0851063829787233, 1.100271002710027, 1.1569645949011882, 1.2505227938101213, 1.0117799694281098, 1.0121951219512195, 1.1, 1.115410273515677, 1.0399758088902329, 1.013422072779314, 1.043605160967055, 1.051948051948052, 1.252858884309514, 1.0130739523221488, 1.2396825396825397, 1.1720658523632501, 1.5, 1.1573245407442299, 1.0037735849056604, 1.0186952636282396, 2.0, 1.1888955944477972, 1.0, 1.7312252964426877, 1.0408345927545375, 1.2758620689655173, 1.0003461155737587, 1.055019305019305, 1.4333333333333333, 1.066356660226392, 1.0432603105367664, 1.1209551059336467, 1.2831858407079646, 1.2381562099871959, 1.014051279392321, 1.1946564885496183, 1.2333333333333334, 1.0, 1.4285714285714286, 1.1002454095271483, 1.2, 1.0909440662918024, 1.0181782832701467, 1.0252100840336134, 1.003083620533285, 1.0040848016908577, 1.1403861176208012, 1.1071428571428572, 1.0274869109947644, 1.0063855549654805, 1.107868786476152, 1.006687983063525, 1.2546560386838428, 1.7142857142857142, 1.2237762237762237, 1.3542435424354244, 1.0499835309617918, 1.067251461988304, 1.1312667432070418, 1.084639498432602, 1.7053571428571428, 1.011983486869768, 1.3267326732673268, 1.0776131591227252, 1.5263157894736843, 1.0075148474518127, 1.0039473437821844, 1.1318840579710145, 1.1935926773455379, 32.0, 1.1666666666666667, 1.1171718000246074, 1.0427307460285542, 1.0758939430795427, 1.00159291988331, 1.03125, 1.1347867462583268, 1.1948470209339774, 1.0182328190743337, 1.2067796610169492, 1.1646942800788955, 1.0424628450106157, 1.0148662041625371, 1.0001783840949343, 1.470288624787776, 1.3316349580844336, 1.0297256436480058, 1.0833333333333333, 1.108320251177394, 1.5784767190872648, 1.0342689822294022, 1.060229445506692, 1.2283464566929134, 1.0467201510146296, 2.651287966166859, 1.4735188509874326, 1.1875, 1.0, 3.0, 1.05660329402196, 1.3832230439859867, 1.4180055552529818, 1.132712552275396, 1.1148706896551723, 1.1615384615384616, 1.1430068275535727, 1.0600844251959871, 1.2412140575079873, 1.3354430379746836, 1.1174844505874222, 1.0283280913934914, 1.1304347826086956, 1.75, 1.0178067566537023, 1.316215329664322, 1.1049095607235142, 1.2628205128205128, 2.0145878920495988, 1.137308034425679, 1.0816837885241795, 1.05, 1.4444444444444444, 1.197503671071953, 1.75, 1.1292134831460674, 1.5357142857142858, 1.0279163030378589, 1.1121822962313759, 2.03125, 1.025, 1.0116442955049996, 1.2150999504377995, 1.0611540873928498, 1.2511460785528434, 1.5, 2.9473684210526314, 2.0, 1.1848818897637796, 1.625, 2.0, 1.875, 1.390011890606421, 1.1719745222929936, 1.0458319692866285, 1.0003173641465068, 1.4138817480719794, 1.0140845070422535, 2.0, 1.0689655172413792, 1.131578947368421, 1.945945945945946, 1.0875706214689265, 1.0030614027292144, 1.0184772209832962, 2.1538461538461537, 1.0319144174387898, 1.00359332926029, 5.0, 1.0542623181699293, 1.1768567615337446, 3.0, 1.9965034965034965, 1.0391269630023956, 1.0244930368922551, 1.034399094193131, 1.3435114503816794, 1.0, 1.8970588235294117, 1.147887323943662, 6.0, 1.1248774910160078, 1.0594990766389658, 1.058407348620445, 1.0105145413870247, 2.0, 1.010189653305094, 1.0612391930835734, 1.472809667673716, 2.106589147286822, 1.0038071065989849, 1.0, 3.619047619047619, 1.0107987061458075, 1.0702698633746095, 2.778430034129693, 1.3689839572192513, 1.1856090651558073, 1.1454673225579761, 1.4835164835164836, 1.2028985507246377, 1.0052527513523597, 2.3739837398373984, 1.0286407426343067, 23.857142857142858, 1.1333333333333333, 1.25, 1.5714285714285714, 1.1843065693430657, 1.128440366972477, 1.0130581274896144, 1.1234428086070216, 3.0, 1.1106294760648323, 1.041763548560186, 2.1047120418848166, 1.0204410973641742, 1.0197232852516926, 1.264626635873749, 1.0565360041443619, 1.072992700729927, 2.58955223880597, 1.1394661411680402, 1.032686518779234, 1.0637602179836512, 1.268888888888889, 2.5, 1.318840579710145, 1.0100969224951737, 1.117132867132867, 1.0339170193791316, 1.0303467279645349, 1.1065989847715736, 4.0, 1.2693877551020407, 1.0044832421543262, 1.2936064556176288, 1.1406844106463878, 1.0472890154146826, 1.3928571428571428, 1.4335443037974684, 1.1513963743263107, 1.0001608661823171, 1.202698429429746, 1.1522419186652764, 1.060676779463244, 1.3333333333333333, 1.0375541646605682, 1.0370157389756274, 1.0138223673344937, 1.4507100739141268, 1.3805862566074003, 1.1208708708708708, 1.6666666666666667, 1.619140625, 2.5, 1.0, 1.5, 1.3111111111111111, 1.0734141126158232, 1.0647045004530657, 1.0181272215698174, 1.335144927536232, 1.1451844753234308, 1.467153284671533, 1.2446264073694984, 1.0661995667479014, 1.0, 1.1428571428571428, 1.0715341412947088, 2.0, 1.2810615199034983, 1.0051751592356688, 1.2106465388817162, 1.0189460103934884, 1.0, 1.0912162162162162, 1.2042105263157894, 1.2924187725631768, 1.0071050899108551, 1.449419568822554, 1.1069895769466584, 1.0051434328437352, 1.042036140535877, 1.469626168224299, 1.0757575757575757, 1.1124845488257107, 1.3333333333333333, 1.0, 1.0002021280036222, 5.0, 1.0, 1.0185185185185186, 1.0048484848484849, 1.3157894736842106, 1.0832432432432433, 1.011948224361102, 6.0, 2.7789684681211932, 1.0257639304973039, 1.2677824267782427, 1.1228813559322033, 1.0, 1.8005055292259085, 1.2197430696416498, 1.0320754716981133, 1.0223689725210363, 2.6, 1.0310439428213891]
origin-bjaq_15.71 	max: 32.0000	99th: 4.0014	95th: 2.4278	median: 1.1374	mean: 1.3914

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 11.987811 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[4.1723251e-07 5.5128336e-04 2.9802322e-07 0.0000000e+00 5.9604645e-08]
Distance score: 0.00011041164543712512
SAUCE Drift detection: True
Detection latency: 0.0351s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.6152 bits (loss 19.140, data 18.525) 0.00300 lr
epoch 10 train loss 12.4714 nats / 17.9925 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.5566 bits (loss 17.968, data 18.525) 0.00256 lr
epoch 20 train loss 12.1933 nats / 17.5912 bits
time since start: 8.7 secs
Epoch 20 Iter 0, train entropy gap -0.9355 bits (loss 17.589, data 18.525) 0.00150 lr
epoch 30 train loss 12.0703 nats / 17.4137 bits
time since start: 13.0 secs
Epoch 30 Iter 0, train entropy gap -1.1588 bits (loss 17.366, data 18.525) 0.00044 lr
epoch 40 train loss 12.0606 nats / 17.3998 bits
time since start: 17.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.4017 nats / 30.8761 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.067050 | Model-update-time: 19.667809


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 83.5000	99th: 3.3374	95th: 2.2545	median: 1.1463	mean: 1.4144
ReportEsts: [1.0763157894736841, 1.135100742311771, 1.0023785444057385, 1.183028286189684, 1.0333333333333334, 1.0, 1.0390982115120047, 1.0006334467615035, 1.6666666666666667, 1.0913190529875987, 1.116650017723069, 1.0094555690132023, 1.2560145256468451, 1.196911196911197, 1.0914355379457483, 2.1627906976744184, 1.7347368421052631, 1.0, 3.0, 1.025693730729702, 1.5238358326756116, 1.1832816534223818, 1.8269230769230769, 1.2716577540106953, 1.002057836022961, 1.0000348932557153, 2.0, 1.01685832009264, 1.2, 1.25, 1.5795454545454546, 1.0, 1.0148477013490929, 1.0250408992558975, 1.4166666666666667, 1.1916345817290865, 1.0504901054189015, 1.5229681978798586, 1.0803571428571428, 1.003501400560224, 1.2154340836012862, 1.2713952177763466, 1.046958480462691, 1.134967978934365, 1.3256484149855907, 1.2981406389081198, 1.1111111111111112, 1.0, 1.6124031007751938, 1.238285144566301, 1.3636363636363635, 1.505166225573723, 1.0383502170767005, 1.1454545454545455, 1.0540578945231618, 2.2982456140350878, 1.0961433734343284, 1.0355340873765513, 1.2678571428571428, 1.1511627906976745, 1.0906415826411588, 1.8, 1.1633230636956366, 1.0014471780028944, 1.1394422310756973, 1.2608695652173914, 2.8828828828828827, 1.172804632604781, 1.0949812382739212, 2.5, 1.0, 1.0083662342545592, 1.0536692223439212, 1.031484962406015, 1.5578778135048232, 1.1000287335679908, 2.247088210520201, 1.1429053394179378, 1.3834586466165413, 1.3680981595092025, 1.0245417257935967, 1.1253263707571801, 1.4285714285714286, 1.0, 1.125, 1.3273596176821982, 1.8181818181818181, 2.1994641794006746, 1.5, 1.6666666666666667, 1.0701684226716912, 1.028753497046938, 2.017665952890792, 1.1338467435620447, 1.2218385329840438, 1.0965732087227413, 1.1290322580645162, 2.8969243557772235, 1.152057245080501, 2.0, 1.2712933753943219, 1.0832597822889085, 1.2857142857142858, 1.0822010869565217, 1.3170289855072463, 1.0545182972367437, 1.0336782630777044, 2.4285714285714284, 1.0594800378308875, 1.1464833421470122, 1.4606990826788178, 1.0700720366732155, 1.0241492864983535, 2.5, 1.8632478632478633, 1.2345526445872466, 1.0246960403506706, 1.1488673139158576, 1.4, 1.0039158960582735, 2.0, 1.2623407643312101, 1.1120689655172413, 1.0, 1.37012987012987, 1.4, 1.1688311688311688, 1.0077581667716713, 1.007729726127807, 1.0396825396825398, 1.5, 1.3990182328190743, 1.0, 2.25, 1.1943074003795067, 1.3, 1.028042871824989, 1.0118178470070842, 1.0161418273376333, 1.1608391608391608, 1.0, 1.2762886597938143, 1.311533052039381, 1.0294892048446551, 1.0086333890478483, 1.8, 1.1674237508111616, 1.2345217169213203, 2.0, 1.058774489370571, 1.0127952755905512, 1.0521104742053153, 1.0682757701026804, 1.5, 1.015494343334973, 1.4489092996555684, 1.2116182572614107, 1.6776315789473684, 1.5088105726872247, 1.052391292244307, 1.0498179761778532, 1.5812745008660771, 1.0688598283612587, 1.5393258426966292, 1.1235059760956174, 1.9041591320072333, 1.2352941176470589, 1.1666666666666667, 1.0552834073519959, 1.0, 1.2, 1.8233302955344357, 1.1868289191123838, 1.334780575779841, 1.0898876404494382, 1.0149253731343284, 1.2152363787605711, 1.0718100890207716, 1.123062015503876, 1.4100112485939258, 1.0007859575582918, 1.0080384770617516, 1.0042523837798192, 1.082191780821918, 1.1680555555555556, 1.0803979699512587, 1.0332366130308626, 2.078740157480315, 1.2454022988505746, 1.1934731934731935, 1.0, 1.0190023051007744, 1.0257446080109551, 2.32, 1.3441822620016273, 1.088109419023503, 1.0270481144343302, 1.0241888365208585, 1.4306151645207439, 1.1182737327814345, 1.001570299844623, 1.2380347310461668, 1.390901203773994, 1.815591577540107, 1.068436970417451, 1.2962962962962963, 1.210728319473636, 1.1346153846153846, 1.1066666666666667, 1.1916666666666667, 1.0, 1.811881188118812, 1.027714748784441, 1.4231884057971014, 2.018181818181818, 1.0687580575848732, 1.1875, 1.0058425705872414, 1.1691919191919191, 1.0442653440793552, 5.0, 1.0564885496183205, 1.1018030513176145, 1.0279706961567272, 1.0046676995193262, 2.3252032520325203, 1.226285300506879, 1.10190047088316, 1.0135595908333994, 1.6267806267806268, 1.0580431177446104, 1.1539645881447267, 1.0148917968378695, 1.2079207920792079, 1.0017863419472572, 1.0275765077966015, 1.3533123028391167, 1.483969465648855, 1.1403118040089086, 1.6310679611650485, 1.3849509269356597, 2.0, 1.143361581920904, 1.1790993762283175, 1.130054866896972, 1.4664179104477613, 1.0833333333333333, 2.3333333333333335, 1.0805622318902308, 1.605263157894737, 1.0667466986794718, 2.0, 2.0, 1.657328990228013, 1.0809413090367854, 1.0273876404494382, 1.181592039800995, 1.0157154673283706, 1.0944, 1.181360201511335, 1.1224860980664013, 1.3668639053254439, 1.0, 1.0078304150742157, 1.3117911791179118, 1.2732447817836812, 1.044329368918227, 1.0310394394034679, 1.0383212480773456, 1.0512091038406828, 1.090268154893332, 1.0695381421899326, 1.0910992573998535, 1.1513671875, 1.0, 1.0287167774086379, 1.284931506849315, 1.2641509433962264, 1.7857142857142858, 1.0470588235294118, 1.3861852433281006, 1.0294428368012494, 1.2331221437474034, 1.0405797101449274, 1.5231788079470199, 1.0850366656940174, 1.0084602368866329, 1.0266337092538236, 1.0088778507816771, 1.0, 1.1672354948805461, 1.1300411522633744, 1.037189536462568, 1.0362577639751553, 1.315855969677827, 1.5757767913760303, 1.031435349940688, 1.2852750631382452, 1.0634902670891806, 1.0154617947662012, 1.00286988928484, 1.1602262016965128, 1.5555555555555556, 1.0909090909090908, 1.0254685247477175, 1.4, 1.1711711711711712, 1.096637822841667, 1.4041604754829122, 1.4090909090909092, 1.9152542372881356, 2.0387243735763096, 1.0586858685868588, 1.0047837913891755, 1.25, 1.3023553039985394, 1.0193191804107447, 1.2563380281690142, 1.0, 10.0, 1.0320484087852981, 1.4, 1.0035543417524393, 1.1071428571428572, 1.5833333333333333, 1.0003075467234446, 1.5, 1.5555555555555556, 1.0241191620622014, 2.0, 1.7261904761904763, 1.2911184210526316, 1.1996348143639683, 1.4779874213836477, 1.4787644787644787, 1.0729166666666667, 1.05628914648967, 1.004980184477256, 1.0341463414634147, 1.172307902279241, 1.0382315636890742, 2.0, 1.1111111111111112, 1.0089423220229519, 1.1666666666666667, 1.279541446208113, 1.1, 1.6542056074766356, 1.0454545454545454, 1.3852080123266564, 1.091798344620015, 1.075, 1.1051682692307692, 1.4428571428571428, 4.0, 1.0996349153667442, 2.64, 1.2741935483870968, 1.020287680447043, 1.313868613138686, 1.1992395437262358, 1.1345939933259177, 1.2857142857142858, 1.0, 1.598119858989424, 2.5384615384615383, 1.4859154929577465, 1.0212709297293698, 1.0057456588355465, 1.104859335038363, 1.0, 1.0423412056348063, 1.0436681222707425, 1.1666666666666667, 1.2731196054254008, 1.0334928229665072, 1.4, 1.8848920863309353, 2.525, 1.4184817770109985, 1.0181097168103581, 1.1215521271622253, 1.4582537256400459, 1.0720344875538868, 1.1851195748449956, 1.191891891891892, 1.1030182903881376, 1.0030674846625767, 1.054054054054054, 1.0076354559248202, 1.0785648701557438, 1.6, 1.0708396946564886, 1.0684931506849316, 1.1185682326621924, 1.4237157516883328, 1.2, 1.7142857142857142, 1.15, 2.0192037470725994, 1.8571428571428572, 1.5333333333333334, 1.6263736263736264, 1.0358336610302792, 1.4425363276089829, 1.0193655552404488, 1.6862745098039216, 1.0252100840336134, 1.0432569974554708, 1.0, 1.0157429676419025, 1.0714285714285714, 1.1801625929293469, 1.0450613865923282, 1.3815254925858216, 1.0678198791872597, 2.75, 1.1711864406779662, 1.2, 1.1544776119402984, 1.375, 1.0357639741386366, 1.1614814814814816, 1.3894862604540024, 1.0792349726775956, 1.8431952662721893, 3.0, 1.2162451015318845, 1.008796401144716, 1.0920960128552777, 5.0, 2.25, 1.7437619961612285, 1.2560240963855422, 1.0617591812941252, 2.038135593220339, 1.6153846153846154, 1.088869715271786, 1.043273488446985, 1.0028663907631363, 1.1967092482486608, 1.2344342176502436, 1.0548549810844894, 1.8, 1.205909797822706, 1.0337837837837838, 1.0833333333333333, 1.0561959654178674, 1.1639344262295082, 1.6009962386906578, 2.0833333333333335, 1.8661417322834646, 1.0924679451812946, 2.0, 4.0, 1.065217391304348, 1.0592334494773519, 1.01319805328714, 1.5263157894736843, 1.0219362386662767, 1.153476669716377, 1.0887675834558053, 1.1496666666666666, 1.2346263008514664, 1.3628691983122363, 1.1646795827123695, 1.0640713706407137, 1.0131147540983607, 1.2857142857142858, 1.0020972137017963, 1.2048857368006305, 3.1, 1.3657407407407407, 1.3580246913580247, 1.0078740157480315, 1.0173370319001387, 1.3502100375856732, 1.0723115284630484, 1.0, 1.3150684931506849, 1.0587322954465643, 1.160892634207241, 1.044465468306528, 1.25, 1.1653333333333333, 1.0122753141136338, 1.014479215319944, 1.0, 1.1300909450375642, 1.0158344597684794, 1.0732941337344455, 1.1557967829832116, 1.0036382026373194, 1.0031689851016545, 1.156528791565288, 2.1637976004173187, 1.2, 1.2062967581047381, 1.2920110192837466, 2.0, 1.6129032258064515, 1.7741935483870968, 1.0010399349410943, 2.2212297071764526, 1.052914983095572, 1.034171808258187, 1.0244018758445275, 2.266962268886472, 1.004904871311666, 1.0529325273648096, 2.586206896551724, 1.396551724137931, 1.2003414651961142, 1.0255102040816326, 1.0430311614730878, 1.0040164763482313, 1.5, 1.1563047285464099, 1.311740890688259, 2.3333333333333335, 1.0392156862745099, 1.0093101847863244, 1.360730593607306, 1.248862897985705, 1.0, 1.7142857142857142, 1.1093128150703104, 1.0374693548977276, 1.023099133782483, 1.1188954787587424, 1.1247927031509122, 1.3107932379713914, 1.0192410475681455, 1.0002541638010944, 1.7261904761904763, 1.0485896545392126, 1.0745920745920745, 1.0688073394495412, 1.078975494312543, 2.0, 1.0502245271631836, 2.0, 2.756435643564356, 1.3714285714285714, 1.100516322451699, 1.5512820512820513, 1.0694183864915572, 1.321148825065274, 1.0985221674876848, 1.3305108843322486, 1.0, 1.3191489361702127, 6.0, 1.0, 1.9615384615384615, 2.065181518151815, 1.5687103594080338, 1.098360655737705, 1.153089207936764, 1.2541436464088398, 1.0005797273794836, 1.0742404106136292, 1.003635366832662, 1.110027277686852, 1.0328775190823278, 1.1109833237492812, 1.0189480732812288, 1.280383941913659, 1.3517869656622286, 1.1223776223776223, 1.3657657657657658, 1.16, 1.125668449197861, 1.4178674351585014, 1.0166483494118126, 1.6521739130434783, 1.0506827731092436, 1.1473943879124269, 1.5, 1.1397260273972603, 1.2727272727272727, 2.0303030303030303, 2.5267857142857144, 1.0548110953144378, 1.1717011128775834, 1.2617079889807163, 1.4293478260869565, 1.0061904156603534, 1.0464681774349085, 1.229126213592233, 1.2, 2.2857142857142856, 1.4716429178069266, 1.3703703703703705, 1.1582974653275944, 1.1110572259941804, 1.0, 1.5572176514584892, 1.25, 1.4848350797644392, 1.101010101010101, 1.2456145804997474, 1.0858274800179926, 1.0003520945563473, 2.081081081081081, 2.0935672514619883, 1.1240396927016645, 1.0, 1.0919689119170986, 1.1578947368421053, 1.2147239263803682, 1.8571428571428572, 1.0905429594272076, 1.4, 1.1875, 1.016611874875473, 1.2516582130316036, 1.0162885398487493, 1.0000067849356336, 1.0732177263969171, 2.0952380952380953, 1.45, 1.0997732426303855, 1.1082113303628263, 1.0398306715412737, 1.3602448858802205, 1.0476276146612935, 1.0, 1.118273335792969, 1.0576131687242798, 2.0, 1.038694342891098, 1.1677880826816998, 1.1339285714285714, 1.0037752670478624, 1.2735354669661239, 1.7160493827160495, 1.0, 2.1899097033108785, 1.0371449380917699, 1.0440752076956712, 1.3648351648351649, 1.0576124764359827, 1.0309757836966296, 1.2816901408450705, 1.0298217179902756, 1.9090909090909092, 1.0651873952817426, 1.0111669458403127, 1.3886792452830188, 1.0378151260504203, 1.0044473567653822, 1.6287581699346405, 1.3955969133000454, 1.2777777777777777, 1.6666666666666667, 1.034047919293821, 2.2489061740398637, 1.0678791815524522, 1.019880174291939, 2.4, 1.0698051948051948, 1.0862000790826414, 1.12, 1.002384935749119, 1.2, 1.2152317880794703, 3.0, 1.3835227272727273, 1.3, 1.0648677854055428, 1.0263157894736843, 1.2545454545454546, 1.10801393728223, 1.0, 1.2105898876404495, 1.0086157380815624, 1.0, 3.3333333333333335, 1.5729166666666667, 1.686046511627907, 1.2996667521148424, 1.4153645833333333, 1.1078305519897305, 1.7758620689655173, 1.2193211488250653, 1.1823204419889504, 1.1346938775510205, 1.1136363636363635, 1.3, 1.5, 1.669996158278909, 1.1286644951140066, 1.2855245683930943, 1.0548953027730616, 1.0094188670102415, 1.0577149587750294, 1.0221230529288798, 1.2972567409144198, 1.008495145631068, 1.0326530612244897, 2.75, 2.0, 2.0642201834862384, 1.0063370602384163, 1.3266978922716628, 1.0774647887323943, 1.6639344262295082, 1.2121326299924642, 1.2682173699122852, 1.019064504973237, 1.4457831325301205, 1.2941176470588236, 1.0276381909547738, 1.1226894038010935, 1.0370572134676197, 1.012623063243174, 1.206060606060606, 1.255842041695111, 1.0185364549193026, 1.394642857142857, 1.1028436018957346, 2.25, 1.325090159711489, 2.1556420233463034, 1.0014165212066932, 1.3333333333333333, 1.0719063545150502, 1.0, 1.2882352941176471, 1.037203236527324, 1.927710843373494, 1.0003442269694947, 1.4476843910806174, 2.15, 1.077105787975889, 1.0038938383901315, 1.018507039759143, 1.0392156862745099, 1.549770290964778, 1.0371525664434977, 1.2043795620437956, 1.1176470588235294, 1.0, 1.4285714285714286, 1.005417163414277, 1.5, 1.0788860503635496, 1.0852745520710196, 1.1907148509628067, 1.1633434038267876, 1.0022163478354453, 1.1917915455155446, 1.2867383512544803, 1.0427872860635696, 1.0454667099180925, 1.111727431698099, 1.0007728071596844, 1.2279365548859393, 1.4444444444444444, 1.33387358184765, 1.2533333333333334, 1.10444922262653, 1.0306406685236769, 1.156461341619448, 1.0874074074074074, 1.6639118457300275, 1.0236944688953957, 1.5263157894736843, 1.0258204019333503, 1.4, 1.0173712638076673, 1.0076687939078672, 1.0933147632311977, 1.0033112582781456, 4.571428571428571, 1.6, 1.0431951037702538, 1.0447565213213983, 1.0996756756756756, 1.0031754654049416, 2.357142857142857, 1.192824334864373, 1.302740599107712, 1.1906005221932114, 1.218034993270525, 1.1080797481636937, 1.3513157894736842, 1.3425867507886435, 1.001835241498335, 1.55475763016158, 1.3620521677516497, 1.0022783731989495, 1.1818181818181819, 1.2946817785527462, 2.0418827283605903, 1.071422592391077, 1.0217391304347827, 1.9271844660194175, 1.0757261410788381, 2.1951712887438823, 1.6414634146341462, 1.0023877456039174, 2.25, 1.254416961130742, 1.027752332485157, 1.213373083475298, 2.7205666829506594, 1.0319384153515356, 1.0377273710662518, 1.1312584573748308, 1.272264631043257, 1.2160160136163685, 1.0299160985841636, 1.0895765472312704, 1.0625, 1.1005847953216374, 1.0577550687390365, 1.9479166666666667, 1.0, 1.0082940402802258, 1.4300196012433921, 1.0191628845184064, 1.0297029702970297, 2.058122205663189, 1.1391847368017776, 1.1211616281837657, 1.8099547511312217, 1.0384615384615385, 1.0657276995305165, 1.5352112676056338, 1.2941176470588236, 1.4827586206896552, 1.0677608169484007, 1.25625, 1.6853582554517135, 1.2439024390243902, 1.196923076923077, 1.176391683433937, 1.0618556701030928, 1.5121951219512195, 1.150931278098908, 1.0798319327731092, 1.157718120805369, 1.0833333333333333, 1.002787426562031, 1.3516129032258064, 1.0671490225945672, 1.1789473684210525, 3.0, 1.0017519271198319, 1.0178163162884069, 1.0536123769992163, 1.0527272727272727, 1.1216216216216217, 1.3157894736842106, 1.7222222222222223, 1.2727272727272727, 1.1369863013698631, 1.002680965147453, 1.0072752585404252, 1.0266567702931166, 1.2066115702479339, 1.0254552515488564, 1.0061401614922925, 1.6666666666666667, 1.0514773599386031, 1.0986327800139717, 3.0, 1.5186915887850467, 1.0174860618347694, 1.03169996016163, 1.0075647517848247, 1.3559782608695652, 1.0, 1.9846153846153847, 1.1768953068592058, 3.0, 1.0125719904480965, 1.0200537663607234, 1.0716736210635789, 1.0812400995700384, 2.5, 1.0127780031143723, 1.0057324840764332, 2.3550724637681157, 2.2538860103626943, 1.059278350515464, 1.0, 1.1014492753623188, 1.1008699254349628, 1.0153934057069876, 2.2732498840982847, 2.3486238532110093, 1.1592554829580923, 1.2171518489378441, 1.147887323943662, 1.4782608695652173, 1.0120992612780606, 2.333999429060805, 1.0132188924449617, 83.5, 1.146067415730337, 1.1042654028436019, 1.7142857142857142, 1.0973879393743953, 1.0405405405405406, 1.0235957944460423, 1.2682215743440233, 3.0, 1.243606998654105, 1.0289685197588747, 1.760839160839161, 1.2079009039169735, 1.0044751895703072, 1.0142773892773893, 1.0551334566596196, 1.0521541950113378, 3.0406976744186047, 1.3035147043754483, 1.0105353303776126, 1.2271414821944178, 1.0477064220183485, 1.6666666666666667, 1.1529411764705881, 1.0099503748016734, 1.0074404761904763, 1.021796821008984, 1.004352364125059, 1.370767960363336, 2.0, 1.3138586956521738, 1.0481937887732404, 1.0584864651254693, 1.0778688524590163, 1.016085777084588, 1.1536050156739812, 1.3422222222222222, 1.1285860655737705, 1.009292736877064, 1.2894297772107175, 1.0466732869910627, 1.0526315789473684, 1.2307692307692308, 1.0182734245751242, 1.034148651492829, 1.0542188698542572, 1.4189614822895955, 1.1485148514851484, 1.1634897360703813, 1.25, 1.0150093808630394, 1.25, 1.0, 1.6153846153846154, 1.0048661800486618, 1.0278721957851802, 1.0540385459209505, 1.0045352988769383, 1.3622920517560073, 1.6574202496532593, 1.8584070796460177, 1.1695215593620791, 1.0067546953370026, 1.6, 1.1333333333333333, 1.1901881720430108, 1.625, 1.0767326732673268, 1.0796387520525452, 1.0047140163419233, 1.0491267652136829, 2.0, 1.6313131313131313, 1.3085004775549187, 1.0755917886258717, 1.0141118049689344, 1.0727699530516432, 1.280803961549665, 1.0520859266635842, 1.0303223166795472, 2.5569105691056913, 3.736842105263158, 1.2149532710280373, 1.0, 1.0, 1.0078837646133136, 5.0, 1.75, 2.0, 1.0388471177944862, 1.0097087378640777, 1.0918610185625892, 1.2357438674737178, 1.5, 2.275555318808928, 1.064252336448598, 1.1706161137440758, 1.0698602794411178, 1.8571428571428572]
origin-bjaq_15.71 	max: 83.5000	99th: 3.3374	95th: 2.2545	median: 1.1463	mean: 1.4144

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 11.913819 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[ 2.3841858e-07  4.7469139e-04  4.1723251e-07 -2.9802322e-08
 -5.9604645e-08]
Distance score: 9.505152411293238e-05
SAUCE Drift detection: True
Detection latency: 0.0379s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.6347 bits (loss 19.085, data 18.450) 0.00300 lr
epoch 10 train loss 12.4446 nats / 17.9538 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap -0.5770 bits (loss 17.873, data 18.450) 0.00256 lr
epoch 20 train loss 12.1717 nats / 17.5600 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.8463 bits (loss 17.604, data 18.450) 0.00150 lr
epoch 30 train loss 12.0471 nats / 17.3804 bits
time since start: 12.7 secs
Epoch 30 Iter 0, train entropy gap -1.0933 bits (loss 17.357, data 18.450) 0.00044 lr
epoch 40 train loss 12.0324 nats / 17.3591 bits
time since start: 17.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.1703 nats / 30.5424 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.076916 | Model-update-time: 19.482250


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 169.0000	99th: 4.3400	95th: 2.3284	median: 1.1338	mean: 1.7024
ReportEsts: [1.0025, 1.1378070701018574, 1.008653707183119, 1.014516129032258, 1.3, 1.0, 1.1001527754201323, 1.0049881024519294, 1.25, 1.0503432494279177, 1.0766147823655514, 1.0019279975344566, 1.1703074433656957, 1.0148423005565863, 1.144729178800233, 2.1608557844690965, 1.48816029143898, 1.5, 2.0, 1.0895196506550218, 1.367578620786913, 1.2175325532870236, 1.4545454545454546, 1.1126198083067094, 1.001541312366867, 1.0052552384574938, 2.0, 1.04986349353526, 3.0, 1.2, 1.0184331797235022, 1.0, 1.0006723936865034, 1.0249315993409351, 2.0201793721973096, 1.1478422117329736, 1.0445495125102784, 1.0273972602739727, 1.1324503311258278, 1.0115771493642058, 1.0128229304167453, 1.298071414932213, 1.5323886639676114, 1.0254563640910228, 1.6083916083916083, 1.310649558140696, 1.0, 1.1068264721208962, 1.0673076923076923, 1.6320630749014455, 1.875, 1.205128205128205, 1.0570342205323193, 3.2222222222222223, 1.0478849071149685, 1.0769510421715949, 1.4402985074626866, 1.7276422764227641, 1.2830188679245282, 1.0562145690533002, 1.3170731707317074, 1.197705869335366, 1.1341653666146645, 1.0076628352490422, 1.5263157894736843, 1.6081081081081081, 1.0156850098214547, 1.2018121911037891, 1.0335195530726258, 1.1818181818181819, 1.0332541567695963, 1.6469622331691298, 1.0177919708029197, 1.7407407407407407, 1.0833134399618047, 1.9212785107457249, 1.1331294447105642, 2.067415730337079, 1.4277456647398843, 1.014504632273037, 1.322085889570552, 1.3333333333333333, 1.0, 1.2857142857142858, 1.1933701657458564, 1.1904761904761905, 1.8737036425580453, 1.586890243902439, 1.5, 1.0456190434995747, 1.0890706319702603, 1.5408830744071955, 1.0567716791165962, 1.0510614420649023, 1.3430962343096233, 1.090805902383655, 1.8698602732980425, 1.4770642201834863, 2.5, 1.3285782215882074, 1.4333333333333333, 2.0, 1.0333202323245556, 1.0668493150684932, 1.0175182481751825, 1.0195218185030328, 2.125, 1.0334294210232455, 1.1587897526501767, 1.2411737734983952, 1.156210790464241, 1.1400527395253444, 2.1666666666666665, 1.4470198675496688, 1.0073006724303555, 1.0035741596568806, 1.2286096256684491, 1.4807692307692308, 1.0121748064799299, 4.0, 1.054556922106591, 1.14, 1.0, 1.6567164179104477, 1.1666666666666667, 1.0785219399538106, 1.0049528418493323, 1.0463117211967747, 1.191304347826087, 1.2857142857142858, 1.1444954128440368, 1.0, 2.111111111111111, 1.0472134118713186, 1.0769230769230769, 1.1991643454038998, 1.0856788735642122, 1.0639825826996816, 1.8710368466152527, 1.1851332398316972, 1.0448742746615087, 1.0928462709284628, 1.0307692307692307, 1.2, 1.2173913043478262, 1.0678860358775941, 3.0, 1.0041572184429328, 1.0056764427625355, 1.0074142724745134, 1.1651477832512316, 1.5, 1.1262956901254773, 1.3492063492063493, 1.0163398692810457, 1.7, 1.0, 1.1848583372039014, 1.2807820729062682, 1.375891804702525, 1.2064220183486238, 1.1176470588235294, 1.425, 1.5303867403314917, 1.158282208588957, 1.4285714285714286, 1.0574211223918124, 1.025974025974026, 1.5263157894736843, 1.0097527880252724, 1.0726408689748812, 1.1499021751640004, 1.2738589211618256, 2.016949152542373, 1.0748876368930809, 1.0094836670179137, 1.1241513094083415, 1.5081160846040333, 1.0185092546273136, 1.0216390423572743, 1.3380840083393144, 1.2205882352941178, 1.8158148505303762, 1.038787277518124, 1.053585229712323, 1.3431372549019607, 1.0515643105446117, 1.150753768844221, 2.1392405063291138, 1.5071942446043165, 1.0028036718138476, 1.36, 1.3664185277088503, 1.0046580928481808, 1.032680956818888, 1.0042602488882246, 1.0305343511450382, 1.1214708847995967, 1.004604634590814, 1.010543390105434, 1.3206101785238475, 1.579331800351684, 1.0478548470850968, 1.2021354933726067, 1.0000875733426744, 1.2642857142857142, 1.836734693877551, 1.143939393939394, 1.0, 2.7794117647058822, 1.115391380826737, 2.074380165289256, 1.115702479338843, 1.417763157894737, 1.3888888888888888, 1.0069129231642786, 1.2053571428571428, 1.0544583333333333, 7.0, 1.300578034682081, 1.1430842607313196, 1.0038261075574508, 1.011894574704775, 1.8662519440124417, 1.0782608695652174, 1.0296823439218692, 1.0233375719949136, 1.3856749311294765, 1.0457413249211356, 1.2855917667238421, 1.0323255602389545, 1.3835616438356164, 1.0011104353275093, 1.1482243442619702, 1.402542372881356, 1.6701030927835052, 1.3262935586061246, 1.5441176470588236, 1.251231527093596, 1.0, 1.0015838447832113, 1.0323859357038094, 1.0036936236391913, 1.729032258064516, 1.4166666666666667, 3.6666666666666665, 1.049211595300147, 1.125, 1.0477308887036896, 1.5, 1.0327490774907748, 1.3723228995057661, 4.0, 1.0005015045135406, 1.0120481927710843, 1.199537750385208, 1.3613766730401529, 1.1713018943974205, 1.105410344445675, 1.2718446601941749, 1.0, 1.0116040016171626, 1.2523846352152617, 1.3796033994334278, 1.0108428912055973, 1.029761657169003, 1.0282303162603927, 1.0403225806451613, 1.0258566660350683, 1.1163600198906016, 1.2124662292551138, 1.088339222614841, 2.75, 1.0074751578589227, 1.0492170022371365, 1.1754385964912282, 1.4705882352941178, 1.0101522842639594, 1.2375168690958165, 1.0132457211126407, 1.2056971666497411, 1.3395522388059702, 1.6120401337792643, 1.0511747201488324, 1.0846223839854414, 1.0313409779573406, 1.00030343541663, 1.0, 1.1101928374655647, 1.4513742071881606, 1.015092712376024, 1.0827218828061516, 1.294837212916403, 1.492707672796449, 1.2029081295439523, 1.455664718318617, 1.0824385939108692, 1.0409768829231916, 1.0126052059890989, 1.1922663802363052, 4.166666666666667, 1.5714285714285714, 1.0483750187209824, 1.4666666666666666, 1.0092764378478665, 1.0162931478619268, 1.3381921587067016, 1.4090909090909092, 1.7205882352941178, 1.8996838171888473, 1.0463553334482165, 1.000082331631813, 1.2, 1.2098032564450474, 1.030967808923687, 1.0929577464788733, 4.333333333333333, 2.857142857142857, 1.105884879725086, 1.1818181818181819, 1.0037759337417311, 1.0627943485086342, 1.4615384615384615, 1.0343177403879906, 1.6153846153846154, 2.8, 1.0011135038604968, 2.0, 1.1, 1.0736842105263158, 1.0040206777713958, 1.1313432835820896, 1.0391644908616189, 1.588235294117647, 1.032846883875586, 1.0302238444840792, 1.1712962962962963, 1.1298362988507067, 1.0976329648706522, 3.0, 1.8888888888888888, 1.0643846045961811, 1.6, 1.026370866471327, 1.3333333333333333, 2.1468531468531467, 1.4090909090909092, 1.3323802716225877, 1.140613847251963, 1.7916666666666667, 1.1214874286921614, 1.7605633802816902, 1.6, 1.0456997302966737, 1.5292307692307692, 1.1228070175438596, 1.0204193795954746, 1.34375, 1.3608098336948662, 1.0124401913875598, 1.1428571428571428, 1.5, 1.075, 5.28, 1.2710843373493976, 1.0282777724302414, 1.0029264723814169, 1.1097560975609757, 1.0, 1.030000621950323, 1.3016528925619835, 1.25, 1.4102564102564104, 1.2185079494496536, 7.0, 1.6883116883116882, 1.9803921568627452, 1.4513993600823802, 1.0069735715426034, 1.397678916827853, 1.5434782608695652, 1.1109928134149587, 1.0545182972367437, 1.0170157068062826, 1.0467131734958692, 1.030612244897959, 2.1, 1.0040426452061748, 1.0769662741071142, 1.0412287793047696, 1.2893401015228427, 1.1956521739130435, 1.3151785714285715, 2.0, 1.4482758620689655, 14.25, 1.0321100917431192, 169.0, 1.2032854209445585, 1.0644855381697487, 1.8590242800377423, 1.0858861164427382, 1.4045016077170418, 1.0025416513108567, 1.4827586206896552, 1.110236220472441, 1.1481481481481481, 1.0, 1.0517013442172043, 2.8125, 1.1731352012334522, 1.0379537255802431, 1.376239361235413, 1.3821079319087288, 2.2, 1.1075735648818137, 1.5, 1.2323432343234324, 1.0909090909090908, 1.0092147335028576, 1.0516129032258064, 1.665294433506354, 1.100250626566416, 2.5904365904365902, 3.0, 1.3900651465798046, 1.018239591550745, 1.152792133789192, 6.0, 1.7027027027027026, 2.0355086372360844, 1.342403628117914, 1.022340821645774, 1.1367595738181415, 1.05, 1.0992234685073339, 1.0726226890594641, 1.0274757431079624, 1.1623091343608236, 1.0303635831952431, 1.047439126784215, 1.489051094890511, 1.2463690155997849, 1.196454247426238, 3.4838709677419355, 1.4452830188679244, 1.0, 1.5, 1.2352941176470589, 1.2007722007722008, 1.4303135888501741, 1.0346014146434717, 1.1926713947990544, 1.0, 2.7142857142857144, 1.48, 1.1169391895406704, 1.1538461538461537, 1.0, 1.1038412496015302, 1.5, 1.0, 1.0893875998478508, 3.0, 1.0159642401021711, 1.0715396578538103, 1.7428571428571429, 1.8, 1.0147731367277364, 1.0583832335329342, 2.2857142857142856, 1.4228295819935692, 1.134020618556701, 1.313793103448276, 1.6384666226040978, 1.52312416042986, 1.0665499952700785, 1.0, 1.1538461538461537, 1.048415566949651, 1.0175071075864133, 1.0749756572541382, 1.2, 1.0167577413479052, 1.0055330286551214, 1.0322865988500662, 2.0, 1.1725908372827805, 1.0066348299213215, 1.0490064610508352, 1.1263131976362442, 1.0064300004317852, 1.0221239442399097, 1.0617529880478087, 1.2107823267126063, 3.0, 1.2981549815498155, 1.151226158038147, 1.0745831455610635, 1.271769273433167, 1.0474777448071217, 1.0012562035806964, 1.8959602183975581, 1.038304114320865, 1.4204693611473274, 1.0534018400356135, 1.8993722536095416, 1.0272605880426293, 1.0994446501295816, 3.260869565217391, 1.653061224489796, 1.1336443279412272, 1.2270408163265305, 1.0374462365591397, 1.0172813407969514, 1.5, 1.1578073089700998, 1.0658682634730539, 2.6666666666666665, 1.9, 1.0209935768073157, 1.3596491228070176, 1.1963443396226414, 1.0, 1.4807692307692308, 1.0744025622074402, 1.0351010356576595, 1.082140015910899, 1.1032701266765181, 1.014336917562724, 1.162291169451074, 1.029175050301811, 1.043478879451392, 1.0283687943262412, 1.075231119816476, 1.8475836431226766, 2.0, 1.2625, 1.2301255230125523, 1.0021930731989903, 1.0669044734871773, 1.0178633191593254, 1.0665924276169265, 1.0995184590690208, 1.2146562104418166, 1.0, 1.0914927768860354, 1.489297253634895, 1.116976938038344, 1.4, 1.0353535353535352, 1.0250979501447959, 1.0572151898734177, 1.3180612650842063, 1.2544833475661827, 1.074642126789366, 1.4285714285714286, 1.2585895117540686, 3.6666666666666665, 1.0570469798657718, 1.004950495049505, 1.5, 1.003490339181893, 2.1904761904761907, 1.1802624073017685, 1.335406967821149, 1.1209289153214388, 1.3076923076923077, 1.0593994778067886, 1.1246684350132625, 1.107637338097365, 1.0061060344464563, 1.4531096636031051, 1.0139092240117131, 3.0, 1.5775193798449612, 1.0729166666666667, 1.1333333333333333, 1.0, 1.3068862275449102, 1.4, 1.5813953488372092, 1.2042553191489362, 1.0422452206410808, 1.0950965824665677, 1.3800738007380073, 1.2731958762886597, 1.0828773399659641, 1.0906365313653137, 1.231651376146789, 1.0, 2.4285714285714284, 1.2417389919579584, 2.5342465753424657, 1.1018081761006289, 1.189879294336119, 1.0, 1.2191168250419229, 1.2261146496815287, 1.3504576543954938, 1.6612903225806452, 1.293100894916115, 1.1546626507777147, 1.282392026578073, 1.0, 1.2844915131292616, 1.1396741734547198, 1.6666666666666667, 1.3021767532496291, 1.5, 1.0069280162216965, 1.0098785539779769, 1.4285714285714286, 1.0840291097822408, 1.6, 1.5833333333333333, 1.002691473669983, 1.1447321745299752, 1.1617250673854447, 1.0000216377154034, 1.0066555740432612, 1.9166666666666667, 1.45, 1.0635964912280702, 1.1505852578298006, 1.0127400295420974, 1.2506553938917289, 1.0344600651303173, 1.0, 1.0539280958721704, 1.003968253968254, 2.0, 1.0272990858562994, 1.1958039787716086, 1.0286624203821657, 1.0059150725103125, 1.3177438876785281, 2.0547945205479454, 1.2857142857142858, 1.9323987168824996, 1.0424528301886793, 1.0003758875121815, 1.1146265560165975, 1.0308313842228365, 1.1198884758364311, 1.2727272727272727, 1.0454545454545454, 1.404494382022472, 1.0404787950185124, 1.4466615502686109, 1.1948051948051948, 1.3580599144079886, 1.0086117349396193, 1.2308626974483596, 1.468148738909381, 1.5, 1.6666666666666667, 1.118279569892473, 2.3281328636134875, 1.0826306913996628, 1.2307692307692308, 2.0, 1.1589147286821706, 1.0052301255230125, 1.794871794871795, 1.022645583728058, 1.5, 1.0243151133831432, 1.5, 1.0432098765432098, 1.625, 1.102135535307517, 1.05, 1.0287769784172662, 1.3570412517780939, 1.0, 1.0919141209143346, 1.2576586433260395, 1.75, 3.25, 1.2661290322580645, 1.0379310344827586, 1.1340357755452095, 1.1905263157894737, 1.1793939393939394, 1.65625, 1.054862842892768, 1.1592920353982301, 1.0489795918367346, 1.065217391304348, 1.3076923076923077, 2.0, 1.508582326764145, 1.1141479099678457, 1.4534534534534536, 1.1961321239089509, 1.027058134804481, 1.0009557618787548, 1.0174721282413013, 1.2989622951589426, 1.2347696879643388, 1.1818181818181819, 5.5, 1.0, 2.2058823529411766, 1.058361504530431, 1.6208869814020028, 1.7790697674418605, 1.1277777777777778, 1.2011964889913205, 1.20780752637787, 1.023315655077588, 1.135135135135135, 1.1363636363636365, 1.4128878281622912, 1.0049562844573148, 1.0524066606829476, 1.0726258301190181, 1.0476190476190477, 1.1308765035702306, 1.0008747010769254, 1.0684708751960044, 1.0162748643761301, 1.0256616388745174, 1.0151515151515151, 1.1869200176756518, 1.6152512998266897, 1.0002245009227864, 2.0, 1.148820326678766, 1.0, 1.6343283582089552, 1.0229236199815952, 1.3076923076923077, 1.0235404896421845, 1.1122778675282714, 1.1025641025641026, 1.0406479628560354, 1.0172521120498, 1.0354609929078014, 1.039906103286385, 1.1624588364434687, 1.0179943767572635, 1.036179450072359, 1.0, 1.0, 2.5, 1.0755377688844423, 2.0, 1.0482673928132842, 1.0028448237542784, 1.1226063168366078, 1.1585835257890684, 1.007874243324395, 1.0649400479616307, 1.2114695340501793, 1.1024734982332156, 1.0101301562184888, 1.0253945860153426, 1.0125893489600104, 1.4696225496703395, 2.0, 1.200906344410876, 1.6020408163265305, 1.0032667096496883, 1.0530503978779842, 1.3845480028030834, 1.0084865629420086, 1.5964912280701755, 1.038359646397605, 1.1524064171122994, 1.0706718320716304, 2.090909090909091, 1.0061846461547423, 1.0030672531272944, 1.0924313462826525, 1.1107984523390784, 1.1428571428571428, 1.0, 1.0433784800601957, 1.0411716917794571, 1.2135459817729908, 1.000376468530874, 1.4242424242424243, 1.0807961717178722, 1.080557238037553, 1.3316831683168318, 1.0347826086956522, 1.0749542961608776, 1.6625386996904026, 1.1142347166443551, 1.003812017928881, 1.854389721627409, 1.3064876957494407, 1.0198837120871675, 1.3, 1.0832799487508007, 1.5966936993137866, 1.0004672023920762, 1.2018561484918793, 1.7683741648106903, 1.1039387308533917, 1.815713616989825, 1.046656298600311, 1.0050627872998306, 1.0833333333333333, 1.0640845070422535, 1.0450019523623584, 1.0389006342494715, 2.3359621451104102, 1.0436689793234744, 1.0193676569515495, 1.0654685494223364, 1.1370656370656371, 1.1422218219074747, 1.0193411210164975, 1.0825174825174826, 1.0478260869565217, 1.1071032186459488, 1.0346618777275711, 1.1414141414141414, 2.3333333333333335, 1.0081445638675972, 1.3345281868405978, 1.268791627021884, 1.0688073394495412, 1.9100968188105119, 1.1144981602616517, 1.0689029918404351, 1.8919083551920042, 1.0769230769230769, 1.0905511811023623, 1.1777777777777778, 1.2959183673469388, 1.5925925925925926, 1.038427488518785, 1.0219952867242734, 1.5809523809523809, 1.9523809523809523, 1.0233236151603498, 1.0427594070695554, 1.1485148514851484, 1.8958333333333333, 1.0731707317073171, 1.2916666666666667, 1.2527536231884058, 1.5, 1.0129306808859722, 1.0157232704402517, 1.0277463193657985, 1.2421052631578948, 4.0, 1.0633088492479887, 1.0791867659395973, 1.0104260985352862, 2.029520295202952, 1.1875, 1.2173913043478262, 1.064516129032258, 1.21875, 1.1935483870967742, 1.4246445497630331, 1.0115698422371182, 1.0248892734401471, 1.4757281553398058, 1.0005322703027146, 1.0066592079134344, 2.5, 1.0066096781936007, 1.0757963551142495, 3.0, 1.831578947368421, 1.1661495063469676, 1.003038865490217, 1.0599862100666513, 1.5826446280991735, 1.0, 1.8832116788321167, 1.3872340425531915, 1.619718309859155, 1.0656401407048517, 1.040528758622458, 1.0475348114504273, 1.1174546535831102, 2.5, 1.0005201180017715, 1.1373215499660094, 1.3988522238163559, 1.8372319688109162, 1.00117508813161, 1.0, 1.9942138364779873, 1.0149542813386785, 1.02128652336208, 1.9927632965643223, 1.8028169014084507, 1.1400427111991842, 1.0436408977556109, 1.02020202020202, 1.5681818181818181, 1.004897920257226, 2.7436241610738255, 1.0115489696689048, 167.0, 1.0686274509803921, 1.1818181818181819, 2.1666666666666665, 1.007934258996883, 1.1172069825436408, 1.0131937605621817, 1.5294964028776978, 1.5, 1.0301298701298702, 1.1241979126401236, 1.5634489222118089, 1.1174684353524054, 1.0171032464818168, 1.0022352612461582, 1.0240905259062318, 1.437641723356009, 2.360576923076923, 1.0272125322997416, 1.0609326250105404, 1.093139482053612, 2.162878787878788, 2.5, 1.2962962962962963, 1.0014889863563532, 1.0948678071539657, 1.0028574397339984, 1.0129348559632663, 1.0245995423340961, 2.0, 1.2800511508951407, 1.0762992963727882, 1.0986182093507477, 1.1977186311787071, 1.0225240749128577, 1.0625, 1.0214205186020293, 1.2178889359898262, 1.0076644883699328, 1.1858439534244063, 1.0689981096408319, 1.0209251101321586, 1.032258064516129, 1.0703080836630865, 1.0092072613295024, 1.0002783286365375, 1.3591736395284921, 1.0008485362749258, 1.0986333927510399, 1.25, 1.0233812949640289, 1.25, 2.0, 1.6923076923076923, 1.2779097387173397, 1.2176339285714286, 1.0050153846153846, 1.0208335542149514, 1.280848105665624, 1.3943990665110853, 1.0478468899521531, 1.0510992275698159, 1.0242167272381766, 1.3333333333333333, 1.25, 1.2268963232858563, 2.0, 1.2489740082079344, 1.017059891107078, 1.0982031961579863, 1.02013537043583, 1.3333333333333333, 1.2868525896414342, 1.0574398249452954, 1.0074578837781563, 1.0134866547740722, 1.0407523510971788, 1.0494307136906416, 1.014645211131018, 1.004034882207471, 1.6380208333333333, 23.666666666666668, 1.2784530386740331, 1.0, 5.0, 1.0081242048199435, 2.5, 1.2857142857142858, 2.4545454545454546, 1.6952965235173825, 1.0094444657734096, 1.0606276747503567, 1.5319148936170213, 1.01292795240683, 1.125, 1.5384615384615385, 1.6]
origin-bjaq_15.71 	max: 169.0000	99th: 4.3400	95th: 2.3284	median: 1.1338	mean: 1.7024

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.084257 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[ 1.7881393e-07  4.5746565e-04  1.7881393e-07 -2.9802322e-08
 -2.9802322e-08]
Distance score: 9.1552734375e-05
SAUCE Drift detection: True
Detection latency: 0.0389s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.5786 bits (loss 18.946, data 18.367) 0.00300 lr
epoch 10 train loss 12.4133 nats / 17.9085 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.4772 bits (loss 17.890, data 18.367) 0.00256 lr
epoch 20 train loss 12.1548 nats / 17.5357 bits
time since start: 8.8 secs
Epoch 20 Iter 0, train entropy gap -0.8782 bits (loss 17.489, data 18.367) 0.00150 lr
epoch 30 train loss 12.0259 nats / 17.3497 bits
time since start: 13.1 secs
Epoch 30 Iter 0, train entropy gap -0.9688 bits (loss 17.398, data 18.367) 0.00044 lr
epoch 40 train loss 12.0060 nats / 17.3210 bits
time since start: 17.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.0901 nats / 30.4266 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.099595 | Model-update-time: 19.763491


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 18.0000	99th: 5.0011	95th: 2.3585	median: 1.1466	mean: 1.3685
ReportEsts: [1.3993399339933994, 1.1225915731526572, 1.006813927368027, 1.1369863013698631, 1.1538461538461537, 1.0, 1.0007728918358214, 1.0067954701587145, 1.0, 1.0237068965517242, 1.1989412863716569, 1.0113010610999376, 1.235655737704918, 1.0123239436619718, 1.0468227424749164, 1.70748730964467, 1.8157051282051282, 1.3333333333333333, 1.0833333333333333, 1.0060483870967742, 1.4525886773228045, 1.1468034533295566, 1.7423312883435582, 1.2758358662613982, 1.0462286259873275, 1.0144368778898782, 2.0, 1.0536798459943728, 1.0, 1.0, 1.0128755364806867, 1.0, 1.0074606683839387, 1.0288525506908222, 1.04661487236404, 1.3694690265486726, 1.1010128010929936, 1.0683371298405466, 1.736842105263158, 1.039090994108295, 1.2168083714846305, 1.1974734933179463, 2.002645502645503, 1.0192105011018493, 1.2073490813648293, 1.4500911451140694, 1.1111111111111112, 1.0998666222074025, 1.04, 1.5257985257985258, 2.4285714285714284, 1.3146067415730338, 1.0, 2.9, 1.0363938796937489, 1.0130073656166745, 1.3597727272727274, 1.872340425531915, 2.0088495575221237, 1.0993188709057522, 1.2407407407407407, 1.204711556297533, 1.1527987897125567, 1.1345454545454545, 1.0804597701149425, 1.935483870967742, 1.0724306009629674, 1.0826397146254458, 1.1173469387755102, 1.0909090909090908, 1.0099383139136395, 1.2404761904761905, 1.0428816466552315, 1.5900962861072903, 1.0255569266740274, 1.7168186870379845, 1.1490608901788564, 1.978494623655914, 1.0494505494505495, 1.0273679881265312, 1.2287954383464006, 1.096774193548387, 1.0, 1.25, 1.1294416243654823, 1.625, 1.7177435897435898, 1.694478527607362, 1.0, 1.1420643427997665, 1.104234992157422, 2.2299136196899774, 1.2389292921600732, 1.3611009174311928, 1.6546391752577319, 1.245119305856833, 1.722661225499289, 1.1164596273291925, 6.0, 1.1902044698050405, 1.032258064516129, 5.0, 1.0161751484274386, 1.0662650602409638, 1.2798894263994471, 1.051361823684136, 1.5454545454545454, 1.0477812083058382, 1.1694747274529236, 1.4999076525272426, 1.1824202287778447, 1.2602368031573754, 2.6666666666666665, 2.072972972972973, 1.1747130624886135, 1.0164073078435032, 1.6139455782312926, 1.4807692307692308, 1.0250975261079207, 1.0, 1.085958904109589, 1.3400646203554119, 1.0, 1.3089887640449438, 1.4, 1.0453563714902807, 1.0160190011583357, 1.0086032077674676, 1.0833333333333333, 1.2857142857142858, 1.090403337969402, 1.0, 2.0, 1.0209496722278104, 1.3076923076923077, 1.1503184713375796, 1.6491803278688524, 1.02225293856965, 1.432073544433095, 1.0175438596491229, 1.220667967902841, 1.1584327086882453, 1.2463768115942029, 1.0, 1.0241286863270778, 1.1220541681322547, 3.0, 1.1367556468172484, 1.1899141630901287, 1.073446327683616, 1.0804163806909175, 1.5, 1.1962914674779082, 1.0538922155688624, 1.161231884057971, 1.7083333333333333, 1.0, 1.2917946467749013, 1.2227005356380007, 1.265939836748673, 1.2119815668202765, 1.6141304347826086, 1.475, 1.92, 1.1447902571041948, 2.857142857142857, 1.0593228264690422, 1.1995249406175772, 1.3333333333333333, 1.046328708194509, 1.2111039380245319, 1.20750498519548, 1.098976109215017, 1.5973154362416107, 1.2476112794220462, 1.25965801139962, 1.3185437997724687, 1.3228952772073923, 1.0894160583941606, 1.022507403751234, 1.3840633506557782, 1.1756756756756757, 1.0748747964014431, 1.5023474178403755, 1.068334350213545, 1.0296610169491525, 1.1317829457364341, 1.5657894736842106, 1.0243644457525478, 1.081659317328107, 1.0328531931597091, 1.1333333333333333, 1.3325257419745609, 1.2667596345201262, 6.0, 3.6666666666666665, 1.1501438782140536, 1.17439446366782, 1.164, 1.2420091324200913, 1.0131657344942244, 1.0357023018589357, 1.055623638126382, 1.0673044072429108, 1.0994575045207957, 1.1933115823817293, 1.274080331312467, 1.0230066538851923, 2.125, 1.515625, 1.2707414829659318, 1.8083989501312336, 1.4242424242424243, 1.1362021318594553, 1.05, 1.0100060612684942, 1.2391304347826086, 1.0698314970836034, 1.3759124087591241, 1.1106719367588933, 1.086062452399086, 1.000056476754168, 1.0134457043053977, 1.699748743718593, 1.089430894308943, 1.0442350315410964, 1.017198136868506, 2.00531914893617, 1.0827922077922079, 1.1972843450479234, 1.0050848943569362, 4.809523809523809, 1.0026712627667407, 1.145586964389916, 1.6226415094339623, 1.134189031505251, 1.029175050301811, 1.1390532544378698, 1.2624254473161034, 1.0, 1.0507391130643229, 1.0877718597425654, 1.0423191648023862, 1.041044776119403, 1.3333333333333333, 2.3333333333333335, 1.0334678376453834, 1.2075471698113207, 1.0385899352267065, 1.2, 1.0031069684864624, 1.027127003699137, 1.6, 1.0256368789082957, 1.2616822429906542, 1.0603882099209203, 1.1257575757575757, 1.0943464169967592, 1.0916525626283897, 1.2148760330578512, 2.0, 1.0357224359392319, 1.3609113829489214, 1.2391304347826086, 1.0082345081008852, 1.003400954653938, 1.0125483129635433, 1.0859085290482076, 1.0079799871425776, 1.1466794075489728, 1.1110712684894666, 1.103969957081545, 1.7091203703703703, 1.0366565378864612, 1.3673469387755102, 1.2295081967213115, 1.25, 1.3129496402877698, 1.5916702447402318, 1.0344838137200905, 1.0606060606060606, 1.0065581811133877, 1.044783230109576, 1.2575, 1.0602593048713738, 1.1629268292682926, 1.1495745491490983, 1.0297643080102283, 1.4285714285714286, 1.0416666666666667, 1.3369036027263876, 1.0516386670338749, 1.0631337287162808, 1.2914111108650888, 1.6889952153110048, 1.007423117709438, 1.4071892281798508, 1.0630608780014552, 1.0361563633776767, 1.0650052444999136, 1.1385542168674698, 3.5555555555555554, 1.375, 1.0853487283507568, 2.090909090909091, 1.0647619047619048, 1.059552229176076, 1.4258922572230346, 1.8235294117647058, 2.0338983050847457, 1.6501154734411085, 1.094885234050244, 1.0045323047251689, 1.4, 1.0062067992664692, 1.0375593422684835, 1.443089430894309, 3.0, 1.3333333333333333, 1.047742492979045, 1.1666666666666667, 1.0033202875350746, 1.3990384615384615, 1.2738853503184713, 1.1371488373325327, 1.2919254658385093, 1.5555555555555556, 1.0108799913231221, 2.0, 1.25, 1.2340425531914894, 1.111413043478261, 1.0172910662824208, 1.4507575757575757, 1.2123893805309736, 1.026603096373279, 1.0148115276518295, 1.314410480349345, 1.121124144776868, 1.0213345185843659, 3.0, 2.0, 1.035079180524385, 1.2222222222222223, 1.022801302931596, 1.3636363636363635, 1.9152542372881356, 1.375, 1.3117489986648865, 1.182769726247987, 1.6538461538461537, 1.0084806928906531, 1.4722222222222223, 2.6666666666666665, 1.0923589214675113, 1.6592039800995024, 1.32, 1.0029068280227522, 1.0627062706270627, 1.0723638869745002, 1.1827027027027026, 1.5, 1.0, 1.0845588235294117, 1.5, 1.7259713701431494, 1.020927958938428, 1.0964687819856704, 1.3459119496855345, 2.0, 1.025185369065222, 1.5740740740740742, 3.0, 1.2916666666666667, 1.0096627884046538, 7.0, 1.1512820512820512, 1.4225352112676057, 1.5367990654205608, 1.0751258658673868, 1.287720561757292, 1.489123012389035, 1.1620699881376038, 1.1245791245791246, 1.1348039215686274, 1.2785516940526391, 1.3043478260869565, 2.3, 1.000928746730318, 1.1667936707158546, 1.0061115355233001, 1.195, 1.0714285714285714, 1.1973478939157567, 1.0, 1.2727272727272727, 1.8530247033651042, 1.2041284403669725, 5.28125, 1.1112, 1.1134840871021776, 1.704733411689283, 1.0626082355204927, 1.6608365019011406, 1.019270304411364, 1.1395348837209303, 1.178193653376729, 1.0532994923857868, 1.0, 1.0547337151832281, 1.7142857142857142, 1.2245005549389567, 1.0613529042982117, 1.4015294890116257, 1.1179271708683474, 1.2222222222222223, 1.1972986010612638, 2.0, 1.3224852071005917, 1.375, 1.013935434096005, 1.091016548463357, 1.6412065620038807, 1.1875, 1.325531914893617, 3.0, 1.1841831425598335, 1.0226021585306844, 1.219742007851935, 7.0, 1.0793650793650793, 1.9241842610364683, 1.2124463519313304, 1.0629709364908504, 1.1774105777785455, 1.05, 1.0229479258605472, 1.0659569373584072, 1.048223874432053, 1.1194260515061485, 1.011854974896014, 1.009645061728395, 1.1022727272727273, 1.2754835337166754, 1.158072731827481, 1.588235294117647, 1.2023498694516972, 1.4090909090909092, 1.0, 1.8945022288261515, 1.0772357723577235, 1.719972067039106, 1.0707365472160617, 1.3581514762516047, 1.0, 2.0727272727272728, 1.1111111111111112, 1.014891960288106, 1.2222222222222223, 1.0, 1.092039042244929, 3.0, 1.0, 1.112490869247626, 1.8568464730290457, 1.147358943577431, 1.0815868263473054, 1.3737704918032787, 1.125, 1.1457286432160805, 1.4720720720720721, 1.1001694197373995, 1.0, 1.351063829787234, 1.4864864864864864, 1.372972972972973, 1.2912192040429564, 1.0908328518980972, 1.3138528138528138, 1.0, 1.1287128712871286, 1.0695343776028372, 1.0209646679372526, 1.1196754563894524, 1.25, 1.0135994348286825, 1.0174646249273116, 1.0072309655465759, 3.0, 1.0219123505976095, 1.0196014496129087, 1.1346282652377764, 1.717357910906298, 1.004306312923096, 1.0360624198375374, 1.0744479495268138, 1.2401536983669548, 2.0, 1.31144096516199, 1.1374837872892347, 1.1550571490187622, 1.1375266524520256, 1.1132596685082874, 1.008086511158528, 1.7215036797309593, 1.0399328909780687, 2.1746506986027945, 1.010317065368073, 1.880232908342536, 1.0465978413890193, 1.131315994614131, 1.530612244897959, 1.8, 1.1489207375688193, 1.155612244897959, 1.0044557289721951, 1.020360144276588, 1.5, 1.176753507014028, 1.3079847908745248, 1.0, 1.278688524590164, 1.0247848594303977, 1.2615384615384615, 1.0782433114588592, 1.0, 1.265625, 1.2824060999717595, 1.816890768998338, 1.3555555555555556, 2.0, 1.3333333333333333, 1.4906015037593985, 1.0297699594046008, 1.0674846625766872, 1.1713091922005572, 1.2509803921568627, 1.5426356589147288, 1.2642335766423358, 1.1673640167364017, 1.0983627391931392, 1.5696234627900096, 1.2937110301002013, 2.0, 1.0537471612414837, 1.2195945945945945, 1.082201323580634, 1.2196796338672768, 1.4834183673469388, 1.2618453865336658, 1.2794577685088635, 1.373269635257863, 1.0, 1.1408450704225352, 1.2, 1.0, 1.9821428571428572, 1.8035264483627205, 1.3473861720067453, 1.1449814126394051, 1.0297757153905647, 1.043898615103214, 1.0626387498367649, 1.0806861499364675, 1.0058863590679032, 1.0984239954555484, 1.0231257420789663, 1.119315141787052, 1.000216350450103, 1.271628880997906, 1.3326941514860977, 1.0484429065743945, 1.291311754684838, 3.8461538461538463, 1.19650832318311, 1.0384615384615385, 1.0415276509291533, 1.5521472392638036, 1.2820058997050148, 1.1252840909090909, 2.3333333333333335, 1.162162162162162, 1.0, 1.4402935290193462, 1.010959289500438, 1.0261349953962746, 1.2337662337662338, 1.0293695957431084, 1.6349206349206349, 1.0937625754527163, 1.3357209592027406, 1.1103752759381897, 1.908496732026144, 1.0188698621344767, 1.534685165421558, 1.0563443264393515, 1.1818181818181819, 1.2390037095919448, 1.020104407483369, 1.0804897787491257, 1.0833333333333333, 1.3962796833773088, 1.3018867924528301, 1.206905230550805, 1.1465753749843155, 2.175324675324675, 1.0, 1.2452806284049158, 1.0792337831954724, 1.6666666666666667, 1.3093091087213056, 1.5, 1.1232210412538282, 1.0149170335252287, 2.0, 1.0096622236496975, 1.2, 1.105263157894737, 1.0175837874620448, 1.1148340923877684, 1.1508215962441315, 1.000018666157841, 1.181159420289855, 1.1428571428571428, 1.8125, 1.3976945244956773, 1.079419525065963, 1.0363836824696802, 1.3042301980561968, 1.024338955268947, 1.0, 1.007879128966622, 1.349809885931559, 1.0, 1.031866184181375, 1.1681067151735638, 1.0375191424196017, 1.0069415882131783, 1.290523454292578, 1.4409937888198758, 1.75, 1.7016227180527383, 1.154893065456902, 1.0103537877273636, 1.2733812949640289, 1.0127841037560936, 1.0323652159100587, 1.0167597765363128, 1.0068697729988052, 1.2371967654986522, 1.0847502667285398, 1.0583468395461912, 1.2617142857142858, 1.010079575596817, 1.0103384726030475, 1.133938706015891, 1.2527521306818181, 1.8, 2.5, 1.533256880733945, 2.8224527150701646, 1.0356699751861043, 1.2395604395604396, 4.0, 1.1266666666666667, 1.0023489932885905, 1.0294117647058822, 1.0317234688996828, 3.0, 1.0467578076006523, 1.6491368252833443, 1.2803030303030303, 1.3, 1.0655090765588002, 1.1219512195121952, 1.0235690235690236, 1.325, 1.0, 1.1549069998218875, 1.276931161324225, 1.25, 5.333333333333333, 1.304, 1.5104166666666667, 1.114265603003285, 1.2577540106951872, 1.2640642939150402, 1.3974358974358974, 1.2583732057416268, 2.3564356435643563, 1.1591836734693877, 1.8421052631578947, 1.2380952380952381, 2.5, 1.2210469216164903, 1.1313131313131313, 1.7471748351342147, 1.0014009560910868, 1.008458348123377, 1.0458310514786417, 1.0218846921356959, 1.2040914036996735, 1.0445246690734056, 1.4285714285714286, 1.1935483870967742, 2.0, 1.3851992409867173, 1.0040038223802785, 1.1173570019723866, 2.2335766423357666, 1.5984251968503937, 1.1634546109510087, 1.3045147554143908, 1.0168959340646475, 1.0470588235294118, 1.0909090909090908, 1.1373056994818653, 1.1257160084413627, 1.0420889137852014, 1.038425286600469, 1.1637426900584795, 1.0852357866901718, 1.0212156359697973, 1.0584236512855516, 1.0186832740213523, 1.015221707478491, 1.7070063694267517, 1.1503697617091209, 1.6216666666666666, 1.007812610014448, 2.3333333333333335, 1.2551724137931035, 1.0166999539994293, 1.0015596880623876, 1.0207137673989048, 1.125, 1.4772209567198178, 1.0985010706638116, 1.6244441427068128, 1.260004573519323, 1.0334145564089119, 1.0217005358626194, 1.0026323286011518, 1.0334075723830736, 1.606837606837607, 1.0124589574056582, 1.1267605633802817, 1.2264150943396226, 1.0, 2.5, 1.009132243397504, 1.0, 1.0614054054054054, 1.0038794389734407, 1.44448, 1.0151732950007986, 1.0085359946343402, 1.178932326222313, 1.17921146953405, 1.0269005847953216, 1.0141233488690171, 1.118065126783016, 1.012607312704589, 1.2472116865071914, 3.0, 1.102803738317757, 1.0625285257873118, 1.0377215983583195, 1.1095505617977528, 1.2126514131897712, 1.062583222370173, 1.6666666666666667, 1.0266601103176978, 1.0531073446327683, 1.015796202471708, 2.5, 1.0025489794779243, 1.0089513728084685, 1.3198968074814577, 1.1726351351351352, 2.4615384615384617, 3.1, 1.0556466684465464, 1.0250938192340733, 1.0891196192948303, 1.00148679336597, 1.736842105263158, 1.0771591720199858, 1.3656286043829295, 1.3203125, 1.125, 1.2028218694885362, 1.4953145917001338, 1.1228219294517636, 1.036142700198937, 1.5381882770870337, 1.283051302712866, 1.001859400700851, 1.3846153846153846, 1.0288763339610798, 1.7293918918918918, 1.0108374384236454, 1.178173719376392, 1.1984905660377358, 1.068020304568528, 1.7143761623995886, 1.2126126126126127, 1.0133323454091627, 1.0, 1.2412587412587412, 1.0237276478679505, 1.0648839137645107, 2.0261762756792576, 1.0783298149148215, 1.1088776215968936, 1.1110395189003437, 1.182427401340283, 1.2223159315172472, 1.0864514775677163, 1.0543175487465182, 1.08675799086758, 1.090285110876452, 1.0453320376957207, 1.107843137254902, 2.3333333333333335, 1.007379219060225, 1.326659564306969, 1.0838293650793651, 1.2, 1.9505649717514124, 1.0986172022910825, 1.0116807268007788, 1.7136919510830468, 1.0833333333333333, 1.0541002277904328, 1.128440366972477, 1.4257907542579076, 1.1944444444444444, 1.007557280447206, 1.1050670640834575, 2.0776699029126213, 1.048780487804878, 1.5140562248995983, 1.1083603896103895, 1.219674065334415, 1.1375770020533882, 1.0227268560953253, 1.2117543473475676, 5.111111111111111, 4.0, 1.0777402221149204, 1.3, 2.0, 1.875, 1.2691914022517912, 1.005464480874317, 1.014470348154103, 1.0223429112724975, 1.1652542372881356, 1.0909090909090908, 1.55, 1.8235294117647058, 1.1898734177215189, 2.7777777777777777, 1.0575815738963532, 1.1960311594457935, 1.2115269804822044, 1.196969696969697, 1.022395515346617, 1.0183068624038978, 2.5, 1.0160936099934994, 1.0429832379747563, 3.0, 1.304101838755304, 1.0379541772737793, 1.0984863672814755, 1.0263660246838913, 1.6030150753768844, 1.0, 2.5294117647058822, 1.304, 1.0681818181818181, 1.1315618924173687, 1.1052273610571317, 1.0636586337551812, 1.0204232283464567, 1.6666666666666667, 1.009424433601641, 1.1043478260869566, 1.5354330708661417, 1.7858823529411765, 1.0045351473922903, 1.0, 1.71161110198719, 1.0262669028383808, 1.020816937487462, 1.7462399638131856, 2.3063063063063063, 1.1659794828681054, 1.2142459654980524, 1.4155251141552512, 1.38, 1.0426449287566948, 1.1848746684917444, 7.0, 1.036104092318112, 1.2560975609756098, 1.085987261146497, 1.0840466926070038, 2.2, 1.1389711823323458, 1.3677884615384615, 1.0103446269160488, 1.1770386266094421, 3.0, 1.066785079928952, 1.045406002577794, 1.6399686520376175, 1.071461361897475, 1.0171487672238348, 1.0112618724559024, 1.0407465991774756, 3.0413793103448277, 2.3975409836065573, 1.2349286477041064, 1.0136161488978748, 1.447390223695112, 1.2521929824561404, 2.5, 1.3294117647058823, 1.008370271213455, 1.03954802259887, 1.0004968635488478, 1.0319139306634943, 1.0584061135371179, 2.6666666666666665, 1.018756169792695, 1.0407917648263854, 1.1850036310820624, 1.398936170212766, 1.016201093597407, 1.0283505154639174, 1.2377049180327868, 1.118792212951927, 1.0062929554497797, 1.1975744022019612, 1.144014401440144, 1.0322234156820622, 1.391304347826087, 1.099582898852972, 1.0113673941798942, 1.0124091532974822, 1.3279535096944692, 1.0813953488372092, 1.1631046119235096, 1.5, 1.013986013986014, 2.5, 1.5, 1.2777777777777777, 1.041757659982794, 2.6666666666666665, 1.013801756587202, 1.0833333333333333, 2.142857142857143, 1.0253716817129241, 1.75, 1.4595744680851064, 1.0255555555555556, 1.017426578866939, 1.0, 1.2352941176470589, 1.2525906735751295, 2.125, 1.0279269602577874, 1.1041666666666667, 1.1535183018552566, 1.0535530316747732, 2.0, 1.0061919504643964, 1.0691099476439792, 1.022685943717254, 1.0230202943969269, 1.017258883248731, 1.1104240282685511, 1.0000622190421378, 1.0049007495263982, 1.4134831460674158, 1.1451612903225807, 1.3109947643979059, 1.5, 6.0, 1.0175543960178477, 2.5, 2.0, 18.0, 2.2047872340425534, 1.0231939372809513, 1.4256951102588686]
origin-bjaq_15.71 	max: 18.0000	99th: 5.0011	95th: 2.3585	median: 1.1466	mean: 1.3685

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.116964 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[1.7881393e-07 4.0209293e-04 1.1920929e-07 0.0000000e+00 0.0000000e+00]
Distance score: 8.047818846534938e-05
SAUCE Drift detection: True
Detection latency: 0.0402s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.4636 bits (loss 18.744, data 18.280) 0.00300 lr
epoch 10 train loss 12.3512 nats / 17.8190 bits
time since start: 4.5 secs
Epoch 10 Iter 0, train entropy gap -0.4802 bits (loss 17.800, data 18.280) 0.00256 lr
epoch 20 train loss 12.0775 nats / 17.4241 bits
time since start: 8.8 secs
Epoch 20 Iter 0, train entropy gap -0.9089 bits (loss 17.371, data 18.280) 0.00150 lr
epoch 30 train loss 11.9608 nats / 17.2558 bits
time since start: 13.2 secs
Epoch 30 Iter 0, train entropy gap -0.9934 bits (loss 17.287, data 18.280) 0.00044 lr
epoch 40 train loss 11.9397 nats / 17.2254 bits
time since start: 17.3 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 20.9253 nats / 30.1888 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.107043 | Model-update-time: 19.749616


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 12.0000	99th: 6.0100	95th: 2.3333	median: 1.1369	mean: 1.3976
ReportEsts: [1.1851851851851851, 1.2784832766946879, 1.005899053279277, 1.3846153846153846, 1.1, 1.0, 1.0656908665105387, 1.0093541003970175, 1.25, 1.236493374108053, 1.3114710668735572, 1.0115510627438713, 1.2963268675196038, 1.0923913043478262, 1.2148653034728985, 1.6511627906976745, 1.6557142857142857, 1.3333333333333333, 2.0, 1.0410821643286574, 1.3592942951656897, 1.1057836552886058, 1.381950774840474, 1.11611030478955, 1.005354366052678, 1.009258358133269, 2.0, 1.0289707449958545, 1.5, 1.0, 1.2845528455284554, 1.0, 1.0134381314229919, 1.019198022203995, 1.1839684625492772, 1.3039065492148603, 1.0608535445196061, 1.1370143149284253, 1.3056768558951966, 1.0375627488315735, 1.1122409823484267, 1.1837014340225904, 1.0470262793914247, 1.0275580324462181, 1.8775510204081634, 1.2627351002934244, 1.2777777777777777, 1.0523786641037962, 1.1366120218579234, 1.0222222222222221, 2.3125, 1.1090047393364928, 1.0777777777777777, 3.625, 1.023999641629243, 1.0601438735799362, 1.2454239514076992, 1.3818181818181818, 1.2268041237113403, 1.0997801329910948, 1.5, 1.2199944898061414, 1.197289156626506, 1.3031358885017421, 1.12987012987013, 2.239819004524887, 1.0611246252192115, 1.0573942988329825, 1.1844660194174756, 1.8181818181818181, 1.1353919239904988, 1.2698706099815158, 1.0693590869183494, 1.2358247422680413, 1.1213135068153655, 1.6482224516890396, 1.1199394774794567, 1.1870967741935483, 1.0452238380382093, 1.1034708578912902, 1.2790697674418605, 1.0174156082299386, 7.0, 1.0758378106760464, 1.0118577075098814, 1.4113475177304964, 1.2078212290502792, 1.24, 1.0021163144843324, 1.0272584558298845, 1.0, 1.0, 1.2110983981693364, 1.0285524925215397, 1.3717948717948718, 1.1670702179176755, 1.6189614899642393, 1.0715474209650582, 7.0, 1.2448882548739895, 1.2941176470588236, 6.0, 1.025839009673105, 1.2393380012730746, 1.0159574468085106, 1.0433954564004897, 2.0, 1.0408675084670889, 1.0739156994502137, 1.3778418730912794, 1.0359389038634321, 1.2340363210310485, 2.3333333333333335, 1.40045766590389, 1.1726324401718142, 1.015862758439801, 1.2913645352669743, 2.081081081081081, 1.0099927779468476, 2.0, 1.0763747454175152, 1.434850863422292, 1.5, 2.3461538461538463, 1.75, 1.035928143712575, 1.0003873897942828, 1.2562710869884113, 1.1297709923664123, 1.5, 1.0778238458090543, 1.725, 1.2081632653061225, 1.0138677937000595, 1.1789328593710326, 1.3333333333333333, 1.0281615302869287, 1.058474082702388, 1.0475113122171946, 1.6025641025641026, 1.0128865979381443, 1.2235415591120289, 1.0604558969276512, 1.029299905873973, 1.1975308641975309, 1.0969279661016949, 1.2348927728768728, 2.0, 1.010877192982456, 1.2482517482517483, 1.04985696771557, 1.0563014780548348, 1.0, 1.6684596799927063, 1.6086142322097379, 1.0943089430894308, 1.0674846625766872, 2.6666666666666665, 1.0416666666666667, 1.357262712482673, 1.371637083307564, 1.243498817966903, 1.0797720797720798, 1.9375, 2.2065217391304346, 1.0975, 1.111421403890756, 1.411764705882353, 2.326923076923077, 1.4372061786433847, 1.6856856856856857, 1.0, 1.0029212368406548, 1.1949685534591195, 1.08655606568459, 4.677966101694915, 1.0361040834036104, 1.0408805031446542, 1.0760135135135136, 1.3, 1.054177545691906, 1.0313209871789937, 1.060693558167066, 1.0750060536253034, 1.4988179669030732, 1.1954521556256572, 1.0290456431535269, 1.1477007549759781, 1.1842105263157894, 1.0103075716650693, 1.1092461293589928, 1.006409517061838, 1.0142857142857142, 1.1264720942140296, 1.0315829137121912, 1.3216995447647952, 1.6666666666666667, 1.010062893081761, 1.0, 1.0194642428998018, 1.0034862328105023, 1.1223802395209581, 1.2794441386901485, 1.42312212320047, 1.0713868502685935, 1.1444903143855192, 1.126953125, 1.2137433561123767, 1.236792638486438, 1.0038685797741285, 1.7020872865275143, 1.2167586552935274, 1.199924306935377, 1.7035175879396984, 2.055944055944056, 1.2567413596657804, 1.1, 1.012354504686083, 1.6420233463035019, 1.0445510374650242, 1.1457627118644067, 1.2281553398058251, 1.1390893947806775, 1.0403266862360676, 1.00700448145665, 1.5387840670859538, 1.0763888888888888, 1.0024739563927927, 1.0154036583688626, 1.1892583120204603, 1.630232558139535, 1.00602280060228, 1.0119798799452202, 2.9, 1.0008147975704218, 1.136738426222027, 1.1830985915492958, 1.615534935323634, 1.4278846153846154, 1.3251231527093597, 1.4189944134078212, 1.0, 1.0146681334800147, 1.127325641825174, 1.0030444126074498, 1.102880658436214, 1.1666666666666667, 2.0, 1.0697881380260665, 1.0317460317460319, 1.0784300294540723, 1.2, 1.0691421254801536, 1.202020202020202, 1.6, 1.009705910193026, 1.0340909090909092, 1.0114324142568931, 1.0332005312084993, 1.1746931067044382, 1.0837349543484052, 1.2302158273381294, 2.0, 1.0295742682735953, 1.3346153846153845, 1.0721649484536082, 1.007304191482189, 1.0836533300301416, 1.0164649748451773, 1.0005938242280286, 1.0435830262955128, 1.216789667896679, 1.1231690029925974, 1.1198537095088819, 1.567343780228284, 1.022944795370819, 1.065909090909091, 1.5476190476190477, 1.1363636363636365, 1.0809659090909092, 1.576805879189819, 1.0984771858844684, 1.95, 1.0171647839521807, 1.0672582905184493, 1.3540051679586564, 1.0925670242919912, 1.4752475247524752, 1.0919859819851132, 1.0293505462732744, 1.4, 1.026615969581749, 1.3924949290060853, 1.1069026031003217, 1.076191230850502, 1.2969967866395367, 1.6258096661684105, 1.0384420839656046, 1.3426244551502637, 1.1004410447246915, 1.0217384138703935, 1.0180471283763568, 1.2704663212435232, 1.0810810810810811, 1.2222222222222223, 1.0016618196925633, 1.093484419263456, 1.2808219178082192, 1.1727921593693407, 1.6, 2.75, 1.035864581370517, 6.0, 1.3190630048465266, 1.0304568527918783, 1.2277486910994764, 1.194225061622818, 1.0901585204755615, 1.047197640117994, 8.5, 4.0, 1.2587883320867614, 1.0769230769230769, 1.0053540894115454, 1.0489396411092986, 1.4157894736842105, 1.1336062737861838, 1.1348837209302325, 2.3333333333333335, 1.3480862735319785, 1.0817117735443063, 1.0071902654867257, 1.4963709677419355, 1.072, 1.1900674432863274, 1.4324324324324325, 1.3485915492957747, 1.1238095238095238, 1.0381854692273185, 1.0115660121032481, 1.025531914893617, 1.1442403623593265, 1.1285447263017356, 3.0, 2.0, 1.019686332826117, 1.2222222222222223, 1.0314871016691958, 1.434782608695652, 2.2464454976303316, 1.5714285714285714, 1.401253918495298, 1.0623376623376624, 3.1463414634146343, 1.1304498269896193, 1.1643835616438356, 2.0, 1.0326919964053876, 2.033333333333333, 1.7179487179487178, 1.0057203077623817, 1.2578616352201257, 1.0362517099863202, 1.027433628318584, 1.25, 1.3333333333333333, 1.5815435579053594, 1.3333333333333333, 2.094292803970223, 1.0004791153613968, 1.0442705422023477, 1.0223713646532437, 2.0, 1.065702546780866, 1.0973154362416107, 3.625, 1.1914893617021276, 1.1884846211552889, 7.0, 1.0794871794871794, 1.7413793103448276, 1.5524566303449903, 1.0205605245884248, 1.0033670033670035, 1.468777061483691, 1.0410766679423396, 1.1614349775784754, 1.22196261682243, 1.355460319417895, 1.4025974025974026, 3.125, 1.0082994879039378, 1.1030351326035595, 1.0280132694434205, 1.6059113300492611, 1.9696969696969697, 1.2045454545454546, 1.0, 1.2727272727272727, 1.7048705943555729, 1.1788990825688073, 1.1818181818181819, 1.0869565217391304, 1.1898734177215189, 1.6038040953436015, 1.0432207633853725, 1.3464858199753391, 1.063880429836536, 1.9111111111111112, 1.2435835351089588, 1.1538461538461537, 1.0, 1.0227713794858744, 1.0392156862745099, 1.2506659865102308, 1.0337935727456318, 1.2534088163208947, 1.000720634158059, 1.1, 1.1606367583212736, 1.5, 1.0069667738478028, 1.5714285714285714, 1.0656317956785268, 1.105263157894737, 1.018388160881276, 1.4836601307189543, 1.2307692307692308, 1.1165413533834587, 1.531208664021164, 1.0, 1.0313634351482956, 1.0010411901657028, 1.0419969303870655, 4.0, 1.0563009734280453, 1.1462113127001068, 1.912280701754386, 1.5, 1.1371788148925013, 1.0903908794788273, 1.0547071129707113, 1.7725752508361203, 1.032059020791415, 1.0260740595065432, 1.2678132678132679, 1.0358490566037737, 1.3157894736842106, 1.1129568106312293, 1.0348797832712495, 1.054054054054054, 1.9285714285714286, 1.7901234567901234, 1.3726937269372694, 1.319935691318328, 1.042562659511812, 1.182640144665461, 1.0, 3.257142857142857, 2.15, 1.1800707295509283, 1.25, 1.0, 1.0780473545746858, 1.0, 1.0, 1.0903339191564148, 1.290829694323144, 1.0376112546655183, 1.0292517006802722, 1.5475409836065575, 1.8, 2.2083333333333335, 1.1721311475409837, 1.0233479257869502, 1.3333333333333333, 1.1170212765957446, 1.0727272727272728, 1.5039370078740157, 1.159914712153518, 1.0136492370650398, 1.15, 1.0758196721311475, 1.575, 1.0004683109584764, 1.0072681226040348, 1.3612823674475956, 1.6666666666666667, 1.2027072192513368, 1.0150808821862747, 1.0695012264922321, 1.0909090909090908, 1.1487752161383284, 1.0883435224485027, 1.1625964010282777, 1.709480122324159, 1.0227102587035013, 1.0349760873581149, 1.4228228228228228, 1.0914137675795708, 2.0, 1.3082488167680866, 1.1592356687898089, 1.0651121865376154, 1.1600237953599049, 1.4513513513513514, 1.0105323473173697, 1.6309140975525216, 1.0178283773782053, 1.8310924369747898, 1.0089927283679705, 1.5661165901767407, 1.036920447902145, 1.1049592391304348, 1.2096774193548387, 1.5, 1.2425900722089902, 1.1454081632653061, 1.0329481612325506, 1.0065557192924837, 1.0, 1.0492192803801765, 1.3022598870056497, 1.6666666666666667, 2.2413793103448274, 1.0043394029273998, 1.9852507374631267, 1.1544004117344313, 1.0, 1.9318181818181819, 1.114103472714387, 1.4772048846675712, 1.1612903225806452, 2.0, 1.7142857142857142, 1.066147859922179, 1.2906976744186047, 1.2173913043478262, 1.4063545150501673, 1.59375, 1.1658291457286432, 1.1378737541528239, 1.0160642570281124, 1.0653552411222125, 1.5454930921168863, 1.1792380883207438, 2.0, 1.8990450204638472, 1.047945205479452, 1.0906532663316584, 1.2867383512544803, 1.075354609929078, 1.187793427230047, 1.2933467741935485, 1.278096452092628, 1.0, 1.5416666666666667, 1.5, 1.5, 1.6735632183908047, 2.0983537357534825, 1.0362953692115144, 1.1637010676156583, 1.0, 1.1432129514321294, 1.038680659670165, 1.0443194777616107, 1.0208419852728476, 1.101309039525709, 1.0323819249720174, 1.1379310344827587, 1.0575921429151736, 1.2540112953767968, 1.0208044382801664, 1.1736334405144695, 1.422138836772983, 1.7241379310344827, 1.1330257593233373, 1.1266375545851528, 1.0336864680976945, 1.116182572614108, 1.5514756348661634, 1.196282121377802, 1.875, 1.075, 1.0, 1.3962848297213621, 1.0206626581485656, 1.0674644184570754, 1.5784615384615384, 1.0209574513035027, 2.7681159420289854, 1.132126348228043, 1.0130533484676505, 1.5142857142857142, 1.5379746835443038, 1.0206990011147297, 1.3184979137691237, 1.05002503039405, 1.3164556962025316, 1.154732510288066, 1.0068547892944868, 1.0544573291479666, 1.0833333333333333, 1.0365387691268726, 1.032258064516129, 1.9523809523809523, 1.8611111111111112, 1.0364003315673767, 1.168914123491838, 1.68125, 1.456140350877193, 1.035023840485479, 2.0, 1.0454545454545454, 1.0054945054945055, 1.50625, 2.4, 2.0625, 1.1207112235575234, 1.031055900621118, 1.487495096116124, 1.0008834200978072, 1.446522566916788, 1.0308022922636104, 1.1011204218058563, 1.150139017608897, 1.0480542452830188, 1.25, 1.2743984544230431, 1.1551306300981203, 1.0, 1.6673346693386772, 1.5277240969228483, 1.0874125874125875, 1.001147268272296, 5.0, 1.2587601078167117, 1.0914212548015365, 3.0254237288135593, 1.1689189189189189, 1.2321117575128766, 1.089171974522293, 7.0, 1.8155439747796436, 1.2403100775193798, 1.0141356033220612, 1.0468640708789927, 1.0589594824296666, 1.146780391789296, 1.1592356687898089, 1.0223332353805465, 1.2409326424870466, 1.0637466190996019, 1.0383239652529381, 1.173219978746015, 1.2119669000636537, 1.0065667593843262, 1.737037037037037, 1.337146056630939, 1.2857142857142858, 2.5, 1.4127332601536773, 3.5944055944055946, 1.089308176100629, 1.1268191268191268, 12.0, 1.1053003533568904, 1.0331723027375201, 1.728395061728395, 1.0284281146153365, 3.0, 1.029247945341123, 1.605081440092773, 1.6267391445026855, 1.0344180225281603, 1.1110002494387627, 1.107024631825883, 1.1666666666666667, 1.3941368078175895, 1.6033613445378152, 1.0, 1.0165229012270685, 1.2222784810126581, 2.0, 9.5, 1.2900763358778626, 1.0827586206896551, 1.0315458822128267, 1.6666666666666667, 1.3176470588235294, 1.0468513853904282, 7.0, 1.0248962655601659, 1.1326633165829145, 1.0489795918367346, 1.3387755102040817, 1.5294117647058822, 2.0, 1.4224687278734953, 1.046176046176046, 1.5419411506368028, 1.0238175757282961, 1.012351349282469, 1.0560967944688875, 1.0355879927242326, 1.2183563815731524, 1.3148734177215189, 1.0666666666666667, 1.1, 1.5, 1.1198945981554678, 1.0210001388438932, 1.1584867075664622, 2.300751879699248, 1.1032608695652173, 1.0446109030378694, 1.1477750821484507, 1.0196471127918816, 1.5348837209302326, 1.0476190476190477, 1.0718954248366013, 1.0129548387096774, 1.0412875452499755, 1.034717702143742, 1.103448275862069, 1.2328778299000611, 1.0279802955665025, 1.0441927383070002, 1.4318471337579617, 1.0231276589669647, 1.0347490347490347, 1.0482187837351564, 1.031456953642384, 1.0087942463033035, 2.6666666666666665, 1.3122923588039868, 1.0225715346618207, 1.0323600732419458, 1.0380380999505197, 2.3333333333333335, 1.030511811023622, 1.2493638676844783, 1.0121419768010993, 1.0126389119256924, 1.0114089745447519, 1.0091643642808736, 1.003519157347674, 1.1910271546635183, 1.3010752688172043, 1.011657152855237, 1.5348360655737705, 1.0925925925925926, 1.0, 2.5, 1.0471068964187964, 1.5, 1.5019553222263888, 1.0299816776758368, 1.3899521531100478, 1.096938775510204, 2.515625, 1.0217312992703176, 1.2829746189053222, 1.078512396694215, 1.152, 1.054590570719603, 4.666666666666667, 1.0170863150454987, 1.1, 1.2090451026176723, 1.4285714285714286, 1.321475625823452, 1.0629508196721311, 1.0042808429212766, 1.4569536423841059, 1.6542553191489362, 1.0068565531680551, 1.1119255709049902, 1.0216776918537842, 1.0941649899396377, 1.0142516542098636, 1.0064731789233547, 1.1087294190742467, 1.1577235772357723, 1.46875, 3.4545454545454546, 1.0026411815812337, 1.0530307309908484, 1.103908484270734, 1.000323991214252, 8.25, 1.0232512827174125, 1.0921633554083885, 1.2991202346041055, 1.0345167652859961, 1.5664395229982964, 1.0149122807017543, 1.405005688282139, 1.006041413605292, 1.5575539568345325, 1.2880704851575782, 1.05039954862159, 1.8571428571428572, 1.0407450523864958, 1.717208990271721, 1.001169610760419, 1.1901709401709402, 1.3808695652173912, 1.1753424657534246, 1.5533677214562047, 1.2579439252336448, 1.0338501360943588, 1.46875, 1.2932604735883424, 1.078716236539734, 1.0264672036823936, 2.102064220183486, 1.1213444564791557, 1.1232792264033666, 1.0237482683554324, 1.0572065378900446, 1.2418263051594345, 1.0514332134153417, 1.09875, 1.0881057268722467, 1.2327746741154562, 1.0135435846866736, 1.3238095238095238, 1.75, 1.0084389863671794, 1.352470834971818, 1.236981465136805, 1.0723981900452488, 2.1229823212913144, 1.1130842513324337, 1.0591764949306848, 1.614128573695596, 1.625, 1.0426195426195426, 1.2959183673469388, 1.011764705882353, 3.909090909090909, 1.0324687261999597, 1.2437987243090007, 1.301639344262295, 1.4146341463414633, 1.6861924686192469, 1.0895966029723991, 1.1724410783925847, 1.3946731234866827, 1.0012693686289529, 1.0833018511522479, 4.883333333333334, 1.3333333333333333, 1.0807319698600646, 1.1153846153846154, 1.3333333333333333, 1.875, 1.1263467189030363, 1.0769230769230769, 1.1661016949152543, 1.0643054838137678, 1.0801576872536136, 1.0638297872340425, 1.3461538461538463, 1.1481481481481481, 1.2625, 1.2459016393442623, 1.0337579617834396, 1.1970199745738972, 1.1944670832201394, 1.5185185185185186, 1.0009393591483144, 1.0058752567323037, 5.0, 1.0720211093238872, 1.1429648782589958, 1.5, 1.475177304964539, 1.0287539936102237, 1.0144343739509902, 1.0130850574712644, 1.0562659846547315, 1.0, 2.2051282051282053, 1.2791411042944785, 1.1037735849056605, 1.0422268394035687, 1.0179619994693307, 1.0444797564720605, 1.1038120477015594, 1.25, 1.0183098906172048, 1.047248471372985, 1.3849431818181819, 1.516425755584757, 1.0956043956043957, 1.0, 1.6257189811010682, 1.0051314142678347, 1.0375930597428167, 1.6558137333775023, 1.5900621118012421, 1.0224431818181818, 1.066631962519521, 1.8, 1.173913043478261, 1.0850180626921264, 1.092557469084288, 5.666666666666667, 1.0130922535389602, 1.2413793103448276, 1.2521419828641371, 1.0269482884195194, 4.0, 1.0912144702842377, 1.3140243902439024, 1.0190784480064294, 1.0044247787610618, 3.0, 1.1556339156916173, 1.0733173922216752, 1.5729292929292928, 1.1184326386850603, 1.0837872532352635, 1.0232318017552917, 1.0257489405231623, 1.8451882845188285, 2.032258064516129, 1.0910884295394117, 1.0060917084649204, 1.0174603174603174, 1.6994047619047619, 2.5, 1.315217391304348, 1.0279092379279895, 1.0559895833333333, 1.0112089745966995, 1.0117551040296253, 1.065138092756644, 4.0, 1.0201535508637236, 1.0549934259418052, 1.0144927536231885, 1.0988593155893536, 1.0150911264900901, 1.125340599455041, 1.2047872340425532, 1.2600746268656717, 1.0017635177770858, 1.2349558597230097, 1.0718562874251496, 1.0792616720955484, 1.0625, 1.1287622962854207, 1.0048870813080713, 1.0518049853043459, 1.2874236314022844, 1.0938928126298297, 1.0743691899070384, 1.5, 1.2466887417218544, 2.5, 2.5, 1.125, 1.038959189486105, 8.0, 1.3459715639810426, 1.1470588235294117, 1.5, 1.026408393866021, 1.5, 1.6666666666666667, 1.086888657648283, 1.0351626894575952, 1.1428571428571428, 1.2, 1.4387718671902892, 1.0, 1.421, 1.2844798936523762, 1.0032857941834452, 1.010697230181471, 2.0, 1.0287925696594427, 1.0634689183155586, 1.039531966100827, 1.2583025830258303, 1.3687888198757765, 5.333333333333333, 1.625, 3.0, 1.719298245614035, 1.2, 1.0083217753120666, 1.05859375, 1.0269287331513575, 1.1173745173745173, 1.0479375696767002]
origin-bjaq_15.71 	max: 12.0000	99th: 6.0100	95th: 2.3333	median: 1.1369	mean: 1.3976

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.108720 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[1.1920929e-07 3.6650896e-04 3.5762787e-07 0.0000000e+00 0.0000000e+00]
Distance score: 7.339716103160754e-05
SAUCE Drift detection: True
Detection latency: 0.0417s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.6151 bits (loss 18.806, data 18.191) 0.00300 lr
epoch 10 train loss 12.3300 nats / 17.7885 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap -0.4387 bits (loss 17.752, data 18.191) 0.00256 lr
epoch 20 train loss 12.0442 nats / 17.3762 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.9493 bits (loss 17.242, data 18.191) 0.00150 lr
epoch 30 train loss 11.9242 nats / 17.2029 bits
time since start: 12.9 secs
Epoch 30 Iter 0, train entropy gap -1.0511 bits (loss 17.140, data 18.191) 0.00044 lr
epoch 40 train loss 11.8910 nats / 17.1551 bits
time since start: 17.1 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 20.8512 nats / 30.0819 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.122164 | Model-update-time: 19.611550


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 12.0000	99th: 4.7525	95th: 2.3333	median: 1.1313	mean: 1.3665
ReportEsts: [1.165432098765432, 1.121959516924647, 1.0076658289865479, 1.120956399437412, 1.2, 1.0, 1.0566186402521387, 1.0006313585658675, 1.0, 1.0434782608695652, 1.27974739641037, 1.0003960345849083, 1.0575803981623277, 1.3454157782515992, 1.2037724180581324, 1.6180081855388813, 1.390402075226978, 1.3333333333333333, 2.0, 2.795518207282913, 1.5153485397569815, 1.1746014520277384, 1.2701149425287357, 1.5010416666666666, 1.015222099309786, 1.0053601075962775, 2.0, 1.0214277581691904, 2.0, 1.6666666666666667, 1.3653846153846154, 1.0, 1.000371959233268, 1.0691301255272043, 1.4545454545454546, 1.0575802112395376, 1.2727272727272727, 1.6356589147286822, 1.9163987138263665, 1.9090909090909092, 1.013536684414764, 1.4482758620689655, 1.2667009249743062, 1.6697027804410354, 2.1715328467153285, 1.557690205509401, 1.139962525600244, 2.6323529411764706, 1.3037974683544304, 1.1152542372881356, 1.008241700670293, 1.0, 1.0659387895460797, 1.120274914089347, 1.0054389430329072, 2.0, 1.2371541501976284, 1.5027988146196904, 1.1987794245858763, 1.55, 1.471830985915493, 1.4, 1.0522565320665083, 1.2217923920051579, 1.2654185022026432, 1.0047022900763358, 1.1428571428571428, 1.9090909090909092, 1.0733, 1.0213235714694275, 1.32, 2.0, 1.115410273515677, 1.0499618029029794, 1.0191247974068072, 1.305084745762712, 1.0932760663507108, 1.5753770117855785, 1.1118470635497697, 2.5555555555555554, 1.0183944360012878, 1.0978445830969938, 1.1636363636363636, 1.0069470814898547, 7.0, 1.0330866611345406, 1.0, 1.0553049449891756, 1.1997276441216522, 1.6379310344827587, 1.2, 2.75, 1.0704473192398243, 1.0925754978240803, 1.8280143563876226, 1.2563904548613793, 1.0, 1.9937888198757765, 1.1112214498510427, 1.536375338452661, 1.3278350515463917, 1.1481481481481481, 1.1255349500713268, 2.3055555555555554, 3.5, 1.0031475223541373, 1.3446132596685083, 1.042948717948718, 1.0174395349457348, 1.2592592592592593, 1.0328153736027752, 1.0719890153001177, 1.5793465577596266, 1.2092866756393001, 1.1359854394175768, 2.1666666666666665, 1.4138613861386138, 1.0426275331935708, 1.019317982967802, 1.7106598984771573, 1.305084745762712, 1.0116560320850412, 2.0, 1.1099054952747638, 1.2345301757066462, 1.0, 1.94921875, 1.75, 1.215456674473068, 1.0067885840953172, 1.0439024390243903, 1.0132450331125828, 1.125, 1.0442052565707134, 1.6444444444444444, 1.03490990990991, 1.0406264731547326, 1.1680480520787893, 2.0, 1.087281795511222, 1.1023351391742948, 1.2391304347826086, 1.3333333333333333, 1.5149253731343284, 1.1551122194513717, 1.1786197564276049, 1.015409473796766, 1.6875, 1.0335249042145593, 1.1663567585981747, 2.0, 1.1716855690262027, 1.0042158516020236, 1.5346930438842203, 1.7115795552988737, 1.0657894736842106, 1.09138020195422, 2.4, 1.011667670078266, 1.0501580946748255, 1.1689401888772297, 1.224818248867348, 1.2736973323360758, 1.233414379993053, 1.0016708001566375, 1.5435684647302905, 1.0247488748115903, 1.0204572803850782, 1.2159090909090908, 1.129192546583851, 1.0598542259979726, 2.0, 1.6153846153846154, 1.4896260640694283, 1.3312252964426878, 1.1761006289308176, 1.018220702806062, 1.1613832853025936, 1.087969232435946, 1.6428571428571428, 1.019664445804418, 1.162300319488818, 1.2110266159695817, 1.1224489795918366, 1.0298388993414864, 1.0273347701149425, 1.062621278483118, 1.0855597509315187, 1.2196796338672768, 1.1411166437122577, 1.2149532710280373, 1.0374753451676528, 1.8289473684210527, 1.0178269828401567, 1.0761990138951143, 1.0240994179644487, 1.0694444444444444, 1.6781083142639206, 1.031830069528609, 1.426300578034682, 2.75, 1.0265459162893218, 1.75, 1.0505855378826046, 1.0022150696707384, 1.0202057310800883, 1.272584943602875, 1.4522150537634408, 1.042154734835435, 1.2940828402366864, 1.0249169435215948, 1.2957446808510638, 1.239521664854791, 1.0122108143619593, 1.1050080775444264, 1.228486646884273, 1.2483512156708338, 1.8526570048309179, 1.2857142857142858, 1.2872262773722627, 1.411764705882353, 1.0011705873255112, 1.0436893203883495, 1.0097679667113337, 1.232421875, 1.3977900552486189, 1.0998359503163815, 1.0105500816746955, 1.0055522590489108, 1.2046678635547576, 1.1313868613138687, 1.0200105694656707, 1.0018141518474357, 1.5724815724815724, 1.1838709677419355, 1.0147125747005725, 1.031887226263616, 2.6363636363636362, 1.0043124734534945, 1.1040726334499913, 1.0710382513661203, 1.4897377855278406, 1.0156537753222836, 1.115566037735849, 1.6601307189542485, 1.0, 1.0807346470250623, 1.0935472301020575, 1.181802515940031, 1.6144578313253013, 5.333333333333333, 1.0, 1.0395698313924966, 1.0909090909090908, 1.0765274993462912, 1.2, 1.016270337922403, 1.63013698630137, 2.6666666666666665, 1.0015606575570506, 1.3148558758314857, 1.0764371446620342, 1.0956238361266295, 1.1419624217118998, 1.1217611266835306, 1.0441640378548895, 2.0, 1.0350041393843608, 1.0356604430012757, 1.354515050167224, 1.000633987938766, 1.028467743451855, 1.0148993256719536, 1.143020594965675, 1.0210779185555425, 1.1344014241210503, 1.0831147083449624, 1.0762842796446503, 1.4946022255439295, 1.008344218341812, 1.6204690831556503, 1.144927536231884, 1.7857142857142858, 1.0926395939086295, 1.384934665641814, 1.033372584702671, 1.6785714285714286, 1.0114349366888957, 1.144578313253012, 1.271461716937355, 1.0592417611307858, 1.3732718894009217, 1.0230398285408109, 1.0036852356836774, 1.0, 1.0927230046948357, 1.3369036027263876, 1.0162412993039442, 1.0830732006034083, 1.2568744073786742, 1.4942332336608286, 1.1047823750671681, 1.3249943400498077, 1.035484065305139, 1.0125198098256736, 1.0325776754890679, 1.4685114503816794, 1.4, 1.5714285714285714, 1.0156841535965386, 1.0263698630136986, 1.3527508090614886, 1.0805798738586088, 2.25, 1.5083462910454588, 1.1136743522933976, 1.0, 1.330289193302892, 1.2453987730061349, 1.0599571734475375, 1.4990212792826925, 1.001747233546884, 1.38671875, 4.75, 5.0, 1.029311001141987, 1.0, 1.005550765554823, 1.0471544715447154, 1.3243243243243243, 1.093094066570188, 1.4125560538116593, 2.3333333333333335, 1.3407969250002332, 1.0175974014384894, 2.1626794258373208, 1.5172051567722427, 1.0127582017010937, 1.2070484581497798, 1.3015463917525774, 1.8774509803921569, 1.0327868852459017, 1.0012779616017118, 1.0059205681845174, 1.1150442477876106, 1.116154166725198, 1.0355397829553052, 3.0, 1.7777777777777777, 1.0014892962035427, 2.3333333333333335, 1.0344827586206897, 1.3333333333333333, 1.3934426229508197, 3.6666666666666665, 1.0236406619385343, 1.1624548736462095, 1.5357142857142858, 1.1703948648122933, 1.1216216216216217, 2.0, 1.1017121653856348, 1.6511627906976745, 1.1147540983606556, 1.022031555155691, 1.0660660660660661, 1.1732233502538072, 1.2406815761448349, 1.2222222222222223, 1.0, 1.5199140684625605, 1.2222222222222223, 1.8923766816143497, 1.0339062217011257, 1.0743402703282556, 1.1953727506426735, 2.0, 1.0581924544470047, 1.4233128834355828, 2.0163934426229506, 1.109375, 1.0963963963963963, 7.0, 1.1607142857142858, 1.6833333333333333, 1.364390665514261, 1.0037617474911058, 1.080970384373031, 1.390128403606229, 1.0479556969482737, 1.0581020012911555, 1.1205357142857142, 1.1828503780235156, 1.0574712643678161, 3.375, 1.0177688517122863, 1.0968873128447596, 1.0309103260869565, 1.197674418604651, 1.6136363636363635, 1.3454433497536946, 1.0, 2.0, 1.612154557260756, 1.0206422018348624, 1.8369565217391304, 1.0535966149506346, 1.0344440284537626, 1.508989160806952, 1.1000600129258609, 1.248, 1.016909594820525, 2.4571428571428573, 1.047637641546271, 1.1269035532994924, 1.0, 1.0106729337095555, 1.1868131868131868, 1.260129636503812, 1.0416911548633558, 1.3728205608059636, 1.0509461426491995, 2.2, 1.1115281501340482, 2.0, 1.0720673329826407, 1.1, 1.0232494653987898, 1.1, 1.0082916829813207, 1.762962962962963, 1.3333333333333333, 1.4972972972972973, 1.5141527861632986, 1.0, 1.0963896457765667, 1.007783837382251, 1.0196766439205955, 2.0, 1.05, 1.1051556916794283, 1.5616438356164384, 2.111111111111111, 1.0555555555555556, 1.1687539871738912, 1.0566955029670408, 1.0, 1.0321788575859394, 1.0072244010098284, 1.019718309859155, 1.2926829268292683, 2.356164383561644, 1.1622904144258146, 1.0505263157894738, 1.0393700787401574, 3.0, 1.0508395035978726, 1.0302070645554202, 1.0353035771050318, 1.0246852674085036, 1.0074106364428945, 1.0, 1.3571428571428572, 4.6, 1.1401791233593537, 1.2083333333333333, 1.0, 1.1262013328656613, 1.5, 1.0, 1.0780452224653538, 1.717179294823706, 1.106887052341598, 1.1106894370651486, 2.1180555555555554, 1.5, 2.0123456790123457, 1.063397129186603, 1.121999559568377, 1.5, 1.574468085106383, 1.1111111111111112, 1.0816326530612246, 1.0690690690690692, 1.0108786677779178, 1.037593984962406, 1.0343769183548188, 1.5396825396825398, 1.1569272156628307, 1.0302177798371617, 1.812807881773399, 1.25, 1.1530808729139923, 1.0182116309575864, 1.028698464025869, 1.0, 1.0545289306270826, 1.0205447055889512, 1.0425925925925925, 1.1091269841269842, 1.0127160617314623, 1.0299264669594828, 1.1480206540447504, 1.003903477643719, 2.0, 1.2243877744732012, 1.2513297872340425, 1.1466217554983158, 1.0944609297725025, 1.2612137203166227, 1.0068116863945848, 1.5356826736154197, 1.0140523176418146, 1.113438937148697, 1.305921052631579, 1.7142857142857142, 1.0072259164928374, 1.015759312320917, 1.829268292682927, 4.2631578947368425, 1.0811999957386516, 1.1505102040816326, 1.0125624130776771, 1.000706827707646, 1.0, 1.2483660130718954, 1.6191780821917807, 1.3361921097770155, 1.0027007466770226, 1.0715344150551975, 1.4807140737810305, 1.112236736870168, 1.0035930475415058, 1.18944099378882, 1.0015759235872717, 1.103356890459364, 1.0641754670999188, 1.022951392444715, 1.2114583333333333, 1.086652078774617, 1.3044692737430168, 1.1724915445321307, 2.1818181818181817, 1.2753164556962024, 1.1219691403379868, 1.1837837837837837, 1.0714840714840714, 1.0024443079310679, 1.3504273504273505, 1.3180240699774723, 1.0, 1.014367816091954, 1.4367088607594938, 1.0570469798657718, 1.267391304347826, 1.4465558194774346, 1.5489297813366185, 1.2616707616707616, 1.3064263444446167, 1.0, 1.054759898904802, 1.2, 3.0, 1.1050328227571116, 1.6828737300435415, 1.2263610315186246, 1.075085324232082, 1.0326086956521738, 1.0327980735799736, 1.3846153846153846, 1.0491606714628297, 1.1415094339622642, 1.0863157894736841, 1.3277595417390744, 1.6382978723404256, 1.1643554185927067, 1.0355125591080647, 1.293726957778313, 1.037020517395183, 1.069937369519833, 1.2847457627118644, 1.0266666666666666, 1.2795558863664558, 1.6073517126148704, 1.0438512050056727, 1.716867469879518, 1.153960817717206, 1.1336722488038278, 2.2857142857142856, 1.4333333333333333, 1.0, 1.0897317298797409, 1.0002064945485438, 1.0162527332658855, 1.4140022050716647, 1.0260716766785174, 1.5066666666666666, 1.143050597070048, 1.0016210958608018, 1.05893536121673, 2.1790123456790123, 1.0199759868714249, 1.1138652207591015, 1.1268995392972565, 1.2211538461538463, 1.3868131868131868, 1.012581258228276, 1.0733444597991495, 1.625, 1.038057285603827, 1.0375426621160408, 1.4193548387096775, 1.3958333333333333, 1.0161153519932147, 1.1240174672489083, 1.1645021645021645, 1.45, 1.0910810097633916, 2.0, 1.058695652173913, 1.4532019704433496, 1.2565172054223148, 1.1818181818181819, 1.5, 1.1381170187452079, 1.3306451612903225, 1.4400454392460451, 1.0093678944974989, 1.383295755318106, 1.1172360248447204, 1.0601759122180614, 1.0196695515342251, 1.0251483469906753, 1.0772442588726514, 1.169897377423033, 1.0453998280309544, 1.275817440355547, 1.0393280612399882, 1.0, 1.0086043223591195, 1.5774647887323943, 2.0, 1.0289856307634615, 1.2406353976601912, 1.0752032520325203, 1.0019259051754326, 1.304293655357485, 1.2793296089385475, 2.3333333333333335, 1.80135776575781, 1.0716004813477737, 1.0497233502226693, 1.1367995961635537, 1.0255175774335823, 1.0600418957842368, 1.625, 1.0008326394671108, 1.3591022443890275, 1.0782470998505445, 1.0213776722090262, 1.083415112855741, 1.134008338296605, 1.0200765898030841, 1.0924092409240924, 1.2237914967967385, 1.6363636363636365, 2.5, 1.4575916230366492, 2.2665360117589417, 1.1766250820748523, 1.215311004784689, 12.0, 1.0527027027027027, 1.128817128817129, 1.3285714285714285, 1.020628938402629, 2.0, 1.0365339524354042, 1.4661071951458802, 1.5255025905775272, 1.1567567567567567, 1.1566416040100251, 1.023975, 1.2325581395348837, 1.028391167192429, 1.148014440433213, 1.0, 1.001723174366617, 1.3193154034229828, 1.75, 3.142857142857143, 1.5511363636363635, 1.0820895522388059, 1.0062614741338993, 3.1666666666666665, 1.459016393442623, 1.0133456051541647, 8.0, 1.009009009009009, 1.0892018779342723, 1.7253521126760563, 1.1918367346938776, 1.2380952380952381, 1.0, 1.3611516795326517, 1.386, 1.5403075695798618, 1.003728390985832, 1.0053899659739578, 1.0002419549963706, 1.0216523132929447, 1.300183296517366, 1.1021220159151193, 1.9047619047619047, 1.0909090909090908, 1.5, 1.3177257525083612, 1.0170920821778255, 1.1814389989572471, 1.3721973094170403, 1.0763546798029557, 1.1162053502396783, 1.33682666857429, 1.0257153632206666, 1.9885057471264367, 1.375, 1.1192468619246863, 1.0588204262502638, 1.5383007165840237, 1.0079242910951953, 2.3658536585365852, 1.005099697041943, 1.0467385138967669, 1.2389594716460666, 1.2637540453074434, 1.0387051372273046, 1.8, 1.24209614551754, 1.3674418604651162, 1.0026657487518862, 4.5, 1.0512820512820513, 1.0273558379968784, 1.0131888402121283, 1.0240663900414937, 1.8888888888888888, 1.124456048738033, 1.0300601202404809, 1.026902603941879, 1.027901906180515, 1.0066296196983846, 1.0165940572219243, 1.0038449758981598, 1.1041713641488162, 1.6578947368421053, 1.0086576482830385, 1.0990990990990992, 1.5384615384615385, 1.0, 2.5, 1.0042840636387877, 1.2, 1.2539989368385445, 1.0337378468066938, 1.1585244267198405, 1.3045685279187818, 1.1838235294117647, 1.0189882597519802, 1.2368675357826602, 1.1430317848410758, 1.028169014084507, 1.1746478873239437, 8.0, 1.0440450396050154, 1.5333333333333334, 1.2457106679328902, 1.4285714285714286, 1.150506512301013, 1.0661523971834777, 1.0157473734479465, 1.1827956989247312, 1.8471017800091283, 1.0043197269127138, 1.1969123215846198, 1.038870720702074, 1.1472081218274113, 1.0786948176583493, 1.0347826086956522, 1.074867504497, 8.5, 2.4444444444444446, 1.163620539599652, 1.0627756404241344, 1.0309155766944114, 1.0100596994441775, 1.1829427083333333, 1.000096652183158, 2.0606060606060606, 1.01671826625387, 1.1925925925925926, 1.0741599073001158, 1.142263759086189, 1.0798580301685892, 1.1737677527151211, 1.060369609856263, 1.0159184042634608, 1.405844155844156, 1.2573357999067516, 1.0170875957157797, 1.0833333333333333, 1.0962715637173066, 1.3075351213282247, 1.073061630218688, 1.1762295081967213, 1.0982019363762103, 1.02710027100271, 1.5011075140569092, 1.9620991253644315, 1.0177255864987722, 1.3333333333333333, 1.9667590027700832, 1.0421894468430355, 1.2643051771117166, 1.8965952080706179, 1.0746302690729037, 1.070931490327089, 1.200232018561485, 1.290086493679308, 1.2245880861850444, 1.0280802164144067, 1.0783847980997625, 1.44140625, 1.0767004341534008, 1.0477407857701981, 1.6296296296296295, 1.75, 1.0197014064846985, 1.3125795078690075, 1.0566439522998297, 1.2666666666666666, 1.9450704225352113, 1.0983858177074006, 1.039833531510107, 1.5209149482686872, 1.4444444444444444, 1.0355533299949924, 1.1241379310344828, 1.0267857142857142, 1.303030303030303, 1.0159267078011525, 1.0411883862255233, 1.6490727532097005, 1.4137931034482758, 1.4844290657439447, 1.0588455772113943, 1.186758396986502, 1.1475095785440612, 1.0219458698890913, 1.0026881720430108, 4.4, 1.3333333333333333, 1.0392156862745099, 1.8571428571428572, 4.0, 5.0, 1.1521035598705502, 2.2857142857142856, 1.021172638436482, 1.0471020401823505, 1.0783552295222285, 1.1123595505617978, 2.4375, 1.7222222222222223, 1.0253164556962024, 1.4415584415584415, 1.0725190839694656, 1.2004581673306773, 1.298277559055118, 1.1241830065359477, 1.011554663991976, 1.0073548189386587, 2.5, 1.0149560877596655, 1.201142857142857, 1.1666666666666667, 1.0870302345295282, 1.0236750969729327, 1.1028464017185822, 1.012086086864332, 1.0331902718168813, 1.1111111111111112, 1.1018867924528302, 1.0940973965430683, 2.6666666666666665, 1.004055346327757, 1.279296875, 1.0048451124758253, 1.2919416464050018, 1.014751484008151, 1.25, 1.0022423020650149, 1.263316582914573, 1.7379679144385027, 1.4960496613995484, 1.0575692963752665, 1.0, 1.5982604607428303, 1.093044579312754, 1.0173441734417343, 1.5384677944046845, 1.4301675977653632, 1.2960077896786757, 1.611544461778471, 1.1203703703703705, 2.0, 1.0085761246146712, 1.0846430910281597, 1.000139380821199, 1.009009811223003, 2.3857142857142857, 1.0980392156862746, 1.192, 1.0666666666666667, 1.2242921013412817, 1.1056179775280899, 1.0184601791546661, 1.1174205967276227, 3.0, 1.0992578849721706, 1.0032983306408185, 1.3976245346569758, 1.1863809389538982, 1.0164635647464304, 1.0413533834586466, 1.3945578231292517, 1.1666666666666667, 2.1878980891719744, 1.2194210122699387, 1.0100037551633496, 1.024300441826215, 1.2467248908296944, 1.6666666666666667, 1.1111111111111112, 1.0234929814107512, 1.0287141073657928, 1.0598594182307635, 1.0172332895018856, 1.124251497005988, 2.6666666666666665, 1.1431556948798327, 1.0372276938316511, 1.1535638400618118, 1.1793721973094171, 1.0056959214067358, 1.0439024390243903, 1.2309782608695652, 1.0929577464788733, 1.0098515773384582, 1.0485362684399602, 1.0546047269763652, 1.131201764057332, 1.032258064516129, 1.0772029102667744, 1.0313203372372486, 1.0295284672879947, 1.2766348193008155, 1.0352898811667266, 1.138149556400507, 1.125, 1.1904761904761905, 2.5, 2.5, 1.8, 1.0211474446837674, 1.375, 1.3612684031710078, 1.6956521739130435, 1.875, 1.0688349514563107, 1.5, 2.7593984962406015, 1.0362882322446865, 1.0072334029313237, 1.1428571428571428, 1.4615384615384615, 1.1398639455782313, 1.0, 1.0558943089430894, 1.1645005569996287, 1.0181854784592672, 1.029961861523595, 2.0, 1.466182478438493, 1.0679087436242183, 1.0196297600636972, 1.3665594855305465, 1.081017149615612, 8.5, 2.0, 2.6]
origin-bjaq_15.71 	max: 12.0000	99th: 4.7525	95th: 2.3333	median: 1.1313	mean: 1.3665

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.252737 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=250.911520