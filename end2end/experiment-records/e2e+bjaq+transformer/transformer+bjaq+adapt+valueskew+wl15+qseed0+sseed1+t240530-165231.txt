Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 1, 'transformer': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.6675	95th: 1.7500	median: 1.0849	mean: 1.1759
ReportEsts: [1.0158730158730158, 1.0104166666666667, 1.0329919129667404, 1.0256410256410255, 1.5, 1.0, 1.021039928642636, 1.0694463705878696, 1.0, 1.016971279373368, 1.1394107292297926, 1.0429624619546838, 1.0568131380381713, 1.1767441860465115, 1.0303779583186152, 1.0, 1.139240506329114, 1.0233793836344314, 3.0, 2.0, 1.4210526315789473, 1.091778112638915, 1.0806298322673449, 1.1391661773341162, 1.1208682782437098, 1.0, 1.1668427379694728, 1.5, 1.2, 1.014388489208633, 1.0, 1.0496742526450331, 1.0010211111657892, 1.1054384017758048, 1.015662291169451, 1.2465504873623359, 1.160427807486631, 1.0037730146582107, 1.1254562986431573, 1.0595238095238095, 1.0455764075067024, 1.0061349693251533, 1.0, 1.0473481533345002, 1.08556597454789, 1.8615384615384616, 1.0957446808510638, 1.2897526501766785, 1.0362878633868673, 1.0925925925925926, 1.1171483933473276, 1.254295532646048, 1.0383764927243635, 2.0, 1.1844155844155844, 1.2922379970068358, 1.1987794245858763, 1.3658536585365855, 1.0320512820512822, 1.25, 1.1412213740458015, 1.1002490660024906, 1.1409090909090909, 1.0481927710843373, 1.0, 1.0223283793347488, 1.3320261437908496, 1.75, 1.0, 1.035983965694043, 1.006002400960384, 1.0658508158508158, 1.0373831775700935, 1.0453003659734, 1.0988235294117648, 1.062992125984252, 1.0, 1.113152400835073, 2.6666666666666665, 1.0137593618181295, 1.59375, 1.0319860424542018, 1.1411042944785277, 1.080545229244114, 1.1231599607458291, 1.0, 1.0738149130181724, 1.0108205164552178, 1.0980392156862746, 1.75, 1.15968992248062, 1.0456911611601603, 1.1246105919003115, 1.0280504908835906, 1.0027397260273974, 1.0026041666666667, 1.0384615384615385, 1.1258405379442844, 1.0, 1.253579418344519, 1.0049196932426567, 1.0591766723842195, 1.2214033272993707, 1.36, 1.0208337915929524, 1.099017786036634, 1.1683211048769961, 1.1255214258627229, 1.0505824647455548, 1.3333333333333333, 2.0, 1.0822429906542057, 1.059229186965465, 1.0593809222994315, 1.103896103896104, 1.0602096383266706, 2.0, 1.120466729738253, 1.1358695652173914, 1.0, 1.032967032967033, 1.0, 1.1954887218045114, 1.0177392140979884, 1.0904713830861226, 1.1546391752577319, 1.8, 1.1432119205298013, 1.0, 1.0357142857142858, 1.0939158172393697, 1.1818181818181819, 1.08203125, 1.0372487078196537, 1.0794724382820426, 1.020026702269693, 1.0252808988764044, 1.0272798129384255, 1.039972432804962, 1.0737355271176112, 1.018470968276319, 1.255813953488372, 1.0072273324572931, 1.0831923671368244, 2.0, 1.0173199635369188, 1.0011441647597255, 1.088453747467927, 1.0799364743250397, 1.5, 1.2513925890046016, 1.005925925925926, 1.0245901639344261, 1.1074561403508771, 1.1051094890510949, 1.0842886041807147, 1.1108038131105096, 1.0605901200325187, 1.1191489361702127, 1.1611842105263157, 1.2653061224489797, 1.422680412371134, 1.0, 1.4285714285714286, 1.0484014063680873, 1.0395199353407194, 1.112035851472471, 1.3372481619402272, 1.1313061506565307, 1.060162730910922, 1.2778947368421052, 1.1121495327102804, 1.054129950614893, 1.0222446916076846, 1.0465918895599655, 1.0427599611273082, 1.035759096612296, 1.0708596083637572, 1.012943304238421, 1.0, 1.2, 1.0111301369863013, 1.0283094098883572, 1.174196350999131, 1.131578947368421, 1.090107749587001, 1.3188545070151836, 1.0870289808021125, 1.1372549019607843, 1.0231818181818182, 1.0605655214350866, 1.0, 1.1818181818181819, 1.0673096323796456, 1.0011363636363637, 1.0338417540514775, 1.25, 1.0456591639871382, 1.0439529948565645, 1.0396944501407506, 1.0626410835214446, 1.0570254031833035, 1.2123287671232876, 1.0666666666666667, 1.2537313432835822, 1.0, 1.4545454545454546, 1.1082636808074435, 1.3693379790940767, 1.1724137931034482, 1.0143351458230352, 1.0031277926720286, 1.0059111432805983, 1.074603262678948, 1.1478306247204413, 1.1139240506329113, 1.096820809248555, 1.0098167539267016, 1.055876270894365, 1.0117941759732805, 1.0, 1.065424430641822, 1.0887479565911016, 1.0083681360696695, 1.1532307692307693, 1.005133684265388, 1.2777087273709808, 1.0357142857142858, 1.0047587763627788, 1.189272821041774, 1.0102564102564102, 1.0971428571428572, 1.0478156922408173, 1.0263056092843328, 1.1755905511811024, 2.0, 1.2855407047387606, 1.0889906208128628, 1.1216596343178622, 1.089430894308943, 1.0, 1.6666666666666667, 1.0765902815638135, 1.1272727272727272, 1.1303937921531655, 1.5, 1.0, 1.025, 1.0765027322404372, 1.0769230769230769, 1.0331491712707181, 1.0717299578059072, 1.0631399317406143, 1.000419991600168, 1.078260196279592, 1.0526315789473684, 2.0, 1.0399625768511094, 1.0182351708237267, 1.1523642732049038, 1.0076300771369442, 1.0626400021590694, 1.0448461999828635, 1.0834658187599364, 1.1009629773075367, 1.0316985645933014, 1.000556250869142, 1.1060853029068187, 1.0909090909090908, 1.0301950301950302, 1.205655526992288, 1.2272727272727273, 1.25, 1.0299625468164795, 1.0, 1.0341880341880343, 1.10008747728955, 1.15041782729805, 1.318295739348371, 1.0229576340833026, 1.1224105461393596, 1.019500023571087, 1.0674562044415747, 1.1111111111111112, 1.0682611858857767, 2.5, 1.013517657056252, 1.0280777537796977, 1.037385644713486, 1.0810810810810811, 1.6666666666666667, 1.391304347826087, 1.0441176470588236, 1.0941844462026369, 1.0, 1.018348623853211, 1.0294117647058822, 1.0060096153846154, 1.0160076204637332, 1.1666666666666667, 1.1257861635220126, 1.0035244691323302, 1.1355414913097954, 1.106509137572459, 1.1282051282051282, 1.0, 1.1145584725536992, 1.26875, 1.0955631399317407, 1.113647851727043, 1.0212947189097104, 1.1305732484076434, 1.2291666666666667, 1.0055172413793103, 1.0319488817891374, 1.2857142857142858, 1.0055526661975709, 1.038022813688213, 1.0, 1.1022055604203151, 1.2857142857142858, 1.4, 1.0166360235846066, 2.0, 1.1563786008230452, 1.0479651162790697, 1.0795734208367513, 1.1113913408995377, 1.0323450134770888, 1.1818181818181819, 1.1114057278913405, 1.0777488376621795, 1.0440967283072546, 1.0064286007133778, 1.0627726432532347, 2.0, 1.0, 1.054880138942846, 1.25, 1.0691578360290017, 1.3529411764705883, 1.0, 1.4666666666666666, 1.357429718875502, 1.058933582787652, 1.131578947368421, 1.003257328990228, 1.0, 1.2117177097203728, 1.0795839927650916, 2.0, 1.2549136390708755, 1.0, 1.0940560236848098, 1.072289156626506, 1.0196109907162159, 1.1428571428571428, 1.1363636363636365, 1.2191069574247144, 1.1666666666666667, 1.0085780588527495, 1.0080203310560747, 1.0743919885550788, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.3333333333333333, 1.0696281558726675, 1.3333333333333333, 1.0434027777777777, 1.2469135802469136, 1.1832164058283865, 1.087917549504303, 1.2687950566426365, 1.0022198082463516, 1.0127610208816706, 1.075, 1.5, 1.2403100775193798, 1.1531914893617021, 1.0458620199435407, 1.1428571428571428, 1.5714285714285714, 1.0393518518518519, 1.0250297973778308, 1.0541234897020253, 1.0, 1.1464387464387464, 1.0196990424076608, 1.0526315789473684, 1.0907770515613653, 1.0656779661016949, 1.2115384615384615, 1.0254957507082152, 1.1826923076923077, 1.0524200484791617, 1.06862385534734, 1.0112393301459361, 1.0, 1.1935483870967742, 1.1118012422360248, 1.0, 1.0220750551876379, 1.0430575222421117, 1.0522133130900981, 1.0619110429812366, 1.0301418439716312, 1.1493485859548778, 1.5714285714285714, 1.2435512897420515, 1.2, 1.2450896669513236, 1.25, 1.0396213520398077, 1.0147058823529411, 1.0679277730008598, 1.1106719367588933, 1.0323115161557581, 3.0, 1.2491767288693743, 1.0152250349452268, 1.156198271105389, 2.0, 1.1111111111111112, 1.2571976967370442, 1.380952380952381, 1.106642995747492, 1.0436590436590436, 1.1666666666666667, 1.1432269197584124, 1.0200761913665366, 1.0020009350163628, 1.1013783343672456, 1.1776315789473684, 1.0049751243781095, 1.1515151515151516, 2.142857142857143, 1.0853994490358128, 1.5, 1.2237061769616027, 1.0606060606060606, 1.0925930208357422, 1.4705882352941178, 1.0829376765430614, 1.0929900840365017, 1.0635410240592227, 1.0, 1.175257731958763, 1.12, 1.2845004248513021, 1.4026258205689277, 1.0, 1.121475054229935, 1.1098696947375968, 1.0571902196435972, 1.5, 2.0, 1.0027184466019416, 1.012704174228675, 1.0295081967213116, 1.1111111111111112, 1.0610902091171581, 1.126595744680851, 1.4705882352941178, 1.0470809792843692, 1.0454545454545454, 1.1509186351706038, 1.0612903225806452, 1.3420277660917121, 1.0028206309002994, 1.0, 1.0422535211267605, 1.0897176878654056, 1.0256951163417767, 1.0268305727529092, 1.0, 1.088254810882548, 1.0076534883950001, 1.0214772132006287, 2.0, 1.0434609250398723, 1.0652323817404497, 1.0404962475111044, 1.0310602420165131, 1.0043145800489977, 1.0435915659796258, 1.0067681895093064, 1.0964320154291225, 2.0, 1.0322497286681482, 1.5416666666666667, 1.25, 1.160621761658031, 1.1538461538461537, 1.013715700330077, 1.0969245107176142, 1.0651509069709655, 1.0472693896282699, 1.0883295810493343, 1.0821046936291085, 1.0484240091542703, 1.1704545454545454, 4.0, 1.001478814067939, 1.1927125506072875, 1.0469580993827856, 1.0528529363808135, 1.1040081177067478, 1.0847810979847117, 2.4022988505747125, 2.2857142857142856, 1.01261138433072, 1.045023564671933, 1.0390742785806886, 1.1436609152288073, 1.0920266101041265, 1.0997732426303855, 1.0673735159533397, 1.02319309600863, 1.215170278637771, 3.0, 1.0, 1.0107361963190185, 1.0886319845857417, 1.1203007518796992, 1.1273458445040214, 1.0372549019607844, 1.4420289855072463, 1.148905109489051, 1.1304347826086956, 1.0588977083222846, 1.1770833333333333, 1.0046564153336839, 2.0, 1.1609674728940784, 1.12, 1.146341463414634, 1.0997206703910614, 1.1200980392156863, 1.065217391304348, 1.08041504539559, 1.0690902628806438, 1.0, 1.1702127659574468, 1.2, 1.0, 1.1363636363636365, 1.0786290322580645, 1.001543209876543, 1.0970873786407767, 1.0668055110541492, 1.0081206496519721, 1.0725676072898296, 1.1686351327994469, 1.0426687354538402, 1.113477627246721, 1.0756756756756756, 1.0959792477302206, 1.0212868892114175, 1.0887031544890806, 1.1401734104046244, 1.1233333333333333, 1.039477018192875, 1.2336653914624447, 1.077307115795437, 2.0, 1.113022113022113, 1.0484496124031009, 1.3944954128440368, 1.0, 1.108695652173913, 1.25, 1.1414141414141414, 1.3703703703703705, 1.1666666666666667, 1.000181284217396, 1.1284694368682817, 1.0297537442768825, 1.0461939355653822, 1.2378378378378379, 1.1383125864453665, 2.0, 1.1666666666666667, 1.005241740809711, 1.061518846123197, 1.0837405925295787, 1.093803394464062, 1.0307777368227056, 1.2051948051948052, 1.0937659110812408, 1.1154529307282415, 1.0340269524855932, 1.1168226058472486, 1.303030303030303, 1.0590094836670179, 1.0, 1.2422535211267605, 1.206206924844109, 3.0, 1.1327944572748267, 1.0968804816763855, 1.4285714285714286, 1.0322004908157953, 1.3, 1.0555555555555556, 1.045817470780808, 1.6153846153846154, 1.0297064404239633, 1.0435711234515164, 1.3571428571428572, 1.1153846153846154, 1.1237113402061856, 1.0296508847441415, 1.021412803532009, 1.0529387509119168, 1.156088408914108, 1.0, 1.0753856180751684, 1.103658536585366, 2.0, 1.0206930646452281, 1.1201747556016957, 1.128666035950804, 1.0210926804419116, 1.0110948760494316, 1.1414141414141414, 1.8571428571428572, 1.0609362389023407, 1.0475806451612903, 1.085198445692566, 1.2142567841231269, 1.023710585618037, 1.0313740787695564, 1.401098901098901, 1.0909090909090908, 1.1672240802675586, 1.0891969847541023, 1.0353312302839117, 1.1062124248496994, 1.039390756302521, 1.0516325890964067, 3.0, 1.1632992268866558, 1.02466922661669, 1.0036748229810881, 1.7272727272727273, 1.2944729898625191, 1.5755813953488371, 1.1428571428571428, 1.10033857656768, 1.0420575865415722, 1.148471615720524, 1.0294117647058822, 1.3333333333333333, 1.0337858838155516, 1.5, 1.0594059405940595, 1.0833333333333333, 1.0138662893526706, 1.3846153846153846, 1.109704641350211, 1.0429769392033543, 1.0, 1.697089947089947, 1.2816429170159263, 1.25, 2.0, 1.146551724137931, 1.2206896551724138, 1.0392338585109668, 1.2063291139240506, 1.0774410774410774, 1.2448377581120944, 1.1014466214978942, 1.0545454545454545, 1.183574879227053, 1.2897959183673469, 1.0384615384615385, 1.0, 1.1947115384615385, 1.1111111111111112, 1.0062370062370063, 1.058681583854338, 1.0872122534961042, 1.0729499467518637, 1.1049417484362494, 1.1292293233082706, 1.2202643171806167, 1.0005966587112172, 1.8333333333333333, 1.0, 1.2142857142857142, 1.0196099263868863, 1.0741394527802295, 1.107843137254902, 1.2340425531914894, 1.0050400916380298, 1.0258979180105128, 1.0090871896466331, 1.0985915492957747, 1.2222222222222223, 1.0360429447852761, 1.0798647932131495, 1.0832752844395794, 1.045895022048964, 1.0482758620689656, 1.1019639692852923, 1.0246280766139428, 1.1286127167630058, 1.3533604887983706, 1.125, 1.0804878048780489, 1.5389948006932408, 1.1555555555555554, 1.0515759312320916, 1.0701001430615165, 1.0, 1.0503597122302157, 1.0261542035912243, 1.0, 1.0855364236301834, 1.005324813631523, 1.3870967741935485, 1.0179694630127525, 1.0251622206200433, 1.1029411764705883, 1.0076335877862594, 1.031615925058548, 1.202779189967802, 1.1814345991561181, 1.2142857142857142, 1.0, 1.1111111111111112, 1.073779823180332, 1.3333333333333333, 1.1422774667420001, 1.1264875343277152, 1.0394328754984492, 1.0468718967229393, 1.049827272093741, 1.0355841371918542, 1.025089605734767, 1.0360610263522885, 1.018061849860286, 1.103369891263592, 1.0460719962693117, 1.2026074912682163, 1.6666666666666667, 1.0, 1.0630252100840336, 1.1345800547679297, 1.01628664495114, 1.3012345679012345, 1.0680529300567108, 2.1829787234042555, 1.0611768718556933, 1.0577181208053692, 1.0544856459330143, 1.1875, 1.0415009530981574, 1.0391426630084202, 1.2723169508525576, 1.0581052631578947, 1.09375, 1.1253012048192772, 1.0923913043478262, 1.5, 1.081760776727379, 1.5769230769230769, 1.3387314439946019, 1.0781990521327014, 1.0229265003371544, 1.019745879120879, 1.0083036773428233, 2.75, 1.0717703349282297, 1.0981286076693997, 1.0735985332518474, 1.0223759331087854, 1.0688867180685901, 1.062595048360606, 1.0, 1.092241379310345, 1.062121508107052, 1.0164269183645687, 1.002008032128514, 1.0208333333333333, 1.0347159603246168, 1.039647297640193, 1.3867069486404835, 1.0165658643869389, 1.0, 1.3333333333333333, 1.0569358945833025, 1.0050654284508231, 1.2268978841713396, 1.0970438328236494, 1.014365522745411, 1.0204081632653061, 1.0984711831327438, 1.0728108213060643, 1.0863970588235294, 1.010928961748634, 1.068062827225131, 1.0959480685220635, 1.1071428571428572, 1.75, 1.0431176730692493, 1.1739483778687991, 1.0372560615020698, 1.0, 1.2389572773352644, 1.01918388751878, 1.1751475962890077, 1.465201465201465, 1.2692307692307692, 1.0552560646900269, 1.1202830188679245, 1.134375, 1.6538461538461537, 1.0662643870823556, 1.1744301288404362, 1.1616915422885572, 1.0, 1.0062717441774391, 1.0491740299654244, 1.0695113788487283, 1.1835016835016836, 1.3333333333333333, 1.2173913043478262, 2.0, 1.1647509578544062, 1.3076923076923077, 1.0, 1.1538461538461537, 1.00265604249668, 1.0235507246376812, 1.0045309905921416, 1.0684532924961716, 1.3054545454545454, 1.3076923076923077, 1.1428571428571428, 1.096774193548387, 1.027027027027027, 1.0142857142857142, 1.1630434782608696, 1.0257491743379508, 1.0332158361470818, 1.3195876288659794, 1.0724304657953947, 1.0475151393824134, 2.5, 1.06730801946174, 1.3257575757575757, 3.0, 2.0, 1.1603550295857987, 1.1186258337517034, 1.0806980964516004, 1.1801242236024845, 1.0, 1.1266375545851528, 1.0866666666666667, 3.0, 2.0, 1.0172715894868585, 1.199623605323296, 1.0432337873297512, 1.6666666666666667, 1.022646450770277, 1.0472501936483347, 1.0188087774294672, 1.1428571428571428, 1.0, 1.0240891691680665, 1.0555555555555556, 1.1271570187247584, 1.015160166171172, 1.2283236994219653, 1.0546875, 1.1217379212311305, 1.057813911472448, 1.0950413223140496, 1.0952380952380953, 1.031571694569078, 1.8221528861154446, 1.0536252189141857, 1.4273504273504274, 1.1274509803921569, 1.2238805970149254, 1.091156462585034, 1.0537433985709848, 1.007735017803617, 1.096102701666986, 1.064410480349345, 1.5, 1.6666666666666667, 1.1562679792878603, 1.1781002638522426, 1.101147636646567, 1.0077932278690738, 1.04666332162569, 1.1349415267768523, 1.2636103151862463, 1.0212765957446808, 1.1003065796714095, 1.0789895420270799, 1.2450476889214968, 1.2591943957968477, 1.6666666666666667, 1.0135135135135136, 1.0724711807058267, 1.182871678914641, 1.0653803327184193, 1.1167644394409801, 1.0284090909090908, 2.0, 1.0918367346938775, 1.0008167319684345, 1.1830020562028787, 1.167300380228137, 1.0814559195155677, 1.0161812297734627, 1.3233995584988962, 1.031304347826087, 1.0316520237045423, 1.0542133176193282, 1.0138248847926268, 1.0525606469002695, 1.0, 1.148238987540469, 1.0489532864064357, 1.0923520923520924, 1.0523641512234667, 1.1337539432176655, 1.0151285930408471, 1.2857142857142858, 1.2233766233766235, 1.6666666666666667, 2.0, 1.1764705882352942, 1.0025575447570332, 1.0276461295418642, 1.01027949728006, 1.000419143749198, 1.0146540027137043, 1.1163007940214853, 1.1521739130434783, 1.065217391304348, 1.0374516859922698, 1.6, 1.5833333333333333, 1.192322605661109, 1.1428571428571428, 1.0852601156069364, 1.175103305785124, 1.0849932401982876, 1.1030660109396049, 2.0, 1.0637770897832817, 1.1686046511627908, 1.116680590364801, 1.0401891795187024, 1.1376262626262625, 1.1335616438356164, 1.148785289248803, 1.161407236143223, 1.053601340033501, 1.1451612903225807, 1.1047486033519553, 1.0, 1.0, 1.04149976753335, 5.0, 1.4285714285714286, 1.9285714285714286, 1.0494571773220749, 1.1058823529411765, 1.1186252771618626, 1.1118085523734798, 1.0, 1.074487895716946, 1.0175233644859814, 1.2119565217391304, 1.2644230769230769, 1.4285714285714286, 1.0118541713263252, 1.0737250554323725, 1.1444444444444444, 1.0833023428783934, 1.014101542909402, 1.0384329052670762, 1.1508429458740017, 1.0, 1.2271015780344374, 1.0363463212886375, 1.0546987087517934, 1.1774193548387097, 1.105215636286382]
origin-bjaq_15.71 	max: 5.0000	99th: 2.6675	95th: 1.7500	median: 1.0849	mean: 1.1759

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 12.056189 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[4.7683716e-07 1.1920929e-07 2.9802322e-07 6.7001581e-04 5.9604645e-08]
Distance score: 0.00013419389142654836
SAUCE Drift detection: True
Detection latency: 0.0217s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.9936 nats / 37.5008 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.142952 | Model-update-time: 2.670109


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 19.9574	99th: 3.0000	95th: 1.7525	median: 1.0828	mean: 1.2267
ReportEsts: [1.0091743119266054, 1.0017339608620262, 1.047285331869037, 1.058252427184466, 1.55, 1.0, 1.0582988905808135, 1.0165136363636365, 1.0, 1.021091811414392, 1.1163594470046083, 1.0433190865481483, 1.0277194456110879, 1.1813953488372093, 1.0644295302013422, 1.0, 1.139240506329114, 1.0087986463620982, 3.0, 2.0, 1.173913043478261, 1.0947032660946134, 1.0829212162757675, 1.082727780883175, 1.063869463869464, 1.0, 1.0874923609696476, 1.75, 1.4, 1.0719424460431655, 1.0, 1.0481364040240704, 1.0096761568746568, 1.4904109589041097, 1.0116682872621197, 1.1713254827326434, 1.1711229946524064, 2.0, 1.063341250989707, 1.1814159292035398, 1.0198915009041591, 1.0425279801967848, 1.028238822662227, 1.0391304347826087, 1.028008261168883, 1.1904761904761905, 1.52, 1.2941176470588236, 1.0813204508856682, 1.320754716981132, 1.0694469488163623, 1.0935919055649241, 1.042796005706134, 1.1973042004906052, 1.4592592592592593, 1.0946463477879282, 1.0382023406733596, 1.0263632957525801, 1.3093525179856116, 1.066951175712505, 1.4385964912280702, 1.1511961906965087, 1.0426621160409557, 1.076271186440678, 1.0229885057471264, 1.0909090909090908, 1.060460251046025, 1.341577958672511, 1.75, 1.0, 1.1023984423400301, 1.0290023201856149, 1.0808864265927978, 1.0202702702702702, 1.0222600497577583, 1.1073825503355705, 1.0092592592592593, 1.3333333333333333, 1.113312202852615, 1.0206971677559913, 1.0118491219467345, 1.125, 1.0793224975014466, 1.2822085889570551, 1.0270906949352179, 1.1025878003696858, 1.08, 1.087659532449579, 1.059156246348019, 1.0695652173913044, 1.75, 1.0254010695187166, 1.0024486740804106, 1.146417445482866, 1.0104712041884816, 1.0212954747116239, 1.0193236714975846, 1.0, 1.4412811387900355, 1.0, 1.1749842734325855, 1.0299746692935547, 1.1389365351629503, 1.2891946950484348, 1.3214285714285714, 1.0223021905003657, 1.1104327050703477, 1.1460934712807707, 1.1247010591048856, 1.0458796025715955, 1.3333333333333333, 2.0, 1.0543745804430522, 1.0886569263554209, 1.0670289855072463, 1.2025316455696202, 1.0607788695142237, 2.0, 1.207190160832545, 1.0728952772073923, 1.0, 1.0216216216216216, 1.0, 1.1981132075471699, 1.0136656322473037, 1.0831918505942275, 1.0566037735849056, 1.8, 1.1366120218579234, 1.0, 1.0666666666666667, 1.0898158221945913, 1.1818181818181819, 1.089263613861386, 1.0350594566858193, 1.028433346757954, 1.0, 1.3846153846153846, 1.038647342995169, 1.0035971223021583, 1.0716763005780348, 1.0199890127138598, 1.2214285714285715, 1.0117416829745598, 1.1327940836607349, 2.0, 1.0203639514731369, 1.044296788482835, 1.057742782152231, 1.0935456831517183, 1.5, 1.228080229226361, 1.0634218289085546, 1.0332681017612524, 1.1085594989561587, 1.1683006535947713, 1.028750337422963, 1.080427278410481, 1.195486865494766, 1.0038167938931297, 1.03125, 1.3877551020408163, 1.2782608695652173, 1.04860088365243, 1.4285714285714286, 1.0791849593122578, 1.5038167938931297, 1.2673611111111112, 1.341330425299891, 1.1335978835978835, 1.0639326055106575, 1.2116504854368932, 1.1167400881057268, 1.0175558790785304, 1.0273003033367036, 1.0293072824156306, 1.072610294117647, 1.038588094525875, 1.1482354821949563, 1.060900467875131, 1.1940298507462686, 1.0998531571218797, 1.0278521189584096, 1.026141162276292, 1.407725321888412, 1.0503817793301444, 1.2112211221122111, 1.0, 1.0898892868772387, 1.1280918727915195, 1.3157894736842106, 1.1359724612736661, 1.3554782082324455, 1.0172247882986913, 1.0130559240382602, 1.0108271503160209, 1.1546261089987326, 1.2024995118140989, 1.4488778054862843, 1.0, 1.0196078431372548, 2.0, 1.0495892606692045, 1.0, 1.0158730158730158, 1.2191780821917808, 1.0, 1.3934426229508197, 1.1734800838574424, 1.3693379790940767, 1.3563218390804597, 1.0155148095909732, 1.0, 1.044256027827685, 1.0727272727272728, 1.2873618222711394, 1.2, 1.256198347107438, 1.0309471709909346, 1.0829456028491011, 1.0189589984418754, 1.0, 1.0743216673220606, 1.105557530069773, 1.0055189509316154, 1.1636575422248108, 1.0254860061499973, 1.2778062269561654, 1.0344827586206897, 1.005061676677064, 1.0863847343991748, 1.0823463056965594, 1.0476190476190477, 1.0676786843769766, 1.021978021978022, 1.0587797619047619, 2.0, 1.19330655957162, 1.117375623209929, 1.1089285714285715, 1.0727969348659003, 1.0, 1.6666666666666667, 1.021321387868811, 1.1454545454545455, 1.008540925266904, 1.5, 1.0, 1.2678571428571428, 1.0306721730772364, 1.188582124473561, 1.0883977900552486, 1.0487077534791251, 1.0363349131121642, 1.0104, 1.0769428955262335, 1.1403508771929824, 2.0, 1.1587605124092695, 1.1924187979990135, 1.1260364842454396, 1.0393718660366067, 1.093145284433216, 1.0223511460621406, 1.035868005738881, 1.0658180481774748, 1.0191981931112366, 1.0059763724808894, 1.0480616362969304, 1.1666666666666667, 1.0365827695510244, 1.1777251184834123, 1.2272727272727273, 1.1304347826086956, 1.0484980094100615, 1.0555555555555556, 1.0158730158730158, 1.123961661341853, 1.163978494623656, 1.4411027568922306, 1.0366090842852307, 1.0363636363636364, 1.024786794959643, 1.0624809150081698, 1.1111111111111112, 1.1850501367365542, 1.0186721991701244, 1.035580499261065, 1.2881404887066028, 1.0559044145477068, 1.2716346153846154, 1.1385902031063322, 1.0493255322606858, 1.0898041590954977, 1.1007127228612898, 1.041641720497873, 1.0288770053475935, 1.0, 1.0, 1.0773565573770492, 2.0, 1.0534188034188035, 1.0652119321711317, 1.0167130919220055, 1.4838709677419355, 1.02803738317757, 1.141304347826087, 1.0594541910331383, 1.0415708536935901, 1.0, 1.3527267629328474, 1.0171894063104154, 1.0666666666666667, 1.2553191489361701, 1.0078328981723237, 1.021882414974954, 1.2857142857142858, 1.0058591536940447, 1.0671506352087115, 1.0, 1.156824649737303, 1.1666666666666667, 1.5, 1.0001526601022823, 2.0, 1.190909090909091, 1.1061046511627908, 3.9157688540646425, 1.0487901626338754, 1.0415584415584416, 1.2151898734177216, 1.0862226907101356, 1.1562928523323839, 1.0770512286547271, 1.1047418422139612, 1.030320407139273, 2.0, 1.0, 1.0532110091743119, 1.25, 1.0610079575596818, 1.411764705882353, 1.2, 1.411764705882353, 1.303000968054211, 1.053839364518976, 1.2105263157894737, 1.0282722513089004, 1.0, 1.2425585813806206, 1.0182232075460484, 2.5, 1.3394877903513995, 1.0, 1.1006029831799429, 1.1125, 1.1472250897114487, 1.2027649769585254, 1.143418467583497, 1.3129610115911485, 1.131578947368421, 1.012666592470994, 1.0159504297421547, 1.131578947368421, 1.0, 1.0769230769230769, 1.7142857142857142, 1.5, 1.2142857142857142, 16.35846372688478, 1.1666666666666667, 1.0923076923076922, 1.2317073170731707, 1.1814669621044258, 1.1311831332234692, 1.3429454170957775, 1.015158239732341, 1.0104452996151732, 1.1333333333333333, 10.833333333333334, 1.103225806451613, 1.032, 1.0621200615225679, 1.0952380952380953, 1.5714285714285714, 1.2413793103448276, 1.222972972972973, 1.0361083375721383, 1.010550996483001, 1.1467244179750948, 1.0066769388803287, 1.0, 1.0933932895191976, 1.1180625630676084, 1.1403508771929824, 2.0, 1.0890052356020943, 1.0853998264602458, 1.146062271062271, 1.0371043178773107, 1.125, 1.0642201834862386, 1.0811594202898551, 1.0, 1.00410635827078, 1.0533717514240157, 1.0545253374640406, 1.0571596370063756, 1.0746429270201525, 1.1513415737111847, 1.5714285714285714, 1.175257731958763, 1.2, 19.95744680851064, 1.2, 1.030472329081999, 1.0330123796423658, 1.1492612322846518, 1.0946969696969697, 1.2186642268984447, 3.0, 1.2554675118858953, 1.0007085171829817, 1.1020778256024821, 2.0, 1.3015873015873016, 1.270172257479601, 1.3041958041958042, 1.0489981214777708, 1.3471933471933473, 1.05, 1.1242450388265746, 1.0375631313131313, 1.0617634878204887, 1.1175342339434737, 1.1675174497343472, 1.1625207296849087, 1.0909090909090908, 1.875, 1.0506666666666666, 1.3928571428571428, 1.2215139442231076, 1.0823170731707317, 1.150039277297722, 1.6470588235294117, 1.75, 1.09624829939816, 1.169620253164557, 1.0, 1.329268292682927, 1.132936507936508, 1.0262649671687911, 1.0666666666666667, 1.229175300455864, 1.0108077890617722, 1.0909601634320736, 1.2857142857142858, 1.068945197407189, 2.0, 1.0520388349514562, 1.0017211703958693, 1.0414012738853504, 1.2222222222222223, 1.065156634547199, 1.0735009671179885, 1.5, 1.0433847257081392, 1.0614035087719298, 1.125984251968504, 1.0307929176289454, 1.289019772822886, 1.0644302744663154, 1.0, 1.013157894736842, 1.030727863085977, 1.0456165551569714, 1.0236116139867035, 1.0, 1.0690886182276353, 1.0063464922681378, 1.0301053687907678, 2.0, 1.0252544289483603, 1.01849533348509, 1.0866390645107145, 1.0850438718386468, 1.022460326849301, 1.0569533285951196, 1.028731045490822, 1.0324959668126297, 2.3333333333333335, 1.1198820348980094, 3.7142857142857144, 1.0, 1.1428571428571428, 1.1090909090909091, 1.0013806181836937, 1.1126126126126126, 1.0658881277307297, 1.0551977920883164, 1.0603824420018597, 1.020857929948839, 1.0414525504120122, 1.125, 4.0, 1.0036348642192212, 1.1001926782273603, 1.0467911351412238, 1.0019055062104574, 1.0874818753020783, 1.2741433021806854, 2.382978723404255, 2.5714285714285716, 1.0046618691653975, 1.1047095918799372, 1.0162277505071171, 1.1277932960893855, 1.1532250289240262, 1.0474226804123712, 1.0690246129358287, 1.0311345646437995, 1.1664190193164934, 1.0010648596321394, 1.1892925430210326, 1.1693404634581106, 1.0588235294117647, 1.041866028708134, 1.263157894736842, 1.090663058186739, 1.0660124888492417, 1.081135902636917, 1.1106427818756586, 1.044096721982107, 1.2210526315789474, 1.0189764990116408, 2.0, 1.241554054054054, 1.015209125475285, 1.396039603960396, 1.1275577996279564, 1.1075877689694225, 1.0346153846153847, 1.0829207920792079, 1.0996402877697842, 1.0, 1.702127659574468, 1.1666666666666667, 1.0, 1.1797752808988764, 1.0146252285191957, 1.041602465331279, 1.174757281553398, 1.0678871090770403, 1.0417124039517014, 1.0963649017613362, 1.1315407787571126, 1.0819524907992746, 1.0125594838874517, 1.0143134132495835, 1.0575719649561952, 1.0565842520246886, 1.0535440407080914, 1.0923335198656967, 1.0996216897856241, 1.1644832605531295, 1.1538461538461537, 1.0186855670103092, 1.1684491978609626, 1.101011008762076, 1.303225806451613, 1.202130722718111, 1.3893129770992367, 1.5, 1.006720430107527, 1.0666666666666667, 1.1009345794392524, 1.5128205128205128, 1.1666666666666667, 1.0182597917320213, 1.1352034950563348, 1.0271510889735325, 1.0235630918299934, 1.2216494845360826, 1.0633074935400517, 1.0, 1.1, 1.0609007517759845, 1.056620451044271, 1.086517669973425, 1.0677898076390149, 1.0331160639192598, 1.225974025974026, 1.1254279799347082, 1.0913705583756346, 1.033698408301549, 1.04073701902128, 1.3636363636363635, 1.0234215885947047, 3.0, 1.1273207990599294, 1.0, 1.0474898236092265, 1.1658767772511849, 1.3485943775100402, 1.4285714285714286, 1.1084293948126802, 1.6, 1.0555555555555556, 1.0782405492296416, 1.1095406360424027, 1.0312624969305784, 1.0000223794308165, 1.0837320574162679, 1.2666666666666666, 1.0333333333333334, 1.1278350515463917, 1.0027285129604366, 1.1695364238410597, 1.0216462879541333, 1.157453524063242, 1.0, 1.1118819188191882, 1.1768292682926829, 2.0, 1.0297428709098078, 1.1426833378546122, 1.1367753623188406, 1.0219290415311295, 1.0640396530359355, 1.0265486725663717, 1.8571428571428572, 1.1141369643572288, 1.0015408320493067, 1.1166508210193855, 1.0997798972853998, 1.0152726949131803, 1.0006508035874773, 1.3873239436619718, 1.061611374407583, 1.2173913043478262, 1.075029974486172, 1.1072555205047319, 1.0530367835757057, 1.108970831040176, 1.0516086885513638, 1.1375968992248062, 1.0696941612604263, 1.1666666666666667, 1.4, 1.136701337295691, 1.6113869579609401, 1.094135225999253, 1.055022392834293, 1.0833333333333333, 1.02014652014652, 1.0337535583570556, 1.0275862068965518, 1.0239832132657622, 3.0, 1.0247349823321554, 1.5, 1.016355140186916, 1.0, 1.1346071011014707, 1.4444444444444444, 1.3122362869198312, 1.0224171539961013, 1.0, 1.1042202979951634, 1.2058823529411764, 1.2, 2.0, 1.064, 1.2145214521452146, 1.0098097502972652, 1.159367396593674, 1.0825242718446602, 1.067448680351906, 1.086596800882515, 1.0440097799511003, 1.144859813084112, 1.1589147286821706, 1.4444444444444444, 1.5, 1.1899886234357224, 1.0851370851370852, 1.0693756194251733, 1.0074375247917493, 1.0296487696421597, 1.0175482893574044, 1.1267082678682596, 1.1315554026152788, 1.17092866756393, 1.0045845272206304, 1.5714285714285714, 1.0, 1.1333333333333333, 1.0304958552474948, 1.077116512992456, 1.1261829652996846, 1.2216748768472907, 1.0325961260479908, 1.0016433749060474, 1.0020754235025022, 1.1081081081081081, 1.368421052631579, 1.0244263508512212, 1.0388166572451478, 1.0224800012523678, 1.0476591267753814, 1.0253164556962024, 1.1131866509155346, 1.0257062554050158, 1.0691421254801536, 1.4093686354378818, 1.5, 1.0031702898550725, 1.9623430962343096, 1.0833333333333333, 1.057636887608069, 1.0671186440677967, 1.0, 1.0651685393258428, 1.002377332858945, 1.0740740740740742, 1.1017028365533201, 1.0091743119266054, 1.2285714285714286, 1.026895183199074, 1.0866979091564528, 1.0782299221058287, 1.0034843205574913, 1.0126182965299684, 1.2092211193378384, 1.202, 1.8888888888888888, 1.0, 1.4285714285714286, 1.045282511813316, 1.5, 1.2036941757563284, 1.1124055818717193, 1.0786442179884803, 1.089019089019089, 1.0553812064325316, 1.1547485463633582, 1.0133779264214047, 1.0265957446808511, 1.006391230802876, 1.0960191011737404, 1.0426266405819673, 1.3022100445622065, 1.4285714285714286, 1.0676532769556026, 1.0225563909774436, 1.1606294845575236, 1.0462962962962963, 1.3178703215603584, 1.0456942003514937, 2.5041322314049586, 1.0634054493096063, 1.0127226463104326, 1.0930143540669857, 1.1875, 1.003694139966273, 1.0464487910560631, 1.3008248423095585, 1.065269943593876, 1.0666666666666667, 1.0637813211845102, 1.1666666666666667, 1.75, 1.1736900705151996, 1.7307692307692308, 1.0442105263157895, 1.0465631929046564, 1.0234644582470669, 1.0718976258629398, 1.0261958997722096, 1.8333333333333333, 1.0769230769230769, 1.0942405655473542, 1.0410319525639755, 1.0090232415033609, 1.0258663987945755, 1.0405759607856486, 1.0, 1.1055694098088114, 1.053921568627451, 1.0020811212571672, 1.0691382765531061, 1.0, 1.0539025442000862, 1.0968280467445743, 1.0102827763496145, 1.4705882352941178, 1.0, 1.0, 1.0446105229165226, 1.0233613669737018, 1.2964609800362976, 1.1441942359373551, 1.1292897047086992, 1.0592255125284737, 1.1029099116817922, 1.0065887353878853, 1.2095588235294117, 1.0437158469945356, 1.0693559801840056, 1.0699861332836151, 1.1264367816091954, 2.0, 1.04627659027585, 1.1813534301919042, 1.0530216647662485, 1.0795454545454546, 1.2082758620689655, 1.0346928726765419, 1.1685937079860178, 1.3737704918032787, 1.3461538461538463, 1.070754716981132, 1.1111111111111112, 1.209375, 1.6538461538461537, 1.0519289361001318, 1.181564245810056, 1.16548463356974, 1.0238095238095237, 1.0424218536436514, 1.0962351133307722, 1.0540345595383698, 1.2927312339077044, 1.3333333333333333, 1.0769230769230769, 2.5, 1.1535131535131535, 1.5384615384615385, 1.25, 1.2307692307692308, 1.0406091370558375, 1.0, 1.0621500365179286, 1.074685044280903, 1.0907563025210083, 1.2777777777777777, 1.1333333333333333, 1.03125, 1.118421052631579, 1.0857142857142856, 1.1419031719532555, 1.0167789832560659, 1.0316825049806944, 1.2549019607843137, 1.028378084743132, 1.047228707142076, 2.5, 1.0680227577623689, 1.1608623548922057, 1.5, 2.0, 1.2674556213017751, 1.1147619047619048, 1.062959177538628, 1.2422360248447204, 1.5, 1.1317829457364341, 1.2874251497005988, 3.0, 1.026602892858906, 1.114566054270602, 1.0515003521590056, 1.038485567912033, 1.6666666666666667, 1.024639889687523, 1.049483013293944, 1.0531697341513293, 1.1218637992831542, 1.0066934404283803, 1.0, 1.2875, 1.1536720471737447, 1.006566483344676, 1.2727272727272727, 1.0738007380073802, 1.1019536548062216, 1.0317180616740087, 1.0268199233716475, 1.078125, 1.0494999337402462, 1.1724793051974487, 1.0054258211150229, 1.2840909090909092, 1.1142857142857143, 1.0737327188940091, 1.1428571428571428, 1.087854392719636, 1.0142045454545454, 1.0158129670830391, 1.0778008298755186, 1.5, 1.6666666666666667, 1.1508981653135588, 1.157676348547718, 1.2205796537638591, 1.0154610003558948, 1.0296684118673647, 1.0616396883704033, 1.1838790931989924, 1.1020408163265305, 1.0930753716291925, 1.101144106679162, 1.163923182441701, 1.1558704453441295, 1.6666666666666667, 1.0, 1.0606038372647566, 1.1071428571428572, 1.067215891592239, 1.0486348545661761, 1.0688920454545454, 2.0, 1.0878048780487806, 1.0006290495061962, 1.16991341991342, 1.1863117870722433, 1.032591932926432, 1.0467836257309941, 1.206282722513089, 1.0071783545002762, 1.0329117676459538, 1.0986071696513031, 1.026943005181347, 1.0090439276485788, 1.0, 1.1686586985391767, 1.0727105987161012, 1.025920988000842, 1.0135786896193515, 1.0825301204819278, 1.0711043872919819, 1.1515151515151516, 1.1952380952380952, 2.0, 2.0, 1.2941176470588236, 1.019704433497537, 1.0462894930198383, 1.0806936759627168, 1.0165369887070417, 1.065060908084164, 1.0280334728033473, 1.0452261306532664, 1.0041705282669138, 1.013786544694671, 1.6, 1.5833333333333333, 1.0413880929640242, 1.0, 1.0272727272727273, 1.1690821256038648, 1.1020715630885123, 1.0786853937653198, 2.0, 1.0383244206773619, 1.2810077519379846, 1.1791237113402062, 1.040324409174152, 1.1581508515815084, 1.180821917808219, 1.1570060699324614, 1.057464724624488, 1.0638297872340425, 1.1126760563380282, 1.1298882681564246, 1.3333333333333333, 1.0, 1.0418589433070733, 5.0, 1.5714285714285714, 2.5217391304347827, 1.0464576074332173, 1.0561797752808988, 1.1219512195121952, 1.0674982911825017, 1.1666666666666667, 1.061611374407583, 1.0016375545851528, 1.1064814814814814, 1.4038461538461537, 1.5, 1.0105062082139447, 1.3215077605321508, 1.1455696202531647, 1.021186440677966, 1.0231171189854484, 1.1115005683971202, 1.1070224719101123, 1.0, 1.2972035368278547]
origin-bjaq_15.71 	max: 19.9574	99th: 3.0000	95th: 1.7525	median: 1.0828	mean: 1.2267

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.979355 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[ 2.9802322e-07  0.0000000e+00  1.1920929e-07  6.1029196e-04
 -2.9802322e-08]
Distance score: 0.00012213588343001902
SAUCE Drift detection: True
Detection latency: 0.0334s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.9834 nats / 37.4861 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.076085 | Model-update-time: 2.503752


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 32.6250	99th: 5.0000	95th: 2.0000	median: 1.0924	mean: 1.3805
ReportEsts: [1.0919881305637982, 1.0113234253361643, 1.063633751681446, 1.0982658959537572, 1.4090909090909092, 1.0, 1.0451181911613567, 1.0381652081758954, 1.2, 1.02603550295858, 1.0724421795374364, 1.0424218185676566, 1.0554388912221755, 1.2627906976744185, 1.0298076923076922, 1.427807486631016, 1.1095890410958904, 16.166666666666668, 1.4, 1.1569343065693432, 1.0861418664071054, 1.2319070258848388, 1.0617933621632887, 1.5625, 1.1641918903483723, 1.0286689056253837, 2.0, 1.027457898957498, 2.6666666666666665, 1.2, 1.158273381294964, 1.0, 1.047149733670537, 1.0042376533855346, 2.4035623409669213, 1.0468914646996839, 1.1142038168514747, 1.2513368983957218, 3.0, 1.0973926380368098, 1.238938053097345, 1.1117654508611956, 1.0499937870190117, 1.020419654939619, 1.076086956521739, 1.0598309364364913, 1.0, 1.5, 1.8046875, 1.1231884057971016, 1.4622641509433962, 1.0646203554119547, 1.0465116279069768, 1.0636237897648686, 1.20200067655729, 1.1209677419354838, 1.0751129160815274, 1.0536010807463905, 1.0316178468561492, 1.3263888888888888, 1.019684225207158, 1.3559322033898304, 1.107016635322122, 1.065546218487395, 1.0980392156862746, 1.1954022988505748, 1.625, 1.0334358310406215, 1.396460726482459, 1.75, 1.0, 1.021911343333895, 1.0298013245033113, 1.095514511873351, 1.054054054054054, 1.0491866273856796, 1.061965811965812, 1.012962962962963, 1.0, 1.11236802413273, 1.0361317747077576, 1.0075610282998488, 1.0588235294117647, 1.068501984126984, 1.3251533742331287, 1.011467889908257, 1.1137750653879686, 1.12, 1.0920486896212378, 1.139020684819446, 1.1762295081967213, 1.75, 1.0408163265306123, 1.0450552419992147, 1.2554517133956387, 1.0221948212083847, 1.0448662640207076, 1.0113895216400912, 1.0, 1.3728813559322033, 1.0, 1.1223835753630447, 1.1202753604364204, 1.216123499142367, 1.3045785559343044, 1.3793103448275863, 1.0191934538543392, 1.151844969471728, 1.130149303667768, 1.0080720273207078, 1.0465959821428572, 1.3333333333333333, 2.0, 1.0716430716430716, 1.0622658577595108, 1.0254335260115608, 1.1111111111111112, 1.0542276496442975, 2.0, 1.2355723746452223, 1.0609137055837563, 1.0, 1.0368421052631578, 1.0, 1.2219730941704037, 1.0029005390742707, 1.0672292545710267, 1.0, 1.8, 1.085672082717873, 1.0, 1.0, 1.0959611380985428, 1.0833333333333333, 1.0589796520200532, 1.0325469848432323, 1.0170739348370927, 2.0, 1.4615384615384615, 1.1053921568627452, 1.1041055718475072, 1.070291048874245, 1.0376625147740703, 1.139240506329114, 1.0587084148727985, 1.1733845239928715, 3.0, 1.0161223646134767, 1.0477178423236515, 1.031017369727047, 1.1031568877551021, 1.5, 1.1075783972125435, 1.0537190082644627, 1.0313653136531364, 1.116, 1.0448179271708684, 1.0207436711153617, 1.076142028274904, 1.2861959411268884, 1.045046840741479, 1.2272727272727273, 1.0898587933247754, 1.0697887970615243, 1.1399116347569955, 1.7142857142857142, 1.063232264015932, 1.5185185185185186, 1.0052287581699346, 1.3407420219666177, 1.0692464358452138, 1.1173497472851923, 1.1495495495495496, 1.1906873614190687, 1.0481588679852065, 1.2002022244691608, 1.0742018981880932, 1.0523560209424083, 1.0615160349854227, 1.2360243597751406, 1.0971995192307693, 1.2761194029850746, 1.1132596685082874, 1.0420507221735007, 1.0146972369194591, 1.4935622317596566, 1.1037837837837838, 1.2227979274611398, 1.1428571428571428, 1.0903547155758309, 1.1866444818004047, 1.3157894736842106, 1.131120783460283, 1.779584065612185, 1.0796184543507883, 1.010920772523613, 1.1195979899497488, 1.0199255654165473, 1.150144784671308, 1.0192307692307692, 1.0096481271282634, 1.0197248896963405, 1.0606033221447628, 1.0643513789581205, 1.1181470869149952, 1.2039800995024876, 1.0, 1.236842105263158, 1.0, 1.4140625, 1.0905525846702318, 1.4390243902439024, 1.5057471264367817, 1.0166068222621185, 1.3333333333333333, 1.0468420681495876, 1.0497512437810945, 1.3776618653395225, 4.0, 1.0528401585204756, 1.0467401012206015, 1.1177121029352635, 1.0021220379886409, 1.0, 1.0115974560419005, 1.0674823680273562, 1.0019473818532862, 1.1724517906336087, 1.1085630895919112, 1.0004695847079983, 1.0, 1.005985525863933, 1.0938591268244797, 1.245353159851301, 1.1862139917695473, 1.0942928039702233, 1.1666666666666667, 1.0970254957507082, 2.0, 1.2442200372043581, 1.1462047371344881, 1.0604641260378966, 1.1022727272727273, 1.0833333333333333, 1.6666666666666667, 1.016649841255907, 1.2181818181818183, 1.0163335832817135, 1.5, 1.0, 1.0135135135135136, 1.0568588753959034, 1.2050711743772242, 1.069060773480663, 1.1444759206798867, 1.1404699738903394, 1.0125189681335356, 1.121685606060606, 1.105263157894737, 2.0, 1.2048608969218433, 1.2699762658227849, 1.1042654028436019, 1.031111111111111, 1.0276929501735703, 1.1036869382667454, 1.002635046113307, 1.0465108885709744, 1.000534188034188, 1.0875608061153579, 1.0073817246393022, 1.0769230769230769, 1.0298601007274761, 1.2266355140186915, 1.2954545454545454, 1.35, 27.365183246073297, 1.0129870129870129, 1.0414522334971263, 1.007455268389662, 1.165374677002584, 1.4486215538847118, 1.000332308276586, 1.0241433021806854, 1.1115149312496215, 1.0504331854901783, 1.1111111111111112, 1.1821335646140503, 1.0138339920948616, 1.0323037591298319, 1.16277153043576, 1.090588175538399, 1.184, 1.0766324878575284, 1.0384526112185686, 1.1025305573206743, 1.2631442126470398, 1.0778478021112337, 1.0276923076923077, 1.0, 1.2142857142857142, 1.0825345247766043, 1.3, 1.0960334029227556, 1.0112513303937967, 1.1398963730569949, 1.5806451612903225, 1.0, 1.1956521739130435, 1.0249495505411852, 1.0437492444289227, 1.0909090909090908, 1.3082854338987804, 1.0311323258332676, 1.3214285714285714, 1.2291666666666667, 1.0049382716049382, 1.0668214654282766, 1.4285714285714286, 1.0006092073381794, 1.0874785591766725, 1.1578947368421053, 1.2194067425569177, 1.0357142857142858, 1.2307692307692308, 1.0112312684636697, 2.0, 1.1367521367521367, 1.1526162790697674, 6.704291044776119, 1.0228239845261122, 1.1563981042654028, 1.1348314606741574, 1.0681903290736319, 1.1468643249515185, 1.15359477124183, 1.117186360250927, 1.0470989286211214, 3.0, 1.1111111111111112, 1.0526713136285601, 1.5, 1.0514891468955072, 1.4705882352941178, 1.6, 1.5294117647058822, 1.3767572633552014, 1.0651438240270727, 1.280701754385965, 2.024390243902439, 1.4242424242424243, 1.3333333333333333, 1.0308724626814283, 1.282258064516129, 1.0845070422535212, 1.0120644700044157, 1.3097345132743363, 1.033800494641385, 1.1544633901705115, 1.75, 2.0, 1.326048951048951, 1.4761904761904763, 1.0974178403755868, 1.1265558571940788, 1.391833704528582, 1.0602739726027397, 1.5, 1.0315001723827086, 1.014985014985015, 1.4545454545454546, 1.0423497267759563, 1.072463113520024, 1.75, 1.235170321064996, 1.030612244897959, 1.2408848250795093, 1.196029192497842, 1.1239470517448857, 1.082536666468737, 1.1134398358493331, 1.3103448275862069, 1.0214521452145215, 1.1138554713249835, 1.0110294117647058, 1.1333333333333333, 1.0002616364074757, 1.0634682247412923, 2.0, 1.430550621669627, 1.5068493150684932, 7.584624553039332, 1.177143377222256, 1.0239912758996728, 1.1666666666666667, 1.2574257425742574, 1.1348314606741574, 1.0483870967741935, 3.0, 1.181937172774869, 1.0123961054381383, 1.2165750915750915, 1.1717216234624785, 1.0588235294117647, 1.1308411214953271, 1.0865921787709498, 1.0, 1.0048923345857408, 1.0621165417606335, 1.0897691040208854, 1.0585063736594869, 1.0375912737762554, 1.1560080298250646, 1.5714285714285714, 1.2083333333333333, 1.0, 32.625, 1.1818181818181819, 1.0298946088366436, 1.0328083989501313, 1.1542668552569542, 1.1666666666666667, 1.0114367405289493, 3.0, 1.4278041074249606, 1.0174794289997464, 1.1285946148404011, 2.0, 1.2222222222222223, 1.2401032702237522, 1.2880258899676376, 1.0126473660647664, 1.2598752598752598, 1.105263157894737, 1.4754098360655739, 1.01421185969393, 1.0538150895732152, 1.0680946921001124, 1.064410480349345, 19.0, 1.2, 1.065929565929566, 1.2049180327868851, 1.3448275862068966, 1.2072343632253202, 1.0229226361031518, 1.1078086602830268, 2.066666666666667, 2.25, 1.033982585282175, 1.2351485148514851, 2.0, 1.3043478260869565, 1.1162361623616237, 1.0261573202860368, 1.0666666666666667, 1.2017828200972447, 1.0202916373858046, 1.1000655451168888, 1.0501160092807424, 1.1369112814895947, 1.1021039603960396, 1.0642040457343886, 1.0024711696869852, 1.1055900621118013, 1.2222222222222223, 1.0721123471501348, 1.071889400921659, 1.4736842105263157, 1.0312542743810695, 1.076271186440678, 1.2769028871391077, 1.050735294117647, 1.4371055952881784, 1.0987014347052046, 1.0, 1.0526315789473684, 1.0379497612758208, 1.0381892352345008, 1.0399556619147592, 2.0, 1.0650568748752745, 1.0079960525064207, 1.03507928880346, 2.0, 1.0343224883804076, 1.0156135194709772, 1.0040381889658492, 1.2076282465680497, 1.009469313146967, 1.1104951433309642, 1.0477996965098635, 1.1335540838852096, 2.6666666666666665, 1.096913204365544, 1.4137931034482758, 1.2, 1.2169811320754718, 1.1578947368421053, 1.0053042286594458, 1.146919431279621, 1.0700766602311924, 1.0854771784232364, 1.0086180502795197, 1.2055944055944057, 1.08271799109642, 1.9241996613176358, 1.0617283950617284, 1.009090909090909, 1.037894273188391, 1.1989795918367347, 1.0000862663906143, 1.0839751458335596, 1.5, 1.0287260616153207, 1.4574132492113565, 1.5454545454545454, 1.2037037037037037, 1.0134565551807002, 1.0275590551181102, 1.1991053290378184, 1.6046511627906976, 1.1762903605939194, 1.0158415841584159, 1.1264840182648401, 1.0009500936897944, 1.18125, 1.0307175425965922, 25.445544554455445, 1.0618436406067677, 1.0434782608695652, 1.0818791946308726, 1.054858600893047, 1.0345140781108084, 1.1559536354056903, 1.0452035389222065, 1.1320754716981132, 1.0076897312083066, 2.0, 1.0589444825222756, 1.0522388059701493, 1.5494505494505495, 1.1213197969543147, 1.1387978142076502, 1.055350553505535, 1.0804701627486437, 1.1383059387535466, 1.0, 1.297872340425532, 1.2, 1.0, 1.2, 1.0350877192982457, 1.0469416785206258, 1.1844660194174756, 1.0721574344023324, 1.0719499478623566, 1.0643393579268796, 1.0677475390851188, 1.0444804143735837, 1.1381302327053646, 1.0295085536875155, 1.01301775147929, 1.051186867826857, 1.0435167718074065, 1.0159744408945688, 1.1006134969325154, 1.1382113821138211, 1.2605042016806722, 1.0551101765453192, 1.1645569620253164, 1.1067555403146299, 1.3397435897435896, 1.230060466455514, 1.1483812949640289, 1.5, 1.065721649484536, 1.0625, 1.053448275862069, 2.282051282051282, 1.1666666666666667, 1.0253885689516378, 1.1191975530766463, 1.0112582934553944, 1.0741746148202493, 1.2955665024630543, 1.0160493827160493, 2.0, 2.0, 1.0129870129870129, 1.0476131678567449, 1.0393557553144874, 1.0859976240896647, 1.0173030830350986, 1.2727272727272727, 1.1684929081502173, 1.124394184168013, 1.0230848882301586, 1.1665048606526607, 1.0110510554793044, 1.4805194805194806, 5.0, 1.1613777982921762, 1.0, 1.013819095477387, 1.1772727272727272, 1.333846153846154, 1.5714285714285714, 1.0521613832853025, 1.4, 1.0, 1.0757656246766059, 1.0256583389601621, 1.0223856814885632, 1.0000236880380147, 1.135831381733021, 1.2258064516129032, 1.0625, 1.245360824742268, 1.0259852750108271, 1.143046357615894, 1.089034175334324, 1.160188749534335, 1.0, 1.2618733509234827, 1.2530487804878048, 2.0, 1.0464877835951134, 1.11700169930853, 1.1504347826086956, 1.0200458404808925, 1.04354674325952, 1.0176991150442478, 2.2857142857142856, 1.0700985761226725, 1.0360559234731421, 1.125326010248228, 1.0699500356887937, 1.0131641579487396, 1.0580283059124744, 1.2648556876061121, 1.001860119047619, 1.3812709030100334, 1.062617367438327, 1.2359621451104101, 1.0251215559157212, 1.0846075433231397, 1.0513880553888555, 1.1327272727272728, 1.134659390952297, 1.2777777777777777, 1.4, 1.187221396731055, 1.6117424242424243, 1.1807994023160253, 1.0498783454987834, 1.0833333333333333, 1.0323426573426573, 1.0425038639876352, 1.0134228187919463, 1.0015712572162092, 2.0, 1.045774647887324, 1.5, 1.191588785046729, 1.0769230769230769, 1.2855146849158825, 1.5, 1.2742616033755274, 1.031905195989061, 1.0, 1.0733708881007025, 1.2313927781871776, 1.0, 2.0, 1.0310077519379846, 1.2753164556962024, 1.0121878715814507, 1.1004618937644342, 1.090625, 21.599645704162977, 1.063013698630137, 1.0161111111111112, 1.0040983606557377, 1.3222222222222222, 1.8571428571428572, 2.0, 1.1464435146443515, 1.1673881673881674, 1.070409134157945, 1.0481099656357389, 1.0014084671669354, 1.092803970223325, 1.190384786410933, 1.1361144845242392, 1.1579617834394904, 1.011061946902655, 1.8333333333333333, 1.0, 1.1724137931034482, 1.0307013322700838, 1.0885167464114833, 1.147239263803681, 1.1009852216748768, 1.056359170305677, 1.004149478577252, 1.0047602413112426, 1.144736842105263, 1.5, 1.0569948186528497, 1.0049499045801527, 1.054244813595652, 1.043204488778055, 1.0304878048780488, 1.1935174246898996, 1.0230907081013163, 1.0969101123595506, 1.4719959266802445, 1.6666666666666667, 1.0776523702031602, 1.0403587443946187, 1.0312139298574459, 1.3333333333333333, 1.0651192778852354, 1.0, 1.1640091116173121, 1.0831257884012033, 1.0166666666666666, 1.0566338872904768, 1.0009661835748793, 1.048780487804878, 1.0651078717201166, 1.1378154289834175, 1.2402296535052377, 1.0432252701579385, 1.0813093980992607, 1.2055386880117767, 1.2823061630218688, 2.5714285714285716, 1.0, 1.25, 1.0097681877824756, 1.5, 1.0888431184211829, 1.0890250451594006, 1.1382365972529906, 1.0693568726355611, 1.0526865152343556, 1.051269578752797, 1.0159744408945688, 1.0449293966623876, 1.0265035547845018, 1.1269006346096513, 1.041211781763651, 1.395760568469228, 1.4285714285714286, 1.0677290836653386, 1.021978021978022, 1.2038545530174356, 1.0363636363636364, 1.3020549641000247, 1.0296052631578947, 2.7490196078431373, 1.041884058969888, 1.0216867469879518, 1.1847488038277512, 1.25, 1.0349068065309508, 1.049151062384787, 1.3396584440227703, 1.0726429675425038, 1.28, 30.35933806146572, 1.5830745341614907, 1.0062852389315093, 1.0410958904109588, 1.0198356082706928, 1.1818181818181819, 1.1104705383637135, 1.1383219954648527, 1.0027137042062415, 1.0045274476513866, 1.0464426877470356, 1.0801733477789817, 1.0413176996091569, 1.0283278616857159, 1.0491803278688525, 1.0826426300160303, 1.0317151362491412, 1.0769230769230769, 1.0575757575757576, 1.042344674556213, 1.0113636363636365, 1.1733466933867736, 1.03125, 1.0641194554238032, 1.2126984126984126, 1.0357240250886284, 1.3888888888888888, 1.0, 1.25, 1.0429841405305456, 1.042488418266049, 1.3082716257152474, 1.2919943537003429, 1.060104205433569, 1.2260623229461756, 1.1053143372021446, 1.0311293436293436, 1.2628676470588236, 1.02020202020202, 1.0146124523506987, 1.0875009705076586, 1.1444444444444444, 2.25, 1.0544499723604202, 1.1762816262175264, 1.080387685290764, 1.1420454545454546, 1.1991455800197175, 1.0136118701637, 1.170618556701031, 1.4064516129032258, 1.3846153846153846, 1.0963611859838276, 1.1818181818181819, 1.278125, 1.4333333333333333, 1.002538337484374, 1.1628521126760563, 1.067357512953368, 1.0714285714285714, 1.0218475277638093, 1.2009220130618516, 1.0578467744840254, 1.4208754208754208, 1.3333333333333333, 1.0357142857142858, 2.0, 1.158699808795411, 1.5384615384615385, 1.5, 1.2142857142857142, 1.0753341433778858, 1.1175496688741722, 1.0317335093622708, 1.130851256099765, 1.2915951972555746, 1.2280701754385965, 1.125, 1.0, 1.12987012987013, 1.1714285714285715, 1.1326053042121684, 1.0128631230999372, 1.0296404047462273, 1.1962616822429906, 1.0641297660324416, 1.0467659618789709, 2.5, 1.0463395741459594, 1.2767995492322863, 1.5, 2.0, 1.263905325443787, 1.0656617932462156, 1.0792860880181385, 1.3167701863354038, 2.0, 1.0278884462151394, 1.0467836257309941, 3.0, 1.0369311798853609, 1.1026537871909745, 1.0488735598444265, 1.087717106085218, 1.6666666666666667, 1.018277375647044, 1.0559094125973107, 1.018709073900842, 1.0993150684931507, 1.003831417624521, 1.0, 1.0357142857142858, 1.1530519627864761, 1.04270241323913, 2.1923076923076925, 1.0909090909090908, 1.0721386045889356, 1.0068787618228718, 1.032258064516129, 1.1694915254237288, 1.0348712008138594, 1.6300143266475644, 1.013762840331106, 1.4945652173913044, 1.3518518518518519, 1.039301310043668, 1.0, 1.1005718129835182, 1.0080862533692723, 1.0079239387629866, 1.0069790628115654, 1.5, 1.2322064056939501, 1.0197160532288931, 1.2095125786163523, 1.2802956623225052, 1.0209707377295325, 1.0955760229503246, 1.0037784817373383, 1.256926952141058, 1.1132075471698113, 1.0751120278824953, 1.0724971873285665, 1.1164473684210525, 1.316987740805604, 1.6666666666666667, 1.0666666666666667, 1.024236203813314, 1.0606585788561524, 1.0905805054362936, 1.0053475093522346, 1.1377840909090908, 2.0, 1.0243362831858407, 1.0480692716840474, 1.153956834532374, 1.1634980988593155, 1.0060589740137336, 1.0248618784530388, 1.2283150548354935, 1.0084299262381453, 1.0324785090411372, 1.033039973923608, 1.114314115308151, 1.058898847631242, 1.0294117647058822, 1.122677548185449, 1.177699220120355, 1.029682127569995, 1.0231795164396262, 1.0129650507328072, 1.1096822995461422, 1.2, 1.243559718969555, 2.3333333333333335, 2.0, 1.3529411764705883, 1.0166270783847982, 1.00974930362117, 1.132050948791266, 1.0061310962384582, 1.1055389221556886, 1.102510460251046, 1.0794392523364487, 1.0539534883720931, 1.0077787590278366, 1.6, 1.6666666666666667, 1.2719266055045872, 1.0, 1.0439698492462313, 1.168488160291439, 1.0051931191171697, 1.013196142019626, 2.0, 1.016281062553556, 1.3313953488372092, 1.3921038399134666, 1.0405938249188746, 1.1658823529411764, 1.2544520547945206, 1.1372227772227772, 1.0298611858388034, 1.0102189781021897, 1.126984126984127, 1.1927374301675977, 1.6666666666666667, 1.0, 1.0418842868132312, 5.0, 1.7142857142857142, 2.3846153846153846, 1.0447928331466965, 1.0106382978723405, 1.210088691796009, 1.0148814137343047, 1.1666666666666667, 1.1284761904761904, 1.0124416796267497, 1.2259615384615385, 1.4543269230769231, 1.75, 1.0649834878022797, 1.2394678492239468, 1.09375, 1.087066215769317, 1.2222222222222223, 1.0747393104824627]
origin-bjaq_15.71 	max: 32.6250	99th: 5.0000	95th: 2.0000	median: 1.0924	mean: 1.3805

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 11.911424 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[5.9604645e-08 0.0000000e+00 2.3841858e-07 5.2648783e-04 0.0000000e+00]
Distance score: 0.00010535716864978895
SAUCE Drift detection: True
Detection latency: 0.0350s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.9980 nats / 37.5072 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.069127 | Model-update-time: 2.507523


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 53.6929	99th: 25.8714	95th: 2.2493	median: 1.1111	mean: 1.7551
ReportEsts: [1.0087209302325582, 1.014420910319964, 1.038612178309682, 1.032871972318339, 1.4090909090909092, 1.0, 1.0995375128468654, 1.1094471746119758, 1.2, 1.0305084745762711, 1.1292333782233528, 1.0422148887841254, 1.0890382192356154, 1.255813953488372, 1.0707937480845848, 1.4387755102040816, 1.1067961165048543, 23.666666666666668, 1.1666666666666667, 1.1201044386422976, 1.1025247758376593, 1.073314254477636, 1.0835095137420718, 1.0122699386503067, 1.101118666374205, 1.022028225614686, 2.0, 1.0205505639457082, 1.8, 1.4, 1.1798561151079137, 1.0, 1.0495188490731755, 1.0057614354753919, 2.6507936507936507, 1.0099962039731747, 1.0547700656955155, 1.2433155080213905, 4.0, 1.1156111929307806, 1.308259587020649, 1.1115438196555218, 1.0598367926201882, 1.0256070027549642, 1.1717391304347826, 1.0326138762170627, 1.0, 1.4814814814814814, 1.174757281553398, 1.174718196457327, 1.528301886792453, 1.0362669728434504, 1.0501497005988023, 1.0761014686248331, 1.1865953573054164, 1.2657342657342658, 1.067686736079674, 1.0778939776415435, 1.1760242792109257, 1.0777777777777777, 1.0655502507137544, 1.360655737704918, 1.0327264604043338, 1.0233644859813085, 1.018181818181818, 1.1494252873563218, 1.6666666666666667, 1.1506363949088407, 1.2530601383714741, 1.75, 1.0, 1.057076155208501, 1.0142711518858307, 1.108488196885987, 1.1036036036036037, 1.0785619742965715, 1.0395220588235294, 1.040989525663157, 1.4071428571428573, 1.505050505050505, 1.2473382383578768, 1.0004894762604013, 14.022222222222222, 1.0, 1.5714285714285714, 1.0439306358381504, 1.0, 1.263157894736842, 1.2, 3.0, 1.0774006622516556, 1.11375, 1.3342303223044463, 1.21983526953101, 1.2185786233911584, 1.3738317757009346, 1.0610047846889952, 1.3765363128491621, 1.3730650154798762, 2.5, 22.75212981744422, 1.1544962812711292, 1.08, 1.285604900459418, 1.0206985769728332, 1.2204116638078901, 1.3415417558886509, 1.4333333333333333, 1.0112274086771325, 1.182373241306079, 1.2887090173252693, 1.053309374064091, 1.0568454763811048, 1.3333333333333333, 1.625, 1.0972193614830072, 1.0431250691550178, 1.0674778761061947, 1.0843373493975903, 1.0599557534149775, 2.0, 1.251340271207821, 1.014354066985646, 1.0, 1.0196078431372548, 1.1428571428571428, 1.2863247863247864, 1.0064824312397127, 1.0673470758074264, 1.0446428571428572, 1.8, 1.1963534361851333, 1.0, 4.0, 1.123473282442748, 1.0833333333333333, 1.0727477795009164, 1.0264599926213676, 1.1215538847117794, 4.0, 1.4285714285714286, 1.0352422907488987, 1.0032771535580525, 1.05741127348643, 1.008174157893631, 1.243421052631579, 1.176777560339204, 1.1114342407794306, 3.0, 1.0228887134964484, 1.0456754130223518, 1.0725806451612903, 1.0761861313868613, 1.5, 1.160045638419251, 1.0548302872062663, 1.047872340425532, 1.1187739463601531, 1.106837606837607, 1.0078423639867022, 1.0701614781461066, 1.1622814275470241, 1.0525614168729767, 1.3048780487804879, 1.0525700934579438, 1.1239669421487604, 1.1723122238586157, 1.8571428571428572, 1.050720393104402, 1.4895104895104896, 1.1477761836441893, 1.3358841438327984, 34.5, 1.1128959615673322, 1.1126050420168068, 1.1501014198782962, 1.105081363217685, 6.262626262626263, 1.2200172562553926, 1.0799333888426312, 1.069226457399103, 1.287884429220344, 1.020617243934062, 1.4328358208955223, 1.1180285343709468, 1.0342278437740364, 1.1014599255339996, 1.4506437768240343, 1.2733990147783252, 1.3044554455445545, 1.1428571428571428, 1.090887531866959, 1.2658410237057875, 1.3157894736842106, 1.127979274611399, 2.0723306544202065, 1.014727999798798, 1.0296751254981675, 1.2304648862512364, 1.0223259886181235, 1.1541138307283987, 1.0103181427343078, 1.026553824108902, 1.0029843322556578, 1.0694306356465832, 1.0648464163822526, 1.0866709241857495, 1.5305164319248827, 1.0, 1.2564102564102564, 1.0, 1.4545454545454546, 1.1315323897659226, 1.529616724738676, 1.4827586206896552, 1.020627417275462, 1.0, 1.0456634311461812, 1.0357142857142858, 1.3889074986840215, 5.0, 1.002534854245881, 1.0575070821529744, 1.214055948072836, 1.0052506251930378, 25.857142857142858, 1.077444682369736, 1.085846828323336, 1.4046208530805686, 1.0816901408450703, 1.1781512605042017, 1.0846055979643765, 1.0737074080352602, 1.319672131147541, 1.006670587206081, 1.1014350244292168, 1.2527881040892193, 1.1224279835390947, 1.075358851674641, 1.3333333333333333, 1.1449864498644986, 2.0, 1.2160754155296452, 1.0832008479067303, 1.139255946330555, 1.082437275985663, 1.1666666666666667, 1.6666666666666667, 1.002062591725834, 1.309090909090909, 1.0319497016744723, 1.2, 1.0, 1.0133333333333334, 1.0576662762931757, 1.118593816179585, 1.218232044198895, 1.1027027027027028, 1.0889220069547938, 1.0148228488792481, 1.1065308788797508, 1.1929824561403508, 2.0, 1.2752143606193325, 1.37488064167038, 1.1430722891566265, 1.0366139743034504, 1.059303093411896, 1.1382437840320148, 1.0377358490566038, 1.087621675713376, 1.0056122448979592, 1.071716469770674, 1.0008478168715558, 1.0, 1.0498115591573536, 1.0760233918128654, 1.4318181818181819, 1.12, 38.602739726027394, 1.032967032967033, 1.0318788256423415, 1.0097612693306035, 1.054726368159204, 1.6416040100250626, 1.0045036383325405, 1.0416351249053748, 1.2183514182371977, 1.0413242085456533, 1.1111111111111112, 1.1809917355371902, 1.2655758338577723, 1.0313168936566028, 1.1676641090719388, 1.0759170653907495, 1.1589799240368963, 1.010853478046374, 1.0758045467965751, 1.0122730435882836, 1.2694915621412015, 1.1175358437056877, 1.0378486055776892, 28.0, 1.3333333333333333, 1.093725793958172, 1.2727272727272727, 1.105906313645621, 1.1246423061200268, 1.1061728395061727, 1.6774193548387097, 1.0169491525423728, 1.16, 1.0415162454873645, 1.0000252178189108, 1.0833333333333333, 1.3461376699845786, 1.0596116721375455, 1.218978102189781, 2.8, 1.5384615384615385, 1.1439628482972137, 1.4285714285714286, 1.0019401724965649, 1.1252059308072488, 1.1578947368421053, 1.301143826619965, 1.032258064516129, 1.4166666666666667, 1.0129563117260834, 2.0, 1.153225806451613, 1.1991279069767442, 9.979827089337176, 9.912220309810671, 1.0208333333333333, 1.1505376344086022, 1.0256328732280098, 1.226373911702896, 1.177760677183532, 1.1266010487406517, 1.078614164463615, 3.0, 1.1111111111111112, 1.042695630708467, 1.5, 1.0434153400868307, 1.5294117647058822, 1.6666666666666667, 1.5555555555555556, 1.440909090909091, 1.065269943593876, 1.3539823008849559, 1.06503807106599, 1.4848484848484849, 1.3333333333333333, 1.013907298850982, 1.2961538461538462, 1.0666666666666667, 1.0012793347459321, 1.3621399176954732, 1.0270897832817338, 1.2524557956777995, 1.75, 1.75, 1.2865213882163036, 1.2945736434108528, 1.1445358401880141, 1.1282905208511889, 1.4403860430586488, 1.0460358056265984, 1.5, 1.031249811238697, 1.079654510556622, 1.4166666666666667, 1.0033291718684978, 1.1009346069933368, 1.4, 1.1692817679558012, 1.0297029702970297, 1.1773418014450645, 1.26742350920331, 1.1, 1.0450987066031314, 1.1153900014003642, 1.25, 1.050080775444265, 1.055282313594334, 1.0745454545454545, 1.1666666666666667, 1.0003870499931409, 1.049405019047245, 2.0, 1.288454706927176, 1.5890410958904109, 10.553008595988539, 1.169101996203187, 1.0393700787401574, 1.3333333333333333, 1.3644859813084111, 1.060483870967742, 1.0441176470588236, 4.0, 1.2316753926701571, 1.0013224548348052, 1.2303113553113554, 1.260134427540509, 1.2105263157894737, 1.2653061224489797, 1.094850948509485, 1.0, 1.173137222543114, 1.510204081632653, 1.112157433256006, 1.0943638700201945, 1.0105891251365662, 1.1444991789819376, 1.5714285714285714, 1.232096184004182, 1.1666666666666667, 48.339285714285715, 1.4, 1.1712261041529335, 1.018773466833542, 1.0939251089566842, 1.1041666666666667, 1.1303692539562924, 3.0, 1.5514075887392902, 1.0112711251049982, 1.1840433556993688, 2.0, 1.2857142857142858, 1.232157506152584, 1.3260188087774294, 1.0317116848231607, 1.363825363825364, 1.05, 1.3787748058671268, 1.0768330492988112, 1.0612011015514087, 1.1309418831006772, 1.2041299611632093, 27.5, 1.2, 1.0748620961386919, 1.1105882352941177, 1.2580645161290323, 1.2023038156947443, 1.0188679245283019, 1.2400534105825374, 1.7894736842105263, 2.75, 1.0114702612020365, 1.328358208955224, 3.0, 1.3541666666666667, 1.1392857142857142, 1.08361560657383, 1.0, 1.1030122722201563, 1.0059024205339253, 1.1275315357018862, 1.0380244755244756, 1.1148936170212767, 1.0813919197876734, 1.123570800351803, 1.007905138339921, 1.1458966565349544, 1.3333333333333333, 1.080295676386656, 1.1033544877606527, 1.5263157894736843, 1.0551127082652727, 1.0901639344262295, 1.3005249343832022, 1.003518648838846, 1.4627681952040388, 1.1213912700758695, 1.0, 1.0121951219512195, 1.053231939163498, 1.0144160583941606, 1.0806317539484622, 1.25, 1.0975099790914276, 1.0028664842712318, 1.0420129270544782, 2.0, 1.0217539089055065, 1.0714829724730714, 1.0584811670817873, 1.3107221799470956, 1.0138542785944538, 1.2005685856432124, 1.0775988286969254, 1.122617534942821, 3.0, 1.121389609228293, 1.0294540229885059, 1.0, 1.3333333333333333, 1.1355932203389831, 1.013213016172876, 1.040156709108717, 1.0833882297210276, 1.1700949367088607, 1.0917625102589181, 1.2407152682255846, 1.0700938124257213, 2.399524375743163, 1.0705882352941176, 2.032258064516129, 1.0757799720136385, 1.3061224489795917, 1.0033525693871943, 1.0885595873152205, 1.0, 1.036919412465264, 1.4484848484848485, 1.75, 1.0357142857142858, 1.017462601257465, 1.0229885057471264, 1.0277869665894805, 1.0, 1.2857142857142858, 1.0171878730007162, 1.282383949002942, 1.006906850849356, 1.1661377608119088, 1.0316856780735109, 53.69291338582677, 1.0355815188528943, 1.1111404435058079, 1.806896551724138, 1.0348151252377422, 1.1121878494222885, 1.1235955056179776, 1.195833414433177, 1.03125, 1.1015697241705948, 2.0, 1.185212298682284, 1.0206896551724138, 1.1055172221913083, 1.1044083526682134, 1.1256332320162108, 1.011686143572621, 1.0556038227628148, 1.085230940456316, 1.0, 1.5319148936170213, 1.5, 1.0, 1.2307692307692308, 1.193298969072165, 1.0357634112792298, 1.2475728155339805, 1.0794581762323698, 1.1727871939736347, 1.024314403591797, 1.0489192263936291, 1.0937975215970492, 1.1355692156380623, 1.0178664243342845, 1.0248520710059172, 1.02953897736798, 1.0489521832219555, 1.0548501777552057, 1.0838323353293413, 1.195088676671214, 1.048951048951049, 1.009482830645835, 1.1891891891891893, 1.1082908241656935, 1.235632183908046, 1.3872732507918226, 1.3552266419981498, 1.5, 1.0469135802469136, 1.0, 1.5555555555555556, 1.0764119601328903, 1.0390000402560284, 1.027047913446677, 1.0, 1.2987012987012987, 1.031588632181558, 1.1843986469993375, 1.2991266375545851, 1.0, 5.0, 1.1466386018624826, 1.085972850678733, 1.1209428129829984, 1.1120751988430948, 1.0, 1.030117122141662, 1.3558441558441559, 1.128385482759871, 1.1317829457364341, 1.0519641679916236, 1.2222195216799534, 1.0148073982870827, 1.5584415584415585, 7.0, 1.1360228682379592, 1.0, 1.0293040293040292, 1.2152466367713004, 1.3545521835677277, 1.7142857142857142, 1.0961815561959654, 1.3, 1.105263157894737, 1.0374066897493726, 1.0135746606334841, 1.0550893498425404, 1.0000248782661205, 1.119047619047619, 1.1875, 1.1935483870967742, 1.3278350515463917, 1.067883895131086, 1.2280353200883003, 1.104326286076387, 1.16252899009066, 1.0, 1.3486994030761188, 1.1634615384615385, 2.0, 1.0251552638222672, 1.0879102803738319, 1.1598326359832636, 1.0229806585880163, 1.0274591815617204, 1.168141592920354, 2.857142857142857, 1.0953058321479374, 1.0239605355884425, 1.1164907864116036, 1.0298866368945379, 1.013924831183535, 1.08884388335902, 1.2393442622950819, 1.0513392857142858, 1.3645484949832776, 1.0889306444606117, 1.2561514195583596, 1.0917501927525057, 1.0172884440400365, 1.0494343387175513, 1.1349480968858132, 1.0165134490977188, 1.2222222222222223, 1.4, 1.2674591381872213, 1.6094549834387233, 1.2054538662682106, 1.0495193708127002, 1.1666666666666667, 1.0522765598650927, 1.072234762979684, 1.0636942675159236, 1.0291264746412125, 2.0, 1.047457627118644, 1.5, 1.25, 1.0769230769230769, 1.601075656511027, 1.5, 1.3628691983122363, 1.0205655526992288, 1.0, 1.1009110988404196, 1.2146341463414634, 1.1666666666666667, 2.0, 1.037593984962406, 1.2887537993920972, 1.085909631391201, 1.0247311827956989, 1.075221238938053, 30.686808510638297, 1.0626631853785902, 24.457399103139014, 1.012396694214876, 1.5815602836879432, 2.2413793103448274, 2.5, 1.173155737704918, 1.204906204906205, 1.0421245421245422, 1.0441354856769618, 1.0835137643055985, 1.0696029776674938, 1.2578854534135713, 1.0411999121403244, 1.134131736526946, 1.022604951560818, 1.375, 1.0, 1.096774193548387, 1.034299371003112, 1.0827638572513287, 1.1736526946107784, 1.0788177339901477, 1.0658652001534723, 1.066047280623828, 1.0115683802935134, 1.1772151898734178, 1.7, 1.0320113314447592, 1.036740488358887, 1.0589604225675573, 1.0557837551344906, 1.0416666666666667, 1.1845097460129947, 1.0203694294658516, 1.0665813060179257, 1.5310590631364562, 2.0, 1.0939051918735891, 1.0340425531914894, 1.0317153160850936, 1.3333333333333333, 1.063921327596804, 1.0, 1.1773504273504274, 1.1352977326390012, 1.0, 1.0777647571810105, 1.0355086372360844, 1.075, 1.0523492293824066, 1.200396539293439, 1.2477840451248994, 1.0865384615384615, 1.118006103763988, 1.202661297382474, 1.230357142857143, 3.8421052631578947, 1.0, 1.1111111111111112, 1.0048312958435208, 1.6666666666666667, 1.1127397233923866, 1.0938578490812425, 1.1318121400088612, 1.072461273666093, 1.0629732305293251, 1.112093023255814, 1.0150602409638554, 1.0843672456575681, 1.005534126436315, 1.1019452082696812, 1.043904547812554, 1.4272552089606168, 1.25, 1.0905587668593448, 1.0280701754385966, 1.218118478976741, 1.0278551532033426, 1.3020784128483702, 1.0648298217179903, 3.0381679389312977, 1.0682772116876982, 1.0309633027522935, 1.2262200956937799, 1.375, 1.1041775997457908, 1.0570742176476704, 1.3419267299864315, 1.0798662704309063, 1.1428571428571428, 45.60287081339713, 1.6220723917672109, 1.0999168130141417, 1.0933333333333333, 1.0194502977786704, 1.2727272727272727, 1.1609156422212803, 1.2343159486016628, 1.0142857142857142, 1.0360360360360361, 1.0888888888888888, 1.1137088204038257, 1.0720268006700167, 1.0489115991399096, 1.0397286821705427, 1.1130537067942814, 1.0649923124734209, 1.0, 1.0869888475836431, 1.0833026848105922, 1.5110333394731994, 1.1567567567567567, 2.4645061728395063, 1.111665004985045, 1.144223693892568, 1.0159151193633953, 1.0428941030468117, 1.5, 1.109356014580802, 1.2436383324309692, 1.060783430886988, 1.0654044750430292, 1.1754876363077869, 1.3125938281901586, 1.2330407023144454, 1.0123203285420945, 1.0901193984091566, 1.0815637065637065, 1.2738970588235294, 1.0, 1.0250152532031727, 1.1158250084659669, 1.1612903225806452, 2.5, 1.055040594442192, 1.177649461305542, 1.1419612314709235, 1.1363636363636365, 1.214353163361662, 1.0125304580896686, 1.176033671700916, 1.3727272727272728, 1.4230769230769231, 1.213611859838275, 1.2456140350877194, 1.334375, 1.1944444444444444, 1.0401565188433146, 1.1483333333333334, 1.064039408866995, 1.1428571428571428, 35.948616600790515, 1.1547356828193833, 1.1538461538461537, 27.285714285714285, 1.0638578011849902, 1.1594202898550725, 1.1044698544698546, 1.0833333333333333, 1.2335665662079285, 1.7961783439490446, 1.1801112656467316, 1.1475409836065573, 1.1379310344827587, 1.2922712466686408, 1.004914225784703, 1.1558521005534137, 1.0338573155985489, 1.1639344262295082, 1.1875, 1.135135135135135, 1.1538461538461537, 1.0857142857142856, 1.1598793363499247, 1.012504866820878, 1.030597089138322, 1.1636363636363636, 1.1017975687559272, 1.046485388206813, 2.5, 1.044154424899649, 1.3957801370783496, 1.5, 2.0, 1.4050295857988166, 1.0804909640412015, 1.0803834234874654, 1.4472049689440993, 2.5, 1.0573770491803278, 1.3094555873925502, 3.0, 1.0216785135303654, 1.0825633383010431, 1.0356320529682446, 1.1701861801824316, 1.4285714285714286, 1.0351204434022596, 1.0603799185888738, 1.0, 1.1176470588235294, 1.0232558139534884, 1.0, 1.3181818181818181, 1.1232970746646953, 1.031340812326823, 2.4838709677419355, 1.1162790697674418, 1.0762344491471079, 1.0469684030742954, 1.037037037037037, 1.0, 1.0434930584114468, 1.4848531924809694, 1.070531786398945, 1.2549019607843137, 1.2972972972972974, 1.0746887966804979, 1.0, 1.094147582697201, 1.0344827586206897, 1.0082261671434347, 1.0264900662251655, 1.5, 1.1474763406940063, 1.0243923277371951, 1.1690298507462686, 1.4353238669519548, 1.0182026841786478, 1.0953203743700504, 1.049467680608365, 1.0302457466918715, 1.105263157894737, 1.1028094462540716, 1.130572174190914, 1.060625, 1.094570928196147, 1.6666666666666667, 1.12, 1.0239184954863387, 1.0346620450606585, 1.059439351667331, 1.0653514471352628, 1.2052556818181819, 1.6, 1.037837837837838, 1.002862431540179, 1.153169014084507, 1.0418250950570342, 1.0395533296590065, 1.0363636363636364, 1.2393162393162394, 1.0252707581227436, 1.0300365588905145, 1.0077603516578932, 1.1967370441458733, 1.092189500640205, 1.0285714285714285, 1.1708729472774417, 1.2994551145805155, 1.12966107641569, 1.011471053251253, 1.0400667779632722, 1.1717095310136156, 1.2777777777777777, 1.2669683257918551, 2.6666666666666665, 2.0, 1.3529411764705883, 1.0344827586206897, 1.0013029315960913, 1.1254409744142002, 1.0276770030139974, 1.0407092907092907, 1.1225941422594141, 1.0786026200873362, 1.065651760228354, 1.073262163802063, 1.6, 1.9166666666666667, 1.139968895800933, 1.0, 1.1109693877551021, 1.1836022677714784, 1.0511710597511015, 1.0235824007237968, 2.0, 1.0404401650618982, 21.4595, 1.0595142885009265, 1.040456028126761, 1.2922374429223744, 1.3017123287671233, 1.1520220730107278, 1.0566017432476058, 1.0392156862745099, 1.0923076923076922, 1.2988826815642458, 2.0, 1.0, 1.0424746254229096, 5.0, 1.7142857142857142, 1.9411764705882353, 1.020629750271444, 1.0106382978723405, 1.2621951219512195, 1.0198182089107435, 1.1666666666666667, 1.0776183122899445, 1.0328521652563465, 1.3532338308457712, 1.5240384615384615, 2.0]
origin-bjaq_15.71 	max: 53.6929	99th: 25.8714	95th: 2.2493	median: 1.1111	mean: 1.7551

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 12.118417 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[5.9604645e-08 5.9604645e-08 2.3841858e-07 5.0783157e-04 0.0000000e+00]
Distance score: 0.00010163783736061305
SAUCE Drift detection: True
Detection latency: 0.0367s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.9792 nats / 37.4801 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.082871 | Model-update-time: 2.513490


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 104.8438	99th: 34.1587	95th: 3.0000	median: 1.1333	mean: 2.2347
ReportEsts: [1.1089385474860336, 1.035829915821282, 1.0461494516219256, 1.0850694444444444, 1.2916666666666667, 1.0, 1.1761562178828366, 1.1701224774518966, 1.2, 1.0213903743315509, 1.1971203127607333, 1.0424570339738308, 1.269634607307854, 1.3581395348837209, 1.0575962386129885, 1.4536585365853658, 1.1131498470948011, 26.714285714285715, 1.2727272727272727, 1.0374376039933444, 1.1517151950960745, 1.09460516028147, 1.755813953488372, 1.0058922558922558, 1.1270509045014725, 1.0343750539764058, 2.0, 1.0081795760357155, 1.6666666666666667, 1.4, 22.34505862646566, 1.0, 1.0455235038438901, 1.002859847135573, 3.1611570247933884, 1.0143317807237549, 1.023489467849224, 1.3903743315508021, 5.0, 1.3235133749460852, 1.072322795640818, 1.1447341553443808, 1.1700507614213198, 1.0235008413645403, 1.184782608695652, 1.0651144037899405, 1.25, 1.0229405630865485, 1.2105263157894737, 1.2415458937198067, 54.0, 1.0684931506849316, 1.0424710424710424, 1.206896551724138, 1.1159919399157354, 1.208100147275405, 1.065985401459854, 1.3106796116504855, 1.074468085106383, 1.072057424224228, 1.5238095238095237, 1.0615344501662212, 1.0029411764705882, 1.0440677966101695, 1.2413793103448276, 2.0, 1.2195904698782571, 1.216778025241277, 1.4024390243902438, 1.1333333333333333, 1.2238227146814404, 1.011764705882353, 1.1140811455847255, 1.195945945945946, 1.0855215404978438, 1.2370517928286853, 1.071570845923497, 1.3466666666666667, 1.5145631067961165, 1.2703867366966743, 1.059753086419753, 17.82608695652174, 1.0, 1.8571428571428572, 1.097802197802198, 1.042857142857143, 1.0869565217391304, 34.111111111111114, 4.0, 1.0894832634327767, 1.1140167364016735, 1.1091484184914842, 1.1752719896736123, 1.3770565193060995, 1.2585669781931463, 1.1104582843713278, 1.1837037037037037, 1.2561768530559168, 5.0, 1.3375048885412593, 1.12, 5.0, 1.074281644523202, 1.1558386411889596, 1.3198970840480275, 1.3958057474143792, 1.5161290322580645, 1.0165347250016894, 1.234934961507831, 1.4283994027262656, 1.0620651266351238, 1.0480572597137015, 1.5, 1.3333333333333333, 1.0665873959571939, 1.0626390368203207, 1.0743099787685775, 1.2352941176470589, 1.058708364059368, 2.0, 1.2655313781141595, 1.0956937799043063, 1.0, 1.061611374407583, 1.1428571428571428, 1.2912423625254583, 1.018828326094239, 1.0671334960812027, 1.0625, 1.5, 1.208138759172782, 1.0, 5.0, 1.1336917889364804, 1.0, 1.1821946169772257, 1.1897467211809059, 1.1063988095238095, 1.1044776119402986, 1.1888701517706577, 1.1133508278953113, 1.1693121693121693, 1.1369863013698631, 1.1666666666666667, 1.1639344262295082, 1.2618579848442324, 3.0, 1.022255752546209, 1.040946314831665, 1.1228287841191067, 1.083139534883721, 1.5, 1.3067776456599287, 1.1030927835051547, 1.0629251700680271, 3.5, 1.0, 1.2055455093429777, 1.0581523136998152, 1.4103481939472828, 1.1159695817490494, 1.3225, 1.5918367346938775, 1.475, 1.2312223858615612, 1.5714285714285714, 1.0769295214994135, 1.3987341772151898, 1.0703324808184143, 1.1054478301015698, 46.25, 1.245508682380023, 1.1974723538704581, 1.1078066914498141, 1.1505038703081643, 7.455384615384616, 1.2286453839516824, 1.047808764940239, 1.0566137566137566, 1.4467767714437934, 1.0117844682775552, 1.5149253731343284, 1.0930599369085174, 1.0151528354238804, 1.1510386047423085, 1.5708154506437768, 1.2901631240731586, 1.3914081145584725, 1.8571428571428572, 1.3620689655172413, 1.3050447699749563, 1.25, 1.1267326732673266, 2.4986185052901138, 1.0177892619645659, 1.0642053342821463, 1.233123312331233, 1.0483421565895792, 1.2195063789197567, 1.0302027306578403, 1.0423482058747966, 1.0681329189576858, 1.041674226835963, 1.0648623425104993, 1.1137295976259056, 1.066350710900474, 1.125, 1.216867469879518, 1.0, 1.5149253731343284, 1.1194719042663892, 1.588850174216028, 1.4367816091954022, 1.0198019801980198, 1.5, 1.0443171960288022, 1.0162412993039442, 1.4369526726324353, 6.0, 1.021144278606965, 1.0590287094177622, 1.253417772416566, 1.0032713825146975, 34.0, 27.894127377998345, 1.1180091938339587, 1.3127128263337118, 1.0790190735694822, 1.2313915857605178, 1.0243055555555556, 1.0602525479135954, 1.2868217054263567, 1.0041997416613908, 1.1400700619779036, 1.3494423791821561, 1.0340425531914894, 1.0797687861271676, 1.5, 1.0493186242699546, 2.0, 1.1989700374531835, 1.1229338367328145, 1.1380517207855336, 1.0862068965517242, 1.1666666666666667, 1.6666666666666667, 1.0918401276850436, 1.3636363636363635, 1.0416372618207481, 1.2, 1.0170114942528736, 1.196875, 1.5, 1.039046119455345, 1.2845303867403315, 1.0809646856158484, 1.130558183538316, 1.0145027624309393, 1.1399583266549127, 1.1578947368421053, 2.0, 1.2949643246355356, 1.4530671682543534, 1.1053391053391053, 1.0155250661479962, 1.1280794432874486, 1.1742931181525946, 1.0570409982174689, 1.0564225168441643, 1.0038591413410516, 1.102571230020848, 1.1059758281110117, 1.2666666666666666, 1.0135071256876766, 1.080074487895717, 1.4318181818181819, 1.3181818181818181, 50.39754601226994, 1.066255778120185, 1.001680943365792, 1.0014734774066798, 1.0963855421686748, 1.7042606516290726, 1.017303363071445, 1.0298818624044475, 1.1975515079128098, 1.0716505776528065, 1.0, 1.1765169424743893, 1.0964970257766027, 1.097340692423482, 1.1976607658959537, 1.1008766109580272, 1.2291021671826625, 1.021405304792927, 1.0284363533728478, 1.0673406919580744, 1.3579428521912438, 1.1279659681739405, 1.0275665399239544, 32.75, 1.5, 1.081925925925926, 1.3636363636363635, 1.1371769383697814, 1.0668078188211274, 1.0339026255416772, 1.7741935483870968, 1.065040650406504, 1.5769230769230769, 1.0260986698097323, 1.0193843258502486, 1.12, 1.4151128557409225, 1.0594085577399637, 1.3209302325581396, 5.0, 1.8181818181818181, 1.1669246646026832, 1.4285714285714286, 1.0045540869278016, 1.1514195583596214, 1.2105263157894737, 1.3557765980735552, 1.125, 1.5, 1.0041742705514651, 2.0, 1.1221374045801527, 1.254360465116279, 11.240297274979357, 12.04632587859425, 1.0911062906724511, 1.1914893617021276, 1.0392757344222063, 1.3339418871660054, 1.2198005171776876, 1.182333272709467, 1.1691943787393906, 3.0, 1.1111111111111112, 1.0366101374651613, 1.5, 1.0392428439519852, 1.588235294117647, 2.0, 1.6666666666666667, 1.4399293286219081, 1.0712625871417505, 1.2121212121212122, 1.0175834084761046, 1.5454545454545454, 1.3333333333333333, 1.0498657569952357, 1.3125, 1.1733333333333333, 1.0010764519002233, 1.5228215767634854, 1.0086455331412103, 1.3301797540208136, 1.75, 2.0, 1.4224872231686543, 1.1401273885350318, 1.190364277320799, 1.130453148100345, 1.5343726800296955, 1.0827067669172932, 1.5, 1.0289202583404373, 1.0344827586206897, 1.121212121212121, 2.6666666666666665, 55.75063613231552, 1.0, 1.3333333333333333, 1.0495049504950495, 1.2248004502660663, 1.3246749849590624, 1.1368421052631579, 1.0992511395702191, 1.1172524818889187, 1.3125, 1.1082390953150243, 1.1063885856266236, 1.069090909090909, 1.2, 1.0200642514987235, 1.058277772560804, 25.550047066206464, 1.24, 1.1538461538461537, 1.1791666666666667, 6.0, 1.0434782608695652, 1.54, 1.1878557874762807, 2.050251256281407, 1.25, 1.1286831028262176, 1.033112582781457, 1.0108650953401295, 1.3026556776556777, 1.3634995938861405, 1.0681818181818181, 1.016, 1.0610687022900764, 1.0, 1.1889933759167257, 1.4615384615384615, 1.109657871956039, 1.100611808787799, 1.116954893920485, 1.1375786163522013, 1.375, 1.1294930875576037, 1.1666666666666667, 58.65573770491803, 1.2727272727272727, 1.1966958107600707, 1.0011961722488039, 1.0541336925408318, 1.08, 1.0837874659400546, 3.0, 1.542614414908194, 1.011406594461097, 1.1894353369763206, 2.0, 1.3333333333333333, 1.2286609240407205, 1.3753846153846154, 1.1080062677212357, 1.03625808267112, 1.2380952380952381, 1.272648835202761, 1.0362042328239303, 1.0386858039919264, 1.0253122582071406, 1.0993788819875776, 104.84375, 9.518248175182482, 1.2016129032258065, 1.0976313753496398, 1.0077519379844961, 1.2233529726834493, 1.0, 1.5, 1.1024327784891166, 1.0854700854700854, 1.143727161997564, 1.3377786179518465, 1.310919185687847, 1.0, 1.336283185840708, 1.4, 1.2814929324697708, 1.0454545454545454, 1.0, 1.1358517297711468, 1.5, 1.0, 1.1759637188208616, 1.5, 1.2027184466019418, 1.0159090909090909, 1.0833333333333333, 1.3333333333333333, 1.0903142916555268, 1.1156879929886065, 1.5, 1.021011623451271, 1.1031746031746033, 1.3503937007874016, 1.020945945945946, 1.5477492637778714, 1.227909536675673, 1.0, 1.011764705882353, 1.0365762254534552, 1.1059543083288361, 1.0729411764705883, 1.25, 1.0658443678577907, 1.0063404567301164, 1.0470275066548358, 2.0, 1.0210492227979275, 1.0573396850167347, 1.0034010300262366, 1.3826925041719171, 1.0101123105757914, 1.0724891266310053, 1.0837370242214532, 1.0804967801287948, 2.5, 1.1134448389442615, 1.2019867549668874, 1.0385267748970197, 1.0180623973727423, 1.0414364640883977, 1.0165126156245363, 1.0346153846153847, 1.170253317073527, 1.1340128350320875, 1.0927743487694919, 1.2284595300261096, 1.1106141489924495, 2.7080965384899254, 1.103448275862069, 1.9583333333333333, 1.1414711999447058, 1.3265306122448979, 1.0102416934337317, 1.0839940802305181, 1.0, 1.092854552049329, 1.2674418604651163, 2.0, 1.0333333333333334, 1.0813524619919554, 1.0613026819923372, 1.0237041719342603, 1.0, 1.2666666666666666, 1.0187471422039323, 1.3808434128800262, 1.001416430594901, 1.2737432736972818, 1.0937896070975919, 65.21223021582733, 1.0464285714285715, 1.242625835973249, 1.8482758620689654, 1.0465379987040637, 10.0, 1.2307692307692308, 1.0251968503937008, 1.0286458333333333, 1.0211748920290158, 1.05541942358983, 1.0436071391295272, 1.1977818853974123, 1.1474452554744525, 1.0707042076089694, 2.0, 1.33271719038817, 1.0121413989470291, 1.0888950429243978, 1.0, 1.305699481865285, 1.1259698970630738, 1.018762677484787, 1.057548166406761, 1.5425268373245251, 1.027237354085603, 1.0555555555555556, 1.0751633986928104, 1.2857142857142858, 1.1984126984126984, 1.388732394366197, 1.5, 2.2494117647058824, 1.5294117647058822, 1.589171974522293, 1.0355291017430237, 1.0729166666666667, 1.1944444444444444, 1.1121718377088305, 1.11685667752443, 1.0806582141893715, 1.0384182204980603, 1.276323189401987, 1.0729636585413076, 2.0, 1.0229007633587786, 1.5898520084566596, 1.0, 1.0, 1.0213523131672597, 1.0555555555555556, 1.5, 1.4201680672268908, 1.049361781566727, 1.023958717287136, 1.0077319587628866, 1.344155844155844, 1.1109618249262494, 1.1848519719635946, 1.296943231441048, 1.0, 6.0, 1.0928417496650942, 1.0281124497991967, 1.1804371989625788, 1.1183786273606633, 1.0, 1.0073033707865169, 1.4233766233766234, 1.099603141096006, 1.128166915052161, 1.0104829582351522, 1.041241726087327, 2.136029411764706, 1.0, 1.0435041716328963, 1.0024650780608053, 1.6666666666666667, 1.2194078500611163, 3.0, 1.077035414384812, 1.3265521597315184, 1.5714285714285714, 1.2027377521613833, 1.5, 1.0526315789473684, 1.0652849740932642, 1.0688158710477371, 1.1481736860574645, 1.0000259654832175, 1.160676532769556, 1.0857142857142856, 1.0810810810810811, 1.3278350515463917, 1.0408340573414423, 1.2598233995584989, 1.0388609106484605, 1.1651549747070178, 1.0, 1.5536251105216623, 1.4622641509433962, 2.0, 1.0382897255902999, 1.0767371341934378, 1.1807909604519775, 1.0176575788783329, 1.038360610818957, 1.1504424778761062, 2.4285714285714284, 1.083529017108353, 1.0040705563093624, 1.094104974539757, 1.0076717811874583, 1.0373649016035333, 1.1353589981546077, 1.259141494435612, 1.1473214285714286, 1.4548494983277591, 1.0442672941628448, 1.3047318611987382, 1.0522058823529412, 1.0042808219178083, 1.018684376205853, 1.0269865067466266, 1.0442704171328112, 1.6111111111111112, 1.6, 1.2526002971768202, 1.598395875107419, 1.2768023907358983, 1.1063372717508055, 1.1666666666666667, 1.0437898089171975, 1.070206699928724, 1.0552147239263803, 1.0498152140437327, 2.0, 1.1376144148293132, 1.5, 1.2757009345794392, 1.1538461538461537, 1.7883290204402058, 1.5483870967741935, 1.409282700421941, 1.0032441200324411, 1.0, 1.067007485849918, 1.2330163043478262, 1.3333333333333333, 2.0, 1.0827067669172932, 1.2309941520467835, 1.1507134363852556, 1.018887722980063, 1.0688202247191012, 38.872964169381106, 1.0473815461346634, 31.115675675675675, 1.0857142857142856, 1.273037542662116, 2.40625, 3.0, 1.1498559077809798, 1.274170274170274, 1.001765225066196, 1.0059803502776592, 1.1197614225936539, 1.099172870140612, 1.2897681795274656, 1.157619477006312, 1.2115621156211562, 1.016751269035533, 1.375, 1.0, 1.0625, 1.0359869549644656, 1.0899854862119014, 1.2023460410557185, 1.3620689655172413, 1.1392825226605388, 1.0176338606203421, 1.0159771571979155, 1.2048192771084338, 1.8095238095238095, 1.0092275243870288, 1.0472061134897837, 1.1299242134272371, 1.020397710824593, 1.0755813953488371, 1.2647666863555818, 1.0391883855499022, 1.158247580012209, 1.0533728687916974, 1.3140516828390805, 1.1119402985074627, 1.1142212189616252, 1.028225806451613, 1.0315362423368193, 12.5, 1.0340425531914894, 1.0, 1.2052845528455285, 1.165135685868616, 1.0, 1.041174520421496, 1.0322283609576428, 1.0232558139534884, 1.0983986068551408, 1.260454217736121, 1.3350456621004567, 1.1106870229007633, 1.1698301698301699, 1.2112581107272267, 1.2364864864864864, 4.7894736842105265, 1.0, 1.25, 1.0298322172898955, 1.6666666666666667, 1.0966669977695704, 1.1055755114789942, 1.1457687195392114, 1.0775449595776274, 1.0670209846046361, 1.1063223508459483, 1.0171428571428571, 1.0877403846153846, 1.0023636519395964, 1.1691812237728116, 1.0456343535512946, 1.4515536553053114, 1.25, 1.140952380952381, 1.0454545454545454, 1.3461471801448923, 1.0212765957446808, 1.3373549883990719, 1.0987261146496816, 3.097902097902098, 1.0458735316803014, 1.0610687022900764, 1.2578588516746412, 1.375, 1.1155291072811861, 1.0414206953717344, 1.299874529485571, 1.0876879026485327, 1.3125, 56.99324324324324, 1.8249909974792942, 1.1529531379979665, 1.0731707317073171, 1.017716205074073, 1.393939393939394, 1.2440864773208986, 1.3280423280423281, 1.0484693877551021, 1.0277777777777777, 1.056637168141593, 1.0660194174757283, 1.156895589056393, 1.0578480760691482, 1.03311867525299, 1.1244196314125388, 1.1109457293336387, 1.0769230769230769, 1.0828025477707006, 1.08740234375, 1.6512433900242962, 1.1535483870967742, 2.946518668012109, 1.0857681432610744, 1.0126023944549465, 1.0525641025641026, 1.023802116511854, 1.3571428571428572, 1.1067285382830627, 1.2389520827553406, 1.052036681595223, 1.0925925925925926, 1.174797041573975, 1.3507737929756278, 1.3375897845171587, 1.0059171597633136, 1.1017015418950729, 1.150729971042471, 1.3345588235294117, 1.0714285714285714, 1.0551889622075585, 1.0794357531723706, 1.125, 2.0, 1.0435593553108322, 1.1696613729713818, 1.1904218928164196, 1.2159090909090908, 1.2502263809236343, 1.0108267945703042, 1.189601717147627, 1.4017094017094016, 1.4615384615384615, 1.2304582210242587, 1.2666666666666666, 1.375, 1.4827586206896552, 1.0420372218125027, 1.140711462450593, 1.0710900473933649, 1.2857142857142858, 45.357142857142854, 1.181721004810262, 1.1397849462365592, 33.81818181818182, 1.073557387444515, 1.2415458937198067, 1.1835978835978835, 1.0833333333333333, 1.290227905723099, 1.8659217877094971, 1.2152990264255912, 1.1221374045801527, 1.1333333333333333, 1.344623200677392, 1.020014556040757, 1.1764903781456062, 1.5345104333868378, 1.1428571428571428, 1.1764705882352942, 1.0, 1.240506329113924, 1.0142857142857142, 1.0169923534409515, 1.0023893593138697, 1.031194271279355, 1.103448275862069, 1.1649409438576408, 1.0468404315588804, 2.5, 1.042782791962289, 1.4699491301890348, 1.5, 2.0, 1.3970414201183432, 1.069315100789815, 1.0652702136573104, 1.5031055900621118, 2.0, 1.1627906976744187, 1.553370786516854, 24.666666666666668, 1.0295209643705916, 1.1056029513488586, 1.0662451038293654, 1.2304135949019117, 1.4285714285714286, 1.025538901987201, 1.054510058403634, 1.1082331174838114, 1.1125, 1.0235017626321974, 1.0, 1.8181818181818181, 1.2206843521722415, 1.0078475688231785, 3.206896551724138, 1.0664556962025316, 1.0653640042287922, 1.1246797608881298, 1.0063492063492063, 1.1311475409836065, 1.008623380147907, 1.4290405482581383, 1.1494077102933191, 1.0634920634920635, 1.3245614035087718, 1.0474308300395256, 1.0, 1.0955124317768345, 1.051948051948052, 1.0042742679765282, 1.0753176043557169, 1.5, 1.222935044105854, 1.0034733312040882, 1.2044728434504792, 1.2847695000972574, 1.0783034037320793, 1.085557083906465, 1.1001140684410646, 1.2567567567567568, 1.1551724137931034, 1.1585231328272014, 1.0857778419269661, 1.0047142015321155, 1.1716287215411558, 1.6666666666666667, 1.12, 1.1976305869682282, 1.173310225303293, 1.1509515746698273, 1.1158023232919867, 1.1981534090909092, 2.0, 1.072198275862069, 1.051237797806573, 1.165609847071988, 1.6045627376425855, 1.0565142168718353, 1.103359173126615, 1.1818181818181819, 1.0087421078193297, 1.02918017461963, 1.0113300118863964, 1.2647058823529411, 1.1574903969270167, 1.0555555555555556, 1.1053083528493364, 1.4694275774420067, 1.181545154725984, 1.0013682066946672, 1.0940456316082359, 1.2594553706505296, 1.3513513513513513, 1.264957264957265, 3.0, 2.5, 1.4705882352941178, 1.0489977728285078, 3.88, 1.1573025362991571, 1.004783977920102, 1.074647561821123, 1.1468619246861924, 1.0942622950819672, 1.0085984522785898, 1.0734821403439638, 1.3333333333333333, 1.75, 1.147181008902077, 1.125, 1.0132013201320131, 1.2258894127732534, 1.0455920324603467, 1.0008934458048098, 2.0, 1.0104669887278583, 26.637347130761995, 1.0767728253590296, 1.0410573443356281, 1.1563192904656319, 1.3643835616438356, 1.1592831700801425, 1.0950715592381361, 1.0040540540540541, 1.0985915492957747, 1.3226256983240223, 2.3333333333333335, 17.0, 1.042590112256451, 5.0, 1.8571428571428572, 1.8918918918918919, 1.064143007360673, 1.064359351988218, 1.3530598520511097, 1.1851851851851851, 1.0754098360655737, 1.0454545454545454, 1.05, 1.1666666666666667]
origin-bjaq_15.71 	max: 104.8438	99th: 34.1587	95th: 3.0000	median: 1.1333	mean: 2.2347

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.100131 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[0.0000000e+00 1.1920929e-07 1.7881393e-07 4.5663118e-04 0.0000000e+00]
Distance score: 9.138583845924586e-05
SAUCE Drift detection: True
Detection latency: 0.0384s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.9117 nats / 37.3826 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.093812 | Model-update-time: 2.519348


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 122.7059	99th: 41.8994	95th: 3.0000	median: 1.1566	mean: 2.4941
ReportEsts: [1.0815217391304348, 1.016135705419942, 1.0225123074117968, 1.068515497553018, 1.24, 1.0, 1.1872045220966083, 1.1976720788076893, 1.2, 1.0417101147028154, 1.0744275244857424, 1.0421859813618433, 1.1957160856782865, 1.4441860465116279, 1.1039841763209945, 1.4672897196261683, 1.1391304347826088, 33.42857142857143, 1.1666666666666667, 1.1371610845295055, 1.1112806539509537, 1.0498313400797301, 2.0277777777777777, 1.0492359932088284, 1.161064021334783, 1.0322386070057343, 2.0, 1.0957509912272485, 2.2, 1.6, 26.066141732283466, 1.0, 1.0567766021883203, 1.0046100953273949, 3.5183326900810497, 1.016769336071184, 1.0295511475187868, 1.532085561497326, 6.0, 1.359117915904936, 1.0962844209732177, 1.1884931506849314, 1.234993614303959, 1.0258302583025831, 1.2891304347826087, 1.0958250497017892, 1.1379310344827587, 1.0229617304492513, 1.1963470319634704, 1.3011272141706924, 67.0, 1.0308370044052864, 1.0629629629629629, 1.2758620689655173, 1.1335380432234776, 1.2846342660775651, 1.053763440860215, 1.4811083123425692, 1.0816326530612246, 1.0545755477154928, 1.3384615384615384, 1.107151712381838, 1.0071428571428571, 1.0824742268041236, 1.2528735632183907, 2.4285714285714284, 1.1623705591843236, 1.2794411177644711, 1.4642857142857142, 1.125, 1.2147971360381862, 1.0102803738317756, 1.1291360294117647, 1.2072072072072073, 1.177746466845993, 1.2442607897153353, 1.0134463589176572, 1.2545454545454546, 1.5185185185185186, 1.3983377010712836, 1.0798460798460798, 20.551020408163264, 1.0, 2.142857142857143, 1.0523012552301256, 1.054054054054054, 1.1304347826086956, 38.7, 5.0, 1.0804341564721756, 1.1145639409995705, 1.2861781578092868, 1.3283852726043395, 1.340570789031897, 1.3613707165109035, 1.081896551724138, 1.1769177608845889, 1.232311320754717, 6.0, 1.2726248591813745, 1.2, 6.0, 1.0466052092478784, 1.1899350649350648, 1.3404802744425386, 1.4365303730262704, 1.5454545454545454, 1.0279158290174157, 1.2747544465091585, 1.2018010324884525, 1.040151515151515, 1.0563725490196079, 1.6666666666666667, 1.2, 1.080977845683728, 1.07029283618879, 1.0566615620214395, 1.3295454545454546, 1.058305266875942, 2.0, 1.3185115105644907, 1.0545454545454545, 1.0, 1.0091743119266054, 1.1428571428571428, 1.2762645914396886, 1.0247824550735831, 1.066502311248074, 1.1517857142857142, 1.5, 1.1756842775302354, 1.0, 6.0, 1.0373685995252628, 1.0, 1.1735700197238659, 1.0879120879120878, 1.1696836166679185, 1.0369026013309135, 1.2681281618887015, 1.0632719485173288, 1.2380952380952381, 1.2714285714285714, 1.1666666666666667, 1.1904761904761905, 1.3784508174752077, 3.0, 1.01840490797546, 1.0966576332429991, 1.1557071960297767, 1.0788924446918047, 1.5, 1.1768165433504079, 1.0955259975816203, 1.0818330605564648, 3.4545454545454546, 1.0, 1.240506329113924, 1.092076692076692, 1.3432092617950953, 1.1844106463878328, 1.380952380952381, 1.5714285714285714, 1.3676470588235294, 1.3195876288659794, 1.5714285714285714, 1.0686652927535572, 1.387878787878788, 1.1845318860244234, 1.1052889915269921, 59.25, 1.3250763148676374, 1.1205357142857142, 1.1950286806883366, 1.2384503982621289, 9.704545454545455, 1.3157894736842106, 1.4166666666666667, 1.0380124223602485, 1.55591697645601, 1.0334857347194197, 1.3582089552238805, 1.0855716052551747, 1.0348258706467661, 1.2883149872988993, 1.490566037735849, 1.134505862646566, 1.330188679245283, 1.106930320523611, 1.658274072650394, 1.0888692007564786, 1.1206896551724137, 1.1294287780187997, 1.0658410712729596, 1.0, 1.5384615384615385, 1.2189177192203704, 1.0753424657534247, 1.1761006289308176, 1.6621004566210045, 1.0386040827774106, 1.136973470706964, 1.068180955778002, 1.0666368515205724, 1.0371323529411764, 1.0823529411764705, 1.0169510133280635, 1.0918139940239044, 1.1333333333333333, 1.5467625899280575, 1.1328849866118686, 1.6480836236933798, 1.7701149425287357, 1.027337559429477, 1.75, 1.046438503187225, 1.0263157894736843, 1.4823658898406469, 1.3089005235602094, 1.042622950819672, 1.078258616221819, 1.3491154000804182, 1.0183217973868306, 41.857142857142854, 33.4732428115016, 1.1683416303671437, 1.4521218715995647, 1.0925925925925926, 1.3458401305057097, 1.0143964562569214, 1.0955331045876222, 1.2794117647058822, 1.0049804253047425, 1.1403472509301364, 1.412639405204461, 1.123456790123457, 1.0883668903803132, 1.6666666666666667, 1.1530293566520924, 2.0, 1.181657458563536, 1.067701671591761, 1.070188538361023, 1.1884057971014492, 1.25, 2.0, 1.1262630767466455, 1.4363636363636363, 1.1421056008211972, 1.2, 1.0264433671220803, 1.1629778672032194, 1.4444444444444444, 1.0219460762162977, 1.2845303867403315, 1.0892561983471074, 1.1263537906137184, 1.0182542316627945, 1.1609131830821466, 1.280701754385965, 2.0, 1.3742931754158698, 1.5632621497828803, 1.1274238227146813, 1.0081507811854178, 1.1386701884492305, 1.2192645804631634, 1.0830489192263937, 1.07555049881367, 1.007866728366497, 1.2594857539958304, 1.0330266343825665, 1.0434782608695652, 1.0692768693443404, 1.2479508196721312, 1.5, 1.3043478260869565, 1.1165413533834587, 1.8712871287128714, 1.3172161760571865, 3.0, 1.001676622712438, 1.1189387008234217, 1.699248120300752, 1.0022976496477245, 1.0206666666666666, 1.1232530638572351, 1.0543558271326836, 1.0, 1.1730624529721596, 1.1489607390300232, 1.086702174102855, 1.193193983655385, 1.0663704949160404, 1.125, 1.0315098468271335, 1.0275185936443543, 1.1112711127111272, 1.4869695197244428, 1.1668819914920434, 1.0247479376718607, 41.625, 1.6875, 1.0769558426806758, 1.3333333333333333, 1.149514563106796, 1.141071277738226, 1.0454313425216948, 1.7419354838709677, 1.1328125, 1.2772277227722773, 1.0034434183753327, 1.045781886353352, 1.4285714285714286, 1.5084817047525585, 1.0698259506722758, 1.274787535410765, 6.0, 3.3333333333333335, 1.2672858617131062, 1.5714285714285714, 1.0041655383098687, 1.0741444866920151, 14.571428571428571, 1.1260775923630193, 1.1734104046242775, 1.5833333333333333, 1.0212795903595078, 2.0, 1.129496402877698, 1.305232558139535, 14.59843885516045, 14.201219512195122, 1.0, 1.0833333333333333, 1.0062091119207115, 1.3937343297388087, 1.260575897618201, 1.2069393722919157, 1.2690274106024766, 3.0, 1.2222222222222223, 1.039594276399203, 1.5, 1.034498009730208, 1.7058823529411764, 2.3333333333333335, 1.6842105263157894, 1.4738197424892703, 1.0833333333333333, 1.3387096774193548, 1.0379021595416482, 1.6363636363636365, 1.3333333333333333, 1.0632222460425584, 1.332155477031802, 1.28, 1.0038438793613247, 1.393103448275862, 1.0300909727081875, 1.387038703870387, 2.0, 2.25, 1.2755847953216375, 1.3082191780821917, 1.0788934426229508, 1.1294698042388691, 1.601781737193764, 1.0987951807228915, 2.0, 1.0300985557346807, 1.032258064516129, 1.5833333333333333, 2.25, 63.033487297921475, 1.0, 1.1923076923076923, 1.0198019801980198, 1.3271877158493173, 1.3695449353457672, 1.084953395472703, 1.131255852668817, 1.1196449247394828, 1.2941176470588236, 1.1567043618739903, 1.097978704205017, 1.1581818181818182, 1.3, 1.0303527223552562, 1.0278387619219003, 29.165801614763552, 1.2457142857142858, 1.15, 1.1436893203883496, 7.0, 1.0638297872340425, 1.1401869158878504, 1.1397459165154264, 1.9468599033816425, 1.2380952380952381, 1.1395069152134696, 1.0316455696202531, 1.0185869030034467, 1.4271978021978022, 1.4598506821355677, 1.09375, 1.0820353063343717, 1.0725, 1.0, 1.2142707440221014, 1.471698113207547, 1.1115181262067597, 1.1002047858164783, 1.0407706451355025, 1.1477015825169556, 1.375, 1.040896578843885, 1.1666666666666667, 72.85245901639344, 1.1666666666666667, 1.1774637919268003, 1.0022831050228311, 1.0401343140390151, 1.156549520766773, 1.0781550288276747, 3.0, 1.7346996069623808, 1.0159345224502092, 1.1018587495684722, 2.0, 1.3015873015873016, 1.2970742685671417, 1.4144144144144144, 1.1244217281002835, 1.0440042101436315, 1.380952380952381, 1.267471958584987, 1.0835618707551857, 1.0616121183580567, 1.0276877291810598, 1.0539233827163441, 122.70588235294117, 11.204225352112676, 1.2440860215053764, 1.0715534607928845, 1.1946902654867257, 1.1194259354177345, 6.0, 1.5, 1.1708358755338621, 1.1752136752136753, 1.2095006090133984, 1.4956606918833457, 1.338679827267119, 1.0, 1.376068376068376, 1.48, 1.356963116166839, 1.0909090909090908, 1.0, 1.1949704205503853, 1.0, 1.0, 1.253968253968254, 1.25, 1.2532038834951456, 1.0174545454545454, 1.1432748538011697, 1.4444444444444444, 1.8333333333333333, 1.1519903498190591, 1.0020614306328592, 1.5, 1.565217391304348, 1.0984848484848484, 1.4304461942257218, 1.0279765777488614, 1.1595755640259606, 1.0808314087759816, 1.0, 1.0112359550561798, 1.0024428797240983, 1.1572225220363375, 1.0952018278750952, 1.0, 1.0769230769230769, 1.1509905558397182, 1.0503842869342441, 2.0, 1.0126582278481013, 1.051949068772816, 1.1469594594594594, 1.030052592036063, 1.0212227455453002, 1.0824215785479383, 1.1385459533607682, 1.037627268702966, 2.75, 1.1050149669906097, 1.1924290220820188, 1.0218039935735599, 1.0359712230215827, 1.0408163265306123, 1.0139385038765845, 1.2352297592997812, 1.254855191000872, 1.1784955376115598, 1.2179050445771078, 1.2290362953692116, 1.0611894121691303, 2.9742581090407176, 1.0978260869565217, 1.6020408163265305, 1.1085914543089743, 1.3137755102040816, 1.0273037542662116, 1.0979217534495487, 1.0, 1.0261576528808767, 1.3491620111731844, 2.076923076923077, 1.0476190476190477, 1.062813831017731, 1.1340996168582376, 1.0369230769230768, 1.0, 1.25, 1.0190873189995613, 1.5091923755224312, 1.162162162162162, 3.0, 1.25, 1.00625, 1.1269349845201238, 1.098360655737705, 1.1230925737538149, 1.1144278606965174, 1.111731843575419, 1.2139364303178484, 1.0, 1.268549040635149, 1.0763888888888888, 1.0287178483629114, 2.0, 1.1095717884130982, 1.11986301369863, 1.1368434093161546, 1.122004357298475, 1.1398344066237351, 1.0257186081694403, 1.0874493927125506, 1.179915946818066, 1.0, 1.574468085106383, 1.1666666666666667, 1.0, 1.3978494623655915, 1.241150442477876, 1.0617760617760619, 1.3058252427184467, 1.076982492276004, 1.2058449809402796, 1.0881748717872926, 1.0598501281798463, 1.088678020129276, 1.2142282864804324, 1.0266586293011182, 1.127810650887574, 1.0068880836153455, 1.0587871584305815, 1.0426716141001855, 1.1954285714285715, 1.115702479338843, 1.0638297872340425, 1.0470867468034606, 1.187219730941704, 1.1063713683576697, 1.2204301075268817, 1.5084940973221999, 1.5526755852842808, 1.8888888888888888, 1.1555555555555554, 1.3333333333333333, 1.2620481927710843, 1.0890145395799677, 1.0835713157287121, 1.2799712849964107, 1.1940791714928118, 1.725, 1.3668752172401808, 1.2527653771286702, 1.1842105263157894, 1.0443037974683544, 1.0375817751589107, 1.070852534562212, 1.2513101364430386, 1.1603053435114503, 1.1183404054691184, 1.0420494871420933, 1.0018166089965397, 1.2307692307692308, 1.0364228241508506, 1.3417721518987342, 1.0001333653410152, 1.0477229482025605, 2.1286764705882355, 1.0, 1.0148334732717603, 1.0005892751915144, 1.6666666666666667, 1.2222638253536717, 3.0, 1.0791783707865168, 1.4539572589392757, 1.8571428571428572, 1.2040345821325649, 1.3, 1.1578947368421053, 1.0402421777294668, 1.0613825983313467, 1.1705221991375248, 1.0000248884685503, 1.174089068825911, 1.0857142857142856, 1.2162162162162162, 1.336082474226804, 1.0998248686514887, 1.3448123620309052, 1.0769032124780498, 1.1654627594037639, 1.0, 1.6135216124132836, 1.375, 2.0, 1.0439630780648452, 1.1353533415120591, 1.1784879189399844, 1.016665530552631, 1.0484758182207843, 1.176991150442478, 8.428571428571429, 1.0642317380352644, 1.014388489208633, 1.1369202325768335, 1.0363575717144764, 1.019123046883931, 1.1825807612243324, 1.251543209876543, 1.1532738095238095, 1.528428093645485, 1.0635216794100688, 1.3261829652996846, 1.0414035087719298, 1.016273393002441, 1.0453475019949008, 1.1244094488188976, 1.0545871559633027, 1.5, 1.6, 1.4279346210995543, 1.577518327450448, 1.3451624953305938, 1.046209761163032, 1.25, 1.052027543993879, 1.0695622667119105, 1.0532544378698225, 1.0738466470613621, 2.0, 1.1375055212014133, 1.4477317554240632, 1.266355140186916, 1.1538461538461537, 1.8198997703069535, 1.59375, 1.379746835443038, 1.0015420200462606, 1.0, 1.2177126473399171, 1.1875393329137822, 1.2857142857142858, 1.3333333333333333, 1.1428571428571428, 1.2100840336134453, 1.2598097502972652, 1.0535152151101783, 1.0685483870967742, 46.08682170542636, 1.0596658711217184, 36.74922918807811, 1.126530612244898, 1.1480263157894737, 2.5428571428571427, 3.5, 1.1436413540713632, 1.4098124098124099, 1.1063829787234043, 1.0104792502374773, 1.1873544636968993, 1.2094706368899917, 1.4188554234725639, 1.1475457114841092, 1.1217105263157894, 1.411764705882353, 1.0344827586206897, 3.0, 1.403755868544601, 1.026524735535796, 1.0776160776160777, 1.2234957020057307, 1.3990147783251232, 1.1229043683589137, 1.0809904446894525, 1.0005245993583933, 1.2134831460674158, 1.8636363636363635, 1.0323057953144266, 1.0357507112566429, 1.1875679399831585, 1.022269738600524, 1.0795454545454546, 1.3821618428824571, 1.048266968325792, 1.1788531252285288, 1.0782918149466192, 1.3693510055703242, 1.2611940298507462, 1.1751693002257337, 1.3088235294117647, 1.0297000946101, 15.333333333333334, 1.0450928381962865, 1.1673460862550777, 1.162729171090819, 1.4413942267698194, 2.111111111111111, 1.0046728971962617, 1.121212121212121, 1.3969631236442517, 1.1003657791277854, 1.0562786453690205, 1.0295260905414425, 1.3020705709384954, 1.0134663341645884, 1.5159817351598173, 1.2048599031230764, 1.3362068965517242, 4.074074074074074, 1.0, 1.1111111111111112, 1.0483524807473803, 1.6666666666666667, 1.1241746877734469, 1.1296153681598426, 1.250775365529464, 1.0658227848101265, 1.0819466780885574, 1.0917164816396243, 1.0740740740740742, 1.092074592074592, 1.030431123095029, 1.1382552346705623, 1.044965705467687, 1.5627785137901964, 1.25, 1.1064572425828971, 1.047560475604756, 1.4670005892751916, 1.0378787878787878, 1.2490143183233036, 1.0416068866571018, 3.282828282828283, 1.0737132227137267, 1.016649323621228, 1.366543062200957, 1.4375, 1.1773616626315075, 1.065454149793097, 1.3369072164948455, 1.0942354159475318, 1.03125, 67.76559139784946, 1.8684830137907837, 1.2499676495054997, 1.0804597701149425, 1.0177505963109164, 1.2121212121212122, 1.2656210258584146, 1.3507180650037793, 1.0422195416164053, 1.0120967741935485, 1.075085324232082, 1.0748362956033677, 1.1820212171970965, 1.0785281372498357, 1.0245398773006136, 1.171332794755365, 1.19246622395237, 1.2307692307692308, 1.0915300546448088, 1.0165289256198347, 1.699606702581221, 1.1547029702970297, 3.7501363884342607, 1.1411974977658623, 1.0728476821192052, 1.02287166454892, 1.0527896201989526, 1.4090909090909092, 1.1, 1.2544560540872771, 1.057905544147844, 1.0864, 1.4222545778897109, 1.3280481137233462, 1.0396421409841123, 1.2818725099601593, 1.0964365169197143, 1.1955236486486487, 1.4080882352941178, 1.0599078341013826, 1.0443938531587933, 1.0756572890521277, 1.1818181818181819, 2.0, 1.0816945365559556, 1.1749726283248534, 1.2508551881413912, 1.2727272727272727, 1.220677671589922, 1.0181065186780418, 1.2091097308488612, 1.1979166666666667, 1.5769230769230769, 1.286388140161725, 1.3278688524590163, 1.403125, 1.303030303030303, 1.099210173108029, 1.1343843843843844, 1.0681818181818181, 1.2142857142857142, 55.50922509225092, 1.2337503847420743, 1.0318571256184386, 1.2189616252821671, 1.0383180707611392, 1.0425801775684, 1.1785714285714286, 3.0, 1.0586565752128667, 1.5, 1.8, 1.25, 1.0693391115926327, 1.1041666666666667, 1.0438210592469863, 1.2111520796946762, 1.30778739184178, 1.0735294117647058, 1.1666666666666667, 1.0789473684210527, 1.2125, 1.3142857142857143, 1.0142392188771359, 1.0073977371627503, 1.0611022001634234, 1.032258064516129, 1.2367946156700675, 1.046286094751944, 2.5, 1.0424458822712865, 1.6604820198928845, 1.5, 1.6, 1.4840236686390533, 1.090072283713576, 1.0599730390933146, 1.562111801242236, 2.3333333333333335, 1.2248062015503876, 1.7052341597796143, 31.333333333333332, 1.0430443433119125, 1.0827706212341575, 1.058339942356423, 1.1065649612962922, 1.25, 1.0250627307860913, 1.0572495332918481, 1.0151878497202238, 1.1197604790419162, 1.0045045045045045, 1.0, 1.0783410138248848, 1.1863191848855665, 1.0010546172927528, 3.9285714285714284, 1.0, 1.1092025135259722, 1.1921434671221178, 1.040625, 1.0, 1.0133933504312276, 1.4342751842751842, 19.741935483870968, 1.0178826240067027, 1.1851851851851851, 1.0952380952380953, 1.0786650774731823, 2.3333333333333335, 1.112709128265336, 1.0471464019851116, 1.0098790114418195, 1.0313588850174216, 1.5, 1.1845238095238095, 1.0236667842169194, 1.1524390243902438, 1.4724761719509822, 1.0998138335958756, 1.0086933614330875, 1.1290494296577946, 1.5089974293059125, 1.2033898305084745, 1.1013122706635985, 1.1115585165662039, 108.203125, 1.001751313485114, 1.6666666666666667, 1.2533333333333334, 1.0976296643980286, 1.1958405545927209, 1.1124388048290235, 1.1246387084071667, 1.2556818181818181, 2.0, 1.032032032032032, 1.01273824010926, 1.1606125356125356, 1.6045627376425855, 1.1149862664969519, 1.104368932038835, 1.3513986013986015, 1.0032317636195753, 1.0297354014336608, 1.068991153074121, 1.3181818181818181, 1.1907810499359794, 1.0810810810810811, 1.1822474787898192, 1.5490653922932671, 1.2277875236825486, 1.0217391304347827, 1.142459654980523, 1.29803328290469, 1.3846153846153846, 1.3060796645702306, 3.3333333333333335, 2.5, 1.4705882352941178, 67.9186046511628, 3.25, 2.0695102685624014, 1.5128205128205128, 1.1666666666666667, 1.240977690288714, 1.380952380952381, 1.2435064935064934, 1.0513259195893927, 1.090536019706765, 1.3333333333333333, 1.75, 1.2400975015234612, 1.25, 1.0703745743473325, 1.1886867088607596, 1.081825814823296, 1.005986562202125, 2.0, 1.1316735112936345, 32.56038870893105, 1.1144599736832748, 1.0413020052132633, 1.2233009708737863, 1.4256849315068494, 1.1526246997315246, 1.1220273324007317, 1.0039011703511054, 1.0985915492957747, 1.4064245810055866, 2.6666666666666665, 20.0, 1.0428578522480598, 5.0, 1.8571428571428572, 1.4705882352941178, 1.0765306122448979, 1.0669830776619487, 1.288500336247478]
origin-bjaq_15.71 	max: 122.7059	99th: 41.8994	95th: 3.0000	median: 1.1566	mean: 2.4941

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.126457 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[ 0.0000000e+00 -2.9802322e-08  2.3841858e-07  4.0841103e-04
  0.0000000e+00]
Distance score: 8.172392699634656e-05
SAUCE Drift detection: True
Detection latency: 0.0403s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.8761 nats / 37.3313 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.106123 | Model-update-time: 2.513634


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 111.8243	99th: 43.5542	95th: 3.0111	median: 1.1682	mean: 2.4564
ReportEsts: [1.1666666666666667, 1.0246178280722653, 1.0520453005094121, 1.0314842578710646, 1.1481481481481481, 1.0, 1.23879753340185, 1.2735016746186834, 1.2, 1.0377733598409542, 1.152312512323905, 1.0424306692336467, 1.2763544729105418, 1.4813953488372094, 1.0855978260869565, 1.4864864864864864, 1.0606060606060606, 40.285714285714285, 1.1666666666666667, 1.0155884645362432, 1.1158856902710654, 1.04952228257313, 2.0654545454545454, 1.0171206225680933, 1.145530770447714, 1.0253920875690703, 2.0, 1.138522056757516, 2.4, 1.6, 29.631184407796102, 1.0, 1.0440191548349156, 1.0054199334410596, 4.050860420650095, 1.0542339589698821, 1.0750456976508023, 1.5133689839572193, 8.0, 1.4070695800852, 1.0076335877862594, 1.1844714053111627, 1.0388151174668028, 1.0586423644255534, 1.2565217391304349, 1.1277927013038065, 1.3333333333333333, 1.0298747189206554, 1.2604651162790699, 1.357487922705314, 53.666666666666664, 1.0985915492957747, 1.082142857142857, 1.3448275862068966, 1.1263975806540623, 1.3032891507118312, 1.8032786885245902, 1.5011764705882353, 1.0784313725490196, 1.0890797895773408, 1.4179104477611941, 1.0387568948454557, 1.020949720670391, 1.0182926829268293, 1.264367816091954, 2.0, 1.1246817831981528, 1.254643780860569, 1.4772727272727273, 1.0588235294117647, 1.2653944020356234, 1.0263636363636364, 1.1400795404330535, 1.2454954954954955, 1.151189103795739, 1.3090586145648313, 1.0256851155292854, 1.1603773584905661, 1.0993031358885017, 1.0922346558155307, 1.015370705244123, 1.0356181109858524, 1.0, 1.0476041829249259, 1.4969325153374233, 1.19151376146789, 1.1133983387504514, 1.32, 1.1156274858338162, 1.2624634801916559, 1.5034246575342465, 1.4, 1.1671122994652405, 1.1961236331370213, 1.6292834890965733, 1.1899441340782122, 1.1070991432068544, 1.3200468933177023, 6.0, 1.320216606498195, 1.12, 7.0, 1.081259613807966, 1.2849357726741923, 1.4125214408233275, 1.4623326076918002, 1.6176470588235294, 1.0245636948160055, 1.3663392620122112, 1.2276323797930615, 1.1587218438973284, 1.0532767562470533, 1.6666666666666667, 1.0909090909090908, 1.0772207887946923, 1.0885568343188996, 1.0422812192723696, 1.4175824175824177, 1.063231737745192, 2.0, 1.4288867865026806, 1.121531100478469, 1.0, 1.0933333333333333, 1.2857142857142858, 1.1484230055658626, 1.0403771824250168, 1.1302209846554891, 1.1785714285714286, 1.5, 1.0042385484830458, 1.4, 1.3510791366906474, 1.0097149283555413, 1.107083040682911, 1.0, 1.0390374331550802, 1.1886198670118269, 1.3215130023640662, 1.0, 1.2005494505494505, 1.0204509701101205, 1.0500454959053684, 1.0627276301964146, 1.2647058823529411, 1.2563600782778865, 1.1144749115694006, 3.0, 1.0103555402140145, 1.3267813267813269, 1.218982630272953, 1.0712855426511814, 1.5, 1.2348210240144992, 1.1376037959667853, 1.0625954198473282, 3.6363636363636362, 9.0, 1.3074141048824592, 1.1586984611770235, 1.4288561345235624, 1.2699619771863118, 1.5156626506024096, 1.7551020408163265, 1.4411764705882353, 1.3593519882179677, 1.0565361985162445, 1.2916666666666667, 1.7932692307692308, 1.0066968461221895, 1.0205391527599486, 1.3350785340314135, 1.2371595208729644, 1.1647058823529413, 1.3128688615864297, 1.2897526501766785, 1.0377961012344503, 20.1606648199446, 1.120879120879121, 4.75, 1.4197130503144655, 1.096871064613, 1.030025706940874, 1.0099629832391297, 1.0532421177870315, 1.2620660457239627, 1.5454545454545454, 1.1177122940430926, 1.3304347826086957, 1.094624828441971, 1.6944070728425908, 1.1014490386029112, 1.1551724137931034, 1.2645631067961165, 1.0256825136804233, 1.9741935483870967, 1.25, 1.1789422135161607, 1.5555555555555556, 1.256933138718913, 1.1884662707965548, 1.0475086906141367, 1.0649105563200314, 1.0227775320654577, 1.0557666199724156, 1.068699012451696, 1.0050399721932568, 1.0341296928327646, 1.0179003895967147, 1.0870892632279219, 1.28125, 1.056228793019874, 1.1850149253731344, 1.759581881533101, 1.9425287356321839, 1.0197793837961202, 2.0, 1.0471544876166754, 1.0464135021097047, 1.624443700052639, 1.433862433862434, 1.1206349206349207, 1.084056533597818, 1.3843270722040324, 1.020387995121126, 43.5, 38.981322957198444, 1.0821194029850747, 1.3706806282722512, 1.1619537275064267, 1.3977987421383649, 1.081395923884673, 1.000573786502588, 1.0285714285714285, 1.0081540834690206, 1.1615289153636137, 1.449814126394052, 1.2040332147093713, 1.077922077922078, 1.5714285714285714, 1.1180722891566266, 2.0, 1.1918629550321198, 1.0209876020818347, 1.1756368855400072, 1.1217105263157894, 1.25, 2.0, 1.1939079126531846, 1.4363636363636363, 1.1759799833194329, 1.2, 1.0347016504443505, 1.0263157894736843, 1.4, 1.0184445505723672, 1.3784530386740332, 1.078509119746233, 1.0941684665226783, 1.0187898089171974, 1.1586439877852686, 1.280701754385965, 2.0, 1.3673020377110192, 1.6322304620650314, 1.0893333333333333, 1.0437952575850469, 1.1998526946716106, 1.2645968641343568, 1.1198233020430701, 1.0711632922007908, 1.01965163019205, 1.270309799228826, 1.0334165546379874, 1.1304347826086956, 1.070537084886681, 1.1814814814814816, 1.5681818181818181, 1.24, 1.1797876235811058, 2.2421052631578946, 1.3761696317416972, 3.3333333333333335, 1.0009424808724392, 1.1467486818980668, 1.74937343358396, 1.007665595661085, 1.1420345489443378, 1.2179659498207884, 1.0542971976463977, 1.2, 1.1683453237410073, 1.1412286257124762, 1.0951762833933507, 1.23704869824545, 1.117631187469008, 1.130952380952381, 1.092407809110629, 1.0013646110858405, 1.1866054550364569, 1.4175169515391781, 1.2333385851583425, 1.1758620689655173, 50.375, 1.7058823529411764, 1.0873535023167076, 1.171358629130967, 1.6740331491712708, 1.0167009837565775, 35.81818181818182, 1.631578947368421, 1.113717850992349, 7.0, 1.1523722627737227, 1.3710843373493975, 1.1618037135278514, 1.0872937441978858, 1.0727574750830564, 1.2963752665245203, 7.0, 2.2222222222222223, 1.3046955624355006, 1.5714285714285714, 1.0207648423184636, 1.092626447288239, 17.285714285714285, 1.1789678166926056, 1.1791907514450868, 1.6153846153846154, 1.0569273146884384, 1.3565938609719317, 1.0362869198312237, 1.0010414549888234, 1.0876603543066585, 17.603160667251977, 15.859799713876967, 1.0100200400801602, 1.1296296296296295, 1.0010979379065368, 1.4661360077245766, 1.287024456521739, 1.2593154600336187, 1.2434256296090163, 3.0, 1.2222222222222223, 1.0700477420364718, 1.5, 1.034468085106383, 1.7647058823529411, 2.2857142857142856, 1.7, 1.5079232693911593, 1.0652945351312988, 1.2302158273381294, 1.0119686339248866, 1.696969696969697, 1.1428571428571428, 1.0666977643021358, 1.3491525423728814, 1.2875, 1.019622441071724, 1.5512367491166077, 1.0389523169912693, 1.4321093082835183, 2.0, 2.5, 1.1473317865429233, 1.5572519083969465, 1.0101757631822386, 1.1247931575441086, 1.6476614699331849, 1.1261682242990654, 2.0, 1.0753974849038834, 1.03125, 1.4444444444444444, 2.5, 73.43033707865169, 1.0, 1.4923076923076923, 1.118811881188119, 1.2109536772062075, 1.4225413516789174, 1.1732001024852678, 1.0682510359978032, 1.1206576832735815, 1.3142857142857143, 1.2164781906300484, 1.188866937021247, 1.1854545454545455, 1.3, 1.0220850267056683, 1.0455189331122168, 32.20383693045564, 1.3428571428571427, 1.170731707317073, 1.120879120879121, 8.0, 1.1041666666666667, 1.3293768545994065, 1.1428571428571428, 1.2647058823529411, 1.0909090909090908, 1.226698737221888, 1.0272727272727273, 1.0429005626976628, 1.4363553113553114, 1.4998361027761669, 1.030612244897959, 1.0483188044831881, 1.044917257683215, 1.0, 1.2349290127997645, 1.4285714285714286, 1.109385292792012, 1.1055154583647528, 1.031390819521882, 1.1538461538461537, 1.375, 1.0544653584301162, 1.3333333333333333, 88.5, 1.0769230769230769, 1.1815836861828977, 2.7142857142857144, 1.1671006413505058, 1.656084656084656, 1.4285714285714286, 1.472636815920398, 1.0572033898305084, 7.0, 1.3064605190502485, 1.2338880226535476, 1.163114347471741, 1.3571428571428572, 1.1975178241351994, 1.1058631921824105, 1.0547945205479452, 1.5, 1.3385594392695748, 1.0656799259944496, 1.2643843686587681, 1.0443548387096775, 1.0955263157894737, 1.4717173779865225, 1.255813953488372, 1.038863976083707, 1.4404145077720207, 1.4652777777777777, 1.204778156996587, 1.28, 1.2347826086956522, 1.0342019543973942, 1.1923076923076923, 1.2318311002842062, 1.4757772087507948, 1.4213448488587292, 1.0, 1.3870967741935485, 1.56, 1.438088256359699, 1.1818181818181819, 1.0, 1.2168304372640568, 1.0, 1.0, 1.3047619047619048, 1.2586206896551724, 1.3335922330097087, 1.0146545708304258, 1.2155172413793103, 1.4444444444444444, 1.5048543689320388, 1.1365740740740742, 1.0041584158415842, 1.0, 1.43801652892562, 1.0942028985507246, 1.451657458563536, 1.0718294051627384, 1.0028906382169942, 1.5100671140939597, 1.2771855010660982, 1.0493827160493827, 1.1913704924842285, 1.0687862461823547, 1.0895306859205776, 1.0, 1.0696286472148542, 1.1772083043727901, 1.0538651315789473, 26.258064516129032, 1.0070754716981132, 1.0135358891070476, 1.1460248783126015, 1.032656023222061, 1.0124739846035773, 1.0672012275845468, 1.1314432989690721, 1.1093549765057669, 3.0, 1.062103729374237, 1.180722891566265, 1.0223698781838317, 1.053694581280788, 1.0839506172839506, 1.0012229521111011, 1.1612586037364798, 1.2763006957407093, 1.224672639558925, 1.2286979886898939, 1.369220607661823, 1.0491932482430983, 3.2214053350683147, 1.1041666666666667, 1.9438202247191012, 1.0700075140165308, 1.5357142857142858, 1.009796057269258, 1.1028907509594206, 1.0, 1.0678021618080575, 1.75, 2.3076923076923075, 1.044776119402985, 1.0630275050393394, 1.1647509578544062, 1.018345952242283, 1.0, 1.1764705882352942, 1.0202360876897134, 1.5949656485006034, 1.1842105263157894, 3.0, 1.3333333333333333, 1.0839328537170263, 1.1343283582089552, 1.171641791044776, 1.0999048525214081, 1.1574675324675325, 1.0452261306532664, 1.2263033175355451, 1.0046948356807512, 1.2134918797340655, 1.073008849557522, 1.0179819358475939, 2.0, 1.1146341463414635, 1.0173410404624277, 1.2140191203640558, 1.1127348643006263, 1.1723826714801444, 1.031837916063676, 1.1205007824726134, 1.0603834232579497, 1.0, 1.6595744680851063, 1.1666666666666667, 1.0, 1.1090909090909091, 1.2201195219123506, 1.0212765957446808, 1.3932038834951457, 1.0807430340557276, 1.2771440642163077, 1.0971250304097082, 1.0949023861171367, 1.0564087053356614, 1.2301712322671365, 1.0266446940969391, 1.1544378698224853, 1.0450580139924568, 1.0495038758804276, 1.0373001776198933, 1.2, 1.14519906323185, 1.3043478260869565, 1.003271216966222, 1.2098901098901098, 1.1098976602900228, 1.1897435897435897, 1.5450619061330262, 1.7230125523012552, 2.111111111111111, 1.2222222222222223, 1.6666666666666667, 1.308433734939759, 1.1142629359119431, 1.0606682844875863, 1.3027681660899655, 1.1934914722603411, 1.825, 1.2926659714980884, 1.269301618033467, 1.1020408163265305, 1.0479041916167664, 1.0342875599698167, 1.0755555555555556, 1.2971058967942968, 1.0814814814814815, 1.1496503496503496, 1.1159345794392523, 1.0346696598763279, 1.3076923076923077, 1.0798428271899358, 1.1025641025641026, 1.391304347826087, 1.4029850746268657, 1.1236987318550442, 1.0223463687150838, 1.1824104234527688, 1.0923076923076922, 1.159861961699232, 1.0, 1.017094017094017, 1.054054054054054, 1.0415584415584416, 48.92091007583965, 1.2692307692307692, 1.1470649589052526, 1.2105263157894737, 1.0287637698898409, 1.3627142750205854, 1.1362871564778463, 1.2284427284427284, 1.2731371885920415, 1.3336933045356372, 1.0938788455439263, 1.0, 1.016276383492597, 1.199497487437186, 1.3333333333333333, 1.0218931101094655, 1.1876265070843968, 74.25565610859728, 1.0416642698069638, 2.4444444444444446, 1.0245499181669395, 1.0234996384671005, 1.2546296296296295, 1.0710382513661203, 1.0929959436610333, 1.3274336283185841, 2.2857142857142856, 1.1201063315611406, 1.0744479495268138, 1.112140883090173, 1.1007338225483656, 1.018468510004874, 1.204004323734772, 1.160179640718563, 1.1767113095238095, 1.508361204013378, 1.0392957207514306, 1.3899053627760252, 1.1039570757880617, 1.036893203883495, 1.0226792953352388, 1.114630467571644, 1.0791324736225087, 1.5555555555555556, 1.6, 1.423476968796434, 1.5936675461741425, 1.402316025401569, 1.0759557344064385, 1.25, 1.0628698224852071, 1.0851133749589221, 1.1485714285714286, 1.0796616906117391, 2.0, 1.136870026525199, 1.2588996763754046, 1.0170229612034838, 1.304857621440536, 1.018012008005337, 2.002080764488286, 1.6363636363636365, 1.5063291139240507, 1.011949215832711, 1.0, 1.1548549107142858, 1.1925655088360756, 1.5714285714285714, 1.3333333333333333, 1.1879699248120301, 1.2593582887700534, 1.0284741900827041, 1.168421052631579, 1.2820512820512822, 1.03743961352657, 2.25, 1.1651234567901234, 1.0240756663800517, 1.1551020408163266, 1.2643312101910829, 2.7027027027027026, 4.0, 1.1551418439716312, 1.4054834054834056, 1.0810810810810811, 1.0266084148324592, 1.2284110207821464, 1.216583953680728, 1.4174695402128479, 1.2113609270605195, 1.093717816683831, 1.368421052631579, 1.064516129032258, 3.5, 1.4928909952606635, 1.0353516359533659, 1.096945551128818, 1.246498599439776, 1.0320197044334976, 1.1587975446044403, 1.045038127232976, 1.0015290590833998, 1.2967032967032968, 1.9130434782608696, 1.023222748815166, 1.0507026865968119, 1.2359029319451886, 1.038227782121449, 1.1452513966480447, 1.390505020673361, 1.0467071644592763, 1.1046492969893897, 1.0218878248974008, 1.4177273453131312, 1.2985074626865671, 1.2632054176072234, 1.037313432835821, 1.026913449013706, 18.0, 1.011002444987775, 1.217258217856011, 1.1539464120109282, 1.5275767407037684, 2.2222222222222223, 1.0135746606334841, 1.2176308539944904, 1.0705031449780804, 1.2183850397649925, 1.0301902723506196, 1.0522861060480073, 1.2946381789602375, 1.0095419847328244, 1.4878048780487805, 1.2098246518824136, 1.33442088091354, 5.863636363636363, 1.0, 1.1111111111111112, 1.0724635154220354, 1.6666666666666667, 5.7027397260273975, 1.009846720504367, 1.1114922813036021, 1.2551020408163265, 1.0762052877138413, 1.063955379139213, 1.1134994355208299, 1.2391304347826086, 1.1020408163265305, 1.4188311688311688, 2.0, 1.0608777812772108, 1.3125, 1.0881667831353365, 1.8571428571428572, 1.1746794871794872, 1.0678896843475432, 1.0830562761073155, 1.2699619771863118, 5.3, 1.054776033188048, 1.2905382815112003, 1.029436640056109, 1.1809832522960562, 1.1890985773948286, 1.0697851308736444, 1.3160561184723305, 1.1036096256684491, 1.125, 79.75898520084567, 2.105886450714037, 1.29011923467973, 1.1136363636363635, 1.0191992942720054, 1.1379310344827587, 1.256210258584146, 1.3681027966742252, 1.0, 1.0194805194805194, 1.0848979591836734, 1.075268817204301, 1.2629815745393635, 1.1000889155516513, 1.0226130653266332, 1.2165456313679868, 1.1931531944126403, 1.1538461538461537, 1.096774193548387, 1.1039097744360902, 1.7865686243569918, 1.1571428571428573, 4.099533437013997, 1.0262934690415606, 1.1038709677419354, 1.075812274368231, 1.0239118777776768, 1.434782608695652, 1.0910526315789473, 1.2494586559988257, 1.0521670915865855, 1.1026438569206842, 1.4808625336927224, 1.4169624509620773, 1.0089672694664475, 1.3302211302211302, 1.113691372734153, 1.2103945463320462, 1.525735294117647, 1.0666666666666667, 1.0385869565217392, 1.0941945441359688, 1.196078431372549, 2.0, 1.0374183540169823, 1.1709504916336035, 1.2537058152793614, 1.2954545454545454, 1.3061735261401557, 1.0145611755032755, 1.2267674522009782, 1.4325396825396826, 1.6153846153846154, 1.3652291105121295, 1.3870967741935485, 1.49375, 1.2285714285714286, 1.0999764474656661, 1.1282234957020056, 1.065217391304348, 1.2857142857142858, 62.8986013986014, 1.307402558379121, 1.0225473052700416, 1.257336343115124, 1.0402764067127344, 1.036612875238591, 1.0357142857142858, 3.3333333333333335, 1.0770642201834861, 1.5769230769230769, 2.0, 1.2352941176470589, 1.0638075313807531, 8.0, 1.2872340425531914, 1.0681760470507287, 1.0444181359069078, 1.318840579710145, 1.1578947368421053, 1.048780487804878, 1.271604938271605, 1.2714285714285714, 1.0198946752486835, 1.0087866108786612, 1.05052178715735, 1.0158730158730158, 1.2497752194286529, 1.0466109916867996, 1.6666666666666667, 1.0414361572130018, 1.716132894343011, 1.5, 1.6, 1.6437869822485207, 1.0821591155430306, 1.1084716542378317, 1.4906832298136645, 2.6666666666666665, 1.1744186046511629, 1.027027027027027, 38.0, 1.0534340418057264, 1.084935158770695, 1.0509975445058317, 1.133409993274175, 1.25, 1.0290458152817856, 1.0658682634730539, 1.0099540581929556, 1.132183908045977, 1.0443722943722944, 1.0, 1.1757322175732217, 1.1547334162917584, 1.0452431039080323, 4.166666666666667, 1.0404624277456647, 2.4856988667026445, 1.233134073441503, 1.0232558139534884, 1.144927536231884, 1.0176172661547696, 1.4290193004800626, 23.428571428571427, 1.0211849756404212, 1.2530864197530864, 1.176802780191138, 1.168057210965435, 2.4615384615384617, 1.1058363585590618, 1.0159453302961277, 1.0077914645384718, 1.0636515912897822, 1.5, 1.1746817538896748, 1.003764393268379, 1.1565443325755116, 1.6329507877844778, 1.1245554294362468, 1.0478958675597119, 1.1792015209125475, 1.1914893617021276, 1.1538461538461537, 1.1317140128909047, 1.1165805131728952, 111.82432432432432, 1.1523642732049038, 1.6666666666666667, 1.2133333333333334, 1.045221843003413, 1.1906412478336221, 4.353771682129891, 1.2052293758613901, 1.3110795454545454, 1.6, 1.0299806576402322, 1.0276453525034683, 1.1379192916737613, 1.543726235741445, 1.1079581662105933, 1.0801781737193763, 1.1922428330522765, 1.0394154118689105, 1.0291080226163054, 1.1093244506218696, 1.3831223628691982, 1.262483994878361, 1.0789473684210527, 1.278812572759022, 1.6243520344969953, 1.2972563328889202, 1.0291256287461221, 1.1680578742348358, 1.0702922678505364, 1.0, 1.3279022403258656, 2.75, 2.5, 1.5294117647058822, 78.27412587412587, 3.5, 2.0252764612954186, 1.5897435897435896, 1.2222222222222223, 1.2550853018372703, 1.5238095238095237, 1.2965299684542586, 1.0752508361204014, 1.0949936534961844, 1.3333333333333333, 1.9166666666666667, 1.2784090909090908, 1.125, 1.0494092373791621, 1.1732488822652758, 1.0301392080010812, 1.0151143768041495, 1.3333333333333333, 1.0865360773617654, 1.2519072044158617, 1.1510063641537744, 1.0997150997150997, 1.1944847605224964, 1.6875, 1.0, 8.0, 1.3095238095238095, 14.278481012658228, 1.2677595628415301, 1.8644859813084111, 1.0011215922377352, 1.0246913580246915, 1.7712765957446808]
origin-bjaq_15.71 	max: 111.8243	99th: 43.5542	95th: 3.0111	median: 1.1682	mean: 2.4564

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.163161 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[5.9604645e-08 1.7881393e-07 5.9604645e-08 3.9356947e-04 0.0000000e+00]
Distance score: 7.877349707996473e-05
SAUCE Drift detection: True
Detection latency: 0.0416s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.7696 nats / 37.1777 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.117531 | Model-update-time: 2.570023


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 343.5000	99th: 71.2727	95th: 3.5083	median: 1.1817	mean: 3.2325
ReportEsts: [1.092783505154639, 1.0125954198473281, 1.0341524889729048, 1.1352201257861636, 1.1481481481481481, 1.0, 1.2114594039054472, 1.2833302777318196, 1.4, 1.062135922330097, 1.1195940539857667, 1.0421027278846027, 1.3103737925241494, 1.5534883720930233, 1.0756346506150223, 1.4935064935064934, 1.0866141732283465, 47.142857142857146, 1.0, 1.1040590405904058, 1.093428345209818, 1.06313917996161, 2.169550173010381, 1.0247376311844079, 1.1839946762411786, 1.0191543932013836, 2.0, 1.1543192532234399, 1.8571428571428572, 1.6, 32.86123032904149, 1.0, 1.0431318468375361, 1.2683462683462683, 3.3333333333333335, 1.105055252762638, 2.0714285714285716, 1.2608695652173914, 59.5, 2.2222222222222223, 1.4879422205900354, 13.660869565217391, 1.0592829250976217, 1.011061946902655, 8.0, 1.616652211621856, 1.2312201141446861, 1.3444444444444446, 1.1452991452991452, 1.174025974025974, 1.03851240654136, 1.0245398773006136, 1.3954309661521076, 1.097447795823666, 1.038958884274668, 2.0, 1.7324675324675325, 1.2109686101117734, 1.136, 1.4676258992805755, 1.09478672985782, 2.0, 13.93875, 1.1824942791762014, 1.0836363636363637, 1.0350780175763736, 1.2142857142857142, 1.0612244897959184, 1.5655151162392578, 1.056921645510733, 1.0869565217391304, 1.0, 1.6202280614774418, 1.081425730218773, 1.2911392405063291, 1.2995495495495495, 1.2916613295760215, 1.3661248930710008, 1.0497831682121073, 1.2672811059907834, 1.1020579588408232, 1.090257412838058, 1.0025996533795494, 1.0245131113982824, 88.0, 1.0041410070094021, 1.7333333333333334, 1.2471561440364014, 1.096258298129149, 1.2641509433962264, 1.2, 7.0, 1.0958773843486043, 1.1095727848101267, 1.0996319438500386, 1.4877681480115557, 1.5290430889759372, 1.4797507788161994, 1.1670124481327802, 1.30580204778157, 1.3245614035087718, 1.0853658536585367, 1.3058167885754093, 1.28, 4.0, 1.0840380311518993, 1.1784511784511784, 1.4554030874785593, 1.4745315883626777, 1.5526315789473684, 1.0105701193422831, 1.441730820281391, 1.1414289114836604, 1.1864661654135338, 1.0616049102068652, 1.6666666666666667, 1.1666666666666667, 1.1200783894530555, 1.0262721802487649, 1.0730897009966778, 1.2340425531914894, 1.0642026850410793, 2.0, 1.5294859665720593, 1.1464114832535885, 1.0, 1.021551724137931, 1.2857142857142858, 1.1081560283687943, 1.0446415628870278, 1.0669670868746792, 1.2232142857142858, 1.5, 1.0534156329752506, 1.4, 1.39568345323741, 1.0217704227529176, 1.1036883116883116, 1.0, 1.0064484126984128, 1.3351606517435664, 1.2951945080091534, 1.0454545454545454, 1.227882037533512, 1.0181543116490166, 1.0510917030567686, 1.0649223485083228, 1.25, 1.3926940639269407, 1.0600525670851906, 3.0, 1.005952380952381, 1.3325581395348838, 1.3596102745792737, 1.3069988890652278, 1.0901722391084092, 1.0446012970384444, 343.5, 1.4761639834486595, 1.2163936668604451, 1.1145685997171146, 1.0606823859199073, 1.0063438482132465, 1.1261061946902655, 1.1365517602682313, 1.1931914893617022, 1.0355610116374234, 1.020390824129142, 1.5036496350364963, 1.3667157584683358, 1.0188568751464042, 1.4166666666666667, 2.0288461538461537, 1.024398285525882, 1.0819601040763227, 1.336734693877551, 1.2748433547648106, 1.1611111111111112, 1.362273115326083, 1.0237467018469657, 1.0043064447778631, 21.33193100546908, 1.262166405023548, 6.0, 1.4611981799797775, 1.1165350828422107, 1.0594954058581654, 1.009507738329748, 1.0509059534081104, 1.2864803838554897, 1.625, 1.133632009887224, 1.4513274336283186, 1.0848774281413518, 1.6882567749375361, 1.091118710001255, 1.206896551724138, 1.1477537437603993, 1.0281423669840042, 2.206451612903226, 1.25, 1.2910545217107412, 1.6666666666666667, 1.2331724021781845, 1.232740669549896, 1.0280269058295963, 1.0220727190263814, 1.0294243070362474, 1.0493573459454621, 1.068951279933939, 1.007310184416016, 1.0799609946367625, 1.0022110430443425, 1.0884099343419926, 1.4193548387096775, 1.0523609163160355, 1.0023560510286174, 1.8013937282229966, 1.632183908045977, 1.0244704163623082, 2.25, 1.0451010591364354, 1.0733197556008147, 1.6681341819399913, 1.4271844660194175, 1.0402476780185759, 1.0975785183409255, 1.4454448848296857, 1.0219865059917426, 50.375, 42.36750272628135, 1.0693215550743551, 1.0368629941260517, 1.092964824120603, 1.3782608695652174, 1.0877652689802366, 1.0012727354609554, 1.0555555555555556, 1.0047904953943072, 1.1251851497921543, 1.4907063197026023, 1.324969400244798, 1.0387840670859538, 1.7142857142857142, 1.1667635095874491, 2.0, 1.2189673340358271, 1.052186292454749, 1.1046270718232045, 1.0202312138728324, 88.0, 2.0, 1.2172205219654433, 1.5272727272727273, 1.28969654199012, 1.2, 1.0443811074918568, 1.1114258734655336, 1.875, 1.015448264333872, 1.4171270718232045, 1.1127189642041126, 1.498454404945904, 1.1250827266710788, 1.0896064466702609, 1.3333333333333333, 2.0, 1.5021693089054757, 1.0346929337772846, 1.10397946084724, 1.0251923781604984, 1.2221008787524763, 1.3515712130158106, 1.1275590551181103, 1.061231276941378, 1.0196245733788396, 1.3313740856844305, 1.0726461401160197, 1.2173913043478262, 1.0756068810549968, 1.3234126984126984, 1.6136363636363635, 1.2307692307692308, 1.236130867709815, 2.443298969072165, 1.4524316292518373, 3.6666666666666665, 1.0148353463964608, 1.1572273879966188, 1.8696741854636592, 1.0053476624916242, 1.1050135501355014, 1.2167707884532528, 1.0616321699719986, 1.2, 1.1641379310344828, 1.1080791867308721, 1.09242277992278, 1.245123566082933, 1.0855731561914495, 1.1149425287356323, 1.1140605557859808, 1.0306224273418985, 1.224927907721884, 1.4662160698425077, 1.2637624074365843, 1.1734104046242775, 52.77777777777778, 1.7777777777777777, 1.077758868961906, 1.241566265060241, 1.7790055248618784, 1.0861059044048735, 41.36363636363637, 1.1252609603340293, 1.1230579407246997, 1.0, 1.1166666666666667, 1.365296803652968, 1.1818181818181819, 1.0186512810259634, 1.0456444873031179, 1.0360169491525424, 8.0, 1.5384615384615385, 1.2765737874097007, 1.7142857142857142, 1.008538374717833, 1.0981416957026713, 19.571428571428573, 1.097261301347454, 1.300578034682081, 1.6428571428571428, 1.0614807917293412, 1.4820012647759888, 1.0559670781893005, 1.0037377241413006, 1.0845360824742267, 17.709505703422053, 18.071629213483146, 1.005813953488372, 1.1140350877192982, 1.013977387692799, 1.4887255259933627, 1.3258943222842139, 1.2604299058501252, 1.3440239320996243, 3.0, 1.3333333333333333, 1.0443749372762854, 1.75, 1.0314671025745812, 1.8235294117647058, 2.5714285714285716, 1.7142857142857142, 1.5012145748987855, 1.0714285714285714, 1.2846715328467153, 1.0389319200978393, 1.7424242424242424, 1.3333333333333333, 1.0929254980262855, 1.3648208469055374, 1.2222222222222223, 1.0209987512413004, 1.7282608695652173, 1.03564608529599, 1.459307010475423, 2.0, 2.75, 1.1403636363636365, 1.55, 1.1603288797533402, 1.1368470539072295, 1.673199703043801, 1.1288888888888888, 2.0, 1.08518577749347, 1.0588235294117647, 1.2903225806451613, 3.6666666666666665, 83.13989071038252, 1.1428571428571428, 1.5794871794871794, 1.3267326732673268, 1.1989496310412835, 1.4907269350493082, 1.1079545454545454, 1.0922619047619047, 1.1245835316515944, 1.2972972972972974, 1.2067851373182552, 1.1577368052545594, 1.2645739910313902, 1.3, 1.0017840695040288, 1.0706065990269176, 38.68326912493121, 1.3428571428571427, 1.1666666666666667, 1.1441441441441442, 9.0, 1.1224489795918366, 1.2492917847025495, 1.1122278056951425, 1.3641975308641976, 1.0833333333333333, 1.2387251954299459, 1.0291545189504374, 1.1096264548930628, 1.5334249084249085, 1.5756168949957314, 1.1111111111111112, 1.0698230511716882, 1.0316742081447965, 1.0, 1.2198862359307734, 1.4137931034482758, 1.1114725113424073, 1.092377796188898, 1.0609783845278726, 1.1546846011131726, 1.2222222222222223, 1.1854592947322595, 1.1666666666666667, 90.70588235294117, 1.0, 1.181616133258469, 2.9285714285714284, 1.253848976810024, 1.7967914438502675, 1.25, 1.5024875621890548, 1.047034764826176, 8.0, 1.3774593856258537, 1.2723802354965321, 1.204899815506071, 1.6923076923076923, 1.2454983515090032, 1.1193675889328063, 1.013157894736842, 13.0, 1.2105263157894737, 1.4159973448390308, 1.3004189304182758, 1.0267175572519085, 1.0937105329628694, 1.514020399170276, 1.328029375764994, 1.0130246020260492, 1.544041450777202, 1.2012260351066502, 1.5373961218836565, 1.0378353051423217, 1.2, 1.1959984902418868, 1.1288245931283907, 1.232372745801192, 1.0166910331384016, 1.4805675508945095, 1.0, 1.4015151515151516, 1.52, 1.4230159037263475, 1.2272727272727273, 1.0, 1.2606299371951672, 1.0, 1.0, 1.3247165532879819, 1.1833333333333333, 1.381747572815534, 1.0194239785666444, 1.2203389830508475, 1.5555555555555556, 1.511737089201878, 1.1555555555555554, 1.0058924158905151, 1.0, 1.5039370078740157, 1.0902777777777777, 1.4946949602122015, 1.0811989100817438, 1.0062928579175923, 1.4078947368421053, 1.3124357656731758, 1.0476190476190477, 1.220537934152038, 1.0626916356203224, 1.1067415730337078, 1.0, 1.0704761904761906, 1.190124635881763, 1.0562822037257233, 30.29032258064516, 1.0143986448334275, 1.020382790200851, 1.1456058242329694, 1.1252864782276546, 1.0076480118056559, 1.0173994118912717, 1.1370620774431468, 1.2062706270627064, 3.25, 1.0549154854847267, 1.1807580174927115, 1.0246675246675248, 1.024745269286754, 1.0767386091127098, 1.0099111843009774, 1.2467138523761374, 1.3161760871832309, 1.0722772277227723, 1.0713266761768903, 7.0, 1.0018723007855823, 1.8400770712909442, 1.12, 2.0543478260869565, 1.0800705507902493, 1.4540816326530612, 1.0473426786173972, 1.1119425885983831, 1.0, 1.0393504059962524, 1.1136950904392764, 2.125, 1.0043978832951945, 1.4593829732710883, 1.036729258223465, 1.1823432343234324, 1.4791988044735827, 1.334020618556701, 1.11679150990649, 1.0511247443762781, 1.194057916509966, 1.0413497692702103, 1.2073602264685068, 1.180101944496885, 72.12871287128714, 1.0231481481481481, 1.125, 1.2617866004962779, 1.06216726773141, 1.0828589500316255, 1.4320337197049526, 1.0688518258426967, 1.1764705882352942, 1.028925860044412, 1.0, 1.2679169457468185, 1.228956228956229, 1.1858238639601546, 1.0616570327552985, 1.2112299465240641, 1.089126559714795, 1.0515151515151515, 1.1199269164982117, 1.0, 1.2760394060161255, 1.3333333333333333, 1.0, 1.391304347826087, 1.2698564593301436, 1.1037851037851039, 1.4563106796116505, 1.2076271186440677, 1.2225828758520443, 1.7307692307692308, 1.155011655011655, 1.0648944487881158, 1.0486257928118394, 1.1348579711932887, 1.1842105263157894, 1.2437869822485208, 1.0731402895656514, 1.0598211412784182, 1.0059599829714772, 1.2273224043715847, 1.1332586786114223, 1.1733333333333333, 1.035915218852836, 1.1520644511581069, 1.1095737830453019, 1.1791044776119404, 1.6409444284480277, 1.735993860322333, 2.1, 1.1111111111111112, 1.6666666666666667, 1.4174698795180722, 1.1540056197315016, 1.066805049088359, 1.2211953173136167, 1.1894810988494953, 1.825, 1.3910323253388948, 1.3295402524360735, 1.0941828254847645, 1.0335195530726258, 1.0311756956493798, 1.0805152979066022, 1.3982814786837259, 1.2246376811594204, 1.129245699161888, 1.0516659921759073, 1.02456226500479, 1.3076923076923077, 1.10030617268755, 1.1435897435897435, 1.4782608695652173, 1.4477611940298507, 1.1096051361671773, 1.0054064877853424, 1.188087774294671, 1.123076923076923, 1.1042901055820378, 1.0, 1.0227507755946226, 1.135135135135135, 1.1096345514950166, 51.877591312931884, 1.2692307692307692, 1.0992372541148134, 1.1954887218045114, 1.0047058823529411, 1.343625634691917, 1.216012896292316, 1.2696485623003195, 1.2883553150715816, 1.3855291576673867, 1.098200670936261, 1.3098445595854922, 1.0727699530516432, 1.4834437086092715, 1.0762946684502197, 1.1707543373278484, 1.0, 1.8218496401776145, 1.364864864864865, 2.0, 1.0246774857613394, 1.0723212365761412, 1.2100290697674418, 1.0220716793405538, 1.038803458752045, 1.3893805309734513, 2.857142857142857, 1.0922183507549361, 1.064673581452105, 1.0774769656398981, 1.1947965310206805, 1.0293470503025925, 1.2384952520087655, 1.2776162790697674, 1.2726934523809523, 1.6120401337792643, 1.0514920806104413, 1.4416403785488958, 1.0301089045483665, 1.004096834264432, 1.0019617724343977, 1.165137614678899, 1.0286458333333333, 1.7222222222222223, 1.8, 1.451708766716196, 1.596585117227319, 1.4374299589092268, 1.046829268292683, 1.3333333333333333, 1.0770338372930166, 1.0964773087908601, 1.1923076923076923, 1.1304778281486114, 2.0, 1.127637857562071, 1.101468624833111, 1.0507084265473527, 1.312395309882747, 1.011553273427471, 2.1892764529414754, 1.6285714285714286, 1.620253164556962, 1.0209537572254335, 1.0, 1.192237687366167, 1.175072463768116, 1.8571428571428572, 1.3333333333333333, 1.2406015037593985, 1.2102564102564102, 1.0068101059039534, 1.4736842105263157, 1.3461538461538463, 1.0400696864111498, 2.5, 1.0747384155455904, 1.0256410256410255, 1.2285714285714286, 1.366153846153846, 2.9473684210526314, 3.0, 1.172562553925798, 1.4126984126984128, 1.0833333333333333, 1.0074063914415032, 1.2390501257667101, 1.3384615384615384, 1.4493300329054635, 1.1432422333724779, 1.0814524043179587, 1.1290322580645162, 1.0357142857142858, 3.5, 1.4581497797356828, 1.0519502204016207, 1.045859872611465, 1.2684931506849315, 1.5049261083743843, 1.1574389781891, 1.0384427132193987, 1.0109692018563265, 1.391304347826087, 1.9583333333333333, 1.0596807772380292, 1.0530855372885395, 1.209452736318408, 1.2228804420085388, 1.475, 1.0427666161343347, 1.3030852683995278, 1.0307215938635004, 1.1421254801536491, 1.854887983706721, 2.9, 21.476635514018692, 1.0823970037453183, 1.0396847530529827, 18.0, 1.0023612750885478, 1.2928754573478147, 1.163326291098669, 1.6117627485234174, 2.3333333333333335, 1.039647577092511, 1.2176308539944904, 1.070364427010589, 1.2817367629146665, 1.028148971860452, 1.0375462276174756, 1.290815049637107, 1.0066331198536138, 1.578740157480315, 1.20534545364721, 1.362776025236593, 6.125, 1.0, 1.0, 1.0823617713284963, 1.8333333333333333, 5.348314606741573, 1.0013780461024846, 1.1000595592614653, 1.3115577889447236, 1.4598214285714286, 1.052272621303255, 1.0875464644077266, 1.3043478260869565, 1.263157894736842, 1.4415584415584415, 2.1, 1.022412520807949, 1.375, 1.0786831398604009, 2.0, 1.1780185758513932, 1.0765794011600565, 1.0733762201052248, 1.389763779527559, 5.454545454545454, 1.0525846163152959, 1.378134403209629, 1.0449742536536, 1.3746273600529977, 1.2647783251231528, 1.3705179282868525, 1.0064187769888222, 2.0, 1.025, 36.369072164948456, 2.1925044483985765, 1.3187689529144015, 1.3390146963675016, 1.120879120879121, 1.0197826002695964, 1.3636363636363635, 1.4584145824501908, 1.4489795918367347, 1.0106609808102345, 1.0296156269691241, 1.0837858805275407, 1.0906713164777682, 1.2747068676716917, 1.1060360840230545, 1.0184738955823294, 1.1881766453497156, 1.2845611567274036, 1.3076923076923077, 1.0878293601003763, 1.0457971014492753, 1.9113262402573301, 1.158256880733945, 4.130374479889043, 1.05, 1.0636363636363637, 1.0981308411214954, 1.0561320627135606, 1.4893617021276595, 1.0828729281767955, 1.2528922695913673, 1.0607387661843108, 1.0649350649350648, 1.6033394803858843, 1.235377136584601, 1.0682530635508691, 1.2838388411045722, 1.0943680338912225, 1.2110883204633205, 1.4558823529411764, 1.0862068965517242, 1.0496566296883254, 1.1013633033752033, 1.2019230769230769, 2.0, 1.0432085122505683, 1.1688827899493683, 1.3129988597491449, 1.3693181818181819, 1.2593582887700534, 1.0073889991682272, 1.2177280550774527, 1.35, 1.6923076923076923, 1.376010781671159, 1.3043478260869565, 1.553125, 1.1025641025641026, 1.0868198454038787, 1.1233721727210417, 1.0627615062761506, 1.3571428571428572, 71.27210884353741, 1.2927250665375032, 1.0543640758386543, 1.257336343115124, 1.0325316488244722, 1.0445997670161424, 1.0714285714285714, 2.75, 1.0886524822695036, 1.6923076923076923, 1.8333333333333333, 1.2941176470588236, 1.0787878787878789, 10.0, 1.3138297872340425, 1.0434334182554281, 1.0480589826291962, 1.4057971014492754, 1.15, 1.1538461538461537, 1.345679012345679, 1.3428571428571427, 1.0110486891385768, 1.0108870967741936, 1.051973481775714, 1.03125, 1.3275345269745664, 1.0466222297015504, 1.6666666666666667, 1.0474788015626837, 1.039906103286385, 1.8333333333333333, 1.1139601139601139, 1.041151669034918, 1.1068396103557847, 1.0787459909597314, 26.108681022880216, 1.8333333333333333, 1.03601108033241, 1.2938986744143817, 71.33333333333333, 1.01767927847364, 1.4028776978417266, 1.13121514413636, 1.7896222610565937, 1.1699936695505382, 1.25, 1.02111269756036, 1.0651672433679353, 1.06396255850234, 1.1101928374655647, 1.0083945435466946, 1.0, 1.2131147540983607, 1.191843331115125, 1.031838665435105, 4.242424242424242, 1.086111111111111, 3.367088607594937, 1.1294498381877023, 1.2703101920236337, 1.0, 1.0033063084234164, 1.0362756952841596, 1.0175287024417288, 1.3275932759327593, 1.2123893805309736, 1.2113821138211383, 1.0424028268551238, 1.125, 1.108730583824317, 1.0580046403712298, 1.0099609319982752, 1.05, 1.5, 1.1579651941097724, 1.0149719948298148, 1.1776807980049875, 1.5590352071581404, 1.1471728100739653, 1.0275786660187098, 127.2751677852349, 1.0732113144758735, 1.2153846153846153, 1.1144201526367132, 1.097406253519012, 113.18823529411765, 1.2381786339754817, 1.25, 1.2933333333333332, 1.239951573849879, 1.2807625649913346, 4.82671905697446, 1.2562315416420555, 1.3934659090909092, 1.3333333333333333, 1.0308988764044944, 1.0214098095253827, 1.1356153219233904, 1.6463878326996197, 1.1648291365051868, 1.1149674620390455, 1.358598207008965, 1.0246598639455782, 1.0304146757498385, 1.1332660966832466, 1.4069952305246423, 1.3021766965428938, 1.1025641025641026, 1.0739346686382578, 1.6375402141237276, 1.3750052627885763, 1.0321166187530852, 1.2203672787979967, 1.143365350409107, 1.125, 1.3431952662721893, 3.0, 2.5, 1.6470588235294117, 92.66998577524893, 3.2, 2.287519747235387, 1.5897435897435896, 1.2222222222222223, 1.267347440944882, 1.5238095238095237, 1.3730886850152906, 1.0600315955766193, 1.1195220893047495, 1.3333333333333333, 2.0, 1.3592233009708738, 1.25, 1.1122112211221122, 1.2029250457038392, 1.0146562905317769, 1.04153483163171, 2.0, 1.1177458033573142, 1.2742828911284076, 1.0641774953186176, 1.1615720524017468, 1.2518142235123366, 1.8125, 1.1428571428571428, 10.0]
origin-bjaq_15.71 	max: 343.5000	99th: 71.2727	95th: 3.5083	median: 1.1817	mean: 3.2325

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.164163 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=129.141596