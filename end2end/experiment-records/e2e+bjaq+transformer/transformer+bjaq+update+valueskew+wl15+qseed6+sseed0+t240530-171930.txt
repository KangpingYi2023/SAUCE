Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='ddup', model_update='update', model='transformer', end2end=False, query_seed=6, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 0, 'transformer': {'epochs': 40}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=6', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=update', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 4.0000	99th: 2.9443	95th: 1.6667	median: 1.0838	mean: 1.1726
ReportEsts: [1.1246006389776357, 1.0888888888888888, 1.0469502599074825, 1.2946428571428572, 1.0478393022333818, 1.252, 1.164179104477612, 1.0664961636828645, 1.008464242163403, 1.2, 1.015825828451517, 1.0684893456608864, 1.23719165085389, 1.0648632491406367, 1.0021536252692032, 1.0301263362487851, 1.1300448430493273, 1.0909090909090908, 1.1935483870967742, 1.1165016027941246, 1.2121212121212122, 1.0, 1.0556411573360727, 1.0509275670565994, 1.1694915254237288, 1.0841423948220066, 1.2142857142857142, 1.014435316297183, 1.1, 4.0, 1.1003584229390682, 1.8333333333333333, 1.0402919708029197, 1.1919385796545106, 1.101332846448786, 1.2857142857142858, 1.0909090909090908, 1.2451790633608815, 1.0511973662690395, 1.2692307692307692, 1.068655062141144, 1.0493150684931507, 1.0455028054186428, 1.0284810126582278, 1.055444651061037, 1.1166098549069299, 1.173913043478261, 1.1333333333333333, 1.3885880882965431, 1.06, 1.1882161267060174, 1.0, 1.6666666666666667, 1.2110778443113772, 1.3255813953488371, 1.10706176789308, 1.065927240461402, 1.0955605718585402, 1.105263157894737, 1.2178149606299213, 1.1666666666666667, 1.1231638418079095, 1.0103092783505154, 1.054524163144065, 1.0696582071223906, 1.4705882352941178, 1.372378669862193, 1.0, 2.0, 1.1010068115824039, 1.0641544690127687, 1.0140589569160998, 1.0901960784313725, 1.0, 1.298939929328622, 1.0414414414414415, 1.0865578977764945, 1.125, 1.0, 1.1013847504215462, 1.078125, 1.0206540447504302, 1.0329187664709418, 1.1511627906976745, 1.0, 1.239238154227315, 1.0308820648980392, 1.0529635432780111, 1.125, 1.1620111731843576, 1.0693069306930694, 1.25251480345295, 1.1275780789628758, 1.0375903997456886, 1.75, 1.033007674711931, 1.0, 1.1278381046396841, 1.1497458242556282, 1.1886792452830188, 1.0485133020344288, 1.132112491824722, 1.0442477876106195, 2.0, 1.1447937795807979, 1.2728260869565218, 1.0967402733964249, 1.1666666666666667, 1.0554511278195489, 1.0469798657718121, 1.0522928399034595, 1.1791590493601463, 1.0574423234570793, 1.036100797851331, 2.0526315789473686, 1.0623853211009173, 1.0238757963753324, 1.0356071202960022, 1.015393724097099, 1.0, 1.038406827880512, 1.25, 1.0454545454545454, 1.1068954822702368, 1.5714285714285714, 1.013782542113323, 1.1666666666666667, 1.1773399014778325, 1.011308562197092, 1.0046511627906978, 1.0918803418803418, 1.1121281464530892, 1.0951289398280801, 1.0, 1.2353982300884956, 1.0176502598937907, 1.129746835443038, 1.0, 1.1421319796954315, 1.1373497862730866, 1.0097173144876326, 1.0, 1.010856370476871, 1.0673854447439353, 1.0095741290116949, 1.5945945945945945, 1.0095238095238095, 1.093939393939394, 1.105263157894737, 1.3333333333333333, 1.7291666666666667, 1.0357142857142858, 1.4329159212880143, 1.0198675496688743, 1.2725598526703499, 1.1025641025641026, 1.1041666666666667, 1.0628328745140896, 3.0, 1.1391114348142752, 1.0215827338129497, 1.1047381546134662, 1.055107630090353, 1.0480895242958046, 1.0096618357487923, 1.1051860294716274, 1.0108108108108107, 1.1919504643962848, 1.0103092783505154, 1.050161457894589, 1.0885899814471243, 1.097106234220237, 1.0091430893483009, 1.195027542057466, 1.0486787204450625, 1.0097065462753951, 1.108605611322895, 1.0, 1.0625, 1.4, 1.04, 1.0193164933135215, 1.037991410637595, 1.0, 1.375, 1.1272873516991755, 1.0232558139534884, 1.2857142857142858, 1.105269932806426, 1.0404810932235118, 1.1538461538461537, 1.087162162162162, 1.0194542698332492, 1.061904761904762, 1.3534883720930233, 1.0952380952380953, 1.1676348547717843, 1.06262521945678, 1.0923076923076922, 1.061866125760649, 1.2516703786191536, 1.1743625086147484, 1.057714927108608, 1.1074251558715926, 1.0370644922164567, 1.3333333333333333, 1.1191950464396285, 2.5, 1.2407407407407407, 1.5, 1.0009301430495863, 1.0945540134729324, 1.092470713974321, 1.0503597122302157, 1.0, 3.0, 1.1245934959349593, 1.1538461538461537, 1.0269366356322878, 1.218241042345277, 1.2428419936373276, 1.064968152866242, 1.0, 1.028229255774166, 1.0796610169491525, 1.027626051926082, 1.0408348457350272, 1.05488761108207, 1.032258064516129, 1.0627032048304692, 1.1037028402688736, 1.081787521079258, 1.060021436227224, 1.044903132355604, 1.4666666666666666, 1.25, 1.0042077789535764, 1.0, 1.037443834248627, 1.2206742825299526, 1.011218304296504, 1.0491803278688525, 2.309090909090909, 1.0197780993728895, 1.2772277227722773, 1.6666666666666667, 1.0665293791951198, 1.1313868613138687, 1.0650789653559736, 1.0107671601615074, 1.0307692307692307, 1.053440213760855, 1.064102564102564, 1.0185185185185186, 1.1441048034934498, 1.0977011494252873, 1.1094890510948905, 1.0688575899843507, 2.2, 1.041198230216871, 1.0963759458383113, 1.0983350491675246, 1.0033125487139516, 1.120274914089347, 1.2981017800428392, 1.1985645933014355, 1.0098669021329683, 1.2037037037037037, 1.0, 1.1582346609257266, 1.041895235952723, 1.2111486486486487, 1.003875178462166, 1.0626197621027513, 1.1, 1.4444444444444444, 1.3333333333333333, 1.0623910450500045, 1.125, 1.1217132513116312, 2.0, 1.0698224852071005, 1.0972222222222223, 1.0326086956521738, 1.1818181818181819, 1.1428571428571428, 1.542857142857143, 1.0778658976207642, 1.1608996539792387, 1.0, 1.3870967741935485, 1.4583333333333333, 1.085483870967742, 1.1203703703703705, 1.0920436817472698, 1.0586699431730917, 1.0661505981703026, 1.0180617497446478, 1.2222222222222223, 2.0, 1.0492297503328665, 1.0046764178639163, 1.0546883076604983, 1.089828897338403, 4.0, 1.0014438606732827, 1.1035223367697595, 1.6923076923076923, 1.3617021276595744, 1.1219512195121952, 1.0346320346320346, 1.1546451240623197, 1.1798872558888664, 1.0480881405708777, 1.1, 2.0, 1.0333333333333334, 1.1194553053795335, 1.0681818181818181, 1.1205110961667788, 1.0875, 1.0746858675702387, 1.3181818181818181, 1.5, 1.1555555555555554, 1.015051688792905, 1.1853746706696893, 1.07381667918858, 1.1573033707865168, 1.5, 1.1484375, 1.0, 3.0, 1.0, 1.263157894736842, 1.1663807890222984, 1.0642092746730083, 1.065354623096918, 1.1372166341390182, 1.2311233885819521, 1.063197026022305, 1.1431556948798327, 1.084942084942085, 1.1017733631494098, 1.1012658227848102, 1.1145629568619375, 1.0707006369426753, 1.0124175599754932, 1.5, 1.033674963396779, 1.0494449013157894, 1.0062745098039216, 1.25, 1.0294002861974763, 1.0849204060882893, 1.0, 1.0256410256410255, 1.5, 1.1147802759325498, 1.0391384962648467, 1.049352336346006, 1.0545923484739934, 1.1136469060209666, 1.3333333333333333, 1.2236314130123245, 1.110658771280533, 1.0625, 1.0973470261018399, 1.1724137931034482, 1.054635761589404, 1.0004156818964596, 1.025868258628652, 1.5, 1.0600121083699108, 1.0, 1.0189293006194415, 1.0642022075631898, 1.0863664404688465, 1.0, 1.0, 1.3013100436681222, 1.0145985401459854, 1.0131269293071303, 1.2510706638115632, 1.0612977633764915, 1.091519510990368, 1.0186806771745476, 1.2585737615677735, 1.005878284923928, 1.2577319587628866, 1.044776119402985, 1.0, 4.0, 1.1769436997319034, 1.0632440154105882, 1.0014914243102162, 1.149618833684136, 1.1628532974427994, 1.1517902168431668, 1.0, 1.0181319690326072, 1.2022329892563723, 1.2369211316579738, 1.1094890510948905, 1.2531645569620253, 1.054319781078968, 1.303030303030303, 1.063961912647485, 1.0810253068317583, 1.0122322179794188, 1.0, 1.0303030303030303, 1.0970528455284554, 1.1608544823808655, 1.037037037037037, 1.0531439728262324, 1.0218978102189782, 1.0460337032470202, 1.0420206047448215, 1.152753108348135, 1.0672588832487309, 1.075, 1.2507907993907916, 1.04, 1.08125, 1.0456220066314625, 1.0250459760049042, 1.1134335998439937, 1.1189153263325802, 1.0359805510534845, 1.3571428571428572, 1.1785714285714286, 1.6906474820143884, 1.102528735632184, 1.0183097171394848, 1.2347826086956522, 1.103694730466384, 1.1049895178197064, 1.0, 1.0532160477993875, 1.2941441441441441, 1.1436470729655006, 1.0448833034111311, 1.0172917837114088, 1.053909799112155, 1.0084008400840083, 1.263157894736842, 1.3972602739726028, 1.0, 1.0972351177608777, 1.0666666666666667, 1.2028469750889679, 1.1202404809619237, 1.4705882352941178, 1.5319502074688798, 1.030881017257039, 1.0363910086694699, 1.2, 1.065934065934066, 1.0141471301535974, 1.0241855873642645, 1.5555555555555556, 2.94375, 1.1111111111111112, 1.2623924621056943, 1.105, 1.0786516853932584, 1.0900860664147847, 1.1184706781374023, 1.034438775510204, 1.0125825663237682, 1.1623254992048064, 3.0, 1.0869565217391304, 1.0857192284404464, 1.186046511627907, 1.1077844311377245, 1.2914285714285714, 1.0189560806300895, 1.0473186119873816, 1.3317073170731708, 1.267515923566879, 1.0511363636363635, 1.0485986683478223, 1.5, 1.0961716214182842, 1.049689440993789, 1.5, 1.0117130307467057, 1.1023936170212767, 1.0765306122448979, 1.057915057915058, 1.0666666666666667, 1.0262341117351463, 1.0521523178807948, 1.0686536316850324, 1.016858036053408, 1.0196850393700787, 2.1666666666666665, 1.120713305898491, 1.0122511485451762, 1.3333333333333333, 1.0845007953016028, 1.0335441978292361, 1.1812966150315547, 1.084580236848125, 1.0485312899106003, 1.0437138640927015, 1.0690399137001079, 1.1333333333333333, 1.0148984198645599, 1.0136736554238832, 1.9285714285714286, 1.112520325203252, 1.0357142857142858, 1.1396351575456054, 1.0183430143686947, 1.0, 1.0596608889161103, 1.055202218781675, 1.0460989518621173, 1.0260736196319018, 1.1649917778183811, 1.000141965553264, 3.0, 1.1205736025753585, 1.0846047156726768, 1.1543340380549683, 1.0978839786958399, 1.0042234672121555, 1.3626373626373627, 1.1351152345188131, 1.0476190476190477, 1.0000737486435518, 1.2196904557179709, 1.0, 1.2105263157894737, 3.0, 1.0975609756097562, 1.0903173311635477, 1.0723055934515688, 1.0119859661006185, 1.6666666666666667, 1.0111317254174397, 1.1127622377622377, 1.0047050307636627, 1.105357142857143, 1.1675977653631284, 1.118313334080969, 1.2, 1.03125, 1.0919153031761308, 1.1277472527472527, 2.0, 1.0470588235294118, 1.0515828151498021, 1.1063829787234043, 1.4615384615384615, 1.1051478641840087, 2.0, 1.2380952380952381, 1.008714596949891, 1.1670289855072464, 2.0588235294117645, 1.1225433526011561, 1.11864406779661, 1.1035528185693984, 1.2, 1.05756204199766, 1.4285714285714286, 1.1460312075983718, 1.1381156316916488, 1.0412590387069331, 1.2044257112750263, 1.0898876404494382, 1.0202492211838006, 1.0291176600149774, 1.083916083916084, 1.1296296296296295, 1.0618118118118118, 1.0837121212121212, 1.0542163432251328, 1.103546891200565, 1.044343891402715, 1.1456953642384107, 1.3501326259946949, 1.0703259005145798, 1.0158273381294964, 1.0543245175125089, 1.0077519379844961, 1.1363636363636365, 1.0584098417137877, 1.0578602620087336, 1.0909090909090908, 1.10752688172043, 1.375, 1.0252761257434155, 1.061804697156984, 1.0798319327731092, 1.0, 1.1336898395721926, 1.0074056899702681, 1.75, 1.151015228426396, 1.1818181818181819, 1.1132490379329303, 1.0854481152419564, 1.0853128621089223, 1.0142337742709058, 1.0068093385214008, 1.004895104895105, 1.0, 1.0344622053644, 1.6666666666666667, 1.1369661266568483, 1.625, 1.0, 1.00827141059711, 1.0076699834162521, 1.353135313531353, 1.0707070707070707, 1.006677796327212, 1.3076923076923077, 1.0, 1.0266497298273216, 1.1634852908151807, 1.0617210397347812, 1.0157246652606517, 1.0733333333333333, 1.0808459740118523, 1.205607476635514, 1.3525641025641026, 1.0457516339869282, 1.064724266559129, 1.0437158469945356, 1.0, 2.0, 1.0526315789473684, 1.1669592534417443, 1.0142215568862276, 1.0, 1.25, 1.1239669421487604, 1.0646083476272155, 1.0196323398179548, 1.1181506849315068, 1.3043478260869565, 1.0614674783723166, 1.2891891891891891, 1.1550268610897927, 1.2271186440677966, 1.070776541202951, 1.0909090909090908, 1.0458130035175308, 1.0739191073919108, 1.0420668595877642, 1.0213857209753363, 1.0671915157602434, 1.0078125, 1.103448275862069, 1.0276447954894665, 1.0625, 1.0750789196773063, 1.0022497187851518, 1.1804222648752398, 1.0763888888888888, 1.040975022838172, 1.0381713843574698, 1.0633640349065676, 1.4, 1.049194966353368, 1.0878612716763005, 1.6666666666666667, 1.25, 1.0503448275862068, 1.0769230769230769, 1.0574712643678161, 1.1422101449275361, 1.0458056403808156, 1.0468421052631578, 1.1024096385542168, 1.0727272727272728, 1.0585443037974684, 1.0249110320284698, 1.3083333333333333, 1.0, 1.1093732568776635, 1.9385474860335195, 1.3, 1.030612244897959, 1.0536200188185032, 1.1259515570934255, 1.087265009096422, 1.0, 1.0700213017751479, 1.0889443692706446, 1.0218047951670757, 1.0228224423728762, 1.027282195809337, 1.0666666666666667, 1.129291773259728, 1.1775250227479528, 1.2, 1.3353293413173652, 1.0374905693227323, 1.4666666666666666, 1.2465214335910049, 1.0962219598583236, 1.0112781954887218, 1.0119536702469931, 1.3333333333333333, 1.121212121212121, 1.0008764241893076, 1.0228813559322034, 1.12, 1.0350842806742453, 1.6, 1.0861244019138756, 1.297820823244552, 1.0263157894736843, 1.1601383023158676, 1.1895604395604396, 1.1187149355262835, 1.0417316730937172, 1.0, 1.0440147490056035, 1.042581503659348, 1.1818181818181819, 1.1063627531886888, 1.0518032786885245, 1.0887747109871864, 1.0444177671068426, 1.0516120644825793, 1.3076923076923077, 1.0245228584110075, 1.1379310344827587, 1.4166666666666667, 1.063849458856801, 1.5, 2.0, 1.5, 1.006454710629266, 1.1472527472527472, 1.1305614140805464, 1.0, 1.0147540983606558, 2.0, 1.0443037974683544, 1.093953554233928, 1.0708154506437768, 1.0, 1.02905874921036, 1.1574074074074074, 1.0666666666666667, 1.1236749116607774, 1.0, 1.0348652931854199, 1.0416666666666667, 1.0604166666666666, 1.5, 1.4, 2.5, 1.875, 1.2285714285714286, 1.0309264471128263, 1.069828722002635, 1.0, 1.5918367346938775, 1.0131695942350887, 1.0531437125748504, 1.0681818181818181, 1.093812375249501, 1.1414141414141414, 1.090497737556561, 1.0357142857142858, 1.8083735909822867, 1.0463612901104682, 1.0627808818170776, 1.1012658227848102, 1.1361022364217253, 1.1857142857142857, 1.0403004168673176, 1.375, 1.0181506152011401, 2.5, 1.0274771895593409, 1.0, 1.0080307926249763, 1.126365563345834, 1.3383458646616542, 1.0304878048780488, 2.0, 1.1161215963117705, 1.0301570135932432, 1.0723160933868412, 1.5, 1.0593681917211328, 1.0497105890364318, 1.0186323888391065, 1.0930851063829787, 1.0, 1.0450297366185217, 1.192420969958767, 1.092139694041868, 1.109278350515464, 1.0086819258089976, 1.1173184357541899, 1.0588916332201297, 1.083076923076923, 1.0, 1.0326086956521738, 1.0, 1.0, 1.1196172248803828, 1.215925394548063, 1.05784222323607, 1.0816628548365397, 1.1001465559355155, 1.0218053927315358, 1.1167736757624398, 1.1792420621372481, 1.0785934284676737, 1.3333333333333333, 1.1091081593927894, 1.013584117032393, 1.0688800792864221, 1.0727956427162202, 1.1652173913043478, 1.0148426191702853, 1.0119284294234592, 1.0019062748212868, 1.0210526315789474, 1.1098074702780292, 1.0202133632790567, 1.2666666666666666, 1.0596491228070175, 1.0239651416122004, 1.071705426356589, 1.0389972144846797, 1.4050632911392404, 1.0063451776649746, 1.1825970548862115, 1.0555555555555556, 4.0, 1.0734615384615385, 1.3529411764705883, 1.08339222614841, 1.6666666666666667, 1.006674082313682, 1.1233766233766234, 1.162162162162162, 1.0747756509438133, 1.1485714285714286, 1.3333333333333333, 1.2169811320754718, 1.0176583766352545, 1.0573770491803278, 1.062067345727848, 1.2, 1.1, 1.2792022792022792, 1.0295741460562071, 1.0651806889898299, 1.0700298824813952, 1.1461988304093567, 1.0633856113795934, 1.0, 1.564102564102564, 1.0232558139534884, 1.1287160961743457, 1.159016393442623, 1.0473415877640204, 1.3018867924528301, 1.0728614249481208, 1.4411764705882353, 1.126543209876543, 1.1070840197693574, 1.06, 1.048919279675901, 1.1312559017941455, 1.4444444444444444, 1.195945945945946, 1.0816300622064237, 1.0065437888537463, 1.2105263157894737, 1.1749550629119232, 1.3288409703504043, 1.0777777777777777, 1.0080795839014292, 1.0910415149308084, 1.069767441860465, 1.04, 1.5, 1.0159135015248129, 1.0112359550561798, 1.55, 1.0, 1.0465116279069768, 1.0, 1.4, 1.037914691943128, 1.108804581245526, 1.0, 1.0728617324362004, 1.3894853757867456, 1.1086773378264532, 1.3756645008860011, 1.162162162162162, 1.1005342399222924, 1.2258064516129032, 1.0385739094902442, 1.3975903614457832, 1.0767940577452977, 1.0159023018801616, 1.0318372095438917, 1.0, 1.0, 1.0614973262032086, 1.1231654676258993, 1.6666666666666667, 1.0937659965271853, 1.6603773584905661, 1.5714285714285714, 1.2523020257826887, 1.1820107719928186, 1.1699604743083003, 1.0215949168672676, 1.049774102739148, 1.1521739130434783, 1.0499139414802066, 1.0909090909090908, 1.1030805192636808, 1.0442377064742738, 1.28125, 1.0283623055809699, 1.0298685782556751, 1.0127730233746328, 1.0564516129032258, 1.1932773109243697, 1.1380090497737556, 1.0163904681262852, 1.0, 1.2222222222222223, 1.03862660944206, 2.0, 1.055050916631883, 1.0671550671550671, 1.0596220514723882, 1.12, 1.3885714285714286, 1.065217391304348, 1.0247170813416677, 1.0, 1.1047120418848169, 1.5909090909090908, 1.0670606229143493, 1.114678899082569, 1.1646318199160626, 1.0582959641255605, 1.0203666796643704, 1.0952380952380953, 1.0897254782177084, 1.0, 1.035437430786268, 1.09375, 1.2275334608030593, 1.0339384372533544, 1.06490727532097, 1.6666666666666667, 1.0450495802943207, 1.0688683917296027, 1.0470149253731342, 1.0453074433656957, 1.5277777777777777, 1.006524793352813, 1.005952380952381, 1.082191780821918, 1.00199203187251, 1.1070367087287516, 1.0472348863617105, 1.009, 1.0625, 1.0406504065040652, 1.0526315789473684, 1.095987291014709, 2.0, 1.0775456589574155, 1.0434853686447605, 1.0812807881773399, 1.1273393787381825, 1.0466786355475763, 1.197594501718213, 1.1098169717138102, 1.1265356265356266, 1.0235207943354765, 2.0, 1.0, 1.375, 1.0498704052251175, 1.0111742795530287]
origin-bjaq_15.71 	max: 4.0000	99th: 2.9443	95th: 1.6667	median: 1.0838	mean: 1.1726

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.976130 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=ddup', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
done, took 0.0s
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
done, took 0.0s
new data average log likelihood = 27.2864
detection mean = 23.7451
detection threshold = 0.2538
test statistic = 3.5412
Offline time = 3.6192848682403564
Online time = 0.0710909366607666
Test result: True
DDUp Drift detection: True
Detection latency: 4.3253s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=update', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
UpdateTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.8887 bits (loss 19.501, data 18.613) 0.00300 lr
epoch 9 train loss 12.6569 nats / 18.2600 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.3768 bits (loss 18.236, data 18.613) 0.00245 lr
epoch 19 train loss 12.3356 nats / 17.7965 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.8728 bits (loss 17.740, data 18.613) 0.00200 lr
epoch 29 train loss 12.1175 nats / 17.4819 bits
time since start: 12.8 secs
Epoch 30 Iter 0, train entropy gap -1.0813 bits (loss 17.531, data 18.613) 0.00164 lr
epoch 39 train loss 11.9458 nats / 17.2342 bits
time since start: 17.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 22.5358 nats / 32.5123 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
UpdateTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 6.724209 | Model-update-time: 19.645212


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=update', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 15.0000	99th: 4.5004	95th: 2.8874	median: 1.1794	mean: 1.4227
ReportEsts: [1.34, 1.75, 1.0347428980770523, 1.2685185185185186, 1.005691280957573, 1.3733333333333333, 1.5918367346938775, 1.2625298329355608, 1.079650034281962, 1.0833333333333333, 1.2573163997791275, 1.033359689747355, 1.3645320197044335, 1.8264819142283515, 3.549211207911467, 1.0169794459338695, 1.3723958333333333, 1.625, 1.2333333333333334, 1.1867476720417898, 2.05, 1.7142857142857142, 1.010622788393489, 1.0222020018198361, 1.6521739130434783, 1.7179487179487178, 1.25, 1.5357142857142858, 1.2486486486486486, 1.1115023474178405, 1.0487358006595822, 1.2835578262888991, 1.222984562607204, 1.263157894736842, 1.3333333333333333, 1.38, 1.177685950413223, 1.2771883289124668, 1.1941747572815533, 1.1765748592085457, 1.2307692307692308, 1.1847013797965555, 1.4356164383561645, 1.0103859081070619, 1.2404580152671756, 1.0238323225875092, 1.074069240056123, 1.0742753623188406, 1.1368078175895766, 1.5399538106235566, 1.4528301886792452, 1.161111836095524, 1.0, 1.6666666666666667, 1.271111111111111, 1.4736842105263157, 1.1683598106894162, 1.0612726506531815, 1.2081818181818182, 1.1111111111111112, 1.2705622932745315, 3.5, 1.2971751412429378, 1.2763157894736843, 1.1517914638229916, 1.2334224236095133, 1.0, 1.2567901234567902, 1.0, 2.0, 1.0564077305563373, 1.2767395626242544, 1.1448961937716262, 1.1975717439293598, 1.0855106888361046, 1.00182768578426, 1.1790017211703958, 1.2471860376881245, 1.0, 1.0, 1.007031479700402, 1.1594202898550725, 1.1022304832713754, 1.189293742485232, 1.3945578231292517, 1.0, 1.0614536889038446, 1.1710549086503992, 1.005137544851582, 2.125, 1.211111111111111, 1.073015873015873, 1.1792383127350887, 1.0543647095371234, 1.0652156453296924, 1.0, 1.2254571276406887, 2.3333333333333335, 1.0143129770992367, 1.0162784170642716, 1.0223880597014925, 1.0551626591230552, 1.1524633821571237, 1.1923076923076923, 4.424657534246576, 1.0778089013383132, 1.5192982456140351, 1.0437636761487965, 1.006786436560674, 2.3, 1.2354124748490947, 1.197389885807504, 1.1419472247497726, 1.381468110709988, 1.0245024897981196, 1.1731663685152056, 2.352112676056338, 1.1855400696864111, 1.0876930742401594, 1.0042902133858942, 1.260077305356157, 1.0, 1.3984674329501916, 2.25, 1.8461538461538463, 1.129429622278008, 1.5714285714285714, 1.0100143061516451, 1.1666666666666667, 2.3067484662576687, 2.5, 1.0, 1.2888198757763976, 1.4646226415094339, 1.4346846846846846, 1.0, 1.2729700854700854, 1.0123813936052455, 1.0198621393923921, 1.6666666666666667, 1.2415458937198067, 1.90282955740369, 1.0427421593116848, 1.1444444444444444, 1.1516791073371857, 1.146282973621103, 1.0019181660233911, 4.538461538461538, 1.2533470648815654, 1.0696920583468394, 3.915766738660907, 1.3333333333333333, 2.15625, 2.4210526315789473, 1.1802749957562384, 2.1471518987341773, 1.3039370078740158, 1.191860465116279, 1.0043988269794721, 1.0323864307946888, 3.0, 1.092941998602376, 1.6105263157894736, 1.0778588807785887, 1.026561815260262, 1.0155818162627877, 1.4275956284153006, 1.132, 1.0903426791277258, 1.8333333333333333, 1.2018498882400672, 1.0067199325435998, 1.1764705882352942, 1.1033040272263188, 1.059290105096173, 1.2730447153157232, 1.0477788746298125, 1.068733153638814, 1.1642061855670103, 1.019341222060757, 1.2857142857142858, 1.6, 1.7142857142857142, 1.4054054054054055, 1.387438249823571, 1.6504907306434025, 2.0, 1.1365461847389557, 1.2410714285714286, 1.155844155844156, 1.0559410653647012, 1.0540003782863627, 1.1130315013107033, 1.2307692307692308, 1.01255980861244, 1.0207545651999035, 1.134453781512605, 1.8384279475982532, 1.2307692307692308, 1.321993670886076, 1.0440492532114978, 1.198611111111111, 1.2332155477031803, 1.3192389006342495, 1.0132187706543292, 1.1684820944616459, 1.1663844567459025, 1.2696470588235294, 4.0, 1.3319587628865979, 5.0, 1.8620689655172413, 1.5, 1.0147081214409697, 1.306547199096938, 1.0030570151745815, 2.0714285714285716, 1.0, 3.0, 1.0675211484234812, 4.5, 1.1628496247929052, 1.641711229946524, 1.4533404029692472, 1.1586715867158672, 1.2727272727272727, 1.6107554417413572, 1.105357142857143, 1.3388291746641074, 1.374064837905237, 1.0018832391713748, 1.032258064516129, 1.2146319964742178, 1.2152131828698238, 1.334575260804769, 1.087457952907256, 1.2358469456254195, 2.875, 1.5, 1.0063807739827029, 1.0, 4.2210708117443865, 1.917259347933244, 1.2727272727272727, 1.0132850241545894, 1.1818181818181819, 5.181818181818182, 1.2556627046422966, 1.2517482517482517, 1.0957446808510638, 2.5, 1.5166666666666666, 1.0325429614993114, 1.4320987654320987, 1.8108108108108107, 4.297812799175197, 1.0232558139534884, 1.1895238095238094, 1.3936170212765957, 1.2067039106145252, 1.5577498503889886, 1.0014858841010401, 1.5714285714285714, 1.0000756193699016, 1.0625, 1.0601106579857384, 1.0379377431906616, 1.5571428571428572, 1.1110759893791882, 1.209919261822376, 1.0470108326880554, 1.8425925925925926, 1.0, 1.100907029478458, 1.021434202746206, 1.1478910838227443, 1.0862068965517242, 1.0455657052434726, 1.6666666666666667, 1.5, 1.3333333333333333, 1.1934652648938364, 1.25, 1.0320727877828175, 1.5, 4.276413690476191, 2.0, 1.168091168091168, 1.0, 2.25, 1.7714285714285714, 1.5032444124008653, 1.2607260726072607, 1.0, 2.15, 1.8653846153846154, 1.2492307692307691, 1.5, 2.170967741935484, 1.0255881599768872, 1.0273785078713211, 1.014179010001266, 1.0, 2.0, 1.2140314186276702, 1.0039101854757462, 1.042240969581749, 1.1295636687444346, 7.0, 1.0278445079487968, 1.0816842105263158, 4.6, 1.3673469387755102, 1.1096774193548387, 1.1192660550458715, 1.0834715312327252, 1.0386570743405277, 1.0063311174422285, 1.1, 2.0, 1.5981308411214954, 1.0104552802600981, 1.4615384615384615, 1.0135834105246078, 1.2463312368972745, 1.018042646254784, 1.3181818181818181, 3.0, 1.0952380952380953, 1.049090629642912, 1.0574670119620175, 1.0070171456672437, 1.2721311475409836, 1.6666666666666667, 1.875, 1.0, 3.0, 1.2, 1.0229662423907029, 1.0656565656565657, 1.0085965539782187, 1.0, 1.1633298706204551, 1.2201492537313432, 1.0705009276437847, 1.558746736292428, 1.029616724738676, 1.2704988437396763, 1.0235294117647058, 1.074579031707253, 1.0492289442467377, 1.0198020185433336, 3.0, 1.027656477438137, 1.099197808648014, 1.1107491856677525, 1.25, 1.3929306477348935, 1.034645032768427, 1.0, 1.0730101735487731, 3.5, 1.2204266681500848, 1.0221272102769323, 1.006443245226994, 1.0257623328028902, 1.0115843878096595, 1.7142857142857142, 1.1754138417593007, 4.372155804087929, 1.0208877284595301, 1.039927859325685, 1.2352941176470589, 1.306201550387597, 1.209390844716393, 1.0127253818571593, 1.4285714285714286, 1.380773249738767, 2.0, 1.137226834621624, 1.1861671133900478, 1.1470043236565781, 2.0, 2.0, 1.1336633663366336, 1.5892857142857142, 1.0300714396103474, 1.3934890304317056, 1.0382600982265733, 1.161190206414109, 1.0066889632107023, 1.0963172804532577, 1.0055847568988174, 1.8, 1.75, 1.0, 6.285714285714286, 1.0645905420991926, 1.0139246806392745, 1.001423487544484, 1.1626359473382941, 1.0768115942028986, 1.073555166374781, 1.0, 1.0215082696516342, 1.0222443559096945, 1.0415137324389319, 1.145985401459854, 1.8333333333333333, 1.1906785172339043, 2.0, 1.2413793103448276, 1.25987598759876, 1.0548912216643846, 1.4633333333333334, 1.1119402985074627, 1.1323360184119677, 1.288870869653355, 1.12, 1.0072624984017389, 1.045774647887324, 1.1522614255268766, 1.0056949746542336, 1.1833887043189368, 1.0857487922705313, 1.4827586206896552, 1.1454473928903512, 1.0, 1.352, 1.0310697803971716, 1.0284629981024669, 1.0042074793056046, 1.074922614609458, 1.262787973447872, 1.0159138498354772, 1.0459886719080227, 1.0485021398002854, 1.6675574559059327, 1.0401069518716577, 3.9770274010517577, 1.0, 1.0, 1.7586206896551724, 1.2065640733352332, 1.0052310136115903, 1.088192944564435, 1.1201777418703291, 1.138996138996139, 1.0133827006289868, 1.0671035822410444, 1.232843137254902, 1.0, 1.1774193548387097, 3.611111111111111, 1.0359671150788048, 1.032258064516129, 3.447377103266249, 1.3680555555555556, 3.0, 1.3261494252873562, 1.5979680696661829, 1.0946762453018697, 1.25, 1.3368421052631578, 1.0871559633027523, 1.1879491431730238, 1.4, 1.1422505307855626, 1.6875, 1.0875722415846827, 1.7311320754716981, 2.1707317073170733, 1.0024793388429751, 1.0156982137335584, 1.2354694485842026, 1.010811458707899, 1.1219624953046896, 3.0, 1.4054054054054055, 1.0235361653272101, 2.049382716049383, 1.0939226519337018, 1.1807747489239597, 1.0371702637889688, 2.006825938566553, 2.084016393442623, 1.7599164926931106, 1.151106314085267, 1.5923694779116466, 1.0002605262630513, 1.5, 1.0090912513175727, 1.0670391061452513, 1.5, 1.268166089965398, 1.3625, 1.1677295918367347, 3.4, 1.0666666666666667, 1.0211889851591318, 1.2337042925278219, 1.2656551403872258, 1.0565113397308434, 1.15625, 1.8571428571428572, 1.0466830466830468, 1.2094880225457962, 1.3333333333333333, 1.0273096569199212, 1.0198201246158618, 1.1146650573325287, 1.026064982362257, 1.1685912240184757, 1.0266465085514505, 1.3093220338983051, 1.0925925925925926, 1.0689501779359432, 1.139568393539307, 2.4523809523809526, 1.0237868696479544, 1.3488372093023255, 1.0143494897959184, 1.0073940657882263, 1.25, 1.005053247793231, 1.0201945776882246, 1.041850496703127, 1.1161695447409734, 1.0158962177964552, 1.0002138411211385, 3.0, 1.1141180306488425, 1.459514170040486, 1.0617283950617284, 1.1905061121901062, 1.0124116069251403, 1.434782608695652, 1.2163905060456786, 1.5345345345345345, 1.2499269779838622, 1.0157205240174672, 1.0, 1.0083043705594685, 1.0, 1.1333333333333333, 1.1893203883495145, 1.8496124031007752, 1.0110645431684828, 3.9444444444444446, 1.3275862068965518, 1.2128829536527888, 1.256797583081571, 1.1302884615384616, 1.1474358974358974, 1.0227223190932868, 1.5, 1.3333333333333333, 1.0271043000914912, 1.0380078636959371, 2.0, 1.1970594689488698, 1.0073919485112552, 1.1111111111111112, 1.4074074074074074, 1.125833997495161, 2.0, 2.888888888888889, 1.6897810218978102, 1.5701158078873365, 1.3076923076923077, 1.1536486982031537, 1.2437722419928825, 1.019395632807468, 2.25, 1.1394142769981697, 1.032258064516129, 1.0604699895225265, 1.0071138211382114, 1.1309742647058822, 1.2086258776328986, 1.3088235294117647, 1.5891089108910892, 1.3202106599932768, 1.3247863247863247, 1.103864734299517, 1.22890825217837, 1.2622744439781788, 1.094392774101234, 1.1455083269176223, 1.050318102949682, 2.9098360655737703, 1.1450044208664898, 1.4054054054054055, 1.3682170542635659, 2.8873425380934044, 1.213989875747814, 1.1304347826086956, 1.0219005416051206, 1.2533659730722153, 2.6363636363636362, 1.3297872340425532, 1.0535714285714286, 1.102481339519871, 1.7302231237322516, 1.3045685279187818, 1.4289099526066351, 1.087179487179487, 1.2334658474882545, 1.7142857142857142, 1.183105981112277, 1.3, 1.260131624523727, 1.1645874208714322, 1.0773544212796549, 1.008831497836107, 2.4824120603015074, 1.0114170584284754, 1.0, 1.0063764623186222, 1.0, 1.1550732418130225, 1.6, 1.5, 1.2252435704931746, 1.1430294675168016, 1.2078651685393258, 1.0761421319796953, 1.5989974937343359, 4.25, 1.0, 1.0124972805724093, 1.1835215946843853, 1.3029279463482457, 1.0036258177795536, 1.5838509316770186, 1.0118841945447883, 1.6079295154185023, 1.3565217391304347, 1.2619047619047619, 1.1903990399039903, 1.53125, 4.0, 1.5, 1.589928057553957, 1.0049882319879158, 1.7677756033920418, 2.0, 1.6666666666666667, 1.3333333333333333, 1.156410951477365, 1.043911111111111, 1.193784277879342, 2.6470588235294117, 1.1572350771294433, 1.0332480818414322, 1.0374365482233503, 1.359447004608295, 1.0820939089822357, 1.375, 1.0649655563869036, 1.230886850152905, 1.026744195719265, 1.0303687635574836, 1.0196097656633003, 1.2339622641509433, 1.6, 1.2089285714285714, 1.214404432132964, 1.2398135040315135, 1.0146040019093572, 2.3333333333333335, 1.3333333333333333, 1.4819721387599016, 1.3541666666666667, 1.002526344932602, 3.5, 1.009094963663871, 1.165279429250892, 2.5, 1.0, 1.1954887218045114, 1.075, 1.1710144927536232, 1.2347343378271214, 1.2335475293596276, 1.042621448212649, 1.08, 1.1779661016949152, 1.132919254658385, 1.054945054945055, 1.2085889570552146, 1.0, 1.8579579674770976, 1.143637356635718, 1.625, 1.1795607277495492, 1.188801055908641, 1.124031007751938, 1.169591351754345, 1.0, 1.1542295162328047, 1.1180291942237701, 1.7933132777246, 1.0070885460668695, 1.2201765429313696, 1.3548387096774193, 1.2101504166215777, 1.1094863693144243, 1.6, 1.3218884120171674, 1.00404623362647, 3.6666666666666665, 1.339323467230444, 1.1407407407407408, 1.0666137985725614, 1.1677168832980678, 1.5, 1.375, 1.0316455696202531, 1.1595615103532277, 1.588235294117647, 1.027451528709918, 1.6, 1.2153846153846153, 1.7950819672131149, 1.4444444444444444, 1.3746322720086455, 1.3785900783289817, 1.0015609225751338, 1.0039964396173489, 1.0, 1.143089430894309, 1.0848161328588375, 1.0833333333333333, 1.0034464813487427, 1.00790273556231, 1.012617335121297, 1.1569148936170213, 1.086737605317042, 2.375, 1.307016528664766, 1.030396306271643, 1.08, 1.1550400627556452, 1.5, 1.0, 4.0, 1.0286530113720764, 2.9398745850239765, 1.1619114300717661, 1.5454545454545454, 1.187779433681073, 2.0, 1.0196399345335516, 1.2438415714055708, 1.2191011235955056, 2.0, 1.7511061946902655, 1.0330578512396693, 1.0416666666666667, 1.2709923664122138, 1.0, 1.1905660377358491, 3.375, 1.2567693744164332, 1.5, 1.75, 2.0, 2.875, 2.2523809523809524, 1.0115747575796945, 1.0011574074074074, 1.0, 1.5771863117870721, 1.0535851381682861, 1.390360766629087, 1.8191489361702127, 1.1316270566727604, 1.8695652173913044, 1.4136029411764706, 1.0117994100294985, 1.5511049723756907, 1.0121911125051488, 1.0308528114822608, 1.2818181818181817, 1.015748031496063, 1.4193548387096775, 1.0157726785976497, 1.113315400134499, 1.038923288874086, 1.465581553068837, 1.3676286072772899, 1.2171779141104295, 1.4705882352941178, 1.0200864526809528, 1.0717255717255718, 1.1167516294392457, 1.2926829268292683, 3.0, 1.0765825586542719, 1.125301834656842, 1.0041716010237995, 1.3333333333333333, 1.2424824056301984, 1.0225016545334216, 1.0406210872776074, 1.4745098039215687, 1.0, 1.143236074270557, 1.0565548098434006, 1.0882237101220953, 1.5070028011204482, 1.4689655172413794, 1.9276923076923076, 1.0476652684854577, 1.0292397660818713, 2.6, 1.1584158415841583, 1.0, 1.0, 1.2238805970149254, 1.083147735708983, 1.1070939567763844, 1.1341510234597587, 1.0384985563041387, 1.0856804733727812, 1.4187251476081455, 1.5408163265306123, 1.0164422210631134, 5.0, 1.0168105406633348, 1.3291666666666666, 1.4218852999340805, 1.0253193617684198, 1.0223880597014925, 1.2876515567572135, 1.1677600749765698, 1.0554447246584109, 1.1875, 1.0002663667574287, 1.2071869736103313, 1.6923076923076923, 2.107936507936508, 1.212678936605317, 1.2106690777576854, 1.3198529411764706, 2.25, 1.0507425742574257, 1.1395144779175197, 1.5833333333333333, 4.0, 1.491668226923797, 2.3, 1.1718524623943951, 1.6684782608695652, 1.3563770939601916, 2.6684782608695654, 1.2803643724696356, 1.0478198634661968, 1.0813953488372092, 1.2, 1.7952286282306162, 1.032254206203652, 1.5542168674698795, 1.0135313178791439, 3.441860465116279, 1.01, 1.4345047923322685, 1.2379989140733958, 1.0475005570823739, 1.0340278152121178, 1.04093567251462, 1.0208927378488912, 1.0, 1.605263157894737, 1.1, 1.000311777390943, 1.0079470198675498, 1.031318281136198, 2.1497584541062804, 3.3696655132641293, 2.2083333333333335, 1.051490514905149, 1.2738719832109129, 1.0406386066763424, 1.010146218677527, 1.3737623762376239, 1.0, 1.033303491495076, 1.216558330482381, 1.3632470019147436, 1.1357681263460158, 1.2483516483516484, 1.0178306092124814, 1.3096774193548386, 1.6273062730627306, 1.0098644375090824, 1.1039195979899497, 1.2414965986394557, 1.3125, 1.0, 1.0156315400229736, 1.0431654676258992, 1.3333333333333333, 1.0, 1.4333333333333333, 1.5, 1.1666666666666667, 1.8206106870229009, 1.126078914919852, 1.0, 1.1230842911877394, 1.1908450704225353, 1.013950073421439, 1.3187995469988676, 2.0476190476190474, 1.2645348837209303, 1.1578947368421053, 1.0113543728892511, 3.2222222222222223, 1.2002327365052499, 2.5141471682124195, 1.0791430527556958, 1.3043478260869565, 2.0, 1.2317351598173516, 1.0507358636715725, 2.0, 1.0013169321207378, 3.8333333333333335, 1.8333333333333333, 1.0902140672782874, 1.147643285455306, 1.0514705882352942, 1.004626872305436, 1.0325124727267674, 1.7666666666666666, 1.2191387559808613, 1.0416666666666667, 1.0299321442070593, 1.0160554197229015, 1.3112244897959184, 1.1627118644067798, 1.5891891891891892, 1.003705433281897, 1.0320197044334976, 1.0590551181102361, 1.0522088353413654, 1.3203781512605042, 1.619047619047619, 1.2, 1.099056603773585, 1.411764705882353, 2.462706751274316, 1.0874497016789233, 1.1683675822402013, 1.6666666666666667, 2.3846153846153846, 3.0425531914893615, 1.0827882993042521, 1.0, 1.0082918739635158, 2.260869565217391, 1.0185880283434914, 1.2228260869565217, 1.146508279337653, 1.110899233501589, 1.011747068438386, 2.5555555555555554, 1.050170376277822, 2.0, 1.306806282722513, 1.1314655172413792, 1.6390532544378698, 1.2818840579710145, 2.401849516603615, 15.0, 1.0330253723110865, 1.0905211735970102, 1.1691666666666667, 1.344240837696335, 7.857142857142857, 1.0536027045741518, 1.47, 1.0403587443946187, 1.2857142857142858, 1.023963235837666, 1.1443241890344258, 1.1769321302471558, 1.0718562874251496, 1.0544918998527246, 1.3940886699507389, 1.0049052173675637, 5.0, 1.0083299305839117, 1.0893330553155998, 1.1568627450980393, 1.1732254505332842, 1.5054945054945055, 1.2696480854239622]
origin-bjaq_15.71 	max: 15.0000	99th: 4.5004	95th: 2.8874	median: 1.1794	mean: 1.4227

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.873572 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=ddup', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
done, took 0.0s
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
done, took 0.0s
new data average log likelihood = 22.2494
detection mean = 25.1132
detection threshold = 0.3728
test statistic = 2.8638
Offline time = 3.6037237644195557
Online time = 0.08948278427124023
Test result: True
DDUp Drift detection: True
Detection latency: 4.2039s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=update', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
UpdateTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.7699 bits (loss 19.354, data 18.584) 0.00300 lr
epoch 9 train loss 12.5828 nats / 18.1531 bits
time since start: 4.6 secs
Epoch 10 Iter 0, train entropy gap -0.4271 bits (loss 18.157, data 18.584) 0.00245 lr
epoch 19 train loss 12.2868 nats / 17.7260 bits
time since start: 9.1 secs
Epoch 20 Iter 0, train entropy gap -0.7782 bits (loss 17.806, data 18.584) 0.00200 lr
epoch 29 train loss 12.0693 nats / 17.4123 bits
time since start: 13.5 secs
Epoch 30 Iter 0, train entropy gap -1.1544 bits (loss 17.429, data 18.584) 0.00164 lr
epoch 39 train loss 11.8920 nats / 17.1566 bits
time since start: 18.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 22.2822 nats / 32.1464 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
UpdateTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 6.479245 | Model-update-time: 20.462496


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=update', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 17.0000	99th: 4.5030	95th: 2.5534	median: 1.1702	mean: 1.4289
ReportEsts: [1.5191489361702128, 1.2564102564102564, 1.0258290422245109, 3.2666666666666666, 1.1310344827586207, 4.0, 1.830316742081448, 2.5524619747357566, 1.0656629784146563, 1.0132927166989754, 1.0324535765300515, 1.004435261707989, 3.3333333333333335, 1.2021903959561921, 1.4589253143899394, 1.030144927536232, 1.020848767065298, 1.23966065747614, 1.514, 1.1764462809917355, 1.1245671954263627, 1.0451927964865788, 1.2595455610213164, 1.1689895470383276, 1.05286249076039, 1.4545454545454546, 1.1545454545454545, 1.1666666666666667, 1.0212765957446808, 1.2287234042553192, 1.009049773755656, 1.0625, 1.1340537582928665, 1.107248520710059, 1.2553191489361701, 1.25, 1.1538461538461537, 1.2258064516129032, 1.7379310344827585, 1.0567260940032415, 1.2272030155767846, 1.9230769230769231, 1.2013747038156712, 1.6150442477876106, 1.0103128360969367, 1.2307692307692308, 1.0704109734138332, 1.0126472829591417, 1.218543046357616, 1.2110091743119267, 1.121049092131809, 1.6415094339622642, 1.257469120099494, 1.0, 2.0, 1.0019725802420651, 1.2435233160621761, 1.2977298600415188, 1.0868579401761578, 1.2561436672967863, 1.4285714285714286, 1.196763883339992, 1.75, 1.6282485875706214, 1.1030927835051547, 1.0728424775283658, 1.2099012651487968, 1.3621495327102804, 1.022023312292892, 1.3333333333333333, 2.0, 1.0438788746253969, 1.1950130256791962, 1.1914370078740157, 1.4646175839885633, 1.0639175257731959, 1.042529145331096, 1.0757825370675453, 1.0569860700717602, 1.0, 1.0, 1.0127952992542086, 1.7102803738317758, 1.0914110429447852, 1.0984029088231233, 1.2830188679245282, 1.5, 1.2333690737028578, 1.3274110608247278, 1.0221488126092724, 2.125, 1.4493670886075949, 1.507137490608565, 1.288314070812695, 1.1917134831460674, 1.1862499103878414, 1.0, 1.3478285124543248, 3.5, 1.016201620162016, 1.155342757257942, 1.5463917525773196, 1.0875224416517055, 1.037147992810066, 1.077562326869806, 3.090909090909091, 1.0143407748523376, 1.7159090909090908, 1.056064592216275, 1.0014341437826797, 1.7142857142857142, 2.2246376811594204, 1.1756540309663641, 1.1064322073114299, 1.096586178184846, 1.162313432835821, 1.326470588235294, 1.0602297362251454, 1.4158790170132325, 1.0092103229794467, 1.012797074954296, 1.0865804431996047, 1.0, 1.578616352201258, 1.375, 1.5, 1.1416937149601651, 1.8333333333333333, 1.1224489795918366, 1.3333333333333333, 1.073394495412844, 1.0097113097586545, 1.086091203724837, 1.0144927536231885, 1.0747863247863247, 1.6308724832214765, 1.028717294192725, 2.4181568088033014, 1.0384615384615385, 1.65, 1.1708754208754208, 1.081090137384117, 1.6666666666666667, 1.2364273204903677, 1.0555058919138562, 1.0039656311962988, 1.0714285714285714, 1.168891056004458, 1.5460992907801419, 1.0263463966857929, 2.36, 1.0158730158730158, 1.264367816091954, 1.9219143576826196, 1.3333333333333333, 1.0520833333333333, 1.75, 1.261180314478252, 1.0771558245083208, 1.4104683195592287, 1.0901001112347053, 1.6628440366972477, 1.041221413789064, 1.5, 1.161961367013373, 1.201219512195122, 1.084455324357405, 1.066146957147166, 1.0184323871350207, 1.1612903225806452, 1.187279151943463, 1.2885714285714285, 1.5333333333333334, 1.2424234626924047, 1.0590744915521295, 1.6538461538461537, 1.1088552592148637, 1.0191015210470464, 1.274136396731656, 1.0124798230405931, 1.0868516284680338, 1.1225092810061368, 1.0052470674963683, 1.75, 1.6, 1.4, 6.5, 1.1703703703703703, 1.3013757523645744, 3.0, 1.0604982206405693, 1.0502024291497976, 1.068888888888889, 1.0885004329905688, 1.02808887283237, 1.0523623098140404, 1.8571428571428572, 1.0617977528089888, 1.0397346000150796, 1.1699604743083003, 1.0454545454545454, 1.8518518518518519, 1.1453287197231834, 1.0020566129454436, 1.1006369426751592, 1.3286802030456852, 1.1746987951807228, 1.0043343653250774, 1.1967846441662737, 1.0143261534320096, 1.2829291488349976, 1.125, 1.2198142414860682, 5.0, 2.076923076923077, 1.7142857142857142, 1.033939604908189, 1.0911293875752681, 1.0182657352626703, 1.256198347107438, 1.0, 3.0, 1.0086453999075358, 4.2, 1.0969580082405541, 1.1986970684039089, 1.4944532488114104, 1.445672191528545, 1.0, 1.24106463878327, 1.4988452655889146, 1.2976095246953772, 1.246606334841629, 1.070571291406625, 1.28, 1.051153039832285, 1.1179306750065154, 2.624203821656051, 1.0500481231953802, 1.1593198992443325, 2.1818181818181817, 1.25, 1.005292043816009, 2.0, 2.603672580143168, 2.5407563796585277, 1.4814814814814814, 1.0068415051311288, 1.3137254901960784, 11.8, 1.0513093463913137, 1.0903395977579955, 1.4507042253521127, 3.3333333333333335, 1.9583333333333333, 1.0262737725207138, 1.3181818181818181, 1.0615384615384615, 2.6451941198643047, 1.263157894736842, 1.2872549019607844, 1.2300469483568075, 1.1734417344173442, 1.4673055242390078, 1.438133874239351, 2.2, 1.0154067674586034, 1.0167224080267558, 1.0012859531055767, 1.1400842336568393, 1.6054158607350097, 1.3769194609840176, 1.0591658583899126, 1.0111785000907936, 1.3170731707317074, 1.0, 1.1027667984189724, 1.010062029452152, 1.0040526849037488, 1.1952750092284976, 1.1291412451617135, 1.2, 1.8, 4.0, 1.2040512857841048, 2.75, 1.0375749764536757, 1.3333333333333333, 2.633537989255564, 2.0, 1.091644204851752, 3.25, 1.875, 1.6285714285714286, 1.562364816149964, 1.0157977883096367, 1.0, 1.3870967741935485, 1.3333333333333333, 1.1678939617083948, 1.1751497005988023, 1.181046676096181, 1.0463067988124237, 1.0277953253316487, 1.0468709637297768, 2.1184210526315788, 1.1005135730007336, 1.318918918918919, 1.041537608504455, 1.080541493657926, 1.0, 1.0516394038531443, 1.1042935779816514, 1.0256446385796816, 1.0756991321118612, 1.1662673694298036, 2.8979591836734695, 1.2191804365439858, 1.2441613588110403, 1.0, 1.1881720430107527, 1.4285714285714286, 1.2934086054317975, 1.6, 1.0810344827586207, 1.1354401805869074, 1.0317790837971432, 1.0, 1.6298722918499846, 1.1240687679083095, 1.0995475113122173, 1.121897810218978, 1.1984, 1.3278164378408877, 1.0182245416541436, 1.1263408820023837, 1.0, 2.340764331210191, 1.0, 3.0, 1.4285714285714286, 1.1622942386831276, 1.4959349593495934, 1.0187190612249697, 1.5, 1.2527075812274369, 1.1443661971830985, 1.136531365313653, 1.0083542188805348, 1.1213768115942029, 1.128462441314554, 1.1796610169491526, 1.115024074806355, 1.0334773218142548, 1.0117509929515967, 1.3333333333333333, 1.434959349593496, 1.3227370187377645, 1.1446640316205534, 1.25, 1.3407891504102993, 1.0870967741935484, 2.4285714285714284, 1.5, 1.0, 1.0819102157684835, 1.2673191952147906, 1.2223926380368098, 2.0, 1.0509565528338995, 1.291272216453918, 1.243862269525995, 1.1659929586647542, 1.146100017067759, 1.1573033707865168, 1.127461139896373, 1.2566371681415929, 1.7875647668393781, 1.2280172099467659, 1.0243818255032744, 1.0, 1.1833079609563895, 1.25, 1.046796362245048, 1.0873253493013972, 1.1678614097968936, 1.5172413793103448, 1.0, 1.387878787878788, 2.22, 1.0095690251209957, 1.3580067731011127, 1.0296764948598698, 1.2752339903698762, 1.1379928315412187, 1.0314083080040526, 1.0406299212598424, 2.082901554404145, 1.3962264150943395, 1.0, 10.285714285714286, 1.018887722980063, 1.008745710173807, 1.2184531886024423, 1.2196202056593861, 1.1378254211332313, 1.1380169407075236, 1.0, 1.012697072391164, 1.0130873541469567, 1.0272619047619047, 1.2262773722627738, 1.8679245283018868, 1.1857376665887305, 1.56, 1.0272277227722773, 1.139371208964208, 1.006691015339664, 1.021917808219178, 1.8125, 1.109357384441939, 1.3351532969340614, 1.6470588235294117, 1.018574879227053, 1.1725239616613419, 1.1184492798038614, 1.0048375441132105, 1.4727272727272727, 1.0271226415094339, 2.15, 2.470266698702547, 1.3181818181818181, 4.8, 1.0167030220829116, 1.2773722627737227, 2.25, 1.1371709822383909, 1.1176470588235294, 1.084613712132193, 6.0, 1.0874439461883407, 2.7904191616766467, 1.2553596950929014, 1.0050843180732205, 1.1341222879684418, 1.310525480234958, 1.1167821689454953, 1.0, 1.0480287895914553, 1.920731707317073, 1.3251533742331287, 1.2105263157894737, 1.0505556830718428, 1.2193379028729765, 1.1577685309260173, 1.1268823201338538, 2.142857142857143, 1.9210526315789473, 2.409090909090909, 1.111587982832618, 1.004138747202544, 1.6111111111111112, 1.7670450471979926, 2.0, 1.1111111111111112, 1.0701226429740025, 1.105421686746988, 1.0866866050389705, 1.0833333333333333, 1.5656565656565657, 1.0864332603938731, 1.0563314711359404, 1.0, 2.3908629441624365, 1.2857142857142858, 1.3993301924277686, 1.3761061946902655, 1.0909090909090908, 1.0642567205330473, 1.13240309386354, 1.1337662337662338, 1.0204406424017431, 1.0061786545494846, 1.5, 1.4210526315789473, 1.0476042072458123, 2.456896551724138, 1.65625, 1.367479674796748, 1.0812628219740141, 1.0353200883002207, 1.2872340425531914, 1.3656828414207103, 1.693631596752368, 1.0642317380352644, 1.0201970067196091, 2.0, 1.020288772715957, 1.2735426008968609, 3.0, 1.2909698996655519, 1.0655021834061136, 1.073972602739726, 1.3611111111111112, 1.6, 1.0621988438759336, 1.0398089171974523, 1.2907493523675224, 1.0536015574302402, 1.532544378698225, 1.145358306188925, 1.193231441048035, 1.2866578599735798, 1.1358024691358024, 1.1594453119845163, 1.0113376691861486, 1.0651950718685832, 1.029318899413622, 1.5008237232289952, 1.0316512653921288, 1.0733549083063647, 1.3333333333333333, 1.1989333333333334, 1.186276903756933, 9.666666666666666, 1.0336779911373708, 1.070110701107011, 1.2412764688338802, 1.1528483968039847, 1.6666666666666667, 1.0018460732755798, 1.0415560790862732, 1.0352092544595213, 5.571428571428571, 1.0293398533007334, 1.0015688309420987, 1.5, 1.044315403422983, 1.7758620689655173, 1.3266384778012685, 1.1318633574105252, 1.0148834390752253, 1.0141843971631206, 1.2146136417839255, 1.1191806331471137, 1.2344371607582907, 1.1166586653864619, 1.8275862068965518, 1.0251494069692604, 1.0845481049562682, 1.0690702765491669, 3.0, 1.5056133056133056, 1.0119624433804784, 2.78125, 1.375, 1.7705146036161334, 1.0852795470629866, 1.139481000926784, 2.016759776536313, 1.0102865158324026, 1.5, 1.1428571428571428, 1.160635823210132, 1.0483660130718955, 2.0, 1.273677608195693, 1.0348759729836146, 1.75, 1.5957446808510638, 2.024390243902439, 1.114154752810215, 2.0, 2.0, 2.5722222222222224, 1.4407355924562326, 1.4705882352941178, 1.173791170287316, 1.3934426229508197, 1.0010120406892256, 1.8, 1.1615871734386234, 1.5454545454545454, 1.3596278317152104, 1.0621468926553672, 1.0034992223950234, 1.0664983164983164, 1.8426966292134832, 2.1049180327868853, 1.326499841929914, 1.2, 1.0083160083160083, 1.4158497696941066, 1.0079872204472844, 1.0343433565625841, 1.1897353528939356, 1.1445347786811202, 1.6666666666666667, 1.1968253968253968, 1.3624454148471616, 1.5281385281385282, 2.1805957798924287, 1.260485651214128, 1.6296296296296295, 1.101238606292267, 1.2326111744583808, 1.0909090909090908, 1.3061224489795917, 3.4603174603174605, 1.0165918407183292, 1.174250832408435, 1.1125541125541125, 1.305050505050505, 1.0495049504950495, 1.1594981495349417, 1.5, 1.166583291645823, 1.625, 1.3474074074074074, 1.2086018613675, 1.2050498552589257, 1.0733109101002514, 1.9924242424242424, 1.170670037926675, 1.0, 1.140265102129509, 3.8, 1.0882503472983842, 2.0, 2.0, 1.2727408694661273, 1.1897224339715708, 1.2439024390243902, 1.169811320754717, 1.050078247261346, 17.0, 1.0, 1.045856432125089, 1.0714629451395572, 1.3246785607495266, 1.014327604189582, 1.1180555555555556, 1.005209883894016, 1.0169491525423728, 1.368421052631579, 1.0061349693251533, 1.1516981132075472, 2.208791208791209, 2.5, 2.0, 1.217616580310881, 1.0759167558886509, 1.3791348600508906, 4.5, 1.7142857142857142, 1.36, 1.0007741935483871, 1.0065082980800522, 2.9681818181818183, 1.2328767123287672, 1.2715283641667305, 1.087378640776699, 1.0036407766990292, 1.013745704467354, 1.0592260562819935, 1.1, 1.1315802420545114, 1.1077529566360051, 1.0187771997890909, 1.0169304629582507, 1.006445255280049, 1.0955882352941178, 1.103448275862069, 1.0587371512481645, 1.202264539372105, 1.3072864562634472, 1.0043060616098045, 2.3333333333333335, 1.0952380952380953, 1.385251835763781, 1.2575757575757576, 1.0633036191102165, 1.75, 1.0137209912427179, 1.0850159404888418, 2.5, 1.1428571428571428, 1.0103030303030303, 1.0731707317073171, 1.0365682137834036, 1.1887390959555908, 1.175464527027027, 1.2179217501051747, 1.0807692307692307, 4.344827586206897, 1.744908896034298, 1.3649289099526067, 1.1893491124260356, 1.0, 1.6673796791443851, 1.1049311926605505, 1.625, 1.2597483785262171, 1.1963357588357588, 1.1953807740324593, 1.2077002280622409, 1.0, 1.2007415591866222, 1.1397055890214225, 1.5874249571183534, 1.0160068998583656, 1.2767984283027345, 1.03125, 1.2961288827074642, 1.201851851851852, 1.6, 1.5512820512820513, 1.027777502551349, 2.790909090909091, 1.0089577353261407, 1.1159420289855073, 1.8424657534246576, 1.0916967669022979, 1.3333333333333333, 1.121212121212121, 1.1437335670464506, 1.01497461928934, 2.0714285714285716, 1.0390965983881024, 1.1428571428571428, 1.1818181818181819, 1.3725910064239828, 2.3529411764705883, 1.3555258482700392, 1.165, 1.0662878191606586, 1.0150500368236364, 1.0, 1.0387820687401275, 1.19053964023984, 2.4615384615384617, 1.0889965538963204, 1.3777901785714286, 1.00430872595251, 1.1432325886990802, 1.107496740547588, 1.0674575051517168, 1.065911431513903, 1.3964646464646464, 1.0051522868793334, 1.0333693789276095, 1.741354705721246, 1.2362073333741035, 2.0, 1.5, 1.0803853964955368, 2.3389997536339, 1.1305349909205196, 2.2, 1.1816693944353518, 2.0, 1.1111111111111112, 2.6666666666666665, 1.2940255239745426, 1.2968152866242038, 1.1574633304572908, 2.41260162601626, 1.263157894736842, 1.5, 1.0, 1.0412541254125414, 2.0689655172413794, 1.1601423487544484, 4.0, 1.4285714285714286, 1.0, 1.6, 1.4643962848297214, 1.0100306993376589, 1.203723986856517, 1.0, 1.2514384349827388, 1.0237640607879126, 2.1750440917107583, 1.2023809523809523, 1.4442567567567568, 4.0, 1.0213299874529485, 1.1688311688311688, 3.3323442136498516, 1.0049061114708373, 1.0643009371441918, 1.0150375939849625, 1.1048387096774193, 1.1144578313253013, 1.0135693454309787, 1.0108266666666668, 1.0563861241827344, 2.4693552914756247, 1.0080142475512022, 2.0286298568507157, 1.5555555555555556, 1.0060733719501491, 1.070110701107011, 1.0089013884527693, 1.4817073170731707, 1.6666666666666667, 1.0390773405698779, 1.1164728306150633, 1.0223640746361933, 1.25, 1.0566129819424108, 1.0307170741730018, 1.0124053134262816, 1.5601659751037344, 1.0, 1.0642633228840126, 1.0963382125987935, 1.0330110036678892, 1.0048655845960486, 1.105263157894737, 1.0926535087719298, 1.0142500537270007, 1.0042796005706134, 1.6, 1.1263157894736842, 1.25, 1.0, 1.295, 1.040218132242672, 1.167783150703163, 1.1530402176310566, 1.05047388141944, 1.093061902783548, 1.3093922651933703, 1.6820652173913044, 1.0357142857142858, 1.2857142857142858, 1.1082794390728052, 1.202015006656178, 1.0148023549201008, 1.0189544787386828, 1.0137961726746774, 3.1666666666666665, 1.0801464091884387, 1.0829090909090908, 1.046235921754594, 1.0714285714285714, 1.1073074391046742, 1.2966666666666666, 1.5889967637540454, 1.1096838888358322, 1.3757062146892656, 1.1468531468531469, 1.0611408497825359, 1.0914850041655095, 1.25, 1.01799511002445, 1.1868585348970329, 1.3103448275862069, 1.0375275938189845, 1.384554767533491, 1.1811575395795484, 1.26817826426896, 1.3521780375868524, 1.735408560311284, 1.2637362637362637, 1.0085470085470085, 1.0153846153846153, 1.5, 2.038374717832957, 1.0193159268113565, 2.58, 1.0121101203224174, 1.716, 1.425531914893617, 1.0, 4.0, 1.222652468538238, 1.085167816325365, 1.71, 1.434662998624484, 1.7653061224489797, 1.0102315409389782, 1.1023961063272183, 1.3626373626373627, 1.2282809611829943, 1.0732700135685211, 1.0225208132751884, 1.0415647921760391, 1.222472052443234, 1.5872340425531914, 1.0153846153846153, 1.1406649616368287, 1.0487512092474773, 1.3003663003663004, 1.0909090909090908, 1.309539260220636, 1.0836507694651836, 1.3141150184573538, 1.1653226463353046, 1.1916666666666667, 1.1923411662315058, 1.5755395683453237, 1.6415094339622642, 2.0647058823529414, 1.6666666666666667, 1.0438931297709924, 1.016922471467926, 1.0, 1.0218197687104518, 1.0015629778125106, 1.0630305480164002, 1.6195121951219513, 1.4485981308411215, 1.2, 1.036, 1.6987179487179487, 1.2031971580817051, 1.0, 1.1807002547458043, 1.0665474060822897, 1.0522875816993464, 1.2081521739130434, 2.5294117647058822, 1.0209424083769634, 1.0857142857142856, 2.284460124712832, 1.4252838293955201, 1.2451548920844533, 1.093110307130887, 1.5, 1.042620993349026, 2.6451612903225805, 1.0239749660899984, 1.044836471754212, 1.021563981042654, 1.0908777884355247, 3.0, 1.032, 1.4119170984455958, 1.0566037735849056, 1.281792695272954, 1.4241379310344828, 1.0102606389309214, 1.0308428700188457, 1.358974358974359, 1.2415730337078652, 1.8620689655172413, 1.038452295121365, 1.0306245340368183, 1.5227272727272727, 1.2510088781275222, 1.0605714285714285, 1.0539668163336096, 1.097410604192355, 2.0930232558139537, 1.1356993736951984, 1.2440496456095824, 1.3125, 1.8, 1.339080459770115, 1.2258064516129032, 2.0217646506386178, 1.004119278551852, 1.2170225031397335, 1.3888888888888888, 2.9035532994923856, 1.4583333333333333, 1.0690571289150748, 1.0, 1.0806962025316456, 2.0, 1.02283909995955, 1.0405405405405406, 1.0704920824110336, 1.0320896893953317, 1.000480233648371, 1.9166666666666667, 1.0052719200887903, 3.0, 1.190307328605201, 1.4266304347826086, 1.2122241086587435, 1.4695740365111563, 1.7879148682839707, 15.0, 1.0516530677121967, 1.0494403856574301, 1.1213592233009708, 1.0125523012552302, 1.4181818181818182, 1.0001242718446601, 1.0331632653061225, 1.1141552511415524, 1.546448087431694, 1.2433281004709575, 1.064650059311981, 1.0447657733845366, 1.0023474178403755]
origin-bjaq_15.71 	max: 17.0000	99th: 4.5030	95th: 2.5534	median: 1.1702	mean: 1.4289

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 11.959176 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=ddup', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
done, took 0.0s
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
done, took 0.0s
new data average log likelihood = 21.7796
detection mean = 25.2063
detection threshold = 0.4212
test statistic = 3.4268
Offline time = 3.6229116916656494
Online time = 0.0759584903717041
Test result: True
DDUp Drift detection: True
Detection latency: 4.2054s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=update', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
UpdateTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.9836 bits (loss 19.508, data 18.524) 0.00300 lr
epoch 9 train loss 12.5700 nats / 18.1347 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap -0.4248 bits (loss 18.100, data 18.524) 0.00245 lr
epoch 19 train loss 12.2690 nats / 17.7004 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.8483 bits (loss 17.676, data 18.524) 0.00200 lr
epoch 29 train loss 12.0474 nats / 17.3808 bits
time since start: 12.7 secs
Epoch 30 Iter 0, train entropy gap -1.1860 bits (loss 17.338, data 18.524) 0.00164 lr
epoch 39 train loss 11.8956 nats / 17.1617 bits
time since start: 16.8 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 22.0329 nats / 31.7867 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
UpdateTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 6.496404 | Model-update-time: 19.301955


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=update', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 43.7143	99th: 5.9276	95th: 2.4149	median: 1.1767	mean: 1.4645
ReportEsts: [1.0183246073298429, 1.1666666666666667, 1.0403428751179615, 1.3134328358208955, 1.0460526315789473, 2.0, 2.2724719101123596, 2.1239454094292802, 1.150472271579538, 1.1592105263157895, 1.0508503464990502, 1.022706726934326, 2.0, 1.0156583629893239, 1.360898853293567, 1.1577568134171907, 1.0398189114106389, 1.6433333333333333, 1.4214002642007926, 1.1370239497447978, 1.0499353587588882, 1.0213523944369591, 1.0498647536163708, 1.3194244604316547, 1.024712697374568, 2.1818181818181817, 1.0446194225721785, 1.4285714285714286, 1.368421052631579, 1.1666666666666667, 1.091764705882353, 1.075577763897564, 1.2543308873591044, 1.0504148053605615, 2.9523809523809526, 6.0, 1.2777777777777777, 1.3411764705882352, 1.1973434535104364, 1.0958268933539412, 1.2457484056521195, 1.6923076923076923, 1.2727931788179792, 1.9010416666666667, 1.002318115835449, 1.0923076923076922, 1.0910990191333907, 1.066720719392644, 1.4959349593495934, 1.0784753363228698, 2.408959537572254, 1.528301886792453, 1.359034672369024, 1.0, 2.6666666666666665, 1.0919257665912414, 1.4146341463414633, 1.2475014886460563, 1.0040541574236976, 1.029434546862897, 1.9090909090909092, 1.1625387561553895, 1.4, 1.3062146892655366, 2.255813953488372, 1.0362390273670374, 1.2181072356690867, 1.1923076923076923, 1.0224847883038959, 1.4285714285714286, 1.0, 1.1350256024461862, 1.3379166666666666, 1.141824751580849, 1.298469922448124, 1.0522243713733075, 1.0623956958178693, 1.1521394611727416, 1.0510574540425286, 2.0, 1.0, 1.0104125628739222, 2.18796992481203, 1.9026737967914438, 1.059275288526816, 1.2514285714285713, 1.5, 1.1876662947386492, 1.2388487138915405, 1.0200509443131736, 1.25, 1.0212765957446808, 1.100355871886121, 1.4294496010421756, 1.2065410593672237, 1.0468835429196282, 1.375, 1.2880962853372786, 1.1666666666666667, 1.0784313725490196, 1.1554975340876124, 1.1172413793103448, 1.12991452991453, 1.5373001776198933, 1.0810810810810811, 2.2864583333333335, 1.051642263553621, 1.0381355932203389, 1.0433408577878105, 1.027634778417928, 1.0, 1.0495726495726496, 1.1427088738972495, 1.2733103108041441, 1.0398009950248757, 1.0765472312703583, 1.1074918566775245, 1.0500698147332514, 1.268729641693811, 1.024838898652607, 1.3595092024539877, 1.0969049446116916, 1.0, 2.1272727272727274, 1.0, 1.375, 1.8355400696864113, 1.5, 1.051983584131327, 1.5, 1.368, 1.030108105200882, 1.1951776968479217, 1.2124756335282652, 1.4422187981510015, 5.926829268292683, 1.047142015321155, 1.582116788321168, 1.2823529411764707, 1.736842105263158, 1.2043290043290042, 1.024521824423737, 1.0, 1.0509031198686372, 1.0481983727237505, 1.0221659278024067, 1.6666666666666667, 1.166929556238146, 1.0225225225225225, 1.0229585636234901, 4.538461538461538, 1.0442477876106195, 3.0, 1.7788038531553398, 1.0791258754079125, 1.3305666857469949, 1.0149068322981367, 1.0364909486694567, 1.3006134969325154, 1.3013365735115432, 1.087513340448239, 1.0520547945205478, 1.0174093440256227, 3.0, 1.0482573726541555, 1.0414201183431953, 1.2313769751693002, 1.1376596310748492, 1.0009138344773705, 1.0593928728552573, 1.4816753926701571, 1.5342857142857143, 1.5, 1.2255523066926575, 1.0733995028115912, 1.5161290322580645, 1.112114695340502, 1.0827285921625545, 1.1829974536741454, 1.0216087133787641, 1.2165963431786218, 1.055509047588383, 1.050367925549183, 1.125, 2.6666666666666665, 2.3333333333333335, 4.333333333333333, 1.0598070739549839, 1.2079010375099761, 4.0, 1.1178571428571429, 1.2271386430678466, 1.186206896551724, 1.1238568808150455, 1.0047788687114432, 1.0245524915336237, 2.1666666666666665, 1.071921749136939, 1.1346516780175597, 1.105263157894737, 1.032520325203252, 1.3333333333333333, 1.275162925416365, 1.0096758500153156, 1.3709677419354838, 1.321969696969697, 1.3904761904761904, 1.0271739130434783, 1.2452227031389709, 1.010407295902252, 1.5047406581148912, 1.2222222222222223, 1.3003095975232197, 3.3333333333333335, 2.7, 1.5, 1.0490168928274717, 1.155882790420943, 1.0017138678144557, 1.1358024691358024, 1.0, 3.0, 1.0115758193994766, 4.0, 1.0373396456933415, 1.3232758620689655, 1.0851553509781358, 1.5362035225048924, 1.1428571428571428, 1.957871396895787, 1.1017964071856288, 1.100114198705748, 1.0550990975242007, 1.5, 1.4760508308895406, 1.3333333333333333, 1.1089641857953896, 1.7488584474885844, 1.4132589838909542, 1.0584515139900346, 1.3157894736842106, 1.5, 1.0089180748786521, 1.0, 2.165480501102926, 2.0644488092315245, 1.2962962962962963, 1.1987041036717063, 1.6046511627906976, 10.166666666666666, 1.253336029114436, 1.196546762589928, 1.3689320388349515, 3.3333333333333335, 2.108695652173913, 1.0040601738587267, 4.0, 1.42, 2.1559405313679303, 1.0, 1.0843636363636364, 5.822222222222222, 1.4248120300751879, 1.3080402010050252, 1.4263862332695985, 1.5714285714285714, 1.0829682695115876, 1.1585059635907093, 1.4555059964754136, 1.6515151515151516, 2.122529644268775, 1.070019842185409, 1.1649629890729645, 1.113537675606641, 1.173913043478261, 1.0, 1.0247383444338725, 1.0013052396046989, 1.2495183044315992, 1.2613056484251275, 1.0346751435336858, 1.2, 1.125, 2.0, 2.0666814191930367, 1.197289156626506, 1.1166500498504486, 1.3401168603230322, 1.0092437820000095, 1.0797280593325094, 1.3181818181818181, 1.3632183908045976, 1.6149131767109295, 1.75, 1.036230939658543, 1.3762781186094069, 1.526777325399311, 1.1363636363636365, 1.6666666666666667, 1.150943396226415, 1.0, 6.0, 1.2260503884740137, 1.5, 1.875, 1.0718934309538337, 1.8054054054054054, 1.0490196078431373, 1.4208392101551481, 1.1073059360730593, 1.0, 1.0015995326582843, 1.058995370484985, 1.1326110178544178, 1.5265138556277797, 1.0313152400835073, 2.21875, 1.035490773688389, 1.4863665187064046, 1.0, 1.2123845736013037, 1.75, 1.1862580464595578, 2.0, 1.661807580174927, 1.790035587188612, 1.4293009737434113, 1.0726887791107975, 1.117261172611726, 1.16, 2.0, 1.3125, 1.0125605481642634, 1.0599670247845974, 1.015024756701383, 1.097205346294046, 1.6538461538461537, 1.6935483870967742, 1.0, 3.0, 2.25, 1.0387634936211974, 1.0686456400742115, 1.0059787522603978, 2.0, 1.1769454927626235, 1.52, 1.228658536585366, 1.02757502027575, 1.124031007751938, 1.3467572489144137, 1.008695652173913, 1.0026011560693642, 1.1565891472868217, 1.0150365069037808, 3.0, 1.4863157894736843, 1.0095288983881023, 1.0789288231148697, 1.6666666666666667, 1.3708432684665282, 2.0238095238095237, 1.0, 2.0, 1.8, 1.2477886543224437, 1.2820522223852135, 1.0703125, 1.0, 1.0135333442034893, 1.3925701488604927, 1.2566656007035357, 1.003118373456405, 1.142515787677078, 1.5464285714285715, 1.1629313411597297, 1.108303249097473, 1.432, 1.1186496230744019, 1.0312825019086993, 1.2, 1.2909339585775694, 3.0, 1.0946930280957337, 1.0438649798353683, 1.0053895149436551, 1.303030303030303, 1.0, 1.0524017467248907, 1.1372549019607843, 1.0464809306745984, 1.1209602954755309, 1.0635337654712695, 1.2289150344971411, 1.1410693970420933, 1.1254094525035097, 1.1601692354185555, 1.8934426229508197, 1.0133333333333334, 1.0, 43.714285714285715, 1.2111506524317912, 1.0136210012559095, 1.136924075275795, 1.3225891785198298, 1.439922480620155, 1.158802638254693, 1.0, 1.019271112451627, 1.2011919812172656, 1.13727959697733, 1.3722627737226278, 1.1, 1.2066880919683434, 1.6153846153846154, 1.1678183613030602, 1.062203842508831, 1.0876271544568203, 1.0290178571428572, 1.0169491525423728, 1.4229934924078091, 1.4433598183881953, 1.12, 1.035428189967576, 1.3907692307692308, 1.2932317505315378, 1.0092383438611678, 1.163432073544433, 1.0246636771300448, 1.5357142857142858, 2.0859964397728237, 1.0638540478905358, 6.0, 1.0076415931104368, 1.0416666666666667, 1.5, 1.1641348647647276, 1.5, 1.0950630252100841, 12.0, 1.0572033898305084, 1.1824104234527688, 1.0689404934687954, 1.021523508279481, 1.6936671575846833, 1.252085545275292, 1.1252123042083413, 1.0, 1.002407137493927, 1.3692307692307693, 1.1022727272727273, 1.0526315789473684, 1.0633959647881899, 1.247684855392506, 1.156545019022122, 1.0665064102564104, 2.25, 1.140625, 2.576923076923077, 1.007380073800738, 1.0149757188881492, 1.542857142857143, 1.4048865619546247, 1.2, 1.3333333333333333, 1.0495027352358792, 1.8724489795918366, 1.0006489573418706, 1.0833333333333333, 1.2019230769230769, 1.06412157153447, 1.1157718120805369, 1.25, 3.14, 1.2222222222222223, 1.4365130237165666, 1.4226190476190477, 1.0833333333333333, 1.0744730874930772, 1.0920915602218868, 1.200527704485488, 1.016584243889204, 1.0809888202998321, 3.0, 1.2321428571428572, 1.0173539009196084, 2.3288590604026846, 1.125, 1.1673254281949934, 1.0556501383273036, 1.5162337662337662, 1.7735849056603774, 1.601548750439986, 1.509043746494672, 1.3870967741935485, 1.0486527804318746, 1.0, 1.005761893638558, 1.0901502504173624, 3.0, 1.0588235294117647, 1.3931178310740355, 1.0564413265306123, 1.0, 1.25, 1.0106463714989404, 1.0955465587044535, 1.2551275388525418, 1.0005695889053987, 1.111969111969112, 1.2696835908756439, 1.2496737712048718, 1.5522012578616353, 1.5138339920948616, 1.2495762962962964, 1.0233113705544639, 2.15774941537768, 1.2309418267389043, 1.071556350626118, 1.023765428736396, 1.0336280391537733, 1.5750577367205543, 1.0296268051470143, 17.586206896551722, 1.0076190476190476, 1.009152809301033, 1.1887905604719764, 1.2990358023768593, 1.017703895286235, 1.0, 1.0863222726594635, 1.1082251082251082, 1.0667027199764014, 1.21560545764639, 2.3333333333333335, 1.1650099403578529, 1.3333333333333333, 1.0462033494011826, 1.0420232300690577, 1.1111111111111112, 1.3423501450209474, 1.1657915628678583, 1.0159705761657143, 3.0, 1.108683229475632, 1.3818827708703374, 1.2600344387847, 1.072772364924712, 1.0333333333333334, 1.0068887420968198, 1.524547803617571, 1.0327320721513418, 2.0, 1.370653685674548, 1.000976526849925, 2.227272727272727, 1.209647495361781, 1.1040763226366002, 1.1342967923863236, 1.383702104695089, 1.9553072625698324, 1.0674084376448771, 1.2, 1.25, 1.200357325165901, 1.385502471169687, 2.0, 1.130660643704122, 1.1143549503807986, 2.037037037037037, 1.3055555555555556, 1.5809523809523809, 1.371071716357776, 2.0, 1.7333333333333334, 1.394578313253012, 1.4742668036060709, 1.1176470588235294, 1.1287294669795507, 1.1852551984877127, 1.1035297336738417, 2.4104046242774566, 1.1805646332082063, 1.0, 1.165512048192771, 1.092498849516797, 1.104679802955665, 1.0662650602409638, 1.2535211267605635, 1.2067669172932332, 1.3125787694775435, 2.1354838709677417, 1.192488262910798, 1.2872329002469667, 1.0267496111975116, 1.0441417489164877, 1.1397234639775444, 1.186435613982671, 1.2380952380952381, 1.05799812909261, 1.3594771241830066, 1.3925049309664694, 1.9097799081486686, 1.2618845500848896, 1.3928571428571428, 1.0015301545983784, 1.3167630057803468, 1.8181818181818181, 1.4705882352941178, 2.2333333333333334, 1.2919334186939821, 1.0555555555555556, 1.066147859922179, 1.1567489114658926, 1.1099476439790577, 1.1419005668911846, 2.4, 1.0060143418922045, 1.8571428571428572, 1.0575581395348836, 1.2663761610997615, 1.245304969253781, 1.0728087285139583, 1.5317220543806647, 1.059746529873265, 1.0, 1.0396008020415604, 2.5, 1.0893027698185291, 2.0, 1.0, 1.2237416969115935, 1.171571766056565, 1.2817796610169492, 1.1037735849056605, 1.2514204545454546, 3.4, 1.0, 1.0097591999649107, 1.1344259510869565, 1.2782221717945323, 1.0167446387021237, 1.5838509316770186, 1.0023135033050048, 1.8805970149253732, 1.2564102564102564, 1.229090909090909, 1.0778007171574486, 1.0754716981132075, 6.0, 2.0, 1.7943548387096775, 1.1074968477167892, 1.1726525313717007, 4.0, 2.0, 1.0381679389312977, 1.0044324058113765, 1.0942140296979006, 1.0561224489795917, 1.2162162162162162, 1.2385745049949153, 1.5034642032332564, 1.0587550901687028, 1.1542372881355931, 1.0078905972497083, 1.3636363636363635, 1.0929736673089274, 1.51528384279476, 2.0, 1.0120351376144066, 1.0468730877493575, 1.5, 1.2571755330923042, 1.0620300751879699, 1.231121281464531, 1.0456674473067915, 1.3414634146341464, 1.75, 1.2380952380952381, 1.3735861610113107, 1.380952380952381, 1.0014109236847055, 1.2857142857142858, 1.013093510881447, 1.4938737040527803, 1.6666666666666667, 1.625, 1.1151410477835348, 1.2619047619047619, 1.0668485675306958, 1.0641350210970464, 3.046153846153846, 1.4100080710250202, 1.0009259212664992, 1.5714285714285714, 1.3333333333333333, 1.0569514237855946, 2.0, 1.019311414585477, 1.039082903406123, 1.027215888194189, 1.3227633069082674, 1.401639344262295, 1.044890947116821, 1.2737963475373548, 1.2866488254534643, 1.256575587973207, 1.0, 1.279676177536232, 1.2172820043034578, 1.4397106818382288, 1.0128494132934216, 1.2686833682649457, 1.0606060606060606, 1.3304120236348496, 1.1688951442646025, 2.2, 2.1792828685258963, 1.0321977419400195, 2.0838709677419356, 1.0567199360437805, 1.5772811918063314, 1.0378086419753085, 1.2902654867256638, 1.3333333333333333, 1.1379310344827587, 1.6161473087818696, 1.1930704898446833, 1.4285714285714286, 1.0216995052512803, 1.0769230769230769, 1.080168776371308, 1.4858870967741935, 2.1578947368421053, 1.3542205704787442, 1.1937321937321936, 1.0117334435198906, 1.0023324946682923, 1.0, 1.045430795757354, 1.0183288409703504, 3.3846153846153846, 1.08051196633646, 1.1395623891188646, 1.0024733057855368, 1.0459770114942528, 1.0658533661051495, 1.0617596085227852, 1.173812816966344, 1.1865284974093264, 1.0278677900194426, 1.0453385140172138, 1.5608507469632802, 1.27893419137917, 1.0, 1.0, 1.059391038665884, 2.1289429994465965, 1.0083775574914056, 1.0, 1.603305785123967, 2.0, 1.25, 1.3846153846153846, 1.2005750146845149, 1.4067796610169492, 1.0631709331131296, 2.0666373969461924, 2.0869565217391304, 1.3125, 1.0, 1.279918864097363, 2.75, 1.0898305084745763, 1.0, 1.1428571428571428, 1.6666666666666667, 1.1428571428571428, 1.1536585365853658, 1.0342137595433158, 1.1682926829268292, 1.0, 1.0416849495392717, 1.0376684249064976, 2.611434621492853, 1.028301886792453, 1.050314465408805, 2.5, 1.5293072824156306, 1.3919413919413919, 2.605568445475638, 1.0224270556107595, 1.0036357453931968, 1.1397058823529411, 1.1722619702806825, 1.6581196581196582, 1.0407637578879834, 1.0131726172312074, 1.0023242223815976, 1.9652152152152151, 1.030664395229983, 1.1795481569560047, 1.0714285714285714, 1.0140080337690631, 1.0061892130857648, 1.014941820042241, 1.4774774774774775, 1.3333333333333333, 1.0006734006734006, 1.25, 3.0, 1.050418439716312, 1.281021897810219, 1.1674308849410855, 1.5512820512820513, 1.017991105955143, 1.1542553191489362, 1.0, 1.2, 1.1889429948881944, 1.0063286100939342, 1.0342172427218064, 1.5333333333333334, 1.0606705694518361, 1.0049674634843313, 1.2549019607843137, 1.0555555555555556, 1.765625, 1.3333333333333333, 1.0, 1.0441176470588236, 1.0295226130653266, 1.1533570754136049, 1.2181435309973045, 1.0240050536955148, 1.0838121656429562, 1.4545454545454546, 1.429951690821256, 1.4827586206896552, 1.6, 1.1306121058860592, 1.2314105941790905, 1.090480736387602, 1.0098974427874066, 1.039283902297601, 1.1875, 1.019947128094208, 1.2189597315436242, 1.0058667914409631, 1.2901234567901234, 1.0169842357779302, 1.180797304884896, 1.35, 1.2779661016949153, 1.416030534351145, 1.0326797385620916, 1.171773444753946, 2.2857142857142856, 1.0078905839032088, 1.0071479628305933, 1.2857142857142858, 4.0, 1.3824906367041199, 4.6, 1.1080655616260764, 1.1782178217821782, 1.2968251199963603, 1.6988847583643123, 1.4039955604883463, 1.0906185103308355, 1.215311004784689, 1.5714285714285714, 2.160287081339713, 1.0015330050416227, 1.2772277227722773, 1.032806077043692, 1.9567567567567568, 2.272727272727273, 1.25, 2.25, 1.1240409207161126, 1.3758757579723422, 2.111111111111111, 1.3480717710889485, 1.9885057471264367, 1.0314915599692105, 1.0221110393802453, 1.6442307692307692, 1.3256857855361597, 1.2684824902723735, 1.0334610082023057, 1.0363436123348018, 1.3245719383728511, 1.2927835051546392, 1.0923076923076922, 1.1902858899477406, 1.0268398157132117, 1.065606361829026, 1.0909090909090908, 1.069873417721519, 1.12460468058191, 1.3544430538172716, 1.2375227469347574, 1.009690767834196, 1.013138686131387, 1.0127388535031847, 1.2073170731707317, 2.0661157024793386, 1.6666666666666667, 1.0860284605433377, 1.0992273281821878, 1.0, 1.0236065573770492, 1.0557655172413793, 1.0607454750819583, 1.1291866028708133, 1.1764705882352942, 1.5, 1.0871369294605808, 1.7617728531855956, 1.2976846747519295, 1.0, 1.1242610962786654, 1.1800983730609156, 1.25, 1.0030088986577324, 1.1395348837209303, 1.1500207210940738, 1.4210526315789473, 1.8973349396174302, 1.58208446866485, 1.2494461233874727, 1.0963743461382816, 1.5, 1.0615510386355125, 2.3043478260869565, 1.0066123456514333, 1.0341646470174342, 1.3579482644262657, 1.1057859268268428, 3.0, 1.3436293436293436, 1.3562610229276897, 1.0532212885154062, 1.3828607435412728, 1.0694444444444444, 1.0069179138834818, 1.0086763914818213, 2.2083333333333335, 1.7483588621444202, 1.0, 7.5, 3.0, 1.3646408839779005, 1.0963334092461854, 1.2719298245614035, 1.0063829787234042, 1.002061172660017, 1.001063829787234, 1.3205574912891986, 1.1940928270042195, 1.1779370779661957, 1.1692307692307693, 1.0588235294117647, 2.0710263509939955, 1.5555555555555556, 1.7546694126837583, 1.0232301057187787, 1.2182096708822499, 1.4705882352941178, 1.8894230769230769, 1.2564102564102564, 1.0, 1.0, 1.0331825037707392, 3.0, 1.0240550026554598, 1.0723981900452488, 1.011441647597254, 1.087207153942798, 1.0152776261830883, 1.2777777777777777, 1.01108662039017, 1.6838233526456234, 2.8181818181818183, 2.0669291338582676, 1.2375601926163724, 1.281618887015177, 1.5780872367361032, 1.0666666666666667, 1.0230836942004937, 1.0482277849094281, 1.0097087378640777, 1.0213675213675213, 7.857142857142857, 1.0101028096351556, 1.0178571428571428, 1.828125, 1.5064599483204135]
origin-bjaq_15.71 	max: 43.7143	99th: 5.9276	95th: 2.4149	median: 1.1767	mean: 1.4645

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 12.070843 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=ddup', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
done, took 0.0s
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
done, took 0.0s
new data average log likelihood = 21.4594
detection mean = 25.2718
detection threshold = 0.4475
test statistic = 3.8124
Offline time = 3.624164342880249
Online time = 0.09303498268127441
Test result: True
DDUp Drift detection: True
Detection latency: 4.2266s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=update', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
UpdateTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 1.0581 bits (loss 19.508, data 18.450) 0.00300 lr
epoch 9 train loss 12.5505 nats / 18.1066 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap -0.3943 bits (loss 18.056, data 18.450) 0.00245 lr
epoch 19 train loss 12.2400 nats / 17.6586 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.7929 bits (loss 17.657, data 18.450) 0.00200 lr
epoch 29 train loss 12.0115 nats / 17.3290 bits
time since start: 12.8 secs
Epoch 30 Iter 0, train entropy gap -1.1490 bits (loss 17.301, data 18.450) 0.00164 lr
epoch 39 train loss 11.8554 nats / 17.1037 bits
time since start: 17.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.8800 nats / 31.5661 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
UpdateTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 6.506955 | Model-update-time: 19.477332


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=update', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 22.5517	99th: 5.0000	95th: 2.5781	median: 1.1705	mean: 1.4242
ReportEsts: [1.1911764705882353, 7.0, 1.0239935315244166, 1.4606741573033708, 2.459119496855346, 1.3333333333333333, 1.5893909626719056, 1.6932970926564093, 1.0185287829598544, 1.0634497467342041, 1.0519003166865828, 1.0037662465537613, 1.75, 1.0381961317912334, 1.0401174168297456, 1.5761035007610351, 1.0440492476060192, 2.0, 1.1126126126126126, 1.153629316420014, 1.0239256198347106, 1.0964601189912686, 1.203098773402195, 1.0139275766016713, 1.0074359256407437, 1.4545454545454546, 1.4048192771084338, 1.1428571428571428, 1.8387096774193548, 1.8333333333333333, 1.5276461295418642, 1.0642800632911393, 1.0144386662587948, 1.0079950799507995, 2.5, 4.0, 1.7678571428571428, 1.3902439024390243, 1.3018181818181818, 1.0620384047267355, 1.2290804335354608, 2.5384615384615383, 1.2432255747787895, 1.0, 1.000920326058375, 1.371308016877637, 1.0303214958755091, 1.0135735831084298, 1.4450261780104712, 1.024793388429752, 1.4877286925479696, 1.06, 1.295741830255723, 1.0, 1.6666666666666667, 1.1020753460410029, 1.924731182795699, 1.221686367218282, 1.004777097426439, 1.7372549019607844, 1.2352941176470589, 1.1335257787325457, 1.4, 1.463276836158192, 2.865979381443299, 1.0334187342682488, 1.2166397988698066, 1.1054945054945056, 1.0117487065175157, 4.0, 1.0, 1.0447093570755928, 1.2994738972076083, 1.023753894080997, 1.2698501872659176, 1.0824175824175823, 1.0348753147914234, 1.2125382262996942, 1.0160185594343791, 1.0, 1.0, 1.0326011477826111, 1.6540880503144655, 1.7631318136769079, 1.1081724636448678, 2.1320754716981134, 1.0, 1.0459137487779266, 1.1428709299940887, 1.003949447077409, 1.46875, 1.3346613545816732, 1.0430486944248412, 1.3201864871978042, 1.3774350649350648, 1.1169983686786298, 1.875, 1.1653302142745174, 2.3333333333333335, 2.0, 1.1031631919482388, 1.3059701492537314, 1.1666666666666667, 1.3870192307692308, 1.094562647754137, 1.6549019607843136, 1.0537206794284173, 1.2344139650872819, 1.095876755777073, 1.0641123719665093, 1.3461538461538463, 1.0182421227197347, 1.770096463022508, 1.2742751955821445, 1.1277735271614384, 1.0573888091822095, 1.021021021021021, 1.12623413890508, 1.2469135802469136, 1.0769490002246687, 1.3620159803318992, 1.0382087640999567, 1.0, 1.9105882352941177, 1.0, 1.263157894736842, 1.7847368421052632, 1.8571428571428572, 1.0836707152496625, 1.3333333333333333, 1.2857142857142858, 1.00908128528728, 1.2210931485758276, 1.2154850746268657, 1.1103202846975089, 7.59375, 1.3707234997195739, 1.704592186429061, 1.853932584269663, 1.9411764705882353, 1.2927509293680297, 1.0599279443852438, 1.0, 1.0452342487883683, 1.146086569819152, 1.0963708447697469, 1.1842105263157894, 1.1645416659298427, 1.173728813559322, 1.0263386542735906, 4.916666666666667, 1.7985074626865671, 3.0, 1.6210975759059745, 1.0240349356623775, 1.3348939686036905, 1.0117096018735363, 1.041973150171714, 1.5930232558139534, 1.267250821467689, 1.0459819130946253, 1.0376344086021505, 2.0, 1.5, 1.0522510680249753, 1.0, 1.1682496607869741, 1.1068702290076335, 1.3777777777777778, 1.2956669498725573, 1.1734806629834253, 1.1524470034022507, 1.1419322709163346, 1.2225670562359037, 1.0304655989348788, 1.8888888888888888, 1.1133995190232473, 1.1347224431366312, 1.1907249620092388, 1.0169853144915488, 1.1734028683181226, 1.1324307692307691, 1.0588269081149386, 1.3636363636363635, 1.4545454545454546, 1.4, 1.4647887323943662, 1.1578624078624078, 1.0409215955983493, 5.0, 1.2628398791540785, 1.1762360446570972, 1.2562929061784898, 1.0745011693287556, 1.1628871948277526, 1.0036374893584088, 1.2307692307692308, 1.0357142857142858, 1.0654724710129835, 1.0218978102189782, 1.65625, 1.0188679245283019, 1.2741823242867085, 1.0732743906602034, 1.03037120359955, 1.5603576751117734, 2.0090415913200723, 1.0777839955232233, 1.2341002838814912, 1.0015853077161732, 1.2780678851174934, 3.25, 1.7365591397849462, 3.3333333333333335, 2.076923076923077, 1.3333333333333333, 1.054056918755631, 1.1560861249922882, 1.0223326550984895, 1.994186046511628, 1.0, 3.0, 1.0521008403361345, 2.076923076923077, 1.12544184134813, 1.906832298136646, 1.1570552147239264, 1.579476861167002, 1.1176470588235294, 2.24459234608985, 1.0348837209302326, 1.0177494976557266, 1.0225241034746164, 1.0, 1.068, 2.25, 1.0739007593148509, 1.6510791366906474, 1.0681531342027766, 1.453529000698812, 1.0384615384615385, 2.25, 1.0092435669537303, 1.0, 1.9192361871967445, 1.8861518590275856, 1.2592592592592593, 1.2218782249742002, 1.056338028169014, 5.7272727272727275, 1.3477088948787062, 1.146542261251372, 1.0404040404040404, 2.0, 2.475, 1.000994419784717, 1.9333333333333333, 1.2191780821917808, 1.8622262077386857, 1.1818181818181819, 1.2746870653685674, 3.493333333333333, 1.193298969072165, 1.483190883190883, 1.2264150943396226, 1.2222222222222223, 1.0305103960436708, 1.0311657177105185, 1.3851095661357036, 1.5294117647058822, 1.1058823529411765, 1.0177599301028295, 1.009590235396687, 1.0494811800610377, 1.1020408163265305, 1.0, 1.0036596523330283, 1.0064694285693951, 1.3724770642201836, 1.115856734487977, 1.1185865681947822, 1.3636363636363635, 1.2222222222222223, 2.0, 1.8809827519272364, 1.0597527472527473, 1.2008261836669845, 1.2583969624900906, 1.0246607599343969, 1.692829457364341, 2.6296296296296298, 1.0421792618629173, 1.4562383612662941, 1.5, 1.0255417213455813, 1.471624266144814, 1.3204225352112675, 1.04, 1.6481481481481481, 2.0, 1.0, 8.0, 1.2218223504317676, 1.9, 2.0, 1.1325179326834651, 1.182608695652174, 1.1443298969072164, 1.1105139864957971, 1.1406862163124778, 1.0, 1.0636759859678961, 1.0644260531382632, 1.0, 1.5353374477403943, 1.0334763948497854, 1.001331816183506, 1.0416666666666667, 1.1504566512243548, 1.003756507770143, 1.0924639230358097, 1.0770298862734726, 1.1282051282051282, 1.4814814814814814, 1.023527114448231, 1.3157894736842106, 1.0127839182014509, 1.2226221079691517, 1.0009367681498829, 1.16, 3.0, 1.5510204081632653, 1.014637657974724, 1.0125811791671973, 1.0175817601701675, 1.500517063081696, 1.3571428571428572, 1.0808823529411764, 1.0, 3.0, 3.6666666666666665, 1.0982184716361931, 1.0875, 1.0120631464344039, 1.6666666666666667, 1.0424948090519621, 1.0227272727272727, 1.120863309352518, 1.0591054313099042, 1.2458100558659218, 1.261745406824147, 1.0775862068965518, 1.0257996187248464, 1.2778481012658227, 1.014511196606491, 3.0, 1.1065830721003134, 1.085548738922972, 1.076820307281229, 1.6666666666666667, 1.2499149383397476, 3.2962962962962963, 1.0588235294117647, 2.0, 3.6, 1.1903690369036903, 1.1838068470420913, 1.232962447844228, 1.0, 1.2066162570888468, 1.3145148754935183, 1.2286163721720949, 1.027235921972764, 1.0264540995094604, 1.3017241379310345, 1.0026164753544902, 1.0851063829787233, 1.4474393530997305, 1.0477362731456705, 1.0197640515206392, 1.0, 1.2309268747088962, 7.0, 1.061891836525658, 1.0339257683933363, 1.1698464402047464, 1.2972972972972974, 1.0, 1.7790322580645161, 1.456273764258555, 1.0109368490597004, 1.0134288272157566, 1.042455173392629, 1.1953850054940411, 1.1574468085106382, 1.2206342117016524, 1.0831234256926952, 1.6791808873720135, 1.3928571428571428, 1.0, 6.142857142857143, 1.215175537938845, 1.0160063888371729, 1.0268370607028754, 1.275631967341812, 1.259322033898305, 1.2535026269702276, 1.0, 1.0201536862901053, 1.2246478873239437, 1.14209799128494, 1.0300751879699248, 1.2222222222222223, 1.170728860705324, 1.0714285714285714, 1.21099116781158, 1.676476136578004, 1.0349013657056145, 1.796875, 1.6303630363036303, 1.3666666666666667, 1.1445544554455445, 1.12, 1.0390767673656187, 1.555045871559633, 1.1668132043801456, 1.0023536805920756, 1.4169921875, 1.816287878787879, 1.303030303030303, 1.807738894163093, 1.2799564270152506, 3.6666666666666665, 1.0015767449350674, 1.2105263157894737, 2.3817330210772836, 1.0122814207650273, 1.0888252148997135, 1.0918832038574873, 2.4, 1.0507399577167018, 2.3324808184143224, 1.1104933981931897, 1.003800770943474, 2.087114337568058, 1.3719461525677248, 1.2360074626865671, 1.0, 1.0357064861323433, 1.503862660944206, 1.0299003322259137, 1.4210526315789473, 1.046690603752653, 1.1305126621371218, 1.287226534932957, 1.0740434902284612, 3.0, 1.9210526315789473, 2.2666666666666666, 1.0633802816901408, 1.001369047439156, 2.7, 1.3331130204890944, 1.7142857142857142, 1.7777777777777777, 1.0664389299274362, 1.6238938053097345, 1.019534806721298, 1.25, 1.379746835443038, 1.2222963951935915, 1.0765591397849463, 1.3846153846153846, 4.485714285714286, 1.2272727272727273, 1.3258040228030548, 2.1913043478260867, 1.2727272727272727, 1.0635161890286582, 1.036761719067349, 1.2424639580602883, 1.0107882420283512, 1.117877472806177, 3.0, 1.163265306122449, 1.04675673763882, 1.7307692307692308, 1.3109243697478992, 1.0032258064516129, 1.189667049368542, 1.654109589041096, 3.301418439716312, 1.4479686008274106, 1.4311606675147797, 1.854368932038835, 1.0858613576578793, 1.0, 1.040371491800698, 1.2085987261146496, 1.5, 1.0746835443037974, 1.158, 1.03125, 1.3484602917341977, 1.3333333333333333, 1.020652004578798, 1.1764285714285714, 1.2004899299361411, 1.0602911646586346, 1.6709677419354838, 1.128480375712848, 1.0806785270997104, 1.331738437001595, 2.1475409836065573, 1.235026766156333, 1.0052302910833248, 1.8657939886890766, 1.1258884773250575, 1.4159362549800796, 1.028947955988722, 1.0801012122814306, 1.6717703349282296, 1.0194423703600803, 22.551724137931036, 1.1128021486123545, 1.0020808679812256, 1.0704225352112675, 1.161720274858961, 1.016905162006353, 1.6842105263157894, 1.065567377304908, 1.2233883058470765, 1.1056780796880712, 1.2665482007996447, 4.0, 1.0679245283018868, 1.25, 1.0154613647070192, 1.033955189528042, 1.25, 1.186255139637956, 1.1099448161301992, 1.0039142115990365, 1.125, 1.1402384417329006, 1.0305084745762711, 1.2171688533458473, 1.0515902317213972, 1.0909090909090908, 1.0110652971636314, 1.1224152191894128, 1.0909460834181077, 4.0, 1.414247231367854, 1.0157268372697688, 1.0178571428571428, 1.2112359550561798, 1.0408830744071955, 1.0427299703264095, 1.4066455696202531, 1.432, 1.2871870397643594, 1.046875, 1.4529616724738676, 1.2527881040892193, 1.1947873799725652, 2.2, 1.0097965199884957, 1.5955196017423772, 1.1993243243243243, 2.0677966101694913, 1.6521739130434783, 1.0286791816992427, 2.0, 1.2380952380952381, 1.5382059800664452, 1.3014574572267987, 1.0, 1.0491171749598716, 1.3206412825651304, 1.043481492492939, 1.9370932754880694, 1.1194005938521352, 1.0909090909090908, 1.0959630284083186, 1.2918492550394391, 1.0525131282820706, 1.2233948988566403, 1.3595505617977528, 1.3402922755741127, 1.2656683874691377, 1.4322580645161291, 1.019047619047619, 1.1358367811009695, 1.3493905977945444, 1.016539663588159, 1.0842542329068114, 1.0530759951749096, 1.7692307692307692, 1.0134408602150538, 1.1223021582733812, 1.2607142857142857, 1.7010897461207408, 1.090463458110517, 1.1724137931034482, 1.01092747941181, 1.1170212765957446, 1.5, 1.1763085399449036, 2.3666666666666667, 1.1584642233856894, 1.7006802721088434, 1.933852140077821, 1.2506811989100817, 1.325, 1.150875348870927, 1.0, 1.051920838183935, 1.8571428571428572, 1.0862944162436547, 1.2272252942840145, 1.106141127841748, 1.1001456352265913, 1.8223350253807107, 1.0291319857312724, 1.0, 1.1092862758801432, 1.25, 1.253550762756444, 2.6666666666666665, 1.0, 1.8162457503642544, 1.4938592347661785, 1.2991202346041055, 1.4133333333333333, 1.213225371120108, 4.25, 1.0, 1.0270278694059896, 1.0357419755000776, 1.237056265304853, 1.0068764970731776, 2.1552795031055902, 1.1533844788894108, 1.3617021276595744, 1.3565217391304347, 1.0235988200589972, 1.119083883341795, 1.2252747252747254, 5.0, 1.0, 1.420849420849421, 1.0889238188255401, 1.5440683953932028, 1.3333333333333333, 2.6, 1.0381679389312977, 1.1926321709786276, 1.179872656526353, 1.2512178148921365, 1.139240506329114, 1.174449439158241, 1.6063829787234043, 1.1310126582278481, 1.2050847457627119, 1.063325629485464, 1.0909090909090908, 1.0251309625458658, 1.1267217630853994, 1.5714285714285714, 1.0080871871468244, 1.016183603060051, 1.4285714285714286, 1.113365134581274, 1.4138755980861244, 1.0945945945945945, 1.0352564102564104, 1.048780487804878, 3.5, 1.619047619047619, 1.3819575060954372, 1.8135593220338984, 1.023664648402374, 5.0, 1.0081390442230274, 1.0054397098821397, 5.0, 1.125, 1.368128817323709, 1.069767441860465, 1.328525641025641, 1.4210943695479779, 2.0819209039548023, 1.4794188861985471, 1.0162301101591187, 1.8333333333333333, 1.0, 1.0839123463388562, 2.0, 1.0216786875443775, 1.041633411975197, 1.0028898012903964, 1.03125, 1.2344827586206897, 1.049942759015455, 1.3007095093083854, 1.0797237915881983, 1.2374947000995888, 1.0, 1.2504812905224492, 1.3380011240164855, 1.4752267446218423, 1.0060408442589335, 1.1878055000637566, 1.088235294117647, 1.2138282861174428, 1.0104861156061882, 1.2, 1.0846153846153845, 1.0042113408251025, 1.681592039800995, 1.0150090826521345, 1.3182879377431906, 1.1331086773378265, 1.1547564161672046, 1.6839746968898262, 1.237888198757764, 1.1769005847953216, 1.0294117647058822, 1.0226307372186205, 1.0383645240032546, 1.5862068965517242, 1.2921348314606742, 1.2676864244741874, 1.0714285714285714, 1.1918473031863717, 1.0272727272727273, 1.0073038397328882, 1.0011555187732764, 1.0, 1.079954606417002, 1.1666666666666667, 2.4615384615384617, 1.0423411582677558, 1.2163998059194565, 1.0289523435390018, 1.8629550321199144, 1.0617333371457982, 1.0640062043411238, 1.2224183583406885, 1.1266294227188083, 1.041947715917202, 1.0272648829903857, 1.5008534503779567, 1.240172835394445, 2.0, 2.5, 1.0217535463037712, 1.8804780876494025, 1.1083675099866843, 1.5714285714285714, 1.4037162162162162, 1.5, 1.0909090909090908, 1.8636363636363635, 1.3242515174248108, 1.0578947368421052, 1.0574257425742575, 1.7543438500228623, 1.2, 1.125, 1.0, 1.498812351543943, 1.9210526315789473, 1.2661812297734627, 1.0, 1.2857142857142858, 1.2, 1.625, 2.4635416666666665, 1.017211483214315, 1.0430741031683688, 1.14043605781123, 1.4736842105263157, 1.0092014692332387, 2.3434679334916866, 1.2580645161290323, 1.2375366568914956, 3.0, 1.0714285714285714, 1.028061224489796, 2.994666666666667, 1.0021432427685883, 1.055992504420808, 1.1864406779661016, 1.751156740870187, 1.3333333333333333, 1.1395483833517153, 2.2, 1.0071959645222215, 2.5, 1.0009052845988458, 1.0, 1.1631660402387796, 1.705031971087017, 1.0107047279214987, 1.3666666666666667, 3.0, 1.7024336283185841, 1.3076923076923077, 3.0, 1.0299975362733804, 1.1759656652360515, 1.1373028264580993, 1.4785992217898833, 1.020615781608235, 1.1702127659574468, 1.0, 1.0447865640307907, 1.0256153692215328, 1.054233156872453, 1.0358989312189486, 2.0833333333333335, 1.6033789219629928, 1.0082804568527919, 1.0666666666666667, 1.0, 1.1442307692307692, 1.0, 1.0, 1.0526315789473684, 1.001205545509343, 1.100337082943412, 1.0970887375198284, 1.0910690717113947, 1.0731476217547848, 1.6540084388185654, 1.054229934924078, 1.3666666666666667, 1.2857142857142858, 1.092788513225638, 1.2963845200026105, 1.0374321318376427, 1.0194831558274795, 1.05411168865787, 1.5833333333333333, 1.1003724512341393, 1.2739383846794339, 1.0208695850615306, 1.0454545454545454, 1.025609316226104, 1.0106681639528354, 1.1666666666666667, 1.666627593482593, 1.0068168555488237, 1.0, 2.9130434782608696, 1.0789351133188452, 1.055969856346652, 3.4, 1.0187826597925163, 1.9329268292682926, 4.0, 1.2791284373215779, 3.8333333333333335, 1.116526560543731, 1.7109004739336493, 1.234746582716655, 1.4064171122994653, 1.272635814889336, 1.0100840025163749, 1.1693121693121693, 1.5555555555555556, 1.183083511777302, 1.0007250839865622, 1.5828220858895705, 1.0168118638668804, 1.9329268292682926, 2.1666666666666665, 1.6666666666666667, 2.5, 1.0021905805038336, 1.3092541042387977, 1.1176470588235294, 1.3552857171672348, 1.2536231884057971, 1.0208564971634544, 1.0850992824962455, 1.8608695652173912, 1.0403131115459883, 1.0551181102362204, 1.0297319538250274, 1.0425311203319503, 1.2735100539399238, 1.248496993987976, 1.0164275798241555, 1.0192771084337349, 1.0149242722265932, 1.1019915509957754, 1.2, 1.1380247659317426, 1.2342936480388753, 1.2781688477346813, 1.1637656052356598, 1.0134807617132964, 1.5341545352743562, 1.232843137254902, 1.9363636363636363, 1.9871794871794872, 2.5, 1.0036727198530913, 1.0130973451327434, 1.0, 1.0166559897501601, 1.0582126036933868, 1.0199887160473926, 1.1549295774647887, 1.0864553314121037, 1.3333333333333333, 1.2417582417582418, 1.1653543307086613, 1.1317733990147782, 1.0, 1.084318223193155, 1.084355828220859, 1.1666666666666667, 1.0356264371453283, 1.4827586206896552, 1.3232044198895028, 1.4473684210526316, 1.7291895604395604, 1.8410622275069362, 1.2158912516055373, 1.0258153631584594, 1.6153846153846154, 1.0454850161774665, 2.0163934426229506, 1.0332742644275346, 1.1602239884393064, 1.3940418339319671, 1.08449442068701, 3.0, 1.3467336683417086, 1.0594227504244482, 1.103448275862069, 1.2884148727984344, 1.0615384615384615, 1.0041591800143899, 1.028274319466165, 1.0664972431257744, 1.2212581344902387, 1.0, 1.4166666666666667, 3.0, 1.075392670157068, 1.1080026455026455, 1.8361834434512243, 1.0956429330499469, 1.0181112206804255, 1.0453586497890295, 1.5353535353535352, 1.1139455782312926, 1.252979666679226, 1.3484848484848484, 1.0555555555555556, 1.7963494569637817, 1.358974358974359, 1.5646543107633435, 1.0208135814173975, 1.2257458044181482, 1.04, 1.3744292237442923, 2.9411764705882355, 1.0252739423957662, 1.0, 1.0216763005780347, 2.576923076923077, 1.0313256498583696, 1.05, 1.1672131147540983, 1.3063829787234043, 1.0977596741344195, 1.25, 1.5347432024169185, 1.068185750782896, 1.4285714285714286, 1.726027397260274, 1.1797432239657633, 1.1928934010152283, 2.4184782608695654, 1.0416922133660331, 1.5625, 1.5433255269320842, 1.0378057028941654, 1.1802030456852792, 1.0542563143124415, 1.0478910756837858, 1.0305740376585943, 1.142096047092135, 1.1976694000863186]
origin-bjaq_15.71 	max: 22.5517	99th: 5.0000	95th: 2.5781	median: 1.1705	mean: 1.4242

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.173012 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=ddup', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
done, took 0.0s
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
done, took 0.0s
new data average log likelihood = 21.7452
detection mean = 25.2332
detection threshold = 0.4498
test statistic = 3.4880
Offline time = 3.6517043113708496
Online time = 0.08651161193847656
Test result: True
DDUp Drift detection: True
Detection latency: 4.2489s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=update', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
UpdateTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 1.0172 bits (loss 19.384, data 18.367) 0.00300 lr
epoch 9 train loss 12.5394 nats / 18.0906 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap -0.3034 bits (loss 18.064, data 18.367) 0.00245 lr
epoch 19 train loss 12.2352 nats / 17.6517 bits
time since start: 8.5 secs
Epoch 20 Iter 0, train entropy gap -0.8243 bits (loss 17.543, data 18.367) 0.00200 lr
epoch 29 train loss 12.0080 nats / 17.3239 bits
time since start: 12.7 secs
Epoch 30 Iter 0, train entropy gap -1.0148 bits (loss 17.352, data 18.367) 0.00164 lr
epoch 39 train loss 11.8363 nats / 17.0762 bits
time since start: 16.8 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.7879 nats / 31.4333 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
UpdateTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 6.534671 | Model-update-time: 19.263535


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=update', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 22.3103	99th: 5.9010	95th: 2.6418	median: 1.1834	mean: 1.4380
ReportEsts: [1.1126436781609195, 2.0416666666666665, 1.0338931132653428, 1.0973451327433628, 1.1144578313253013, 2.0, 1.2800632911392404, 1.6573262117346939, 1.130392668206542, 1.117379679144385, 1.0471573198498108, 1.0782089100673171, 1.875, 1.119947848761408, 1.2418224299065421, 1.2175191064079953, 1.1070136376287225, 1.0273247650934225, 1.1088888888888888, 1.4398496980189255, 1.0150667671510327, 1.3777777777777778, 7.0, 1.02555554890566, 1.0031276866976966, 1.1884057971014492, 1.671921602045164, 1.2, 2.0, 1.32, 1.099780701754386, 1.1145418326693226, 1.046714222586958, 1.337609329446064, 1.4029850746268657, 10.0, 1.603448275862069, 1.0401459854014599, 1.3294663573085848, 1.0780141843971631, 1.233837408040425, 1.2884615384615385, 1.2001574526176497, 1.2, 1.005428939221214, 1.3261538461538462, 1.0440251572327044, 1.0369902657195476, 4.478260869565218, 1.031135531135531, 2.3363700070077087, 1.7169811320754718, 1.3387902497743003, 1.0, 2.3333333333333335, 1.0234905516671877, 1.9615384615384615, 1.1828724897759872, 1.001237309384705, 1.2815814850530376, 1.1666666666666667, 1.1249922345778716, 1.1666666666666667, 1.8949152542372882, 1.1022727272727273, 1.0241052177662786, 1.2475547678297558, 1.884861407249467, 1.0161776141587346, 2.3333333333333335, 1.0, 1.0298205097038207, 1.0075305930342013, 1.1956043956043956, 1.2182432432432433, 1.2234042553191489, 1.0076306811258682, 1.0479134466769706, 1.0224078997341435, 1.5, 1.0, 1.042178598988997, 1.7119565217391304, 1.197979797979798, 1.0278636631330977, 1.2717391304347827, 1.5, 1.1355145477187818, 1.1932688432083838, 1.0627206212694948, 2.6875, 1.1192307692307693, 1.2769991755976917, 1.4127137396902032, 1.4853391684901531, 1.0085734098215975, 2.125, 1.2298549249172817, 1.4, 1.3269230769230769, 1.0305806894971938, 1.7155963302752293, 1.2300469483568075, 1.3346183500385504, 1.4555808656036446, 1.8369905956112853, 1.0203325144762239, 1.39247311827957, 1.0448489863467108, 1.1514970984753206, 1.125, 1.2685950413223142, 1.2713625866050808, 1.2471530999578238, 1.2498163115356355, 1.0455840455840455, 1.0558823529411765, 1.0107516601189028, 1.0854922279792747, 1.0784581818181818, 1.1428571428571428, 1.075527228080312, 1.0, 1.6400384985563041, 2.8125, 1.3333333333333333, 1.6543524416135882, 1.5294117647058822, 1.3166069295101552, 1.3333333333333333, 1.3028169014084507, 1.0021237176391748, 1.1754854009189268, 1.1244404655326767, 1.0032154340836013, 2.641304347826087, 1.6896736222578919, 1.6518396485447557, 1.8297872340425532, 1.5, 1.7349547864047397, 1.0465748107898312, 1.6666666666666667, 1.2788321167883212, 1.0171960491721737, 1.0641553855208947, 1.40625, 1.1490263277473325, 1.0245398773006136, 1.0081335036482224, 5.9, 1.37109375, 3.0, 1.7157885758153024, 1.135166784953868, 1.5851514675875058, 1.559652928416486, 1.0041444664478245, 1.6574585635359116, 1.0293103448275862, 1.0259287925696594, 1.1923076923076923, 3.0, 1.1666666666666667, 1.01671826625387, 1.0, 1.011764705882353, 2.1133333333333333, 1.3863636363636365, 1.0495703899537343, 1.0268361581920904, 1.0010519442832269, 1.0939385987929677, 1.2643149727723966, 1.0490749555068084, 1.35, 1.0924706186232727, 1.0340273816314889, 1.297042115055984, 1.023944962412147, 1.75, 1.0136352715040846, 1.197130905288046, 1.0650684931506849, 1.009556313993174, 1.3374827109266942, 2.0, 1.0769230769230769, 1.0076877587226494, 1.2831708350996185, 6.0, 1.4892703862660943, 1.2810539523212046, 1.006392694063927, 1.074655889416037, 1.0557991231566362, 1.0313607438173988, 1.1538461538461537, 1.0964481663297718, 1.221487603305785, 1.0139228466874801, 1.2079207920792079, 1.2367185033154404, 1.3247674323994467, 1.1814196832579185, 1.64, 1.0908806409213243, 1.8666666666666667, 1.05, 1.0637978792850968, 1.1709844559585492, 1.0128712513983953, 1.4701986754966887, 1.0312351510747129, 1.288306240167803, 1.0447795885298377, 2.1449275362318843, 1.2352941176470589, 1.2200683600811837, 1.0894623166988746, 1.0138917338597047, 1.469945355191257, 1.0, 3.0, 1.039729820439671, 2.5, 1.0657669077622847, 1.4018264840182648, 1.3776479181884587, 1.3943161634103018, 1.2, 1.6868351063829787, 1.3146067415730338, 1.2602008788449466, 1.0614978232157706, 1.2, 1.1172344689378757, 2.5, 1.0767219399287535, 1.817910447761194, 1.3356756756756756, 1.1136662286465178, 1.2592592592592593, 2.0, 1.0033032466479328, 1.0, 1.727685173580649, 1.7801808451743864, 1.6666666666666667, 1.3443708609271523, 1.280701754385965, 7.222222222222222, 1.4784847370356748, 1.3942181340341655, 1.3106796116504855, 3.3333333333333335, 2.58974358974359, 1.004147647629659, 1.0344827586206897, 1.88, 1.7119468755737806, 1.2015503875968991, 1.266977363515313, 1.9699248120300752, 1.4436363636363636, 1.3838383838383839, 1.0709592641261498, 1.2222222222222223, 1.013929024180912, 1.1805914441573355, 1.3432961695815488, 1.2714285714285714, 1.0472175379426645, 1.0002769666611273, 1.0556038227628148, 1.0975244773183976, 1.173913043478261, 1.0, 1.110029211295034, 1.021892016098709, 1.0128774422735347, 1.0595142351616536, 1.0422598666426384, 1.5789473684210527, 1.125, 4.0, 1.7051509769094138, 1.0415293342122611, 1.0341151385927505, 1.2289888144088343, 1.0066777446812272, 1.6455213416344159, 4.09375, 1.212678936605317, 1.8965811965811965, 1.3333333333333333, 1.1277506661477201, 1.1700934579439253, 1.3020833333333333, 1.25, 1.1935483870967742, 1.6455696202531647, 1.0, 9.0, 1.2312514203469433, 2.8, 1.8888888888888888, 1.234637340496978, 1.4817927170868348, 1.4457831325301205, 1.1099022173254374, 1.0480673675401433, 1.0, 1.026259460285911, 1.050088942673306, 8.5, 1.49173971679029, 1.0857142857142856, 1.04379498634897, 1.0720188902007084, 1.2189296833366057, 1.002854781759447, 1.023659305993691, 1.0564029135279835, 1.0731707317073171, 1.9701492537313432, 1.009271959181434, 2.111111111111111, 1.020576314228208, 1.232124352331606, 1.0733293196869356, 1.1153846153846154, 6.0, 1.0784313725490196, 1.010138534169182, 1.088713026061894, 1.0000391132249635, 1.1433333333333333, 1.2083333333333333, 1.2827225130890052, 1.0, 3.0, 3.25, 1.147765551313721, 1.0179299103504482, 1.016407652776918, 3.0, 1.046432969122621, 2.0, 2.25, 4.25, 1.1496835507854903, 1.6666666666666667, 1.640868462374683, 1.0559957739038563, 1.0, 1.459277917716205, 1.3058657077167954, 1.242817423540315, 1.0098298108278279, 1.6658312866522982, 1.2217564407743675, 1.0379746835443038, 1.2492170022371365, 1.0, 1.054421768707483, 1.1814964610717897, 1.5, 1.2061388274437397, 1.0103605799804978, 1.0326338075517314, 1.1522941079386038, 1.0840101255141863, 1.8333333333333333, 1.141396250375965, 1.2196554424432262, 1.2699093943729136, 1.0596200980392156, 1.0813648293963254, 1.2760416666666667, 1.0188386524822695, 1.0056659530595358, 1.4285714285714286, 1.0576276612774131, 4.0, 1.631757556625365, 1.2419255563834268, 1.18, 2.1578947368421053, 1.0, 1.3731543624161073, 1.3898305084745763, 1.0000362901762494, 1.172165820642978, 1.0137144161724656, 1.2107146526041845, 1.0521348314606742, 1.0852180206260178, 1.5947293447293447, 1.1612903225806452, 1.213063320022818, 2.1538461538461537, 1.0481469115191986, 1.0520570426825477, 1.0, 1.7790092521202776, 2.2857142857142856, 1.094871794871795, 1.623076923076923, 1.144892776523702, 2.0, 1.0186686919665826, 1.1672300016095285, 1.1491362567719514, 1.280373831775701, 1.02020202020202, 1.1432228429249853, 1.1162790697674418, 1.1339569361101307, 1.409922086182223, 1.0739064856711915, 2.3711340206185567, 1.1089324618736383, 1.2607303010890454, 1.393992545494409, 1.5555555555555556, 1.0128467776355101, 1.053412462908012, 1.052715078964448, 1.0061227836234874, 1.3260056127221702, 1.2951146560319042, 1.6538461538461537, 1.2453703703703705, 1.1073903002309469, 4.909090909090909, 1.001695593756902, 1.09375, 1.9345794392523366, 1.0025546726210022, 1.1538461538461537, 1.010236876562314, 3.0, 1.2567049808429118, 1.3747016706443913, 1.1081579918789222, 1.0071399361683127, 1.1569416498993963, 1.1277322404371584, 1.452320058458166, 1.0, 1.014625041023958, 1.4029535864978904, 1.0947368421052632, 1.894736842105263, 1.031890797317319, 1.0485004943425245, 1.3590529017302757, 1.0317742755465176, 2.6666666666666665, 1.6590909090909092, 2.088235294117647, 1.4536585365853658, 1.0160015501230555, 3.6, 1.1780967570441254, 1.0909090909090908, 1.5555555555555556, 1.0332254183742335, 1.1902702702702703, 1.0402294107938603, 1.3333333333333333, 1.4074074074074074, 1.0618788073100354, 1.0446570972886762, 1.5714285714285714, 4.243243243243243, 1.2857142857142858, 1.3571900462453204, 2.12, 1.0, 1.0373309466984884, 1.0297108993353088, 1.01129363449692, 1.0051998160261653, 1.0087115666178623, 1.0, 1.7058823529411764, 1.0553677663601948, 1.9953271028037383, 1.1306306306306306, 1.2210849539406345, 1.0083963056255247, 1.1909307875894988, 1.0212765957446808, 1.5266748685829326, 1.3535765126879025, 1.166475315729047, 1.0101541493394792, 1.5, 1.047114284917292, 1.295281582952816, 3.0, 1.420545746388443, 1.0116618075801749, 1.2650262202501008, 1.5144092219020173, 1.0, 1.0375286249018807, 1.0672082717872968, 1.1839532185894552, 1.023014307416729, 2.670103092783505, 1.3040123456790123, 1.042620363062352, 1.019406392694064, 1.881918819188192, 1.2799460988430675, 1.0085503330531844, 1.7080781173117057, 1.1626692856404424, 1.472201066260472, 1.033209490126439, 1.0256229343830072, 1.3591205211726385, 1.0236988899116144, 22.310344827586206, 1.2940528634361232, 1.0153349136077148, 1.5956873315363882, 1.2119804741980473, 1.0074523124135264, 1.368421052631579, 1.0323434365946067, 1.2565597667638484, 1.0534717123851476, 1.2717270091443016, 2.0, 1.1303462321792261, 1.0, 1.0188268048059699, 1.0038664859097874, 1.6666666666666667, 1.1408494102744065, 1.113644377102452, 1.0100454172275866, 1.4444444444444444, 1.1456570030649833, 1.2165354330708662, 1.2148263632685121, 1.0620864912778556, 1.2142857142857142, 1.0268182295437087, 1.390302066772655, 1.0199459631277814, 3.0, 1.3290305584826132, 1.0087632786446799, 1.1724137931034482, 1.203125, 1.0565593087195602, 1.0405788876276958, 1.3129445234708392, 1.2605633802816902, 1.0827912477823773, 1.3617021276595744, 1.3157894736842106, 1.2049036777583186, 1.3013071895424837, 1.0, 1.0136642642849754, 1.54989604989605, 1.047779651489601, 1.0526315789473684, 1.4970631424375918, 1.00228004910875, 2.0, 4.333333333333333, 1.630281690140845, 1.2845724451778417, 1.0, 1.0729006459550907, 1.0283159463487332, 1.057869161881049, 1.500875656742557, 1.1517194172879186, 1.121212121212121, 1.0815937015388286, 1.0376569037656904, 1.0514203523912262, 1.1903780068728522, 2.651685393258427, 1.2322456813819578, 1.2551304832584231, 1.2601626016260163, 1.2103386809269163, 1.3151466393622468, 1.05061439438268, 1.0545830733357417, 1.0741755331224554, 1.237962962962963, 1.6666666666666667, 1.5493150684931507, 1.510233918128655, 1.579303675048356, 1.638384363973398, 1.1418312387791743, 1.1538461538461537, 1.0239678336765716, 1.1189024390243902, 1.3076923076923077, 1.4007654455986878, 2.6785714285714284, 1.265609348914858, 1.860952380952381, 1.1634241245136188, 1.1146131805157593, 1.358974358974359, 1.163301876522948, 1.3333333333333333, 1.017193801740607, 1.625, 1.0747415066469719, 1.2567388069390486, 1.0252235419725078, 1.0666057658722696, 1.89760348583878, 1.0105263157894737, 1.0, 1.1728310053118238, 1.0, 1.0844212358572671, 2.0, 1.5, 1.722515133762937, 1.2777156793008841, 1.0238262088297128, 1.2183908045977012, 1.0693196405648266, 8.5, 1.0, 1.0115994720721169, 1.0467384916748286, 1.2286108390550567, 1.0085534312183264, 3.049689440993789, 1.0124455780817099, 1.3311467980178064, 1.396305625524769, 1.1759732037089987, 1.325, 1.081032628182144, 1.0089707271010386, 1.0193000371333085, 1.2792022792022792, 1.1033147834502783, 1.4539729444962517, 4.0, 2.8, 1.2952380952380953, 1.2087671232876713, 1.0982905982905984, 1.228, 1.25, 1.1941260435139929, 1.3581661891117478, 1.0091743119266054, 1.013745704467354, 1.0448329866062036, 1.4545454545454546, 1.0453570541620572, 1.2881355932203389, 1.7142857142857142, 1.1382978723404256, 1.48560627756458, 1.3333333333333333, 1.1754836417659789, 1.1692015209125475, 1.161987041036717, 1.0921187308085978, 1.6829268292682926, 1.99, 1.5, 1.4234800838574424, 1.3956043956043955, 1.0177489736743892, 7.0, 1.0049908925318762, 1.2185501066098081, 2.5, 1.5, 1.1319742489270386, 1.0681818181818181, 1.0565583634175693, 1.4409199048374306, 2.2160356347438754, 1.2986279257465698, 1.0141691391181669, 1.5454545454545454, 1.0, 1.2502558853633572, 3.3333333333333335, 1.0067482670506684, 1.001254705144291, 1.020006559527714, 1.0309168443496801, 1.1666666666666667, 1.1518169952600124, 1.3003012898973731, 1.1195244055068836, 1.2577089199995992, 1.0, 1.3286428025627461, 1.2846639836319895, 1.4773171685569026, 1.0140183535788514, 1.227699066447007, 1.25, 1.1255032206119162, 1.1328043432866988, 1.4, 1.3011152416356877, 1.017937143848279, 1.2398373983739837, 1.0180931156159374, 1.5470319634703196, 1.5249433106575965, 1.1659318048206937, 1.6088260497000857, 1.034965034965035, 1.1943620178041543, 1.146067415730337, 1.0044497378128463, 1.0156756334673798, 1.5, 1.759493670886076, 1.6819571865443426, 1.72, 1.2344128407275725, 1.1422413793103448, 1.0635576557352742, 1.006990205475349, 1.2214953271028037, 1.1932393678686923, 1.238938053097345, 2.8461538461538463, 1.045979012677862, 1.162519851773425, 1.0185293116551888, 1.5934065934065933, 1.0154990700557966, 1.0653576488210719, 1.0730882974228981, 1.0681431005110733, 1.0040028053849706, 1.0172650113342823, 1.4477120615379448, 1.2906344631325477, 1.0, 1.5, 1.063630580295403, 1.58496129745669, 1.0005213977549225, 2.2, 1.4004524886877827, 2.1666666666666665, 1.5833333333333333, 2.0434782608695654, 1.2132904273931517, 1.1564299424184261, 1.0254005470887064, 1.6650414127207376, 2.0869565217391304, 1.5384615384615385, 1.0, 1.0569514237855946, 2.8214285714285716, 1.1183294663573087, 1.6666666666666667, 1.8571428571428572, 1.2857142857142858, 2.0, 1.0629213483146067, 1.0167863585644836, 1.048697025533035, 1.0954531072850475, 1.1428571428571428, 1.0198835522524492, 3.075436408977556, 1.0161290322580645, 1.1731391585760518, 2.3333333333333335, 1.0607064017660044, 1.1236842105263158, 3.5314465408805034, 1.0266236760204408, 1.0140309326443464, 1.2903225806451613, 1.6276404312231498, 1.0, 1.0359913451897198, 1.2222222222222223, 1.0167087084307236, 5.5, 1.0520985648524235, 1.0, 1.2045792787635947, 1.2661023947151115, 1.3731853116994022, 1.1468531468531469, 4.333333333333333, 1.084639498432602, 1.1818181818181819, 1.5, 1.0588169635529174, 1.3429228998849252, 1.0336708566108008, 1.012400354295837, 1.021070544003136, 1.1936507936507936, 1.0, 1.0371794871794873, 1.1390375471738343, 1.050679045499885, 1.0369487697399122, 1.6875, 1.184194890077243, 1.0096648569709343, 1.0355113636363635, 1.7777777777777777, 1.0080645161290323, 1.25, 1.0, 1.4702970297029703, 1.2152777777777777, 1.103368078030489, 1.1428777747288457, 1.0477941176470589, 1.0459415289631377, 1.4696969696969697, 1.6561264822134387, 1.1290322580645162, 2.0, 1.091102209955083, 1.2517276145266651, 1.0405334968572744, 1.0136862665858422, 1.0042267050912583, 1.5833333333333333, 1.0014299070560413, 1.091711956521739, 1.019970220336053, 1.4285714285714286, 1.03745711253178, 1.3251488095238095, 1.32, 1.7397492694881704, 1.0043064134800757, 1.0, 1.886138613861386, 1.1565813601211832, 1.0396306733017566, 5.6, 1.019730003552585, 1.2306425041186162, 4.0, 1.288578436600192, 4.6, 1.2004429678848283, 1.538812785388128, 1.2180140825898105, 1.2247899159663866, 1.4407744874715263, 1.0589232241804754, 1.0668296141718212, 1.3833580980683506, 1.0096593797661413, 1.2705882352941176, 1.0077158815788598, 1.0077972709551657, 1.0139420844939646, 1.2306425041186162, 1.8, 1.1111111111111112, 1.8333333333333333, 1.0477765527379639, 1.281898392211866, 1.5405405405405406, 1.2986751941525811, 1.3106060606060606, 1.011141517293207, 1.0526006464883926, 1.874015748031496, 1.3779160186625194, 1.1822541966426858, 1.0261962755582297, 1.0842311459353575, 1.2727542491633559, 1.125, 1.1217410517012816, 1.030187573270809, 1.0212906757789235, 1.4054353854686634, 1.0909090909090908, 1.088801261829653, 1.6349425287356323, 1.1897014203421135, 1.1081243066093676, 1.0049216810750663, 1.3060057197330792, 1.218045112781955, 1.1594202898550725, 1.7253886010362693, 1.6666666666666667, 1.2738372093023256, 1.283848498040923, 1.0, 1.221758413775111, 1.0349043704457155, 1.0483520920607683, 1.0382775119617225, 1.308970099667774, 1.6666666666666667, 1.182456140350877, 2.6048387096774195, 1.2899088761390483, 1.0, 1.0888772398017537, 1.8782051282051282, 1.1778711484593838, 1.0190703569428479, 1.1666666666666667, 1.7001477104874445, 1.0034662045060658, 1.160535117056856, 1.078125, 1.3879962192816635, 1.0177006212237256, 1.0800889877641824, 1.0073447964417783, 1.019958997644906, 1.074742268041237, 1.1255884014309923, 1.311740890688259, 1.0766483303372378, 1.5, 1.3032490974729243, 1.4489311163895486, 1.3350125944584383, 1.443942451092201, 1.1461988304093567, 1.0046947323635778, 1.016743575139772, 1.0451180266694056, 1.0868725868725868, 1.0, 1.5833333333333333, 2.0, 1.167393199651264, 1.1063156562460448, 1.532991261124028, 1.4608516483516483, 1.1194267515923566, 1.3766959297685555, 1.1077470100204718, 1.0524961399897066, 1.0077209506078195, 1.0048719896473313, 1.0023182815994092, 1.656752661434455, 1.0655737704918034, 1.5269014925373134, 1.0315377662278968, 1.2518777884452477, 1.16, 1.034934497816594, 1.3137254901960784, 1.0565021994251322, 1.0, 1.3831417624521072, 2.3333333333333335, 1.012759446444385, 1.0320512820512822, 1.2708333333333333, 2.564516129032258, 1.1813953488372093, 1.75, 1.659046374918354, 1.0644276329526654, 1.6, 1.678688524590164, 1.841870824053452, 1.2840909090909092, 1.50990099009901, 1.110377358490566, 1.3636363636363635, 1.2098837209302327, 1.0273358099109833, 1.1709677419354838, 1.1206120612061206]
origin-bjaq_15.71 	max: 22.3103	99th: 5.9010	95th: 2.6418	median: 1.1834	mean: 1.4380

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.126538 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=ddup', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
done, took 0.0s
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
done, took 0.0s
new data average log likelihood = 21.4218
detection mean = 25.1761
detection threshold = 0.4608
test statistic = 3.7543
Offline time = 3.6529223918914795
Online time = 0.09430670738220215
Test result: True
DDUp Drift detection: True
Detection latency: 4.2608s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=update', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
UpdateTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.9531 bits (loss 19.233, data 18.280) 0.00300 lr
epoch 9 train loss 12.4678 nats / 17.9873 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap -0.2983 bits (loss 17.982, data 18.280) 0.00245 lr
epoch 19 train loss 12.1652 nats / 17.5507 bits
time since start: 8.5 secs
Epoch 20 Iter 0, train entropy gap -0.7826 bits (loss 17.497, data 18.280) 0.00200 lr
epoch 29 train loss 11.9475 nats / 17.2366 bits
time since start: 12.7 secs
Epoch 30 Iter 0, train entropy gap -1.0134 bits (loss 17.267, data 18.280) 0.00164 lr
epoch 39 train loss 11.7818 nats / 16.9975 bits
time since start: 16.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.6828 nats / 31.2816 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
UpdateTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 6.530590 | Model-update-time: 19.386254


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=update', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 53.0000	99th: 4.7525	95th: 2.6164	median: 1.1857	mean: 1.4849
ReportEsts: [1.2299465240641712, 1.0888888888888888, 1.0018888195744091, 1.2335766423357664, 1.1390728476821192, 2.0, 1.699579831932773, 1.5610135660881626, 1.0487124463519313, 1.1122565864833907, 1.0613738678337856, 1.0072702793672164, 1.6, 1.0403791977820507, 1.2838164251207729, 1.3140862944162437, 1.0311177495643515, 1.0335291734197731, 1.4713375796178343, 1.3611038791981256, 1.042278242431382, 1.173913043478261, 1.0265193370165746, 1.0158702026874618, 1.0562817719680464, 1.1020680453635756, 1.5454545454545454, 1.2949479940564637, 1.25, 1.4565217391304348, 1.375, 1.0097465886939572, 1.0826446280991735, 1.185203716940672, 1.1447704081632653, 1.15, 12.0, 1.35, 1.0456140350877192, 1.027657735522904, 1.143525741029641, 1.2319530578553277, 1.2884615384615385, 1.1752542477033214, 1.25, 1.0224479057343228, 1.4092307692307693, 1.0426281851920964, 1.0097093292400654, 1.5671641791044777, 1.2891304347826087, 2.4696296296296296, 1.8679245283018868, 1.299374963490858, 1.0, 3.0, 1.0080944325173153, 2.0, 1.1253938065302922, 1.0024495760551313, 1.6286764705882353, 1.105263157894737, 1.1248663487935269, 1.75, 1.3819209039548022, 1.0515463917525774, 1.101350791414602, 1.2082300245629245, 1.2091097308488612, 1.0224817407181985, 16.0, 2.0, 1.0972277022116084, 1.568637029799707, 1.0817730225448987, 1.2147692307692308, 1.088768115942029, 1.0070563631577407, 1.1588652482269504, 1.0254315187417016, 1.375, 1.0, 1.0349555509613397, 1.3269230769230769, 1.6, 1.1083828145682841, 1.4871794871794872, 3.0, 1.1367521367521367, 1.4285714285714286, 1.1115023474178405, 1.004076878276063, 1.0273421311483595, 1.4794520547945205, 1.2248296744890235, 1.3865503080082136, 1.2065410593672237, 1.0633693045563548, 1.375, 1.162051343714303, 2.3333333333333335, 1.2727272727272727, 1.0691016781836131, 2.0, 1.1086594504579517, 1.2653508771929824, 1.054945054945055, 1.5473684210526315, 1.0793827389414261, 1.0827205882352942, 1.0962473412336675, 1.019840465707496, 1.3214285714285714, 1.10431654676259, 1.2391671356218346, 1.7109417528579205, 1.0261669024045261, 1.02803738317757, 1.0059171597633136, 1.0317283108914266, 1.1716216216216215, 1.072427663163358, 1.2162458836443468, 1.0625437788018433, 1.0, 1.2354388843314192, 2.375, 1.411764705882353, 1.5471362504446815, 4.666666666666667, 1.2140391254315306, 1.3333333333333333, 1.2866666666666666, 1.023957460615717, 1.1984586712335668, 1.477763659466328, 1.3805309734513274, 1.0061728395061729, 1.0108527131782945, 1.4353211009174311, 1.1511627906976745, 1.2692307692307692, 1.2334293948126802, 1.016683706664188, 2.5, 1.2145804676753782, 1.0366678047115057, 1.1185669604776798, 1.3235294117647058, 1.1153567048242028, 1.667705088265836, 1.0006639520468759, 3.933333333333333, 1.007380073800738, 3.0, 1.6586501901140684, 1.068994341563786, 1.5527132929173444, 1.4208375893769152, 1.0244786739681835, 1.4960629921259843, 1.2023460410557185, 1.0495278747898074, 1.0913978494623655, 3.0, 1.5, 1.0099502487562189, 1.0, 1.0542540073982738, 1.0059171597633136, 1.4879451448794514, 1.0268103274389835, 1.1243580337490828, 1.2084805653710247, 1.5555555555555556, 1.588235294117647, 1.2151705045929282, 1.0118875654171304, 1.435897435897436, 1.0558960390421064, 1.0045029064214175, 1.2533369006213027, 1.0233567716294711, 3.5, 1.0301644795439702, 1.1835560400534946, 1.3954545454545455, 1.2259414225941423, 1.1768355739400207, 3.5, 1.2596153846153846, 1.0522765598650927, 1.056913407821229, 6.0, 1.0684931506849316, 1.0925058548009368, 1.0486089880770406, 1.0891905153680699, 1.0560687084751257, 1.0759924788022848, 1.4444444444444444, 1.0707573244886677, 1.2218649517684887, 1.0113334916031007, 1.3531468531468531, 1.2354263183834402, 1.37452616536072, 1.0812034940148818, 1.7826086956521738, 1.2080820683440772, 1.6666666666666667, 1.1833333333333333, 1.109418405081657, 1.4056737588652481, 1.0294442861214022, 1.298342541436464, 1.036239113435975, 1.1237371307610893, 1.0415570517679582, 1.8271604938271604, 1.3529411764705883, 1.2194275802254988, 1.0372102692027856, 1.0825427614177394, 1.1443298969072164, 1.0, 1.5, 1.016573277562939, 1.65, 1.0542224109860552, 1.816568047337278, 1.1423379769836464, 1.013557133634603, 1.5833333333333333, 1.6155973451327434, 1.0, 1.0991436100131753, 1.0230512446184317, 1.4166666666666667, 1.0378657487091223, 2.2, 1.0771999876928546, 1.1878172588832487, 1.5328947368421053, 1.3947858472998138, 2.3333333333333335, 1.3333333333333333, 1.0036436265250905, 1.0, 1.6587480673603276, 1.6593186988870443, 1.6296296296296295, 1.1260593220338984, 1.3636363636363635, 7.333333333333333, 1.2581837381203802, 1.1940449154680797, 1.1553398058252426, 1.25, 2.4523809523809526, 1.0036464715903997, 3.0526315789473686, 1.2727272727272727, 1.5721929230887104, 1.0601503759398496, 1.0103359173126616, 1.4886363636363635, 1.6224899598393574, 1.7035340314136125, 1.1816920943134535, 1.8333333333333333, 1.0037271964376167, 1.0526315789473684, 1.2904293788337395, 1.053658536585366, 1.2120622568093384, 1.0138663060160773, 1.2469168197323537, 1.0146389563106797, 1.037037037037037, 1.0, 1.3042998897464169, 1.0406104356918011, 1.067811712828363, 1.2333333333333334, 1.3333333333333333, 1.073913983142425, 1.9473684210526316, 1.099503908989377, 1.0796288303841175, 1.272082088240464, 1.875, 1.0029721414069532, 1.3333333333333333, 1.6938308717814665, 1.5, 1.0586907449209932, 1.625, 2.75, 1.5142857142857142, 1.5025234318673395, 1.3044025157232704, 4.0, 2.116279069767442, 3.089041095890411, 1.3868520859671303, 1.217438105489774, 1.9822064056939501, 1.0218540765576412, 1.153444676409186, 1.04827301436797, 1.396135265700483, 1.2346014492753623, 1.2774869109947644, 1.0377418677206276, 1.0682202304737516, 1.0, 1.0034752069160302, 1.064132470762305, 2.857142857142857, 1.2703887752119263, 1.2997694081475788, 1.0206131456519145, 1.468412942989214, 1.2261172553887822, 1.0229445075655106, 1.0636507101525512, 1.120447190350103, 1.0238095238095237, 1.5824175824175823, 1.0014618568482483, 1.3571428571428572, 1.3251072961373391, 1.2730192719486082, 1.053025152957172, 1.3181818181818181, 2.3333333333333335, 1.1132075471698113, 1.0322844540401954, 1.13483330596157, 1.0453511334029117, 1.0531135531135531, 1.6333333333333333, 1.2373737373737375, 1.0, 3.0, 3.75, 1.2516841821611426, 1.0184936654498604, 1.0368544844522847, 1.4606060606060607, 1.16, 1.2461810580479176, 1.3371647509578544, 1.4346701164294955, 1.348314606741573, 1.1771269177126917, 1.6473065195295484, 1.891304347826087, 1.0001361046839454, 1.016705336426914, 1.0035249735928775, 3.0, 1.0778625954198473, 1.0781237744136796, 1.1123085649461146, 2.5, 1.2739903645257233, 2.6944444444444446, 1.2352941176470589, 1.7598847865933491, 1.0, 1.1757897275138653, 1.0212303830984362, 1.2629950495049505, 1.01854714064915, 1.0588215499545715, 1.0037486976229606, 1.0047173398725189, 1.052272477165181, 1.1121867881548975, 1.4028571428571428, 1.0740235047915576, 1.4242424242424243, 1.0252525252525253, 1.0302697960078964, 1.0170518726115931, 1.25, 1.1858565915821593, 1.8, 1.5182549097139844, 1.345346715328467, 2.380952380952381, 3.2142857142857144, 1.0, 1.363741339491917, 2.2847222222222223, 1.016482027699716, 1.0502431118314424, 1.0280759056449214, 1.1969227644340628, 1.0406852248394005, 1.0413805565594507, 1.6809167557297233, 1.494949494949495, 1.5281361515234697, 1.6779661016949152, 1.0085894254628747, 1.027397423097038, 1.0, 1.526575719548233, 1.5833333333333333, 1.0184216511257675, 1.1227272727272728, 1.011992099322799, 1.0, 1.0219174871073606, 1.0116618075801749, 1.015372487189594, 1.0802919708029197, 2.2, 1.1238052949991675, 1.0392156862745099, 1.4517391304347826, 1.4001099958751546, 1.145945945945946, 2.7710843373493974, 1.2124711316397228, 1.8671726755218216, 1.1123163051084675, 1.2173913043478262, 1.0704963096036881, 1.2881944444444444, 1.185576220255015, 1.0288272190212238, 1.2274157303370787, 1.0204878048780488, 1.7916666666666667, 1.5742296918767507, 1.2597402597402598, 1.5384615384615385, 1.001987917534628, 1.1386430678466077, 1.0, 1.0264383561643835, 1.105263157894737, 1.0280286696579453, 1.0833333333333333, 1.163003663003663, 1.0714285714285714, 1.3720420683610868, 1.009774391549822, 1.25, 1.4154663923182442, 1.3595941169763994, 1.0, 1.0274711216821917, 1.1418312387791743, 1.0521172638436482, 2.0, 1.0440817727877798, 1.0512644164638663, 1.3005862779274282, 1.319262038774234, 1.8, 1.0684931506849316, 1.368421052631579, 1.7784090909090908, 1.006893258598528, 1.6875, 1.0570754716981132, 1.0, 1.6666666666666667, 1.0004510981420396, 1.0751953125, 1.0921348314606742, 1.3333333333333333, 2.2222222222222223, 1.093769278223319, 1.105072463768116, 1.3636363636363635, 3.3884892086330933, 1.173913043478261, 1.3331891190308798, 1.0454545454545454, 1.2307692307692308, 1.0093516439011818, 1.015571130896003, 1.1161007667031764, 1.0303547605950822, 1.0954577895595432, 3.0, 1.6388888888888888, 1.0990291262135923, 1.6612903225806452, 1.1981981981981982, 1.1585127201565557, 1.0796010357725137, 4.070866141732283, 2.425531914893617, 1.5131360159627536, 1.2795802300394983, 1.4322820037105752, 1.0117910375139887, 1.5, 1.0025394599586162, 1.1587837837837838, 3.0, 1.0244444444444445, 1.057354301572618, 1.0213421342134212, 1.0273651290070367, 1.045883105361969, 1.1249273678094132, 1.8, 1.0341480948957584, 1.0114003521935533, 1.0477023509834877, 1.0, 1.0, 1.8, 1.449064449064449, 1.0, 1.0127948734490249, 1.0380948705083175, 1.5823451164633628, 1.2480164234589135, 1.0677348871085215, 1.0178218668084944, 1.0124843510919461, 1.4093154551870148, 1.0563396021584341, 18.24137931034483, 1.308809746954077, 1.0258579843672146, 1.5946502057613168, 1.017759161082983, 1.0013047712395642, 2.7142857142857144, 1.0136818424531027, 1.1869281045751634, 1.040996580980119, 1.4, 5.0, 1.2730867643638055, 1.002281531623374, 1.5, 1.1881084840055633, 1.8810096153846154, 1.0031813361611877, 1.222059340917087, 1.4696343545054353, 1.3066666666666666, 1.2851500789889416, 1.2983091787439613, 1.1763659452417703, 1.0479026277509695, 1.0294117647058822, 1.0281645199374594, 1.5387345941954904, 1.6680179528015058, 2.35849975645397, 1.1928159945781092, 1.056748438653012, 1.1885051662174304, 1.1522277227722773, 1.0278980769844055, 1.1492608488316642, 1.6156170113874042, 3.0, 1.0706401766004414, 1.0279295175481002, 1.1843003412969284, 1.5146678826569386, 1.0923076923076922, 1.035575679172057, 1.375, 1.0325303323369088, 1.061500599482552, 2.6122448979591835, 1.2533333333333334, 3.1320754716981134, 1.0368548659020236, 2.0, 1.1594202898550725, 1.0, 3.3333333333333335, 1.557012542759407, 1.2803585232083041, 1.9148936170212767, 1.0256015329826274, 1.0209235003180455, 1.3782349037823491, 1.066970091027308, 1.1904761904761905, 1.1184560374071697, 3.0, 1.0648026315789474, 1.0918220946915351, 1.303370786516854, 1.0700934579439252, 1.2053941358401281, 1.0580645161290323, 1.3044444444444445, 1.1520645801966878, 1.02570281124498, 1.0665038512117226, 1.0740978005551998, 1.2798931195724783, 1.6875, 1.403183023872679, 1.5881627620221948, 1.4807262442406826, 1.5209099201194063, 1.0450416351249054, 1.0689655172413792, 1.0072908272102394, 1.094562647754137, 1.5, 1.8431654676258993, 2.8214285714285716, 1.3258193445243804, 1.608695652173913, 1.8702380952380953, 1.0277777777777777, 1.4459724950884087, 1.2820345188284519, 1.6028708133971292, 1.1104707012487993, 1.09375, 1.3415458937198068, 1.0905834516587065, 1.0466191485262955, 1.4185351270553064, 1.1653352699104333, 1.5418502202643172, 1.1088071825566481, 1.0, 1.050733237263711, 5.0, 1.0896147403685092, 1.6, 2.5, 1.5538685082692527, 1.4198964100732274, 1.000670690811536, 1.8275862068965518, 1.0178571428571428, 53.0, 1.0, 1.0277810776410692, 1.5252100840336134, 1.1895604395604396, 8.0, 1.8333333333333333, 1.0141583170807962, 1.2778804156299057, 1.0246305418719213, 1.05016263667359, 1.9047619047619047, 1.0314285714285714, 1.277852954442941, 1.0002800140007, 1.3453168745227793, 1.3902922238732045, 1.0361976002848239, 1.0430054374691053, 1.1876019575856445, 1.2055888223552895, 1.007032967032967, 1.020058888479941, 1.1801242236024845, 2.25, 1.1879769349934017, 1.1542056074766356, 1.2559833506763787, 1.047457627118644, 1.038914882130646, 1.8181818181818181, 1.0209202415789802, 1.4280575539568345, 2.1666666666666665, 1.3130434782608695, 1.3903008998032618, 2.0, 1.055186362323028, 1.219885277246654, 1.0707803992740472, 1.0149551345962113, 1.7642276422764227, 1.3583333333333334, 1.4761904761904763, 1.2994849153789552, 1.651685393258427, 1.0084231431587134, 9.0, 1.0092904391779798, 1.0629496402877698, 1.6666666666666667, 1.0, 1.133298755186722, 1.5, 1.2047413793103448, 1.1401446654611211, 2.085185185185185, 1.436642453591606, 1.0113993640071144, 1.2222222222222223, 1.0, 1.5134870034330554, 2.0, 1.01449660724864, 1.0588366124893072, 1.0239908756014107, 1.281012658227848, 1.4511278195488722, 1.0754542451271887, 1.3079363576096221, 1.0848094471282876, 1.2446372787226658, 1.0, 1.249762257557998, 1.2715700456214531, 1.3981497492650874, 1.0083303436064208, 1.2056647324028733, 1.3611111111111112, 1.1957443775171972, 1.183800405339297, 1.6, 1.8136200716845878, 1.0103992287305923, 1.389655172413793, 1.0026459753683747, 1.0041322314049588, 1.1923758865248226, 1.2200506186726658, 1.5138061721710883, 1.171003717472119, 1.1031055900621118, 1.7894736842105263, 1.046877221809679, 1.0200007504972044, 1.2258064516129032, 1.7, 1.0173310225303294, 1.2045454545454546, 1.068898132699472, 2.1875, 1.0451056671222794, 1.0084805089756286, 1.0995708154506438, 1.2681799567074241, 1.1602132435465768, 2.4615384615384617, 1.0396564865333968, 1.453922789539228, 1.0097246229564436, 1.3853503184713376, 1.0504072308303536, 1.07623972760554, 1.0263264479546375, 1.3328197226502312, 1.0177121619679268, 1.0227081863683698, 1.359070569762556, 1.2447767758961954, 2.0, 1.0, 1.0666108976449404, 1.6771239077797664, 1.012905791697738, 2.2, 1.1916243654822336, 2.3333333333333335, 1.7857142857142858, 2.3043478260869565, 1.2802887943823558, 1.1962174940898345, 1.1875543951261966, 1.5184802479930053, 3.4285714285714284, 1.6153846153846154, 1.0, 1.231378763866878, 2.4285714285714284, 1.1326616288832914, 3.0, 1.0, 1.1666666666666667, 1.6, 1.332394366197183, 1.007270479776177, 1.0280925970581143, 1.1020781225876177, 1.4177215189873418, 1.057619949806554, 2.8563983786913725, 1.0222222222222221, 1.1384615384615384, 1.0, 1.423913043478261, 1.385321100917431, 4.640495867768595, 1.0327242463244395, 1.0636189514972876, 1.3680981595092025, 1.4841528557731818, 1.3333333333333333, 1.160087460111098, 2.75, 1.0321393910668744, 1.5, 1.011036947495664, 1.0, 1.1869148336153412, 1.2529111338100103, 1.0065520065520066, 1.2865853658536586, 2.0, 1.1347079037800687, 4.193548387096774, 3.0, 1.0213654149247555, 1.0849673202614378, 1.0221252085666612, 1.0518266779949024, 1.0074862096138693, 1.2313829787234043, 1.0, 1.1336603310852238, 1.0032492734263587, 1.061759135863085, 1.0377784052444115, 1.3409090909090908, 1.2678117048346056, 1.000165611838324, 1.1619318181818181, 2.032258064516129, 1.6973684210526316, 1.25, 1.0, 1.3569131832797428, 1.1017797552836486, 1.0958965546148043, 1.1239988134084842, 1.0304831288343559, 1.2061693970024399, 1.1360544217687074, 1.3121597096188748, 1.125, 1.1, 1.0710873236655702, 2.2916666666666665, 1.0045931596493394, 1.0340245552149865, 1.133378180039139, 4.75, 1.0920485252687864, 1.0606029947389721, 1.0241210622513708, 1.2425742574257426, 1.0131301008161306, 1.6016187050359711, 1.125, 1.6399621510802713, 1.010896009289081, 1.0, 2.1755102040816325, 1.0898925041483298, 1.0468294734312578, 2.0, 1.0003410059676043, 2.123611111111111, 4.0, 1.2561841992638878, 3.8333333333333335, 1.003189437768877, 1.1008771929824561, 1.1796037012063485, 1.3658940397350994, 2.246891651865009, 1.015848675136427, 1.1065716738385158, 1.3002793296089385, 1.0131643100926377, 2.347826086956522, 1.008327107160418, 1.3771976558337773, 1.0019456156317912, 2.123611111111111, 1.75, 1.6666666666666667, 2.0, 1.0488668555240792, 1.218261593445455, 1.2302158273381294, 1.2235439569619406, 1.1560693641618498, 1.0058396027365146, 1.2125447417760356, 1.0852713178294573, 1.1081771720613287, 1.1813471502590673, 1.018243586179457, 1.4683014354066986, 1.296478530285983, 1.4516129032258065, 1.0887949260042282, 1.226637434913675, 1.0185068955573273, 1.551901336073998, 2.0833333333333335, 1.0064049011417433, 1.2592067988668556, 1.1964356785919603, 1.1757832929206484, 1.0089421378998809, 1.3510848126232742, 1.3843416370106763, 1.0532544378698225, 1.7816593886462881, 2.5, 1.050719291774253, 1.2118577075098815, 1.0, 1.0429844097995546, 1.0325583062511947, 1.0296185489902767, 1.2941176470588236, 1.2046783625730995, 1.1666666666666667, 1.4141414141414141, 1.8329519450800915, 1.2287480680061824, 1.0, 1.0421439529532088, 2.0934362934362936, 1.1214574898785425, 1.0204541033265708, 2.5714285714285716, 1.903225806451613, 1.0165745856353592, 2.543859649122807, 1.5027240815159553, 1.2601736299511666, 1.211377820207488, 1.0074488572362923, 1.0952380952380953, 1.0240661321399713, 1.098901098901099, 1.0488491888397484, 1.0880469760806821, 1.3077520885952982, 1.0574594045469454, 1.5, 1.0944055944055944, 1.2456140350877194, 1.0017972887707691, 1.01109739098333, 1.098159509202454, 1.0203958891679152, 1.0462902914833576, 1.0543034880774294, 1.014209591474245, 1.0, 1.2222222222222223, 2.0, 1.0559936908517351, 1.0954691575180444, 1.6175908221797324, 1.5679398872886663, 1.095565749235474, 1.2702127659574467, 1.0871817977021851, 1.0315591144606688, 1.076664801343033, 1.009329845481147, 1.039667999658544, 1.0805001953888238, 1.0247088895200227, 1.7226890756302522, 1.055336959456853, 1.3386363636363636, 1.219284137066216, 1.5625, 3.9833333333333334, 1.9423076923076923, 1.052473353375239, 1.0, 1.3508137432188065, 2.142857142857143, 1.050569251946787, 1.4574468085106382, 2.520661157024793, 1.0547112462006079, 1.194508009153318, 1.5, 1.2561819980217606, 1.060320190809078]
origin-bjaq_15.71 	max: 53.0000	99th: 4.7525	95th: 2.6164	median: 1.1857	mean: 1.4849

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.076649 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=ddup', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
done, took 0.0s
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
sample size: 500
done, took 0.0s
new data average log likelihood = 21.5271
detection mean = 25.0991
detection threshold = 0.4529
test statistic = 3.5720
Offline time = 3.612321138381958
Online time = 0.0961008071899414
Test result: True
DDUp Drift detection: True
Detection latency: 4.2235s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=update', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
UpdateTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 1.1165 bits (loss 19.308, data 18.191) 0.00300 lr
epoch 9 train loss 12.4546 nats / 17.9682 bits
time since start: 4.3 secs
Epoch 10 Iter 0, train entropy gap -0.2537 bits (loss 17.937, data 18.191) 0.00245 lr
epoch 19 train loss 12.1358 nats / 17.5082 bits
time since start: 8.5 secs
Epoch 20 Iter 0, train entropy gap -0.7701 bits (loss 17.421, data 18.191) 0.00200 lr
epoch 29 train loss 11.9211 nats / 17.1985 bits
time since start: 12.7 secs
Epoch 30 Iter 0, train entropy gap -1.0473 bits (loss 17.144, data 18.191) 0.00164 lr
epoch 39 train loss 11.7420 nats / 16.9401 bits
time since start: 16.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.5323 nats / 31.0645 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
UpdateTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 6.525078 | Model-update-time: 19.441256


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=update', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 53.0000	99th: 8.0008	95th: 2.6708	median: 1.1663	mean: 1.5446
ReportEsts: [1.3580246913580247, 1.8846153846153846, 1.010609285619263, 1.124223602484472, 1.6179775280898876, 2.0, 1.3642495784148398, 1.480571394979719, 1.0809602421240887, 1.0359581247155212, 1.0444238699295874, 1.0369968744019902, 2.4285714285714284, 1.0094644009464402, 1.7541254125412542, 1.3918010752688172, 1.0850075484844965, 1.01662104028158, 1.16, 1.3401198906696483, 1.0249513793065983, 1.0638297872340425, 1.4169184290030212, 1.0018932046367997, 1.0336842105263158, 1.0123893805309734, 1.9090909090909092, 1.1135091926458833, 1.75, 1.697674418604651, 1.0087336244541485, 1.0374531835205993, 1.201627636605215, 1.1670185810810811, 1.2202666666666666, 2.0285714285714285, 14.0, 1.2096774193548387, 1.3368421052631578, 1.085613415710503, 1.0289473684210526, 1.2275659390421974, 1.9423076923076923, 1.211172986202249, 2.8, 1.0000324454105967, 1.0124610591900312, 1.030137604794106, 1.0560800861247572, 1.4078947368421053, 1.3551797040169133, 1.5645236977944628, 1.2075471698113207, 1.259034951181548, 1.0, 2.3333333333333335, 1.042408507362431, 1.632, 1.2371482835118184, 1.0038948663392795, 1.3263473053892216, 1.5714285714285714, 1.128829218218164, 1.1666666666666667, 1.697175141242938, 8.083333333333334, 1.0091913230720153, 1.220290108863789, 1.002016129032258, 1.0158378955498513, 9.0, 2.0, 1.0056923065872736, 1.2203389830508475, 1.7142857142857142, 1.4973485096473096, 1.2592720970537261, 1.7333333333333334, 1.5, 1.3836317135549872, 1.0730699207794125, 1.0, 1.0, 1.0027166395130798, 2.099099099099099, 1.1176470588235294, 1.092296085914618, 1.21875, 3.0, 1.3456998313659359, 1.75, 1.0474507824331145, 1.4263074484944533, 1.0161600381666893, 2.0925925925925926, 1.023117960877297, 1.3433698064121202, 1.1846422338568936, 1.0369883477741262, 1.25, 1.2512882927208224, 1.0, 1.8028169014084507, 1.0151709401709401, 1.2787878787878788, 2.392156862745098, 1.1807692307692308, 1.2735042735042734, 1.9434389140271493, 1.048173710127158, 1.1949685534591195, 1.181316787314719, 1.1158253022777196, 1.2608695652173914, 1.4018264840182648, 1.3021880544056772, 1.267605633802817, 1.05453306066803, 1.157960199004975, 1.039755351681957, 1.0180647725014902, 1.4213036565977741, 1.1166145768221027, 1.0910881339241754, 1.044631740254765, 1.0489755823744036, 8.0, 1.0711665443873808, 3.875, 2.0, 1.5062633669416436, 2.3076923076923075, 1.1096345514950166, 1.5, 1.0536912751677852, 1.0081979884691632, 1.2308527973927212, 1.1545454545454545, 1.320169252468265, 1.3425414364640884, 1.4694077337249143, 1.242018131651557, 1.3866666666666667, 1.736842105263158, 1.0749613601236476, 1.0319432937494246, 2.5, 1.351875808538163, 1.043158378768968, 1.0861501645228837, 2.3684210526315788, 1.1144211141671538, 1.213410237923576, 1.0120626023625385, 2.0344827586206895, 1.2657342657342658, 3.0, 1.4936125056120158, 1.0324421400225936, 1.09372804816859, 1.2227579556412729, 1.0042461943483154, 1.2160493827160495, 1.4254658385093169, 1.0018996083238527, 1.86, 2.0, 1.0, 1.2067627494456763, 1.0, 1.110091743119266, 1.5157894736842106, 1.4735807441503643, 1.0037470211965382, 1.044154009184034, 1.0812720848056536, 1.1146496815286624, 1.8666666666666667, 1.2323083833557924, 1.045773452529139, 1.3181818181818181, 1.025618078084797, 1.0002617115938237, 1.5641922029076356, 1.0924683072334078, 1.1519255455712452, 1.1140642303433002, 1.0368972510139702, 1.0034893330476569, 2.9220779220779223, 1.092037228541882, 1.75, 1.1346153846153846, 1.0538793103448276, 1.2686504610226321, 6.0, 1.1327433628318584, 1.2814919071076707, 1.090548780487805, 1.0766293572784777, 1.0617832038475767, 1.028667672549914, 1.8571428571428572, 1.0411031556616281, 1.0256821829855538, 1.027932101063962, 1.1895043731778425, 1.2206747438544547, 1.2631907142622718, 1.1704959372373214, 1.7826086956521738, 1.1488365961373674, 1.6, 1.6216216216216217, 1.062138139117671, 1.375515818431912, 1.0067789736732502, 1.5748299319727892, 1.0022893314651722, 1.123911111111111, 1.0257918413563056, 2.0, 1.3157894736842106, 1.2296898079763663, 1.114393125671321, 1.0740678732274105, 1.404109589041096, 1.0, 1.744186046511628, 1.0086426219694702, 2.8333333333333335, 1.0391117670736616, 1.1541353383458646, 1.063626723223754, 1.0248407643312103, 1.4285714285714286, 1.2286657237152288, 1.1176470588235294, 1.0461769115442279, 1.3122411696634693, 1.0833333333333333, 1.0347682119205297, 1.7027027027027026, 1.0823452380180612, 1.3554083885209713, 1.0508091832894242, 1.199177438307873, 1.5263157894736843, 1.25, 1.0177741895036867, 1.0, 1.5237771252596146, 1.5460888338906296, 1.5925925925925926, 1.1487826871055005, 1.013157894736842, 6.090909090909091, 1.318373544795006, 1.3673617846750727, 1.0729166666666667, 1.4285714285714286, 2.9714285714285715, 1.0029473237681557, 1.3181818181818181, 1.1898734177215189, 1.531860355574056, 1.1045751633986929, 1.4917025199754148, 9.703703703703704, 1.0341463414634147, 1.6167701863354038, 1.0078651685393258, 1.5714285714285714, 1.0342307356662885, 1.098981077147016, 1.2856131125911339, 1.0896860986547086, 1.1398601398601398, 1.0285652017074491, 1.170630816959669, 1.0138048908756245, 1.5816831683168318, 1.0, 1.5435056746532156, 1.0616464526270974, 1.06795968980469, 1.1515151515151516, 1.1538461538461537, 1.0151397515527951, 1.3703703703703705, 1.0139359603419495, 1.0984764848752484, 1.2189447532423783, 1.7777777777777777, 1.0706810220703586, 1.3333333333333333, 1.4735452707256795, 1.0, 1.0076502732240438, 1.3846153846153846, 2.125, 1.9714285714285715, 1.9531362653208364, 1.388098318240621, 5.0, 1.0232558139534884, 2.5328947368421053, 1.233782129742962, 1.0707070707070707, 1.5555555555555556, 1.0628720904885316, 1.0515247108307044, 1.017223903399242, 1.995850622406639, 1.3636818409204603, 1.178743961352657, 1.0528522679117072, 1.0251596122014661, 1.0, 1.0084469899872266, 1.0501107062064574, 23.0, 1.3363436975874081, 1.1484780994803268, 1.045321973176557, 1.0651013874066169, 1.2477139288841677, 1.0005119639022062, 1.0479520479520479, 1.0188089523915833, 1.2222222222222223, 1.263157894736842, 1.0090284620365417, 1.1875, 1.0857461024498887, 1.3374578177727785, 1.1182428940568476, 1.4482758620689655, 2.0, 1.1090909090909091, 1.0165652791748496, 1.0660692519525077, 1.0217852657109445, 1.7745398773006136, 1.1481481481481481, 1.47, 1.0, 3.0, 1.312997347480106, 1.1210379117464264, 1.0351507208387942, 1.0187004246454612, 1.3076923076923077, 1.1479500891265597, 1.2901614782753454, 1.0596160323341193, 1.0899328859060402, 1.1364548494983278, 1.0206327372764787, 1.4560659011482775, 1.392, 1.0856244931062449, 1.0502535730751499, 1.0026292369994811, 3.0, 1.06006006006006, 1.0905651065229909, 1.0124796527400977, 2.5, 1.234542787945538, 5.611111111111111, 1.2142857142857142, 1.5575459023734886, 1.0, 1.3877551020408163, 1.1416835541699142, 1.0072657444822852, 1.0293932533915926, 1.2262208713272542, 1.0012105994709233, 1.2307692307692308, 1.183847487001733, 1.2920524691358024, 1.2526132404181185, 1.1016471472411848, 1.2645833333333334, 1.4642857142857142, 1.0352026197298403, 1.0090927962460534, 1.3, 1.1786638123271787, 3.3333333333333335, 1.1739850869925434, 1.0310734463276836, 1.1175065102418857, 1.0147249720626248, 1.0090932358838, 3.0, 1.534197663535203, 1.0143833153541892, 1.0022596014479288, 2.0, 2.0416666666666665, 2.0, 1.1070378106483652, 1.2958290370190655, 1.211483791692266, 5.0, 1.0434782608695652, 1.0407331975560081, 1.0498335045520564, 1.1060429655224218, 1.0098502518595056, 1.293189964157706, 1.331066967028466, 1.2529510961214165, 1.042446371519854, 1.0, 1.0186752294237666, 1.1346460112928913, 1.091324200913242, 1.2335766423357664, 2.75, 1.156297726719715, 1.3518518518518519, 1.2420336555674902, 1.4131751029304915, 1.1236979166666667, 2.5, 1.1531365313653137, 2.208754208754209, 1.455919395465995, 1.4, 1.0384712534245244, 1.8476190476190477, 1.2625843279709392, 1.0086102538746142, 1.0008669267446901, 1.007346189164371, 1.7916666666666667, 1.8338557993730407, 1.0762886597938144, 2.0, 1.0103933139392807, 1.1387173396674584, 1.0, 1.0565560135965864, 1.3636363636363635, 1.044778973826567, 1.3333333333333333, 1.3508771929824561, 2.1041666666666665, 1.0878108688977586, 1.0024866661748304, 1.0078260869565216, 1.366043355949032, 1.2121366131327505, 1.0, 1.0041040703504212, 1.432150313152401, 1.0483383685800605, 1.4736842105263157, 1.0373409835782543, 1.0922117062338075, 1.281899109792285, 1.0680819912152268, 2.142857142857143, 1.6849315068493151, 1.8571428571428572, 1.2193308550185873, 1.0020730738469028, 2.16, 1.166859344894027, 1.411764705882353, 1.2222222222222223, 1.0500355770599117, 1.2219755826859044, 1.061362575828278, 1.5, 3.125, 1.0337630448127686, 1.1103376261747302, 1.7777777777777777, 2.518716577540107, 1.4210526315789473, 1.3376017362995116, 1.1538461538461537, 1.0625, 1.0220573917045797, 1.0130230148106567, 1.1500843170320405, 1.010748003771648, 1.0384736040154163, 3.0, 1.2, 1.2391321074094022, 1.444055944055944, 1.0567375886524824, 1.5301724137931034, 1.166384208952248, 1.0289017341040463, 1.2988103568929321, 1.5582191780821917, 1.2957234890667444, 1.5068897637795275, 1.0349815001681804, 2.4615384615384617, 1.0069615770754372, 1.4822533710397967, 3.0, 1.1306165099268548, 1.0089047195013356, 1.095184007269423, 1.2972459639126306, 1.0451256022364535, 1.1192711209276642, 1.2, 1.0045185957594718, 1.0158212158212159, 1.0322658878929658, 1.6666666666666667, 1.0, 2.6, 1.0720868992758394, 2.0, 1.0428164577445036, 1.013131050855002, 1.5190097688247073, 1.1752442656356132, 1.129616724738676, 1.0136537112772914, 1.119489081170169, 1.3653366583541147, 1.0043685992858824, 25.896551724137932, 1.1521048451151708, 1.0044757521791006, 1.1830161054172768, 1.0121182854456037, 1.0274303043876987, 1.2666666666666666, 1.012791616907473, 1.099685204616999, 1.012353718943027, 1.1428571428571428, 5.0, 1.0081046233192117, 1.0017530305466553, 3.0, 1.5106100795755968, 1.5614936622130866, 1.1142520612485276, 1.1145515802984116, 1.4154312005977427, 1.5364238410596027, 1.4027355623100304, 1.0011627906976743, 1.1828058884637798, 1.0397331794950586, 1.0588235294117647, 1.0215169392377965, 1.4637604784548262, 1.509633312616532, 1.6452599388379205, 1.121592649310873, 1.0559441770266995, 1.1943538619211778, 1.075786769428388, 1.0134296395775109, 1.005514705882353, 1.4966841186736475, 2.1666666666666665, 1.0560747663551402, 1.075323116922077, 1.2974910394265233, 1.5042417123466458, 1.8055555555555556, 1.0207570207570207, 1.5, 1.1185967878275571, 1.016371987057526, 1.3582089552238805, 1.6170212765957446, 3.86046511627907, 1.0158408080647723, 2.0, 1.2727272727272727, 1.1111111111111112, 5.5, 1.1540983606557378, 1.281325401064594, 1.2121212121212122, 1.0208964043030186, 1.0058542194170244, 1.3958333333333333, 1.0690954773869348, 1.1904761904761905, 1.1038800705467373, 7.25, 1.0257224515719277, 1.156801007556675, 1.1710526315789473, 1.6419437340153453, 1.1871396137978176, 1.1741935483870967, 1.215415019762846, 1.25205403147194, 1.131918819188192, 1.0221377928022257, 1.1092130905181103, 1.3049067923719735, 1.16, 1.1618037135278514, 1.6552828175026681, 1.4467055416716252, 1.479432470746534, 1.051823416506718, 1.5238095238095237, 1.0119707923524461, 1.6750261233019854, 1.1333333333333333, 1.489368954791427, 1.6274509803921569, 1.0479871022808098, 1.4758269720101782, 1.1991786447638604, 1.022181146025878, 1.160883280757098, 1.2681626580709149, 1.20446735395189, 1.1000918273645546, 1.6666666666666667, 1.1229093737845197, 1.0148580463645454, 1.1708895875716663, 1.0747451868629672, 1.153883029721956, 1.9230769230769231, 1.0114594594594595, 1.0, 1.0951590947762464, 1.2, 1.1712683347713546, 1.375, 2.0, 1.4867249190030716, 1.2183020070086015, 1.3709884467265725, 2.019047619047619, 1.1506276150627615, 53.0, 1.0, 1.0060745685284185, 1.7897196261682242, 1.0116822429906542, 9.0, 1.2727272727272727, 1.0421429594613951, 1.2752199555254762, 1.0662305805396566, 1.0014306690260155, 1.6, 1.0554202192448234, 1.0891417733522997, 1.000092588695762, 1.1756003430531732, 1.0446685878962536, 1.0164647573142829, 1.0515617253346554, 1.033794162826421, 1.0049668874172186, 1.1139907290349769, 1.105263157894737, 1.1016333938294012, 1.125, 1.249807596541265, 1.2020658489347966, 1.1532663316582914, 1.2421052631578948, 1.0831328174112853, 1.0909090909090908, 1.063529787701464, 1.1624649859943978, 2.8, 1.23, 1.4033312977369479, 2.0, 1.164007933086143, 1.0279937791601865, 1.1184668989547037, 1.2836363636363637, 1.0442600276625174, 1.2222222222222223, 1.303088803088803, 2.0, 1.0638995084653196, 1.6129032258064515, 1.0103495966701297, 11.0, 1.0202370250406594, 1.353658536585366, 1.5333333333333334, 1.6, 1.2945308580030106, 1.1818181818181819, 1.4805327868852458, 1.1038858049167328, 1.9233226837060702, 1.612590799031477, 1.0088382259740372, 1.0909090909090908, 1.0, 1.2841658812441092, 2.3333333333333335, 1.015454724938262, 1.0034981343283582, 1.0089865646409824, 1.5981873111782476, 1.5873015873015872, 1.0346462916611776, 1.2396846294246133, 1.5558232931726907, 1.2846278250900753, 2.0, 1.2482577338943928, 1.2491091533130751, 1.372527756261296, 1.0119513666176296, 1.224686109954642, 1.1935483870967742, 1.2402129311300876, 1.1424863742538283, 1.6, 1.0574365557005176, 1.0054876086599793, 1.3118241536129358, 1.3478260869565217, 1.1813304721030042, 1.1394230769230769, 1.0152010808146896, 1.4480797694165304, 1.0403406544150604, 1.1093167701863353, 1.4366197183098592, 1.0460197227383163, 1.0014087559601215, 1.6875, 1.034364261168385, 1.1592039800995024, 1.125, 1.0243623777680702, 1.3125, 1.0308222638257407, 1.0054915965078013, 1.3753968253968254, 1.0851330989452537, 1.0619058659865523, 2.230769230769231, 1.0469535368395244, 1.1564019448946516, 1.032165772232474, 1.4451827242524917, 1.0085596786534048, 1.0619248419706522, 1.0642273258077073, 1.4300595238095237, 1.0315287202862944, 1.0332302066465775, 1.351076896803137, 1.27056245959342, 4.0, 1.0, 1.0379353154237005, 1.569300101168031, 1.2418879056047198, 1.0, 3.5555555555555554, 1.001332267519318, 3.789473684210526, 4.5, 1.2658719528529332, 1.5945945945945945, 2.0, 1.016260162601626, 1.8461538461538463, 1.8333333333333333, 1.0, 1.044701986754967, 2.022222222222222, 1.0518834399431414, 3.0, 1.1428571428571428, 1.5714285714285714, 1.125, 1.0282608695652173, 1.010195151231895, 1.171645844649647, 1.0864673010119317, 1.15625, 1.0277277022606672, 2.3062178588125293, 1.5824175824175823, 1.1153184165232357, 3.0, 1.0104463437796771, 1.1490384615384615, 4.679166666666666, 1.0057529406000236, 1.0220954311142443, 1.2146341463414634, 1.4708896189380551, 2.6666666666666665, 1.1951902587519025, 2.75, 1.0475718096245838, 1.5, 1.0549407114624505, 1.0, 1.2729637358981338, 1.32319309600863, 1.1296625222024868, 1.1549295774647887, 2.3333333333333335, 1.2163701067615658, 26.0, 1.5, 1.0049590946355782, 1.1633919338159255, 1.0268842653355423, 1.1133768352365416, 1.0338641240340094, 1.2446808510638299, 1.0, 1.0618374558303887, 1.0330816574822872, 1.036803806325217, 1.003089474301043, 1.6, 1.4035211267605634, 1.004181842708755, 1.0337738619676946, 2.1714285714285713, 1.2523364485981308, 1.5, 1.0, 1.1875, 1.1468381564844587, 1.0927870484497961, 1.06587681919911, 1.05, 1.1216895742541066, 1.1630769230769231, 1.0555555555555556, 1.03125, 1.5, 1.0858871357725774, 1.7878787878787878, 1.0029665873650346, 1.035068918974191, 1.0161508192870148, 1.4615384615384615, 1.0642315347786324, 1.0888349001795712, 1.0134532359380435, 1.018348623853211, 1.055205640155355, 1.465843621399177, 1.5384615384615385, 1.4631022565562106, 1.0047562073929936, 1.0, 1.9547038327526132, 1.0030010854990103, 1.0063137913009987, 1.0, 1.0156107690626253, 1.3301320528211285, 4.0, 1.2103497376479997, 2.090909090909091, 1.180817610062893, 1.2362869198312236, 1.2163948991324345, 1.0686900958466454, 1.9342507645259939, 1.0020402025571622, 1.0756999043221431, 1.1050445103857567, 1.297071129707113, 1.0764119601328903, 1.006100765919154, 1.0270162892332142, 1.0076523008066058, 1.3301320528211285, 2.9, 1.3333333333333333, 2.6, 1.2167194928684628, 1.2392173689178752, 1.1695906432748537, 1.196122480381597, 1.046242774566474, 1.019140876212638, 1.0801337987201862, 1.5947712418300655, 1.050314465408805, 1.2596348884381339, 1.0097925928827436, 1.3608647450110865, 1.2926580159062369, 1.1407407407407408, 1.1662616443904414, 1.238699444885012, 1.002354002892216, 1.2049808429118773, 5.583333333333333, 1.1365987222391238, 1.168391654345326, 1.2672724717785377, 1.0828528815974, 1.0007695950745916, 1.3979591836734695, 1.5576271186440678, 1.9054726368159205, 1.3049242424242424, 1.25, 1.0249780123131047, 1.1952684941794969, 1.0, 1.5014427701186277, 1.029131210540763, 1.0361291877560859, 1.4755555555555555, 1.1108247422680413, 1.6666666666666667, 1.247438524590164, 1.4464285714285714, 3.0, 1.0, 1.0886271201759408, 1.2989347536617843, 1.1499250374812593, 1.004145271715875, 3.142857142857143, 1.2240085744908895, 1.1526586620926245, 2.192982456140351, 1.4610183030119404, 1.2785576658409028, 1.2269603859566107, 1.0059540422364872, 1.05, 1.048794695530967, 1.4095238095238096, 1.0093298560142894, 1.0278696577697723, 1.309546048944517, 1.0756132434030334, 1.3333333333333333, 1.0805860805860805, 1.0874439461883407, 1.0485803139318772, 1.010800172362683, 1.1061946902654867, 1.0057459352010738, 1.0211227116166854, 1.0088443995900518, 1.3501199040767387, 1.0, 1.15, 2.0, 1.0575539568345325, 1.055814224188104, 1.5091298400047581, 1.2055109070034442, 1.1166544387380777, 1.2324037184594954, 1.0397261694844933, 1.0018181818181817, 1.0025920689423011, 1.1166837256908906, 1.2236847500717596, 1.030949839914621, 1.0822985850418712, 1.1390243902439023, 1.0089252444239403, 1.483645878761448, 1.2287862415062547, 1.1363636363636365, 1.4067796610169492, 1.3396226415094339, 1.0003384443332646, 1.0, 1.1910631741140216, 2.6551724137931036, 1.009394133853139, 1.688073394495413, 1.2398373983739837, 1.2991202346041055, 1.0223880597014925]
origin-bjaq_15.71 	max: 53.0000	99th: 8.0008	95th: 2.6708	median: 1.1663	mean: 1.5446

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.188507 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=279.255426