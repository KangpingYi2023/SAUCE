Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=6, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 0, 'transformer': {'epochs': 40}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=6', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 13.5714	99th: 3.0000	95th: 1.6084	median: 1.0802	mean: 1.1811
ReportEsts: [1.134185303514377, 1.065217391304348, 1.0280502938490717, 1.1507936507936507, 1.0639953838515317, 1.312, 1.164179104477612, 1.0895140664961638, 1.0290156632300969, 1.2, 1.0106730934756412, 1.0654735923177652, 1.2656546489563567, 1.0719121408154055, 1.0007168458781361, 1.0536779324055665, 1.1480637813211845, 1.7142857142857142, 1.1935483870967742, 1.136022199894742, 1.2121212121212122, 1.0, 1.0571713582094204, 1.0584944956858078, 1.1694915254237288, 1.0841423948220066, 1.1428571428571428, 1.0051403716884144, 1.1, 4.0, 1.0977353992848629, 1.8333333333333333, 1.0455474452554745, 1.1938579654510557, 1.233156837684864, 1.2857142857142858, 1.0909090909090908, 1.1294765840220387, 1.0548314345008682, 1.1153846153846154, 1.040154569892473, 1.0493150684931507, 1.0326502962293902, 1.0284810126582278, 1.0688716910960403, 1.092797009815908, 1.190217391304348, 1.1366666666666667, 1.3885880882965431, 1.0816326530612246, 1.1894869121146494, 1.0, 1.6666666666666667, 1.1967455621301775, 1.3571428571428572, 1.0665798028794056, 1.023070097604259, 1.0880361173814899, 1.105263157894737, 1.1977362204724409, 1.1666666666666667, 1.0700564971751412, 1.0543478260869565, 1.0174998622058093, 1.077153751030503, 1.4705882352941178, 1.3513274336283185, 1.0, 2.0, 1.1232281284606866, 1.0597944565555901, 1.2022675736961452, 1.1084967320261438, 1.1666666666666667, 1.268904593639576, 1.0511363636363635, 1.078538158366177, 1.125, 1.0, 1.0703086419753087, 1.1129032258064515, 1.023590333716916, 1.0491007443709834, 1.0476190476190477, 1.0, 1.1990710682714878, 1.0237413414884535, 1.083133148547377, 1.09375, 1.1954022988505748, 1.0673854447439353, 1.2401723589870377, 1.1275780789628758, 1.0365572597949615, 1.75, 1.0122203596779868, 1.1666666666666667, 1.0997038499506417, 1.085112563543936, 1.007936507936508, 1.0409114448472294, 1.0845864661654134, 1.0, 2.0, 1.074340770791075, 1.3195652173913044, 1.1257420399352402, 1.0, 1.0592105263157894, 1.0064516129032257, 1.0418342719227676, 1.1389396709323583, 1.0913540953225092, 1.04293893129771, 1.8120300751879699, 1.0422018348623854, 1.065392289373753, 1.0342703727100442, 1.0069970845481049, 1.0, 1.1736334405144695, 1.25, 1.0454545454545454, 1.106792101726455, 1.5714285714285714, 1.0592, 1.1666666666666667, 1.1545893719806763, 1.0610169491525423, 1.0219907407407407, 1.0940170940170941, 1.0210084033613445, 1.1149358226371062, 1.0, 1.0991150442477877, 1.0187198588879924, 1.1930916112422227, 1.0, 1.1780104712041886, 1.099914203260276, 1.006161971830986, 1.0, 1.0079666225984238, 1.1123595505617978, 1.0135459827886337, 1.5945945945945945, 1.0458874458874459, 1.093939393939394, 1.0827067669172932, 1.3333333333333333, 1.5729166666666667, 1.0357142857142858, 1.3233419872551333, 1.0620689655172413, 1.3186003683241252, 1.0061425061425062, 1.1418312387791743, 1.0152309543901392, 3.0, 1.1308749096167752, 1.028169014084507, 1.1243654822335025, 1.0100079346796693, 1.0435073627844713, 1.0048076923076923, 1.0624440283318408, 1.0213903743315509, 1.0285714285714285, 1.2474226804123711, 1.0105542465575754, 1.0834879406307978, 1.0662264517382016, 1.0127050845735766, 1.06754007245298, 1.0756062767475036, 1.1109363357893864, 1.088941435605079, 1.0, 1.0, 1.4, 1.04, 1.1210995542347697, 1.0313842087875784, 1.0, 1.5714285714285714, 1.1355701237477902, 1.0232558139534884, 1.3571428571428572, 1.1234332068559467, 1.1014601272931486, 1.1538461538461537, 1.1501072194424589, 1.0312267657992564, 1.0469483568075117, 1.0186046511627906, 1.0952380952380953, 1.1825726141078838, 1.1213673448311474, 1.0461538461538462, 1.0827300930713548, 1.2628062360801782, 1.184011026878015, 1.0645479882025055, 1.1087391663227404, 1.0263157894736843, 2.0, 1.1353251318101933, 2.5, 1.1851851851851851, 1.3333333333333333, 1.0435029759914398, 1.0341094468337535, 1.050727676035383, 1.0575539568345325, 1.0, 3.0, 1.1190040650406503, 1.25, 1.1130596649358284, 1.228013029315961, 1.232237539766702, 1.0713375796178344, 1.0769230769230769, 1.0741733690795352, 1.088135593220339, 1.004874342322194, 1.1134301270417424, 1.034871794871795, 1.0666666666666667, 1.0831398049233627, 1.1070054784939969, 1.183579335793358, 1.0640129101667564, 1.0516023900054319, 1.4666666666666666, 1.5, 1.008022091991653, 1.0, 1.0053217223028543, 1.2736138200055727, 1.0089580763211536, 1.1228070175438596, 1.9090909090909092, 1.055944055944056, 1.297029702970297, 1.6666666666666667, 1.0663351044712328, 1.143065693430657, 1.0131407843405653, 1.0301783264746227, 1.1016949152542372, 1.053440213760855, 1.0256410256410255, 1.0538720538720538, 1.1441048034934498, 1.0229885057471264, 1.1275451402228198, 1.0125195618153364, 2.2, 1.0249910746162085, 1.1213849287169042, 1.1272438969552818, 1.0607017784797088, 1.143859649122807, 1.305041954407069, 1.085590465872156, 1.0158429661241286, 1.2037037037037037, 1.0, 1.0710441334768568, 1.0451831726858982, 1.2027027027027026, 1.049357536202325, 1.0332260746953976, 1.0, 1.4444444444444444, 1.3333333333333333, 1.076455385530744, 1.125, 1.1337488758644214, 2.0, 1.0378698224852072, 1.0625, 1.2201834862385321, 1.1818181818181819, 1.1428571428571428, 1.6, 1.0367700072098054, 1.1505190311418685, 1.0, 1.3870967741935485, 1.40625, 1.085483870967742, 1.1333333333333333, 1.031201248049922, 1.0464737995839208, 1.0415200562983815, 1.0194168866235855, 1.1111111111111112, 2.0, 1.0429770542167849, 1.0148483743249241, 1.0497015735214323, 1.1159695817490494, 4.0, 1.0159606095110776, 1.0730994152046784, 1.4666666666666666, 1.3404255319148937, 1.1524390243902438, 1.0303030303030303, 1.1246393537218695, 1.2376686128447756, 1.0446578491321643, 1.1, 2.0, 1.02, 1.006291852051593, 1.0930232558139534, 1.1183591123066576, 1.063157894736842, 1.09431032048567, 1.2608695652173914, 2.0, 1.1333333333333333, 1.0768139369904752, 1.106611114515042, 1.0594131835976117, 1.0828651685393258, 1.5, 1.1430793157076204, 1.0, 3.0, 1.0, 1.1578947368421053, 1.1604095563139931, 1.0766944114149821, 1.0315633122911252, 1.0853925836961418, 1.058590657165479, 1.1096654275092936, 1.04688995215311, 1.1611570247933884, 1.1054136980602216, 1.1012658227848102, 1.1802738597755584, 1.0866192630898512, 1.001249364305822, 1.0, 1.0246734397677795, 1.056846217105263, 1.0039123630672926, 1.25, 1.049562295516845, 1.005416374233316, 1.0, 1.05, 1.5, 1.0486394992335206, 1.018971354866448, 1.0265425746118395, 1.1679449880983868, 1.122738658502644, 1.3333333333333333, 1.2098905380991178, 1.049962990377498, 1.1333333333333333, 1.1129118528027386, 1.2413793103448276, 1.0079113924050633, 1.0215102030912575, 1.0213478866165302, 1.5, 1.0520659906160132, 1.0, 1.0061979873951044, 1.078501456182155, 1.0917544947303162, 2.0, 1.0, 1.3231441048034935, 1.0378787878787878, 1.0338284584899702, 1.2778372591006424, 1.0539865171007647, 1.0705332001090018, 1.0, 1.1921611322808927, 1.0235749472202673, 1.175257731958763, 1.0, 1.0, 13.571428571428571, 1.2471590909090908, 1.0977079742067293, 1.0559284116331096, 1.1583262047333904, 1.1843876177658144, 1.2426550598476604, 1.0, 1.0174829115004074, 1.3610779871213927, 1.2967688483844242, 1.094890510948905, 1.356164383561644, 1.0618842845973417, 1.303030303030303, 1.0212062256809338, 1.148256761159987, 1.0620310324924456, 1.0044444444444445, 1.0606060606060606, 1.0558943089430894, 1.2161438408569243, 1.037037037037037, 1.0636818315547354, 1.0035714285714286, 1.0527469516372105, 1.0452135195304595, 1.1752516281823564, 1.148477157360406, 1.075, 1.2518174001407019, 1.0416666666666667, 1.13125, 1.0354887012305891, 1.042259948886455, 1.109155616224649, 1.0971273656222302, 1.047325769854133, 1.4615384615384615, 1.1346704871060171, 1.381294964028777, 1.1091581868640148, 1.014758015492305, 1.1269565217391304, 1.139915202907329, 1.1043186582809223, 1.0, 1.0302717222853601, 1.0752245508982037, 1.1532035100372642, 1.0610412926391382, 1.0253052134391474, 1.071260774186862, 1.0496564647095565, 1.411764705882353, 1.3835616438356164, 1.0, 1.0422389185113372, 1.032258064516129, 1.2167259786476867, 1.1202404809619237, 1.4705882352941178, 1.489911218724778, 1.047229791099001, 1.0308256312283781, 1.3333333333333333, 1.120879120879121, 1.0291026677445432, 1.0217176702862785, 1.6666666666666667, 3.0, 1.1111111111111112, 1.221181948778917, 1.07, 1.0337078651685394, 1.1318397450599327, 1.103655680725713, 1.0142302716688227, 1.0084512105253698, 1.1857086202545337, 3.0, 1.0869565217391304, 1.075426001210968, 1.2325581395348837, 1.1326530612244898, 1.1885714285714286, 1.0263985326870169, 1.0440251572327044, 1.320754716981132, 1.0064102564102564, 1.0306406685236769, 1.017406048118816, 1.5, 1.0673992673992674, 1.0926724137931034, 1.5, 1.0303907380607815, 1.13406292749658, 1.0041626641050272, 1.096, 1.0666666666666667, 1.005386409170033, 1.0496688741721854, 1.0684796955093772, 1.0248527679623085, 1.0156862745098039, 2.0, 1.0721784776902887, 1.0105900151285931, 1.3333333333333333, 1.0481899215066002, 1.0803881459696734, 1.1440045897877222, 1.0800990093202494, 1.045859872611465, 1.0679536492730484, 1.075512405609493, 1.151851851851852, 1.0031138790035588, 1.0503425765283618, 1.9285714285714286, 1.1203252032520326, 1.0431654676258992, 1.1651741293532338, 1.0461683417085428, 1.0, 1.0790359967984366, 1.0466105439922224, 1.0341178693653026, 1.0790322580645162, 1.1282660332541568, 1.001189127517857, 3.0, 1.1205736025753585, 1.0748959778085991, 1.150105708245243, 1.097835996353342, 1.0057714427593476, 1.3478260869565217, 1.0960164936308077, 1.173913043478261, 1.019426067169525, 1.2141014617368873, 1.0, 1.2545454545454546, 3.0, 1.0975609756097562, 1.1019736842105263, 1.0579809004092768, 1.00406469506817, 1.6666666666666667, 1.0166975881261595, 1.1127622377622377, 1.0501710376282782, 1.0450892857142857, 1.1508379888268156, 1.0502053650683798, 1.2, 1.03125, 1.0839749759384023, 1.1524725274725274, 2.0, 1.1377162629757784, 1.0213344980513372, 1.0, 1.4615384615384615, 1.097079838459149, 2.0, 1.1818181818181819, 1.0021598272138228, 1.1084541062801931, 2.176470588235294, 1.1452793834296724, 1.0852272727272727, 1.0593049927750775, 1.2, 1.0509421762423794, 1.3043478260869565, 1.15169592636782, 1.0706638115631693, 1.0680561463207146, 1.0096237970253719, 1.1573033707865168, 1.01743264659271, 1.0172018853794986, 1.054421768707483, 1.162037037037037, 1.0699588477366255, 1.077183734939759, 1.0894178052388825, 1.1060991033076213, 1.0365269461077844, 1.1523178807947019, 1.3068081343943412, 1.0594227504244482, 1.0217076700434153, 1.0596264367816093, 1.0086538461538461, 1.0416666666666667, 1.103605520763665, 1.0521172638436482, 1.0909090909090908, 1.3376623376623376, 1.25, 1.0414188615123194, 1.049443757725587, 1.0489795918367346, 1.0017921146953406, 1.1397849462365592, 1.00577334186626, 1.75, 1.1466498103666245, 1.1818181818181819, 1.0926333150082463, 1.0851298678900347, 1.101425841540497, 1.0040805430554496, 1.0068093385214008, 1.0006993006993008, 1.0, 1.0411190489174893, 1.6666666666666667, 1.1413843888070692, 1.5, 1.0, 1.007610392662686, 1.014006993942405, 1.2202380952380953, 1.0341463414634147, 1.082585278276481, 1.3076923076923077, 1.0, 1.0002701412273207, 1.1428624897073134, 1.0483736126459424, 1.012196273583421, 1.0733333333333333, 1.0104387538737563, 1.2476635514018692, 1.3461538461538463, 1.1372549019607843, 1.0523742312733138, 1.0327868852459017, 1.3333333333333333, 1.0, 1.050251256281407, 1.2074101450614432, 1.0214851111948737, 1.0, 1.25, 1.054263565891473, 1.07347055460263, 1.016598250936998, 1.074013157894737, 1.3043478260869565, 1.0673497003672916, 1.3972972972972972, 1.1488549618320612, 1.1711864406779662, 1.0456071799255144, 1.0909090909090908, 1.0066726340629832, 1.1175616835994195, 1.0519368800236566, 1.0283655778384935, 1.1103955569997932, 1.1168831168831168, 1.103448275862069, 1.008046836073742, 1.0, 1.0892318484742196, 1.0482352941176472, 1.203522504892368, 1.0173611111111112, 1.013229234439384, 1.014832867617707, 1.058047804768676, 1.4, 1.0319481906304946, 1.0455555555555556, 1.25, 1.125, 1.0642907058001398, 1.0769230769230769, 1.0860033726812817, 1.286734693877551, 1.0693371654391952, 1.0484976278334213, 1.1040723981900453, 1.009090909090909, 1.0404354587869362, 1.0285714285714285, 1.236220472440945, 1.0, 1.099734487605703, 1.4816396242527754, 1.3, 1.0268618166164443, 1.043746063735987, 1.3217993079584776, 1.0836600065622464, 1.0, 1.0619280278117071, 1.0713642841071027, 1.0461582027562772, 1.0208307320296868, 1.0248083904800322, 1.0666666666666667, 1.1789780714084903, 1.1068251796099897, 1.6, 1.6053811659192825, 1.04544971238397, 1.4666666666666666, 1.2390332495110365, 1.0962219598583236, 1.0112781954887218, 1.1144453529572091, 1.3333333333333333, 1.121212121212121, 1.0079505300353357, 1.0225924879977408, 1.0869565217391304, 1.021523676043648, 1.4545454545454546, 1.2541436464088398, 1.242130750605327, 1.0526315789473684, 1.1392073142432821, 1.0796703296703296, 1.0636244109985056, 1.0216963473725238, 1.0, 1.033678831692942, 1.0545087483176312, 1.1818181818181819, 1.1002517523425503, 1.0321311475409836, 1.047099375101689, 1.0481927710843373, 1.0566822672906917, 1.5454545454545454, 1.0344478966316517, 1.0364420062695925, 1.4166666666666667, 1.1019660864176666, 1.5, 2.0, 1.5, 1.0145681127473716, 1.2183150183150182, 1.216631515516722, 1.0, 1.0491525423728814, 2.0, 1.0386690647482015, 1.0556124888979983, 1.028056112224449, 1.0, 1.02905874921036, 1.0869565217391304, 1.0909090909090908, 1.0529801324503312, 1.0, 1.0427892234548335, 1.2, 1.074973600844773, 1.5, 1.4, 2.5, 1.75, 1.2285714285714286, 1.037604084399311, 1.0972972972972972, 1.0, 1.368421052631579, 1.0171583243762476, 1.0096878363832078, 1.0114942528735633, 1.0199600798403194, 1.1717171717171717, 1.0585651537335286, 1.025078369905956, 1.7882165605095541, 1.039424050426206, 1.0362261630025507, 1.12987012987013, 1.1194888178913738, 1.2388059701492538, 1.0429994781735097, 1.375, 1.0423677970459675, 2.5, 1.0272045799358749, 1.0, 1.0329547614521954, 1.1265286156856351, 1.3383458646616542, 1.0121951219512195, 1.6666666666666667, 1.2457859098112665, 1.034921939194741, 1.0861648826230668, 1.0, 1.3022875816993464, 1.099704914311656, 1.0176418836530892, 1.101063829787234, 1.0, 1.0677083333333333, 1.1359288157332192, 1.0203093413567768, 1.1069958847736625, 1.0167064439140812, 1.1101356743814845, 1.0905405405405406, 1.0809659090909092, 1.0, 1.021505376344086, 1.0, 1.0, 1.225130890052356, 1.1456241032998564, 1.060037424209364, 1.1166868469438092, 1.0832926233512457, 1.007801743919229, 1.2156233279828785, 1.0716723549488054, 1.0995941369239417, 1.3333333333333333, 1.1043643263757115, 1.0344827586206897, 1.0785, 1.0534374314958772, 1.1964285714285714, 1.0152937953022643, 1.0268389662027833, 1.0179558568373481, 1.0421052631578946, 1.1373607513963866, 1.0202133632790567, 1.2666666666666666, 1.0912280701754387, 1.0173160173160174, 1.071705426356589, 1.0413184772516249, 1.5205479452054795, 1.0114795918367347, 1.1568942436412315, 1.1111111111111112, 4.0, 1.0498461538461539, 1.2777777777777777, 1.1288659793814433, 1.25, 1.0453488372093023, 1.1818181818181819, 1.162162162162162, 1.0634808363909642, 1.0457142857142858, 1.3333333333333333, 1.2506925207756232, 1.011239304369034, 1.0530612244897959, 1.0772596914556962, 1.2, 1.07, 1.4186413902053712, 1.0013605910821004, 1.0371628411785987, 1.067163750251415, 1.152046783625731, 1.0611311793126665, 1.0, 1.525, 1.0232558139534884, 1.117498754067603, 1.086021505376344, 1.0473415877640204, 1.2699386503067485, 1.063177311505649, 1.225, 1.0960960960960962, 1.1103789126853376, 1.06, 1.0605170944218203, 1.1189801699716715, 1.2222222222222223, 1.2377622377622377, 1.0560565213349447, 1.0714363616533973, 1.1794871794871795, 1.1252246854403836, 1.326145552560647, 1.065934065934066, 1.0154413833401865, 1.0862163146394757, 1.0145348837209303, 1.0054945054945055, 1.5, 1.0040803013747779, 1.0037593984962405, 1.55, 1.0, 1.069767441860465, 1.0, 1.4, 1.004739336492891, 1.110394265232975, 1.0, 1.0722454587702814, 1.3828211773417254, 1.1238257899231425, 1.3721204961606615, 1.162162162162162, 1.0937348227294803, 1.2258064516129032, 1.053182143221984, 1.3333333333333333, 1.0497547302032235, 1.0293931446142714, 1.0279315681773327, 1.0454545454545454, 1.0, 1.0427807486631016, 1.1075482406356414, 1.6666666666666667, 1.1130371069245515, 1.76, 1.5714285714285714, 1.2056737588652482, 1.1860565663844351, 1.049792531120332, 1.002379219615966, 1.0310541224686596, 1.1521739130434783, 1.0278011794439763, 1.1612903225806452, 1.124843041692383, 1.016370271923718, 1.4385964912280702, 1.1647668393782384, 1.020310633213859, 1.0389489748523655, 1.0508021390374331, 1.5798319327731092, 1.132882882882883, 1.0381839441957985, 1.0806451612903225, 1.2222222222222223, 1.0042918454935623, 2.0, 1.052069461284146, 1.1147741147741148, 1.0614409796383313, 1.12, 1.4685714285714286, 1.0869565217391304, 1.071994871246928, 1.0, 1.075043630017452, 1.6818181818181819, 1.111540801251412, 1.1009174311926606, 1.1819916062571538, 1.0680512941546692, 1.0218794679606602, 1.0952380952380953, 1.0492535603833377, 1.0, 1.0134680134680134, 1.0960334029227556, 1.2466539196940727, 1.067644661776691, 1.0666904422253922, 1.5, 1.0321364599552783, 1.0443833845159205, 1.0392592592592593, 1.0221518987341771, 1.5277777777777777, 1.0090469977274494, 1.0034013605442176, 1.0735294117647058, 1.0589473684210526, 1.1102044008760037, 1.0343372370896395, 1.0063333333333333, 1.0559006211180124, 1.0339256865912763, 1.1090225563909775, 1.1184098456355929, 2.0, 1.085195861519176, 1.0354280894137495, 1.4161290322580644, 1.0672068943340407, 1.087686567164179, 1.1718665219750406, 1.100665557404326, 1.1169305724725944, 1.0157890453324652, 2.0, 1.0, 1.375, 1.0494555578006781, 1.0605763575769458]
origin-bjaq_15.71 	max: 13.5714	99th: 3.0000	95th: 1.6084	median: 1.0802	mean: 1.1811

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.949706 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[9.2756748e-04 1.1920929e-07 5.9604645e-08 2.9802322e-07 4.1723251e-07]
Distance score: 0.00018569230451248586
SAUCE Drift detection: True
Detection latency: 0.0211s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.8887 bits (loss 19.501, data 18.613) 0.00300 lr
epoch 10 train loss 12.6366 nats / 18.2308 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.4052 bits (loss 18.208, data 18.613) 0.00256 lr
epoch 20 train loss 12.3274 nats / 17.7847 bits
time since start: 8.7 secs
Epoch 20 Iter 0, train entropy gap -0.8828 bits (loss 17.730, data 18.613) 0.00150 lr
epoch 30 train loss 12.2016 nats / 17.6032 bits
time since start: 12.9 secs
Epoch 30 Iter 0, train entropy gap -0.9481 bits (loss 17.665, data 18.613) 0.00044 lr
epoch 40 train loss 12.1728 nats / 17.5616 bits
time since start: 17.0 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 22.4837 nats / 32.4371 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.138160 | Model-update-time: 19.672599


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 15.0000	99th: 4.0754	95th: 2.5556	median: 1.1618	mean: 1.3848
ReportEsts: [1.2641509433962264, 1.8148148148148149, 1.0237879022791203, 1.2454545454545454, 1.026997428230401, 1.5366666666666666, 1.5496688741721854, 1.1575178997613365, 1.0130657730823829, 1.0, 1.2484026189161475, 1.0759064723822434, 1.3349397590361445, 1.7933383800151401, 3.5760536849540854, 1.0175746924428823, 1.2980295566502462, 1.4444444444444444, 1.2333333333333334, 1.1177005347593583, 2.05, 1.7142857142857142, 1.029894126471267, 1.0302830205983236, 1.3333333333333333, 1.5826771653543308, 1.25, 1.4827586206896552, 1.203125, 1.1467136150234742, 1.0525928650239058, 1.3478296211998049, 1.0420757363253856, 1.0555555555555556, 1.5555555555555556, 1.34, 1.2179487179487178, 1.18159509202454, 1.2058823529411764, 1.1921081609459372, 1.0961538461538463, 1.1968762718762718, 1.4301369863013698, 1.0205815269122323, 1.0246153846153847, 1.0081850207572127, 1.0749285655971916, 1.1829710144927537, 1.0512048192771084, 1.627135187896535, 1.9811320754716981, 1.19219637688927, 1.0, 1.3333333333333333, 1.1501340482573728, 1.087719298245614, 1.2218982014218382, 1.0619350219278618, 1.0709105560032233, 1.05, 1.1957221609702315, 3.5, 1.2621468926553672, 1.1686746987951808, 1.1674007675862246, 1.2279092169254986, 1.1764705882352942, 1.4034926470588236, 1.0, 2.0, 1.032836100947556, 1.2833733013589128, 1.0252771618625278, 1.4100441501103753, 1.048165137614679, 1.0472871894041669, 1.1204819277108433, 1.2384595927659037, 1.125, 1.0, 1.0181333874527512, 1.0144927536231885, 1.0397428404441846, 1.1886102403343783, 2.0297029702970297, 1.0, 1.145015654067789, 1.1896276762729956, 1.0125393262478477, 2.53125, 1.1595744680851063, 1.1992063492063492, 1.256279069767442, 1.0786682380671773, 1.0702009198741225, 1.0, 1.2017159910470032, 1.75, 1.017224880382775, 1.068141592920354, 1.0703125, 1.2324375294672325, 1.2012491325468424, 1.1961414790996785, 4.287671232876712, 1.0339778486953257, 1.4727891156462585, 1.1024267254963758, 1.0036133853379716, 1.9166666666666667, 1.4515366430260048, 1.1217524197656648, 1.0846223839854414, 1.3474178403755868, 1.081260553626653, 1.1981364757467798, 2.0, 1.220383275261324, 1.1252577319587629, 1.0113173793812666, 1.093318608503589, 1.0, 1.6168327796234774, 2.0, 1.411764705882353, 1.0680136910676825, 1.5714285714285714, 1.0655487804878048, 1.1666666666666667, 2.223926380368098, 2.75, 1.0, 1.1756373937677054, 1.5923076923076922, 1.5793388429752067, 1.0, 1.0415442719261434, 1.0330665610422862, 1.021036507531274, 1.4285714285714286, 1.1371681415929205, 1.7932798011662365, 1.0294285714285714, 1.2222222222222223, 1.1580246156675813, 1.1362397820163488, 1.0059591755498187, 3.933333333333333, 1.1546489563567361, 1.168141592920354, 3.83585313174946, 1.3333333333333333, 1.9895833333333333, 2.1578947368421053, 1.0083177728738755, 1.9272151898734178, 1.31496062992126, 1.0790697674418606, 1.1114369501466275, 1.008423060113632, 3.0, 1.0426666666666666, 1.5148514851485149, 1.1130653266331658, 1.1140137313142133, 1.0203362671285332, 1.1967213114754098, 1.225108225108225, 1.2152777777777777, 1.6923076923076923, 1.2162479407956714, 1.0225557337940112, 1.0526315789473684, 1.0881310266591038, 1.0875407166123778, 1.234943112762971, 1.032222510373444, 1.128022759601707, 1.0049589118730518, 1.0275061906367347, 1.0, 2.0, 1.5714285714285714, 1.1304347826086956, 1.2978122794636555, 1.647795318454001, 2.0, 1.145748987854251, 1.0560303893637226, 1.1898395721925135, 1.0705270821348023, 1.0726309816531114, 1.078997645177056, 1.2307692307692308, 1.0681388012618296, 1.0566632516352747, 1.273109243697479, 1.7860262008733625, 1.7777777777777777, 1.3504746835443038, 1.024672243223679, 1.1333333333333333, 1.2104046242774567, 1.1966173361522199, 1.0365111561866125, 1.180455019390457, 1.1929020226016296, 1.2433179723502303, 4.0, 1.4292035398230087, 5.0, 1.588235294117647, 1.7142857142857142, 1.0365114650263407, 1.0446592352194157, 1.012386629294623, 2.5, 1.0, 3.0, 1.043552348017842, 3.6, 1.1252357600905318, 1.5505050505050506, 1.150053022269353, 1.19938884644767, 1.2727272727272727, 1.4509803921568627, 1.1484230055658626, 1.3098662961015548, 1.3504901960784315, 1.0287193973634652, 1.15625, 1.1683561040105774, 1.157291245109942, 1.373323397913562, 1.0643921191734742, 1.2699471142791445, 2.5555555555555554, 1.25, 1.0290820173204278, 1.0, 4.074512706637059, 1.8774734173649743, 1.2173913043478262, 1.023170731707317, 1.25, 1.5405405405405406, 1.0408163265306123, 1.2581055308328035, 1.2117647058823529, 2.0, 1.5423728813559323, 1.0287717088691501, 1.901639344262295, 1.5227272727272727, 4.166138890934532, 1.011764705882353, 1.0513468013468013, 1.806896551724138, 1.1927374301675977, 1.4541899441340782, 1.0515625, 1.5714285714285714, 1.00643661213032, 1.0217541436464088, 1.0476811806125776, 1.008171206225681, 1.5666666666666667, 1.1723700887198987, 1.2428909952606635, 1.0296350376423855, 1.9166666666666667, 1.0, 1.0307855626326965, 1.019093686354379, 1.1185264281900693, 1.0652847733436652, 1.0130017542049323, 1.5, 1.2857142857142858, 1.3333333333333333, 1.2156430446194226, 1.1111111111111112, 1.0564285714285715, 1.25, 4.241071428571429, 1.0, 1.096875, 1.625, 1.875, 1.457142857142857, 1.3763518385003606, 1.1336633663366336, 1.0, 1.9545454545454546, 1.5384615384615385, 1.2061538461538461, 1.5, 2.0771604938271606, 1.0010046159806167, 1.038640906062625, 1.0360013529107477, 1.1875, 2.0, 1.22658354436505, 1.0119619913344238, 1.036146713129762, 1.1233303650934996, 6.0, 1.005996248652321, 1.117442366246194, 3.2857142857142856, 1.2244897959183674, 1.0886075949367089, 1.0748898678414096, 1.1116639027086788, 1.0695443645083933, 1.0220413855300956, 1.3, 2.0, 1.4491525423728813, 1.0041264181171816, 1.4615384615384615, 1.0093250294563205, 1.202832574607992, 1.0351633078526754, 1.0357142857142858, 3.0, 1.0217391304347827, 1.007264716430145, 1.0098333627745393, 1.0002441704309608, 1.3832442067736186, 1.0, 1.8375, 1.0, 3.0, 1.0, 1.007906215921483, 1.0989583333333333, 1.0233105983053565, 1.0, 1.1448952088851712, 1.1044776119402986, 1.0173310225303294, 1.5021758050478677, 1.0516014234875444, 1.2203465126610396, 1.0235294117647058, 1.0044937750165754, 1.0624624624624626, 1.0086609106022417, 3.0, 1.0632530120481927, 1.1075132068088436, 1.080824088748019, 1.25, 1.4109451240663229, 1.0568467246008604, 1.0, 1.1286654697785756, 3.588235294117647, 1.2248491085583957, 1.0189381862701339, 1.0357598101279404, 1.0318185852489572, 1.018664752333094, 1.8571428571428572, 1.2289590155086179, 4.053220208252989, 1.0129533678756477, 1.102099093231802, 1.2352941176470589, 1.2389705882352942, 1.2575367221512797, 1.0180528794007682, 1.4285714285714286, 1.3061184145497677, 2.0, 1.1347774914909183, 1.220370586178767, 1.1392638036809817, 1.0, 2.0, 1.1336633663366336, 1.5297619047619047, 1.0148877646249816, 1.351407000686342, 1.022958673054084, 1.1574837949322334, 1.0186125211505923, 1.0671834625322998, 1.028909329829172, 2.1241379310344826, 1.8055555555555556, 1.0, 12.285714285714286, 1.0464852607709751, 1.0000940197884, 1.0220326936744848, 1.1831867911819853, 1.0178082191780822, 1.1323748140803174, 1.0, 1.0153882490821464, 1.1221779548472774, 1.0285575404058815, 1.1532846715328466, 1.9038461538461537, 1.1944678083676565, 1.894736842105263, 1.263157894736842, 1.1268626862686268, 1.0876920736345657, 1.4933333333333334, 1.0275862068965518, 1.0963788300835655, 1.219409282700422, 1.1666666666666667, 1.0268602909441722, 1.0101010101010102, 1.105155575743811, 1.0090525471200493, 1.0761329305135952, 1.1485507246376812, 1.34375, 1.2167686054021198, 1.25, 1.1496598639455782, 1.0180832843694916, 1.2998154981549817, 1.0075702345050965, 1.0646648139361485, 1.1217481789802288, 1.0892937327602796, 1.0418052456531806, 1.0485021398002854, 1.238107963655799, 1.0445586975149956, 3.9723221699418767, 1.0, 1.0, 1.3783783783783783, 1.081837180583262, 1.0299286181342633, 1.2553986710963456, 1.1373299610362977, 1.3053097345132743, 1.0226040186338174, 1.0522705505750796, 1.206648389307745, 1.0869565217391304, 1.123076923076923, 3.2222222222222223, 1.0164240411122913, 1.03125, 3.412130210051688, 1.2261410788381744, 2.4545454545454546, 1.6122270742358078, 1.4061302681992338, 1.1046196298586992, 1.0833333333333333, 1.4, 1.1103066439522997, 1.182068206820682, 1.4, 1.0360934182590233, 1.588235294117647, 1.1725089179548156, 1.820754716981132, 2.5428571428571427, 1.0640840220385674, 1.010701824227806, 1.2263313609467457, 1.0109533069975132, 1.0834753965731456, 3.0, 1.3, 1.0312448745284566, 2.246913580246914, 1.064516129032258, 1.095872170439414, 1.0300578034682082, 1.993220338983051, 2.07172131147541, 1.5448851774530272, 1.144927536231884, 1.6729957805907174, 1.026112747750456, 1.5, 1.0125599667585843, 1.0204841713221602, 1.5, 1.1173780487804879, 1.4485049833887043, 1.1345663265306123, 3.25, 1.0666666666666667, 1.038090380660935, 1.2639109697933226, 1.291240980210045, 1.0078623268088849, 1.003875968992248, 2.0, 1.016431924882629, 1.2259276655706906, 1.3333333333333333, 1.0098700243704306, 1.0134909849960074, 1.111311672683514, 1.0162918835048218, 1.0635103926096998, 1.0130004601932812, 1.2245706737120212, 1.1481481481481481, 1.0969750889679715, 1.2204636807349987, 4.2, 1.0223048327137547, 1.3488372093023255, 1.0079214195183777, 1.107593136790217, 1.0, 1.0281103322301366, 1.002739188999015, 1.0181348168825808, 1.2258620689655173, 1.0248492600036543, 1.00020110992312, 3.0, 1.045273784031814, 1.3376623376623376, 1.0570824524312896, 1.1304512909524842, 1.0042534743129652, 1.1379310344827587, 1.2136729222520106, 1.0536082474226804, 1.2620303771587134, 1.0356188780053428, 1.0, 1.0510066683765067, 1.0, 1.0888888888888888, 1.203883495145631, 1.682687338501292, 1.0093570276602866, 2.8333333333333335, 1.216704288939052, 1.0581304006284367, 1.207797594359187, 1.0671811166591012, 1.1933333333333334, 1.0148477894212957, 1.2, 1.1851851851851851, 1.011665141811528, 1.0994236311239194, 2.0, 1.1859776168531928, 1.0149591371811824, 1.0188679245283019, 1.4074074074074074, 1.1229955026575205, 2.0, 2.6, 1.859437751004016, 1.5751422687717278, 1.2142857142857142, 1.1595159515951594, 1.0871886120996441, 1.0163474884560604, 2.0, 1.1457166232181486, 1.2307692307692308, 1.0125768186365585, 1.0467479674796747, 1.0186258278145695, 1.0711111111111111, 1.1866666666666668, 1.8826979472140764, 1.3233855003174841, 1.2916666666666667, 1.0778301886792452, 1.276496060197345, 1.1912871287128712, 1.0090702947845804, 1.1659710685197942, 1.015944055944056, 3.0737704918032787, 1.4650751547303271, 1.2919254658385093, 1.3220973782771535, 2.820232135981077, 1.1826967326277036, 1.0833333333333333, 1.0339763261727313, 1.2832080200501252, 1.8181818181818181, 1.2755102040816326, 1.0677966101694916, 1.1317329029655032, 1.615530303030303, 1.5207100591715976, 1.2084168336673347, 1.367741935483871, 1.1899168774846405, 1.5, 1.214585519412382, 1.1818181818181819, 1.2424863387978142, 1.1890614960123975, 1.106141127841748, 1.0523204672601245, 2.6231155778894473, 1.065063649222065, 1.0, 1.0394109105994607, 1.25, 1.1467903980366592, 1.6, 1.5, 1.2249244288465888, 1.1136902638151405, 1.3651162790697675, 1.2470588235294118, 1.5675675675675675, 3.4, 1.0, 1.017205998421468, 1.1780942722342256, 1.3357487527602847, 1.0100239999782559, 1.7763975155279503, 1.0245757450331126, 1.4537444933920705, 1.1818181818181819, 1.272, 1.2163090128755365, 1.5364583333333333, 2.0, 1.0, 1.3076923076923077, 1.0339867214669618, 1.7044025157232705, 2.0, 1.6666666666666667, 1.3877551020408163, 1.22499322309569, 1.1272797081973507, 1.074013157894737, 3.2142857142857144, 1.1516352411146338, 1.0690537084398977, 1.0114213197969544, 1.2967032967032968, 1.083094715187234, 1.375, 1.0687840243556335, 1.1786237188872621, 1.0180132625119593, 1.0330159832966046, 1.0131805639208327, 1.1433962264150943, 1.6842105263157894, 1.2132616487455197, 1.290858725761773, 1.2419061980673356, 1.032600983060906, 1.4, 1.3333333333333333, 1.4299371756350723, 1.25, 1.0147142585912283, 2.3333333333333335, 1.00499348485776, 1.0876803551609322, 1.6666666666666667, 1.0, 1.1008771929824561, 1.1, 1.1594202898550725, 1.0967486122125298, 1.1433559252413226, 1.0293308890925756, 1.0384615384615385, 1.4576271186440677, 1.163975155279503, 1.205020920502092, 1.1088435374149659, 1.0, 1.8958538054331633, 1.093134328358209, 1.4444444444444444, 1.219718079003442, 1.2338147706968434, 1.0699226985242445, 1.1832203565603523, 1.0, 1.2063937663446656, 1.1516971700395067, 1.9192533843839736, 1.0183000219889593, 1.215479745991243, 1.4193548387096775, 1.2495437446459832, 1.090748769196855, 1.6, 1.7510729613733906, 1.0140495780923258, 3.142857142857143, 1.3590254367146797, 1.0838131797824697, 1.0338201383551116, 1.105238682075011, 1.5, 1.1, 1.064365671641791, 1.1577987230161144, 1.2272727272727273, 1.0205236747603985, 1.4545454545454546, 1.4107142857142858, 1.5698924731182795, 1.1818181818181819, 1.3445135984310272, 1.3133159268929504, 1.0050810869785456, 1.0238710860496034, 1.0, 1.0232878599972441, 1.0113977204559088, 1.0769230769230769, 1.0330803295268207, 1.0711700844390832, 1.0162304438473704, 1.1523178807947019, 1.026279084511507, 1.9, 1.3222195334939557, 1.0256606664113366, 1.04, 1.1786837440676996, 1.5, 1.0, 3.0, 1.0143760212586859, 2.854297307266691, 1.0947171678302456, 1.5454545454545454, 1.0909090909090908, 2.0, 1.0286415711947627, 1.1983092911431674, 1.2902621722846441, 2.0, 1.5221153846153845, 1.1904761904761905, 1.0208333333333333, 1.5275229357798166, 1.0, 1.1706864564007422, 2.0, 1.2866479925303456, 1.0, 1.75, 2.0, 2.375, 2.1402714932126696, 1.0043346286038244, 1.0185185185185186, 1.0, 1.5160818713450293, 1.0395213621715722, 1.423254472013849, 1.0425531914893618, 1.146252285191956, 1.8067226890756303, 1.4084249084249085, 1.0442477876106195, 1.658788774002954, 1.0123938828118504, 1.021168977144998, 1.1181818181818182, 1.2507571168988492, 1.6, 1.0050247656840379, 1.239464245684824, 1.038593092593153, 1.419376026272578, 1.2386363636363635, 1.4293948126801153, 1.4705882352941178, 1.0169226524418284, 1.0968085106382979, 1.0692103432117348, 1.2439024390243902, 1.5, 1.2262883771929824, 1.1644594359114784, 1.016862130878252, 1.3333333333333333, 1.0720906282183316, 1.0052049446974627, 1.0013780067240956, 1.3823529411764706, 1.0, 1.073920265780731, 1.078355688507189, 1.086998380814844, 1.5549132947976878, 1.3581296493092454, 1.954758190327613, 1.0027905848095122, 1.0497159090909092, 2.2, 1.1782178217821782, 1.0, 1.0, 1.1388888888888888, 1.231223628691983, 1.1212505051601735, 1.2040453434096465, 1.0551436515291936, 1.2629405286343611, 1.405229545728401, 1.2636514065085493, 1.0080788562757836, 5.0, 1.0050228310502283, 1.305593451568895, 1.4663494221617948, 1.0484606157536984, 1.0634920634920635, 1.2544252460817034, 1.224929709465792, 1.019949561486054, 1.1585365853658536, 1.0178714087049145, 1.2481751824817517, 1.6923076923076923, 1.926984126984127, 1.1370143149284253, 1.2368896925858952, 1.2121553179516038, 2.0172413793103448, 1.0017699115044247, 1.0999435347261435, 1.1176470588235294, 4.0, 1.4843454201252366, 2.090909090909091, 1.1259015042241913, 1.3532608695652173, 1.3844368948198045, 2.406862745098039, 1.1355475763016158, 1.0284556360099428, 1.1005917159763314, 1.2, 1.7069943289224954, 1.005566847481325, 1.425414364640884, 1.0117520992165268, 3.2093023255813953, 1.02, 1.403125, 1.2428948577902714, 1.0619104211542747, 1.034526440623147, 1.0058479532163742, 1.005546043631061, 1.0, 1.3863636363636365, 1.0, 1.0070128048622113, 1.0202702702702702, 1.0291332847778587, 2.3526570048309177, 3.3147216105693613, 1.2325581395348837, 1.0960451977401129, 1.1096892138939671, 1.053701015965167, 1.0174854346965325, 1.3465346534653466, 1.0, 1.0092689751661421, 1.0653085680047933, 1.2593092533978776, 1.1736180904522613, 1.1362637362637362, 1.0347432024169185, 1.2340425531914894, 1.6531365313653137, 1.0127660011854633, 1.041927527983305, 1.2629757785467128, 1.2038216560509554, 1.5, 1.0174534815534102, 1.1, 1.03125, 1.0, 1.3870967741935485, 1.0, 1.1666666666666667, 1.748091603053435, 1.1011097410604191, 1.0, 1.1525014736221633, 1.0352112676056338, 1.0188269370021723, 1.3437146092865233, 1.9545454545454546, 1.3016157989228008, 1.027027027027027, 1.0083265401187842, 3.2222222222222223, 1.1721985665547063, 2.470363918836213, 1.0958407820166598, 1.391304347826087, 2.0, 1.1506849315068493, 1.0438630242400924, 2.0, 1.0109458053803357, 2.6285714285714286, 1.8333333333333333, 1.1281645569620253, 1.2226183844011143, 1.0588235294117647, 1.0067613011273289, 1.028986128986129, 1.606060606060606, 1.3106995884773662, 1.0509259259259258, 1.075955290771972, 1.0297561277799574, 1.8357142857142856, 1.1, 1.462686567164179, 1.0077172824646754, 1.1408114558472553, 1.1141732283464567, 1.0893970893970895, 1.293189775910364, 1.5555555555555556, 1.5, 1.1365853658536584, 1.3529411764705883, 2.4269912271576684, 1.0262071597058415, 1.1813893996322649, 1.5625, 1.7547169811320755, 2.8297872340425534, 1.072001364954786, 1.0, 1.0199004975124377, 2.4347826086956523, 1.039166339475937, 1.1842105263157894, 1.1556875449964004, 1.1296690970274819, 1.0020751727023893, 2.5555555555555554, 1.0196476473573552, 2.0, 1.3109947643979059, 1.1877828054298643, 1.747634069400631, 1.1891304347826086, 2.5166036149642705, 15.0, 1.0049802968055672, 1.0555898884670845, 1.1481178396072014, 1.3769633507853403, 6.875, 1.064478025335017, 1.451851851851852, 1.1717171717171717, 1.1816192560175054, 1.045893600768795, 1.1720908008403552, 1.1342155009451795, 1.1776315789473684, 1.0225903614457832, 1.2922374429223744, 1.02835485682201, 3.3333333333333335, 1.001614764720175, 1.1332399988084954, 1.5506756756756757, 1.092742429814883, 1.5096153846153846, 1.1687982242891872]
origin-bjaq_15.71 	max: 15.0000	99th: 4.0754	95th: 2.5556	median: 1.1618	mean: 1.3848

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.992900 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[7.8815222e-04 0.0000000e+00 0.0000000e+00 2.9802322e-07 2.9802322e-07]
Distance score: 0.00015774965868331492
SAUCE Drift detection: True
Detection latency: 0.0337s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.4606 bits (loss 19.044, data 18.584) 0.00300 lr
epoch 10 train loss 12.5238 nats / 18.0680 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.5136 bits (loss 18.070, data 18.584) 0.00256 lr
epoch 20 train loss 12.2464 nats / 17.6679 bits
time since start: 8.7 secs
Epoch 20 Iter 0, train entropy gap -0.8307 bits (loss 17.753, data 18.584) 0.00150 lr
epoch 30 train loss 12.1224 nats / 17.4889 bits
time since start: 13.0 secs
Epoch 30 Iter 0, train entropy gap -1.0691 bits (loss 17.515, data 18.584) 0.00044 lr
epoch 40 train loss 12.0874 nats / 17.4384 bits
time since start: 17.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 22.1918 nats / 32.0161 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.072926 | Model-update-time: 19.663293


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 23.2857	99th: 4.2030	95th: 2.3714	median: 1.1586	mean: 1.3936
ReportEsts: [1.5321888412017168, 1.065217391304348, 1.000370889310146, 2.8222222222222224, 1.3310344827586207, 4.0, 1.5235404896421845, 2.5325255650081635, 1.1889102499241122, 1.01716975906951, 1.0206131194374244, 1.05198347107438, 3.3333333333333335, 1.1044891640866874, 1.459285302870308, 1.0640718562874252, 1.0916704391127208, 1.1452810180275717, 1.6004228329809724, 1.1640495867768594, 1.0963040502455914, 1.0020491149736883, 1.2559147341297727, 1.1239530988274706, 1.046543789789933, 1.4545454545454546, 1.1627670396744658, 1.0, 1.0625, 1.2157894736842105, 1.077294685990338, 1.0456349206349207, 1.1564374389733576, 1.271877655055225, 1.2542372881355932, 1.1111111111111112, 1.25, 1.1924686192468619, 1.6258064516129032, 1.026622296173045, 1.2399417508354649, 1.4038461538461537, 1.2332410727390912, 1.5271966527196652, 1.0016108301480287, 1.1907692307692308, 1.0372052446565572, 1.0361068210103312, 1.1174089068825912, 1.1647058823529413, 1.2581132075471697, 1.8113207547169812, 1.28723127224328, 1.0, 2.0, 1.0265347260399487, 1.2797927461139897, 1.2787198944242824, 1.0293194582094483, 1.279114533205005, 1.5238095238095237, 1.1969236915701158, 1.75, 1.8621468926553673, 1.043010752688172, 1.0965420698462596, 1.220496713099728, 1.47196261682243, 1.0163789710430138, 1.1428571428571428, 2.0, 1.0213572717512962, 1.2158273381294964, 1.0475984422327997, 1.4362639980938765, 1.1546391752577319, 1.0834934406704513, 1.126853377265239, 1.1321835614786226, 1.25, 1.0, 1.014497779575952, 1.794392523364486, 1.1063432835820894, 1.0884338228587065, 1.0707070707070707, 1.5, 1.311505477618599, 1.2626584387370217, 1.0185692648462192, 1.96875, 1.4135802469135803, 1.5439519158527424, 1.3141584640143718, 1.1575716234652114, 1.1280378521757832, 1.1428571428571428, 1.3149108126862321, 2.3333333333333335, 1.0013519603424965, 1.1404351087771942, 1.5, 1.1768402154398563, 1.0322003577817531, 1.0373333333333334, 3.1136363636363638, 1.041769483857701, 1.6236559139784945, 1.0163294928785267, 1.0043829412786756, 1.8461538461538463, 2.1619718309859155, 1.1660047656870531, 1.0368603642671292, 1.243963363863447, 1.155844155844156, 1.1529411764705881, 1.0587190881178699, 1.066951566951567, 1.0506538449759593, 1.022563176895307, 1.1090699398632506, 1.0, 1.3563941299790356, 1.6875, 1.5, 1.1396759941089838, 1.5714285714285714, 1.0435374149659864, 1.3333333333333333, 1.2061855670103092, 1.017607737484641, 1.0585958355579284, 1.040339702760085, 1.1452991452991452, 1.5677419354838709, 1.0346598202824133, 1.9944979367262723, 1.0740740740740742, 1.8333333333333333, 1.1172690763052209, 1.0565732156818943, 1.6666666666666667, 1.222416812609457, 1.1288906948394961, 1.0143572621035057, 1.0344827586206897, 1.172548063527445, 1.2351274787535411, 1.042701433350318, 1.84375, 1.0875106202209006, 1.2429378531073447, 2.2317380352644838, 1.3333333333333333, 1.2916666666666667, 1.685483870967742, 1.3411509229098806, 1.0847201210287443, 1.300275482093664, 1.0689655172413792, 1.4413518886679921, 1.0245389344262295, 1.5, 1.1268011527377522, 1.329268292682927, 1.1215189873417721, 1.1327811419688638, 1.012163838562003, 1.158953722334004, 1.0035335689045937, 1.3714285714285714, 1.9166666666666667, 1.2386752520458686, 1.0498000145443969, 1.6538461538461537, 1.1106025362046972, 1.1060250391236306, 1.2579954631138375, 1.026086156394252, 1.1097708082026538, 1.1970590611618324, 1.0106927938226604, 1.5, 1.6, 1.1666666666666667, 3.7142857142857144, 1.3468013468013469, 1.3276315789473685, 3.0, 1.0, 1.042914979757085, 1.0083160083160083, 1.0825663327355066, 1.0244761560693643, 1.08856478545762, 1.625, 1.0370786516853931, 1.0221965317919075, 1.1264822134387351, 1.021097046413502, 1.6129032258064515, 1.1216012084592144, 1.0397861122536738, 1.021656050955414, 1.1857304643261608, 1.0742971887550201, 1.0611038107752957, 1.2161326718288743, 1.0115944947124238, 1.3257985257985259, 1.2857142857142858, 1.2074303405572755, 5.0, 1.9285714285714286, 1.3333333333333333, 1.0408145505177966, 1.1197437829691033, 1.0281234140109554, 1.5833333333333333, 1.0, 3.0, 1.0288126002074884, 4.2, 1.0295376007898633, 1.1205211726384365, 1.275185936443543, 1.3546160483175151, 1.1333333333333333, 1.2007604562737642, 1.3191056910569106, 1.2408254024726497, 1.1811361200428725, 1.032885595182955, 1.0666666666666667, 1.0775681341719077, 1.111317414396131, 3.0764331210191083, 1.0032183908045977, 1.2077410890006561, 2.1818181818181817, 1.25, 1.0254523904788506, 3.0, 2.5877995642701523, 2.4625481916651366, 1.5925925925925926, 1.0400471142520613, 1.044776119402985, 6.555555555555555, 1.0909090909090908, 1.0903395977579955, 1.4109589041095891, 3.3333333333333335, 2.35, 1.0231483371060968, 1.380952380952381, 1.2777777777777777, 2.633358462118357, 1.054945054945055, 1.4492273730684326, 1.5595238095238095, 1.3658536585365855, 1.1967816091954022, 1.4123505976095618, 2.2, 1.0047696184305255, 1.0500863557858378, 1.0454905911097776, 1.1380699505585057, 1.5261121856866537, 1.3840762324775555, 1.0779861796643633, 1.0528273106954784, 1.2, 1.0, 1.1452569169960474, 1.0040315964653213, 1.0040691759918616, 1.1076042820228866, 1.1049662139998688, 1.0344827586206897, 1.2857142857142858, 4.0, 1.2092571512119725, 2.2, 1.0532828612452683, 1.3333333333333333, 2.65464313123561, 1.0, 1.0800582241630277, 2.1666666666666665, 1.625, 1.4857142857142858, 1.8731074260994953, 1.0932069510268563, 1.0, 1.72, 1.5526315789473684, 1.2371134020618557, 1.125748502994012, 1.272984441301273, 1.0562611180324415, 1.1073910296904612, 1.0690662524059364, 2.3289473684210527, 1.0007336757153338, 1.3942857142857144, 1.0334021643531797, 1.0825891587509242, 1.0, 1.0492693565976008, 1.083816513761468, 1.087783570522756, 1.0437426900584796, 1.14302827024437, 2.1846153846153844, 1.1429448304647793, 1.2514682327816338, 1.0, 1.1555555555555554, 1.2857142857142858, 1.3047560412498076, 1.3333333333333333, 1.2448075748320098, 1.0656779661016949, 1.029677344023664, 1.0, 1.6233798663464054, 1.1389684813753582, 1.0411522633744856, 1.0835766423357664, 1.249374478732277, 1.2124318224562722, 1.0300545441143951, 1.0417163289630513, 1.2, 2.296875, 1.0, 3.0, 1.0, 1.1231995884773662, 1.2777777777777777, 1.0339809366337596, 1.5, 1.2270033368195628, 1.9189189189189189, 1.1261425959780622, 1.0314830157415078, 1.0672413793103448, 1.1181601442111997, 1.2340425531914894, 1.0067914100372357, 1.0205183585313176, 1.0161097961505294, 1.0, 1.4091816367265468, 1.2584133494919363, 1.1464766429136974, 1.25, 1.3385484742764484, 1.0906148867313916, 2.4285714285714284, 1.0, 1.0, 1.048147414305528, 1.3130634014423077, 1.2937116564417177, 1.0, 1.0148480662983426, 1.3152099533437014, 1.2548535333123774, 1.1397835441387403, 1.1059907834101383, 1.1318681318681318, 1.1065002355157796, 1.2433628318584071, 1.547085201793722, 1.2491506564794896, 1.0175665406146774, 1.0, 1.208081916255257, 1.25, 1.0874415045471937, 1.1367819915724107, 1.1979166666666667, 1.1379310344827587, 2.0, 1.4493670886075949, 2.255, 1.0073473150495507, 1.3081761006289307, 1.0490578826964563, 1.2319981880586093, 1.2064597846738443, 1.036345776031434, 1.0270866141732284, 2.0259067357512954, 1.1756756756756757, 1.0, 23.285714285714285, 1.0396145610278373, 1.0213028419604309, 1.1546811397557666, 1.1948453039689688, 1.1189759036144578, 1.0074430823117337, 1.0, 1.011189631527049, 1.1025730180806677, 1.0541198284853401, 1.2043795620437956, 1.6229508196721312, 1.1854882705946537, 1.56, 1.1269177126917713, 1.1300643607908505, 1.1120334358855286, 1.1002949852507375, 1.418960244648318, 1.1316848763657275, 1.3988998899889988, 1.75, 1.0075934579439252, 1.0926517571884984, 1.0952059419311275, 1.0196413411819183, 1.6053475935828878, 1.1311688311688313, 1.7916666666666667, 2.458583613647285, 1.1794258373205742, 4.8, 1.009768903384909, 1.167883211678832, 1.8, 1.089450032099294, 1.2352941176470589, 1.06029260689362, 6.0, 1.0593824228028503, 1.1407185628742516, 1.2137263933671119, 1.0034965788481225, 1.009657594381036, 1.242848539596507, 1.078307261054345, 1.0, 1.0376479272878267, 1.7393292682926829, 1.3416149068322982, 1.0, 1.0480678814444058, 1.242809364548495, 1.1596496185363097, 1.1706636921360847, 2.142857142857143, 1.697674418604651, 2.5, 1.4076086956521738, 1.0136037554406645, 1.7962962962962963, 1.7502688493248895, 2.0, 1.1111111111111112, 1.0190595326093137, 1.1280737704918034, 1.0723672285662498, 1.0833333333333333, 1.5353535353535352, 1.0455871626549964, 1.0987893462469733, 1.1818181818181819, 1.9382716049382716, 1.2272727272727273, 1.4375182226368886, 1.407079646017699, 1.0909090909090908, 1.0581297388374051, 1.1155740810913224, 1.1686746987951808, 1.030108950044387, 1.0314124229600385, 1.5, 1.2, 1.057684384013185, 2.293103448275862, 1.525179856115108, 1.35426731078905, 1.0823730747290359, 1.0573951434878588, 1.049645390070922, 1.3618677042801557, 1.7038227334235454, 1.050995024875622, 1.0341898289554061, 2.0, 1.0309399338525551, 1.1784232365145229, 3.0, 1.1732522796352585, 1.1233624454148472, 1.0142302716688227, 1.5277777777777777, 1.3333333333333333, 1.0281130015953346, 1.0515297906602254, 1.3004380926728407, 1.00729488051038, 1.3489583333333333, 1.1587947882736156, 1.0621963070942664, 1.1981505944517834, 1.1563786008230452, 1.16119475313061, 1.04188033484513, 1.0215605749486654, 1.0272758629838945, 1.5259631490787269, 1.0535130270638073, 1.1111111111111112, 1.162962962962963, 1.2385674931129476, 1.1247188781584865, 7.909090909090909, 1.0274741506646972, 1.0902255639097744, 1.2493289591410677, 1.0009000900090008, 1.6666666666666667, 1.0014925698823838, 1.0145679012345679, 1.048254501244717, 5.0, 1.1028686278092454, 1.0036773116442523, 1.5, 1.0270513976555455, 1.567391304347826, 1.3403805496828753, 1.111816484395839, 1.014819167592482, 1.0522388059701493, 1.2759301014656144, 1.074487895716946, 1.2452123632966643, 1.1258470474346562, 1.7241379310344827, 1.0083545312452113, 1.0053763440860215, 1.1110217575838806, 4.0, 1.496049896049896, 1.0071876249524276, 2.40625, 1.3407960199004976, 1.6684141546526867, 1.0818342151675484, 1.0808791208791209, 1.905027932960894, 1.0542646273500293, 1.5, 1.1428571428571428, 1.1639450492483152, 1.1046831955922864, 2.0, 1.2775454735521639, 1.0566223460641488, 1.4788732394366197, 1.3297872340425532, 1.930232558139535, 1.1570566401269373, 2.0, 1.7333333333333334, 2.38659793814433, 1.4688744458637013, 1.4705882352941178, 1.1909600560616678, 1.2044534412955465, 1.0156823057227873, 1.8, 1.1682477009826802, 1.619047619047619, 1.2103559870550162, 1.0212765957446808, 1.0120528771384136, 1.150772025431426, 1.7303370786516854, 2.176271186440678, 1.3298314729700154, 1.1290322580645162, 1.006276150627615, 1.3258617511520738, 1.0499168053244592, 1.00003850152081, 1.1987374633472163, 1.1033381712626995, 1.6666666666666667, 1.1880252100840336, 1.2972972972972974, 1.3682170542635659, 2.1569093918080267, 1.1845474613686535, 1.4444444444444444, 1.1272971184945604, 1.2228506787330318, 1.0909090909090908, 1.2993197278911566, 2.9365079365079363, 1.0142089093701996, 1.0832408435072143, 1.1473214285714286, 1.269155206286837, 1.1367924528301887, 1.2150989266217345, 1.2, 1.215607803901951, 1.625, 1.3335777126099706, 1.210904646888442, 1.1705983440087486, 1.1237958397283088, 1.9090909090909092, 1.1302149178255374, 1.0, 1.1144146535704804, 3.2, 1.0934659160147207, 1.125, 1.5, 1.2592078468400545, 1.103936090538404, 1.228882833787466, 1.0095238095238095, 1.1164725457570714, 8.5, 1.0, 1.0157384506041223, 1.0560891734851179, 1.3285799718073215, 1.0147080517719282, 1.2105263157894737, 1.0610139310778255, 1.0291666666666666, 1.3565217391304347, 1.1549295774647887, 1.1282488767559575, 2.0510204081632653, 2.5, 2.0, 1.2433862433862435, 1.0952221627408993, 1.3543228385807096, 4.5, 1.5714285714285714, 1.1724137931034482, 1.0178064516129033, 1.0774487471526195, 2.4641509433962265, 1.5517241379310345, 1.2410243346919203, 1.0315533980582525, 1.0430379746835443, 1.1568627450980393, 1.0593586717237355, 1.0, 1.050895404900128, 1.1376518218623481, 1.001353650990099, 1.0082279609390505, 1.0199247558640172, 1.2022058823529411, 1.103448275862069, 1.0649926144756279, 1.231600617601647, 1.31186361705335, 1.0076769025367156, 2.3333333333333335, 1.05, 1.372944461681663, 1.0909090909090908, 1.0383272398636159, 1.75, 1.0332718421940261, 1.0657620041753653, 2.5, 1.1428571428571428, 1.0315594059405941, 1.024390243902439, 1.016551724137931, 1.26883425852498, 1.0799224054316199, 1.1914177534707615, 1.028205128205128, 3.15, 1.6891747052518757, 1.4845360824742269, 1.0304878048780488, 1.0, 1.682119368123425, 1.2456367162249515, 1.8571428571428572, 1.0225052746737517, 1.1806368882239795, 1.1145443196004994, 1.2244434037737322, 1.0, 1.2025045750521344, 1.142051927804761, 1.5615887650085762, 1.0174618220696268, 1.2636636319787773, 1.3125, 1.2769383016785294, 1.1335344553826612, 1.6, 1.2804232804232805, 1.0112358437286355, 2.9272727272727272, 1.000743938130508, 1.0914948453608246, 1.6749688667496887, 1.0726172801205487, 1.3333333333333333, 1.1818181818181819, 1.116564417177914, 1.0338676318510858, 1.8275862068965518, 1.0080652388206828, 1.0666666666666667, 1.4195402298850575, 1.1584582441113491, 1.9047619047619047, 1.353327118256495, 1.1875, 1.0182799416725545, 1.0017029158699808, 1.0, 1.037229301032982, 1.1779828609096903, 2.1538461538461537, 1.0809371178715679, 1.3493303571428572, 1.0199951049769616, 1.0875, 1.0319817767653758, 1.0878245036361853, 1.2098188194038575, 1.251131221719457, 1.0178429333684822, 1.0387320112081395, 1.7341328759027288, 1.2457850206456953, 2.0, 1.5, 1.10348084825013, 2.1209657551120964, 1.1032616287190948, 1.8333333333333333, 1.109062980030722, 2.0, 1.1111111111111112, 2.2857142857142856, 1.4545488595078466, 1.2177033492822966, 1.0862812769628991, 2.444647696476965, 1.2972972972972974, 1.4285714285714286, 1.0, 1.0860585197934596, 2.3076923076923075, 1.2259786476868328, 3.0, 1.2857142857142858, 1.0, 1.0, 1.7326007326007327, 1.0000562258931482, 1.2289156626506024, 1.0, 1.2232845894263218, 1.0397516332012593, 2.1438504997827033, 1.02020202020202, 1.3260135135135136, 4.0, 1.198821796759941, 1.254355400696864, 2.667458432304038, 1.0042657198357752, 1.0509996684589105, 1.037593984962406, 1.0683076923076924, 1.7289719626168225, 1.0142309354072154, 1.0472533333333334, 1.0255278390871612, 2.50407036586507, 1.0098126672613739, 1.296732026143791, 1.6470588235294117, 1.0250658241179569, 1.003690036900369, 1.0656165847981705, 1.548780487804878, 1.6666666666666667, 1.0104235387254255, 1.126413823801317, 1.010270472941678, 1.25, 1.1625183016105418, 1.1479350729402096, 1.010470413876386, 1.6491228070175439, 1.0, 1.0342726580350343, 1.1906043676993399, 1.0517255751917305, 1.0119627842924162, 1.0476190476190477, 1.1011049723756907, 1.0134730786397976, 1.036818851251841, 1.4545454545454546, 1.1630434782608696, 1.25, 1.0, 1.505813953488372, 1.1959247648902822, 1.156126613726099, 1.161973384309977, 1.0498126515318493, 1.0308351177730193, 1.287292817679558, 1.5190217391304348, 1.3214285714285714, 1.4285714285714286, 1.1200889140954455, 1.228985357805733, 1.0248696383515559, 1.0564636192901145, 1.053491598581779, 1.9, 1.0447431528461442, 1.040090771558245, 1.0034110289937463, 1.25, 1.031929347826087, 1.4, 1.4951456310679612, 1.041827311037389, 1.4281524926686218, 1.0993006993006993, 1.0526883504812479, 1.088152596500972, 1.25, 1.0209516644724468, 1.1792641205521759, 1.3103448275862069, 1.0176600441501105, 1.385646687697161, 1.1184566232489555, 1.2014814814814814, 1.359809929150749, 1.5894941634241244, 1.1833489242282507, 1.007142284729735, 1.0476190476190477, 1.2857142857142858, 1.9889867841409692, 1.0133214037180633, 2.1147540983606556, 1.037698799000929, 1.66, 1.5, 1.1111111111111112, 2.6666666666666665, 1.1765253842571028, 1.0807828255585945, 1.4132231404958677, 1.443476488868511, 1.7128712871287128, 1.017250953244734, 1.1082047421904404, 1.2857142857142858, 1.0678987545198875, 1.2225237449118047, 1.0175652715636858, 1.0070422535211268, 1.230813378822179, 1.4170212765957446, 1.146153846153846, 1.0547297297297298, 1.0149383264427512, 1.3245421245421245, 1.2727272727272727, 1.1110295467058176, 1.045113886847906, 1.3142426892062566, 1.1406904191714318, 1.1791666666666667, 1.236462093862816, 1.3730407523510972, 1.6603773584905661, 2.088235294117647, 1.6666666666666667, 1.0478927203065134, 1.1066381156316916, 1.0, 1.0102498398462525, 1.016753982523905, 1.0593058843910608, 1.4536585365853658, 1.1071428571428572, 1.0, 1.032, 1.6794871794871795, 1.1207809397749835, 1.0, 1.1648653909628714, 1.1819984139571769, 1.028295376121463, 1.2777173913043478, 2.263157894736842, 1.0878025628856194, 1.1515151515151516, 2.266409583196587, 1.5086066904839233, 1.2487920555732959, 1.0460574631675186, 1.6153846153846154, 1.0442523643471284, 2.870967741935484, 1.0213569444928596, 1.0768409818569904, 1.0742287172349803, 1.0868770341949712, 1.5, 1.1013215859030836, 1.449468085106383, 1.1428571428571428, 1.3564217726317525, 1.2620689655172415, 1.0157089989145578, 1.0145425220926716, 1.4324324324324325, 1.256872037914692, 1.5, 1.0055446836268753, 1.0565081913937795, 1.2822966507177034, 1.3930589184826474, 1.099526066350711, 1.07048156784152, 1.125158027812895, 1.656441717791411, 1.150105708245243, 1.2497137020644402, 1.40625, 1.8, 1.2135416666666667, 1.4193548387096775, 2.0271177685950414, 1.011225444340505, 1.2222819569083165, 1.3888888888888888, 2.3705583756345177, 1.4791666666666667, 1.0774610977571344, 1.0, 1.1629746835443038, 2.1666666666666665, 1.0121213207400637, 1.1159420289855073, 1.1086327260343947, 1.0051550082336937, 1.0003594876973505, 2.3, 1.0243867957870927, 3.0, 1.2088835534213684, 1.3888888888888888, 1.2801358234295417, 1.3281393217231898, 1.8995386218187231, 15.0, 1.006448023736357, 1.0960780283637586, 1.1435643564356435, 1.0436681222707425, 1.5454545454545454, 1.035409708737864, 1.010204081632653, 1.1455399061032865, 1.4316939890710383, 1.2438513867085295, 1.0794926466568258, 1.06807059378076, 1.0648379052369077]
origin-bjaq_15.71 	max: 23.2857	99th: 4.2030	95th: 2.3714	median: 1.1586	mean: 1.3936

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 11.894061 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[7.4476004e-04 5.9604645e-08 0.0000000e+00 2.9802322e-07 5.3644180e-07]
Distance score: 0.00014913082122802734
SAUCE Drift detection: True
Detection latency: 0.0350s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.6279 bits (loss 19.152, data 18.524) 0.00300 lr
epoch 10 train loss 12.4994 nats / 18.0329 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.5141 bits (loss 18.010, data 18.524) 0.00256 lr
epoch 20 train loss 12.2134 nats / 17.6202 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.9319 bits (loss 17.592, data 18.524) 0.00150 lr
epoch 30 train loss 12.0854 nats / 17.4355 bits
time since start: 12.7 secs
Epoch 30 Iter 0, train entropy gap -1.1482 bits (loss 17.376, data 18.524) 0.00044 lr
epoch 40 train loss 12.0749 nats / 17.4204 bits
time since start: 16.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.9597 nats / 31.6811 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.080397 | Model-update-time: 19.345880


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 19.7241	99th: 4.7665	95th: 2.3333	median: 1.1559	mean: 1.3934
ReportEsts: [1.0523560209424083, 1.0816326530612246, 1.0369192506064868, 1.462686567164179, 1.0986842105263157, 2.0, 1.9493975903614458, 2.1491315136476428, 1.1217288228321327, 1.148421052631579, 1.0577595417149936, 1.0288841514143094, 2.0, 1.0288392213410238, 1.3660616033321336, 1.2531446540880504, 1.0380032867707478, 1.4694485842026825, 1.4108322324966975, 1.054574008637613, 1.033566656061088, 1.000197957987224, 1.0374201045903544, 1.260431654676259, 1.0756141813367333, 1.3636363636363635, 1.0364583333333333, 1.1428571428571428, 1.793103448275862, 1.1323529411764706, 1.1207729468599035, 1.061652281134402, 1.2527198549410699, 1.0064226075786769, 2.3846153846153846, 6.0, 1.3703703703703705, 1.425, 1.0341555977229602, 1.080370942812983, 1.2238636363636364, 1.7115384615384615, 1.232168857696538, 1.58008658008658, 1.0094993399201448, 1.0861538461538462, 1.0245275669550642, 1.061042845831256, 1.5164835164835164, 1.031390134529148, 2.3712660028449504, 1.7169811320754718, 1.36587762119677, 1.0, 2.3333333333333335, 1.0770128033211483, 1.2317073170731707, 1.251085395180684, 1.0065019505851756, 1.050592885375494, 1.6153846153846154, 1.156848440634689, 1.4, 1.2169491525423728, 1.4477611940298507, 1.046871332676149, 1.19197194742994, 1.2013574660633484, 1.002239499704217, 2.5, 1.0, 1.0864596157866617, 1.3042242079610074, 1.0, 1.2712219660448543, 1.1295938104448742, 1.0322066405958104, 1.144215530903328, 1.017890661661192, 2.0, 1.0, 1.031805508775869, 2.1578947368421053, 1.8647798742138364, 1.026563592252971, 1.7109375, 1.5, 1.3231497418244407, 1.2464115147289065, 1.0214545820677619, 1.40625, 1.1267605633802817, 1.1651245551601424, 1.4212337084109123, 1.1813435433344937, 1.014010388190268, 1.25, 1.2565432772945353, 1.1666666666666667, 1.0216450216450217, 1.2346559206447614, 1.4336283185840708, 1.0132478632478632, 1.4731914893617022, 1.0810810810810811, 2.4114583333333335, 1.0413922859830669, 1.0021231422505308, 1.0664513151822796, 1.0137550244197606, 1.2, 1.0964285714285715, 1.1427088738972495, 1.1705215419501134, 1.043859649122807, 1.0302571860816945, 1.3026819923371646, 1.0423761374178857, 1.155786350148368, 1.0220638864772624, 1.4123645634161885, 1.1074907030281564, 1.0, 2.153030303030303, 1.125, 1.2083333333333333, 1.845993031358885, 1.7142857142857142, 1.140442132639792, 1.3333333333333333, 1.136, 1.0080998225138493, 1.155925862948478, 1.1374269005847952, 1.2348284960422165, 4.764705882352941, 1.0747308423052564, 1.5885036496350364, 1.2352941176470589, 1.8333333333333333, 1.2108813928182807, 1.0547545582047686, 1.25, 1.083743842364532, 1.1008136381247577, 1.045915136162128, 1.6333333333333333, 1.1501855127623841, 1.1079295154185023, 1.0550160102296384, 3.1052631578947367, 1.2349726775956285, 3.0, 1.767919447815534, 1.067036473062142, 1.4587386256667711, 1.0075093867334168, 1.006015012328255, 1.0429447852760736, 1.2138517618469016, 1.033084311632871, 1.032258064516129, 1.0123655529321982, 1.5, 1.0778773259820813, 1.0511363636363635, 1.1309255079006773, 1.161936857041504, 1.011161337128188, 1.066029900332226, 1.76875, 1.48, 1.5, 1.2309888742721367, 1.055447515433939, 1.3823529411764706, 1.053868623055499, 1.0010063737001007, 1.2016541284543665, 1.0686162516183078, 1.2536231884057971, 1.0287204584970056, 1.042997754209514, 1.125, 1.3333333333333333, 2.3333333333333335, 3.3548387096774195, 1.0482315112540193, 1.1907946498819826, 4.0, 1.019543973941368, 1.0374904361132364, 1.2964824120603016, 1.1061946120356252, 1.0709961950882048, 1.0393888082567329, 1.8571428571428572, 1.1585820895522387, 1.1750509857239972, 1.2857142857142858, 1.0551181102362204, 1.0612244897959184, 1.2099927588703838, 1.0164358626597187, 1.3621794871794872, 1.307116104868914, 1.4514285714285715, 1.0100950118764846, 1.2183546753789698, 1.0203326873385012, 1.555043227665706, 1.0, 1.1811145510835914, 3.3333333333333335, 3.0, 1.5, 1.039407366380504, 1.0247247313245862, 1.0604971689972695, 1.2755905511811023, 1.0, 3.0, 1.0295948789898282, 4.0, 1.0046579108124618, 1.2953586497890295, 1.1388888888888888, 1.471415182755389, 1.0, 2.1274944567627494, 1.0479041916167664, 1.1005331302361006, 1.0196556169831523, 1.3333333333333333, 1.436950146627566, 1.3333333333333333, 1.1047225994339098, 1.8767123287671232, 1.3238537434706907, 1.062728497209929, 1.4705882352941178, 1.5, 1.0169634550057338, 1.0, 2.127023764931119, 2.022280874048613, 1.3333333333333333, 1.338012958963283, 1.6829268292682926, 12.2, 1.282248281439547, 1.1176978417266188, 1.2912621359223302, 5.0, 1.4696969696969697, 1.0056061851245033, 3.2222222222222223, 1.9189189189189189, 2.1416559025403337, 1.0188679245283019, 1.2511373976342128, 4.943396226415095, 1.1147058823529412, 1.1962316176470589, 1.3866171003717471, 1.375, 1.0081344809221942, 1.0564971751412429, 1.453190062538014, 1.3232323232323233, 2.139442231075697, 1.0646452774053736, 1.1222410865874364, 1.0929757343550448, 1.148936170212766, 1.0, 1.0418648905803995, 1.0004543761638733, 1.289980732177264, 1.0380080943163823, 1.0514206605577163, 1.0, 1.1111111111111112, 2.0, 1.9997049494725971, 1.154367469879518, 1.089398471252908, 1.29403183592912, 1.0209781166632341, 1.1039494470774092, 1.621212121212121, 1.4605911330049262, 1.473953013278856, 1.75, 1.0433663495373386, 1.3762781186094069, 1.4565282342396175, 1.0416666666666667, 1.118421052631579, 1.2708333333333333, 1.0, 6.0, 1.2349700826289296, 1.7, 2.142857142857143, 1.0699613585519625, 1.825136612021858, 1.0408163265306123, 1.204994019138756, 1.0735485975212002, 1.0, 1.0435419588673953, 1.017883860108472, 1.1238643246517261, 1.452001301659616, 1.0017993702204229, 1.9452054794520548, 1.0326900370342011, 1.2690850027070926, 1.0, 1.1118957088538837, 1.4, 1.2958801498127341, 1.6666666666666667, 1.2870690952882733, 1.5105105105105106, 1.4336852821885417, 1.0079575596816976, 1.1102811354067637, 1.16, 2.0, 1.3541666666666667, 1.0219321488671333, 1.1422189128816083, 1.01700529281202, 1.1344221105527639, 1.9230769230769231, 1.7294117647058824, 1.0, 3.0, 2.25, 1.0431795878312071, 1.1239024390243904, 1.018666025773078, 2.0, 1.1961450696703404, 1.0169491525423728, 1.0076219512195121, 1.158642462509866, 1.1472868217054264, 1.348646373965493, 1.0116279069767442, 1.1344878816772734, 1.1751937984496124, 1.0125820587759429, 3.0, 1.434959349593496, 1.1561136343396563, 1.12905604719764, 1.6666666666666667, 1.3599979488757274, 1.6346153846153846, 1.2142857142857142, 2.0, 2.4, 1.1358024691358024, 1.3521698770016246, 1.0864393338620142, 2.0, 1.0102722974074678, 1.361321271047294, 1.2564709761544341, 1.1355868778844955, 1.0756101723843658, 1.4481605351170568, 1.1402081109925293, 1.0866425992779782, 1.350943396226415, 1.129575002731345, 1.0369322519771245, 1.2, 1.2852835327302792, 3.0, 1.0539733829892108, 1.0131910558206874, 1.0148367952522255, 1.0303030303030303, 1.0, 1.0131004366812226, 1.1153846153846154, 1.0004619933472958, 1.0923361034164358, 1.0087416008872072, 1.2087072457822676, 1.096774193548387, 1.0598970519419748, 1.1399214264128135, 1.5778688524590163, 1.0, 1.0, 10.571428571428571, 1.1097826086956522, 1.0028994584983433, 1.1524983776768332, 1.3029950683613327, 1.4018867924528302, 1.041155866900175, 1.0, 1.0182208422090147, 1.32542845755281, 1.0865118517627241, 1.2919708029197081, 1.064516129032258, 1.2107301119873146, 1.5555555555555556, 1.1232434485377896, 1.1093305763763246, 1.0272551032044703, 1.0736607142857142, 1.06875, 1.2377358490566037, 1.4666666666666666, 1.3333333333333333, 1.054126213592233, 1.3723076923076922, 1.2281675921251893, 1.005284839012823, 1.1654749744637385, 1.5465313028764804, 1.2647058823529411, 2.0726455878613206, 1.0182440136830102, 5.428571428571429, 1.0144786318697814, 1.1319444444444444, 1.5, 1.106891441274546, 1.2857142857142858, 1.0084092725819345, 2.0, 1.0911016949152543, 1.0341880341880343, 1.0533381712626995, 1.0033322396751836, 2.060931899641577, 1.1704239330781228, 1.1161549981280419, 1.0, 1.0218325218655682, 1.4362637362637363, 1.150197628458498, 1.0, 1.0487418851064128, 1.1785089489974432, 1.1480523113504442, 1.1014957264957266, 2.25, 1.140625, 2.3846153846153846, 1.1016260162601625, 1.0201758842332123, 1.255813953488372, 1.4275741710296683, 1.6, 1.3333333333333333, 1.0260072619099698, 1.717628705148206, 1.0157321146071365, 1.1666666666666667, 1.125, 1.1063583815028901, 1.0776006711409396, 1.4166666666666667, 1.8470588235294119, 1.1851851851851851, 1.3886103757111474, 1.2645502645502646, 1.0833333333333333, 1.0821847668209699, 1.0840789781301141, 1.1802853437094682, 1.0102607108502084, 1.063383237722121, 3.0, 1.2142857142857142, 1.055912294440094, 2.2550335570469797, 1.1538461538461537, 1.079171741778319, 1.0049635332252835, 1.1645885286783042, 1.5754189944134078, 1.4732865623313545, 1.4822980931015144, 1.3948832035595107, 1.0434484987925692, 1.0, 1.0453395917211241, 1.1869782971619365, 1.5, 1.103542234332425, 1.3013555787278415, 1.0331632653061225, 1.0285714285714285, 1.1875, 1.005355858326152, 1.1154163231657048, 1.2562737155346095, 1.0430163447251115, 1.138996138996139, 1.2553348050036792, 1.1348412353197042, 1.519496855345912, 1.2806324110671936, 1.248791869995736, 1.0390616441571856, 2.132448651846843, 1.2308071135430916, 1.154424040066778, 1.0656041310339568, 1.0727865520599569, 1.5473441108545034, 1.0428030165474331, 19.724137931034484, 1.0217391304347827, 1.0119922182592986, 1.1696165191740413, 1.2617830695513286, 1.0208554676740251, 1.2666666666666666, 1.0241203762739464, 1.1601208459214503, 1.0323302010229571, 1.1954713816479139, 1.6666666666666667, 1.248138957816377, 1.0, 1.03776772846991, 1.020893004621413, 1.1111111111111112, 1.3462276537723463, 1.1756357962167046, 1.009788851788383, 3.0, 1.1560921627603429, 1.3161634103019537, 1.249738827208081, 1.057895482728078, 1.0, 1.0106431583880038, 1.5925925925925926, 1.0690408962564897, 4.0, 1.2962447844228095, 1.0165321458391317, 2.227272727272727, 1.0630797773654916, 1.1417040358744395, 1.0901084010840107, 1.1502916105877075, 2.3184357541899443, 1.0620626029654037, 1.0, 1.25, 1.0911832946635731, 1.3161189358372456, 2.0, 1.0425489412704754, 1.0565716593584122, 1.746031746031746, 1.709090909090909, 1.6116504854368932, 1.3248548162086753, 2.0, 3.25, 1.5536912751677852, 1.4366736766599828, 1.2352941176470589, 1.1397921555481059, 1.1164274322169059, 1.0589743814166805, 2.161849710982659, 1.1670705820430214, 1.25, 1.1414454277286135, 1.1293143120110447, 1.0495319812792512, 1.0323795180722892, 1.1125, 1.312883435582822, 1.2923851397800183, 1.864516129032258, 1.1238938053097345, 1.2850251902669096, 1.0689766839378239, 1.0393342317077612, 1.169352323526354, 1.2077250608272505, 1.2380952380952381, 1.3775883069427528, 1.2682926829268293, 1.3171641791044777, 1.9033302381609658, 1.2559422750424447, 1.6071428571428572, 1.0132023771396035, 1.1964285714285714, 1.5454545454545454, 1.311764705882353, 1.9142857142857144, 1.4011340771904153, 1.1627906976744187, 1.0817120622568093, 1.1436865021770681, 1.127659574468085, 1.1346020897939835, 2.0, 1.0266018968309045, 1.625, 1.1044323011536126, 1.2567388069390486, 1.1689547581903277, 1.0363586492746557, 1.5438066465256797, 1.044055522027761, 1.0, 1.0580010607010268, 1.0, 1.1170421155729677, 1.3333333333333333, 1.0, 1.220432163686777, 1.1699960312210609, 1.6165254237288136, 1.2735849056603774, 1.0923295454545454, 2.4285714285714284, 1.0, 1.0099363638338075, 1.1253000884471211, 1.288105999004053, 1.016250623693948, 1.5714285714285714, 1.040321057601511, 1.6153846153846154, 1.1474358974358974, 1.54337899543379, 1.1603883949461862, 1.0, 6.0, 2.0, 1.7016129032258065, 1.0164237945509393, 1.2212708427219467, 4.0, 1.9333333333333333, 1.0073529411764706, 1.0009849790691947, 1.0729707112970712, 1.1355685131195334, 1.267605633802817, 1.2131745473721216, 1.5427251732101617, 1.1227457824316462, 1.0728813559322035, 1.0004568991775815, 1.1818181818181819, 1.040882734323392, 1.410569105691057, 2.5, 1.0096957966079556, 1.0013655701255275, 1.2222222222222223, 1.2341916918763374, 1.0619469026548674, 1.162471395881007, 1.0817469204927213, 1.2926829268292683, 1.75, 1.0952380952380953, 1.3857285429141717, 1.7058823529411764, 1.0184987771994733, 1.0, 1.014337672662228, 1.3157398680490104, 1.25, 1.625, 1.0984455958549222, 1.2380952380952381, 1.0426666666666666, 1.0650277557494052, 3.1076923076923078, 1.3946731234866827, 1.0382443142930289, 1.375, 1.3333333333333333, 1.0675600223338917, 2.0, 1.0352977967081252, 1.0192711244696546, 1.0002835270768358, 1.2831257078142695, 1.1875, 1.0103077382730803, 1.3030412630519561, 1.0999107939339876, 1.2551555155515552, 1.0, 1.2862003823743626, 1.2435361713241055, 1.378936226514951, 1.0155744884565712, 1.2614390394366621, 1.0909090909090908, 1.3707456588355464, 1.0838106285797144, 2.2, 1.3904382470119523, 1.042067966761807, 2.174193548387097, 1.0730815262422269, 1.474325500435161, 1.121768140116764, 1.1501206757843927, 1.3333333333333333, 1.121212121212121, 1.481818181818182, 1.1911589008363201, 1.1538461538461537, 1.0061973757319314, 1.037037037037037, 1.0940170940170941, 1.3266129032258065, 2.1578947368421053, 1.3416443210863873, 1.180281690140845, 1.0304122803929163, 1.0298976952022578, 1.0, 1.061796858416472, 1.0825214899713467, 1.8461538461538463, 1.0437713684579644, 1.134864546525324, 1.00350891183859, 1.1275862068965516, 1.0213114283252434, 1.0708634927107759, 1.169663439372983, 1.1416234887737478, 1.0192095189694, 1.0440153742387912, 1.587378414855494, 1.2575765655272935, 1.0, 1.0, 1.0493821586068843, 1.9907766094816455, 1.0137067076087802, 1.375, 1.4865900383141764, 2.0, 1.25, 1.565217391304348, 1.2059435456323946, 1.198888888888889, 1.0445912469033856, 2.126250060978584, 2.0, 1.125, 1.0, 1.2544731610337971, 2.0625, 1.1016949152542372, 1.0, 1.0, 1.8, 1.125, 1.1261904761904762, 1.0306190882411328, 1.0691964285714286, 1.0, 1.0285212812637121, 1.0050072565758608, 2.215087561742254, 1.055045871559633, 1.0943396226415094, 2.5, 1.3105022831050228, 1.0354223433242506, 2.296523517382413, 1.0238820095124437, 1.0470292821364582, 1.083916083916084, 1.084776119402985, 1.39568345323741, 1.031708336924221, 1.0206073189722293, 1.0329446223755168, 2.0145770770770772, 1.0459965928449744, 1.1723790322580645, 1.1111111111111112, 1.0705493360168197, 1.0184534270650263, 1.0527404343329887, 1.0718954248366013, 1.3333333333333333, 1.040644709180098, 1.2871287128712872, 3.0, 1.027044081853421, 1.1386861313868613, 1.1805712301415054, 1.2181208053691275, 1.0035137368116163, 1.1090425531914894, 1.0, 1.2308771929824562, 1.0956176188243698, 1.0044180862919918, 1.0237330260689692, 1.5862068965517242, 1.0396452790818989, 1.0086899662283912, 1.3564547206165702, 1.0555555555555556, 1.4125, 1.3333333333333333, 1.0, 1.1877729257641922, 1.131281407035176, 1.1602025945235848, 1.133355795148248, 1.0250579069277743, 1.030513176144244, 1.3349282296650717, 1.422705314009662, 1.5172413793103448, 2.6666666666666665, 1.1242645618874896, 1.204067200743532, 1.0648615363563279, 1.0457601226108548, 1.0689029918404351, 1.1578947368421053, 1.105619768832204, 1.1949013157894737, 1.0058788595012567, 1.3209876543209877, 1.023437715546972, 1.2285233015160022, 1.588235294117647, 1.1892744479495267, 1.2270992366412214, 1.0072332730560578, 1.094243268337976, 2.098360655737705, 1.0317716747442112, 1.0014214641080312, 1.0952380952380953, 4.0, 1.3720097861544038, 3.8333333333333335, 1.1266359099896432, 1.0544554455445545, 1.3179884591178277, 1.812267657992565, 1.4149888143176734, 1.060836611064856, 1.138755980861244, 1.5714285714285714, 2.0111358574610243, 1.0212331312942113, 1.2463768115942029, 1.0225240496673307, 2.1297297297297297, 1.5625, 1.4285714285714286, 3.0, 1.085631947303417, 1.380639532347424, 1.7448979591836735, 1.3670951619802336, 2.0595238095238093, 1.0292175760795326, 1.0033892834086506, 1.4038461538461537, 1.0831295843520783, 1.37094682230869, 1.0332169238939761, 1.0363436123348018, 1.3096300317212601, 1.3505154639175259, 1.0692307692307692, 1.3181678450660927, 1.0128932741496688, 1.0112657388999338, 1.25, 1.013882315822685, 1.0985480383070745, 1.3767747188438249, 1.226529638137287, 1.0140663296115182, 1.0576642335766424, 1.0658174097664543, 1.524390243902439, 2.165289256198347, 1.25, 1.0623113410952998, 1.07304485907106, 1.0, 1.0474055092889174, 1.0692505747126437, 1.034808141855294, 1.5885167464114833, 1.15, 1.3333333333333333, 1.1374045801526718, 1.7534626038781163, 1.189690026954178, 1.0, 1.149456245155532, 1.050522061300101, 1.25, 1.0028120212843128, 1.0930232558139534, 1.1777869871529216, 1.2105263157894737, 1.8847882937149238, 1.5869490946361462, 1.2400673698218547, 1.036618720328775, 1.6153846153846154, 1.0595810884784926, 2.282608695652174, 1.0053378400990596, 1.0433822369458905, 1.3139509175326112, 1.100297557580069, 3.0, 1.223938223938224, 1.216931216931217, 1.0317919075144508, 1.3711679440186604, 1.1282051282051282, 1.0132152682675075, 1.0042021327089201, 2.409090909090909, 1.713347921225383, 1.0, 5.0, 3.0, 1.4265193370165745, 1.0662236987818383, 1.5933014354066986, 1.0238095238095237, 1.0166918178806728, 1.0561797752808988, 1.4207920792079207, 1.1670103092783506, 1.1638080448135772, 1.3076923076923077, 1.125, 2.0813551939769157, 1.4482758620689655, 1.7690327391520488, 1.045121210705778, 1.2243917258140242, 1.7857142857142858, 1.9278846153846154, 1.1951219512195121, 1.003379666539568, 1.0, 1.134238310708899, 2.92, 1.020308977131551, 1.167487684729064, 1.0122689350564371, 1.0168308277172975, 1.0245521026616562, 1.2777777777777777, 1.0015791032009738, 1.6805779262927616, 3.875, 2.2151898734177213, 1.3643659711075442, 1.1576542269611576, 1.5295200828633906, 1.2, 1.0061718402201627, 1.0524064171122995, 1.0267983074753173, 1.1064814814814814, 3.4375, 1.0107668067226891, 1.0288713910761156, 1.625, 1.7183462532299743]
origin-bjaq_15.71 	max: 19.7241	99th: 4.7665	95th: 2.3333	median: 1.1559	mean: 1.3934

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 11.951165 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[ 6.3312054e-04  1.1920929e-07 -5.9604645e-08  2.3841858e-07
  4.1723251e-07]
Distance score: 0.00012676716141868383
SAUCE Drift detection: True
Detection latency: 0.0361s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.6791 bits (loss 19.129, data 18.450) 0.00300 lr
epoch 10 train loss 12.4671 nats / 17.9863 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.5236 bits (loss 17.926, data 18.450) 0.00256 lr
epoch 20 train loss 12.1775 nats / 17.5683 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.8798 bits (loss 17.570, data 18.450) 0.00150 lr
epoch 30 train loss 12.0427 nats / 17.3740 bits
time since start: 12.9 secs
Epoch 30 Iter 0, train entropy gap -1.0764 bits (loss 17.373, data 18.450) 0.00044 lr
epoch 40 train loss 12.0306 nats / 17.3565 bits
time since start: 17.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.7879 nats / 31.4332 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.091341 | Model-update-time: 19.662039


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 21.6552	99th: 4.0091	95th: 2.3571	median: 1.1630	mean: 1.3932
ReportEsts: [1.1323529411764706, 1.346938775510204, 1.0051219051219051, 1.5730337078651686, 2.0, 2.0, 1.681912681912682, 1.7755666650487794, 1.1068754840375183, 1.010385005065856, 1.0463829501938375, 1.0384747932256795, 2.0, 1.0908251530761006, 1.2476525821596245, 1.5138888888888888, 1.0225366876310273, 2.0, 1.0421940928270041, 1.1328719723183391, 1.016487603305785, 1.0174336044741883, 1.1437338897753775, 1.1225626740947074, 1.0133885102239533, 1.3636363636363635, 1.2835341365461848, 1.1428571428571428, 1.5833333333333333, 1.8333333333333333, 1.3794579172610557, 1.0284785932721712, 1.1362296991708354, 1.1976815131177547, 2.4074074074074074, 8.0, 1.8035714285714286, 1.383495145631068, 1.1890909090909092, 1.0320121951219512, 1.2363332878293352, 2.2884615384615383, 1.256355483532369, 1.2, 1.0070446220548037, 1.2548262548262548, 1.0073575047677081, 1.0601997307001796, 1.2897196261682242, 1.024793388429752, 1.4661389621811785, 1.06, 1.268657142042376, 1.0, 1.6666666666666667, 1.0188110986313907, 1.4838709677419355, 1.2596853874154965, 1.0050394203526454, 1.7082262210796915, 1.1666666666666667, 1.1616205692803436, 1.4, 1.3548022598870058, 2.2783505154639174, 1.0345424307802948, 1.236486446522467, 1.1318681318681318, 1.019320809918462, 4.0, 1.0, 1.0184226997704986, 1.3203125, 1.1160136934195513, 1.3241573033707865, 1.064327485380117, 1.0401344169308133, 1.2110091743119267, 1.0134776844896156, 1.1428571428571428, 1.0, 1.001668796120049, 1.9119496855345912, 1.904710920770878, 1.1329334028864546, 1.8677685950413223, 2.5, 1.12240139887313, 1.1688587291795187, 1.0287582863201858, 1.59375, 1.207171314741036, 1.0899705014749264, 1.3353997109606754, 1.237782640408461, 1.1213703099510604, 1.5, 1.1983483371772934, 2.3333333333333335, 1.1029411764705883, 1.0202933985330074, 1.3461538461538463, 1.2361111111111112, 1.3925985518905872, 1.0614657210401892, 1.8588235294117648, 1.0511818100116832, 1.2102689486552567, 1.0832139018273022, 1.0770438560643538, 1.4615384615384615, 1.1455223880597014, 1.7917005695687551, 1.1644238856181666, 1.068859984697781, 1.12051649928264, 1.1486486486486487, 1.0623413890508004, 1.2990353697749195, 1.0326611997303976, 1.4333764553686934, 1.1405946933318267, 1.0, 1.8811764705882352, 1.0625, 1.1428571428571428, 1.8836842105263158, 1.8571428571428572, 1.1121883656509695, 1.3333333333333333, 1.1278195488721805, 1.0232536111768884, 1.2318724274508788, 1.3507462686567164, 1.0263157894736843, 4.909090909090909, 1.324733595064498, 1.6175462645647705, 1.6629213483146068, 2.0625, 1.2554151624548737, 1.007510021819658, 1.0, 1.0602782071097372, 1.1646901867773496, 1.0783775541323575, 1.0843373493975903, 1.1674064380743543, 1.277542372881356, 1.0025016964945863, 2.6818181818181817, 2.0083333333333333, 3.0, 1.5985400342801175, 1.0244789061197266, 1.3659292658869946, 1.0219907407407407, 1.0417996795205293, 1.319767441860465, 1.134313725490196, 1.0373027678128737, 1.096774193548387, 2.0, 2.0, 1.1077883667433455, 1.0, 1.203527815468114, 1.0610687022900764, 1.1333333333333333, 1.1932707355242567, 1.1559183673469389, 1.1268873155335666, 1.1225099601593624, 1.2062769547665684, 1.0344511014519238, 1.9615384615384615, 1.0747363877412592, 1.1997773182758071, 1.2115170116693206, 1.022054523683551, 1.2162162162162162, 1.1305846153846153, 1.0275045731166614, 1.0, 1.1428571428571428, 2.3333333333333335, 1.4444444444444444, 1.2450859950859952, 1.0583916083916083, 5.0, 1.2477341389728096, 1.2200165425971878, 1.3422982885085575, 1.0778723192516295, 1.1409770876727892, 1.0540175817396669, 1.2307692307692308, 1.114105504587156, 1.0451294869124488, 1.0321428571428573, 1.65625, 1.4594594594594594, 1.361864996520529, 1.02085751348399, 1.1116504854368932, 1.4663865546218486, 1.891500904159132, 1.0777839955232233, 1.245340951355971, 1.0080967983594524, 1.2116336633663367, 2.6, 1.851002865329513, 5.0, 2.0, 1.3333333333333333, 1.0409136679209285, 1.0747732741069775, 1.0624319727891156, 1.178082191780822, 1.0, 3.0, 1.080126050420168, 1.9285714285714286, 1.138828813841291, 1.6684782608695652, 1.208199871877002, 1.5939086294416243, 1.7647058823529411, 1.9001663893510816, 1.0955414012738853, 1.0644948996380388, 1.0518405351281046, 1.0833333333333333, 1.0084985835694051, 2.25, 1.084054388133498, 1.370503597122302, 1.0483803113167858, 1.3892382948986723, 1.04, 2.25, 1.0093056969780647, 1.0, 1.9146971357019877, 1.9046498754497647, 1.2592592592592593, 1.2765737874097007, 1.1451612903225807, 7.0, 1.2321909896033885, 1.2686608122941823, 1.1195652173913044, 3.3333333333333335, 1.0606060606060606, 1.0012065191921307, 2.9743589743589745, 1.082191780821918, 1.8684843165687248, 1.0833333333333333, 1.182892906815021, 3.1566265060240966, 1.152061855670103, 1.4942594718714122, 1.368421052631579, 1.2222222222222223, 1.0091432608499207, 1.0644291279592448, 1.3907283423256318, 1.6519607843137254, 1.165289256198347, 1.007569379096297, 1.0152561888313183, 1.1291963377416072, 1.0092592592592593, 1.0, 1.0649588289112535, 1.0127466958941547, 1.3188073394495412, 1.0780225323692618, 1.1153742231829236, 1.0333333333333334, 1.1111111111111112, 2.0, 1.8512561699295658, 1.0611263736263736, 1.1750873848109311, 1.2591587516960652, 1.0057586058401518, 1.6131117266851338, 2.814814814814815, 1.1042830540037243, 1.4608938547486034, 1.25, 1.0352504038772212, 1.4951076320939334, 1.322213181448332, 1.08, 1.8936170212765957, 1.7073170731707317, 1.0, 8.0, 1.2197592938285038, 1.6, 1.7777777777777777, 1.3028324443627, 1.008695652173913, 1.3058823529411765, 1.194102830048896, 1.0561723645157743, 1.0, 1.0120721271393642, 1.0628383812710427, 1.0, 1.572168027075453, 1.0524475524475525, 1.0021593524528691, 1.1979166666666667, 1.206493524520759, 1.0095945224533376, 1.1068947087119188, 1.0495900555408622, 1.3076923076923077, 1.2972972972972974, 1.0044062159455254, 1.2105263157894737, 1.0023564559365898, 1.2716577540106953, 1.0150956852490194, 1.16, 3.0, 1.4081632653061225, 1.0004178854993733, 1.0302559531389277, 1.0110209439211446, 1.294725956566701, 1.5, 1.1153262518968134, 1.0, 3.0, 2.75, 1.1441631504922645, 1.1383333333333334, 1.043053825697647, 2.5, 1.0593423923042553, 1.034920634920635, 1.0733812949640287, 1.0867269984917043, 1.250467289719626, 1.2418625678119348, 1.0481927710843373, 1.0128075858666037, 1.3135979180221211, 1.016990562625366, 3.0, 1.0505952380952381, 1.0889570552147239, 1.0732356857523302, 1.6666666666666667, 1.2737775694292173, 1.6481481481481481, 1.1176470588235294, 2.0, 3.2, 1.1162692551171134, 1.2364363019028082, 1.2753824756606398, 1.0, 1.2763447310537892, 1.3210447388152962, 1.2454699872728803, 1.0781612155549833, 1.0020523345305286, 1.2513812154696133, 1.017173162724135, 1.1367781155015197, 1.15633423180593, 1.0417815915823885, 1.0192034471671618, 1.1111111111111112, 1.1701053750110688, 3.5, 1.0872170439414115, 1.0429895184566307, 1.208469055374593, 1.054054054054054, 1.0, 1.6741935483870967, 1.4904942965779469, 1.0013652855090114, 1.0039752650176679, 1.0281483123261144, 1.1942947862656015, 1.2198581560283688, 1.1094238499330058, 1.1154345006485085, 1.5733788395904438, 1.2580645161290323, 1.0, 7.0, 1.16, 1.0187515966122345, 1.0132408575031526, 1.269329167073528, 1.2081300813008131, 1.0516637478108581, 1.0, 1.017734217649549, 1.1405148384981145, 1.004162219850587, 1.1610169491525424, 1.2222222222222223, 1.189324826392266, 1.0, 1.124476034262803, 1.7200528202225995, 1.1964912280701754, 1.6083916083916083, 1.4402332361516035, 1.2896461336828309, 1.1798107255520505, 1.12, 1.0207294614382607, 1.059375, 1.1462897526501767, 1.007606172158588, 1.4345703125, 1.5799011532125207, 1.131578947368421, 1.8256620944773627, 1.2592592592592593, 3.3333333333333335, 1.0160414898908623, 1.144736842105263, 2.8946135831381734, 1.0217622950819671, 1.189111747851003, 1.072314117530994, 1.2, 1.0642398286937902, 1.5191815856777493, 1.1674774148714384, 1.0008631428207115, 2.7777777777777777, 1.3473151623959523, 1.1896448523543495, 1.0, 1.0016025303110174, 1.5545064377682403, 1.1273408239700375, 1.368421052631579, 1.0399545616092098, 1.0026771567502595, 1.2685263889962135, 1.0687482881402355, 3.0, 1.697674418604651, 2.6666666666666665, 1.221830985915493, 1.006672903965715, 2.076923076923077, 1.4144084600132187, 1.8461538461538463, 1.5555555555555556, 1.0454433957233509, 1.7644230769230769, 1.017630990812019, 1.3333333333333333, 1.2674418604651163, 1.1214953271028036, 1.0587986463620982, 1.3076923076923077, 3.019230769230769, 1.173913043478261, 1.3551756363036667, 1.6153846153846154, 1.1666666666666667, 1.0288182709037457, 1.0295109269640101, 1.2263906856403621, 1.024475977912921, 1.1126725008414675, 3.0, 1.1228070175438596, 1.0619650562354106, 1.7912087912087913, 1.0756302521008403, 1.113978494623656, 1.1873496046751462, 1.48159509202454, 1.4042553191489362, 1.4421553090332806, 1.4445109631070867, 1.7395264116575593, 1.0373488096482972, 1.0, 1.0127410946600368, 1.1544585987261147, 1.5, 1.195774647887324, 1.057, 1.0239158163265305, 1.4343598055105349, 1.2307692307692308, 1.0317051013277427, 1.1328571428571428, 1.2046071511673, 1.082489813699613, 1.48, 1.127809459912781, 1.1344642118328507, 1.0131736526946107, 1.8581560283687943, 1.2490877641929674, 1.012750641175099, 1.872699159094279, 1.1594927573586267, 1.4119521912350597, 1.009927980600975, 1.0177499150270026, 1.6066985645933014, 1.0236770535222284, 21.655172413793103, 1.052780395852969, 1.01764416492707, 1.1, 1.1984415942628603, 1.019179844398979, 1.263157894736842, 1.0142484580826925, 1.150916784203103, 1.040964988757858, 1.223955352032055, 2.3333333333333335, 1.099585062240664, 1.25, 1.004816886593995, 1.0141738016923192, 1.25, 1.1798081008355756, 1.1115396962084656, 1.004725769205138, 1.125, 1.0987567757072356, 1.2220338983050847, 1.2319118289241278, 1.067764412104288, 1.1515151515151516, 1.0366950069202945, 1.1141439205955335, 1.0918413021363174, 4.0, 1.4043699491170307, 1.0137418966434872, 1.375, 1.1951219512195121, 1.0861774744027304, 1.027893175074184, 1.2267709291628335, 1.217687074829932, 1.2703488372093024, 1.09375, 1.0664961636828645, 1.312267657992565, 1.0960219478737998, 1.4, 1.0434684748051655, 1.5426260112009957, 1.1378205128205128, 1.6101694915254237, 1.6888888888888889, 1.016807093171353, 2.0, 1.2380952380952381, 1.5130718954248366, 1.3124315916815485, 1.1764705882352942, 1.0491171749598716, 1.2846003898635479, 1.0552817960110914, 2.0433839479392626, 1.1251735628991946, 1.0, 1.137556433408578, 1.3694127957931639, 1.0367070563079117, 1.2223198594024605, 1.3258426966292134, 1.4235033259423504, 1.2642447173501778, 1.091549295774648, 1.015180265654649, 1.1358367811009695, 1.0516540917005224, 1.0855364307946151, 1.1253392787902288, 1.0919179734620024, 1.3529411764705883, 1.0689981096408319, 1.3054393305439331, 1.1314102564102564, 1.7067951198325897, 1.1127785356980446, 1.2413793103448276, 1.0017197344648094, 1.0260586319218241, 1.7142857142857142, 1.2217453505007152, 2.2903225806451615, 1.1855148342059336, 1.5748031496062993, 1.9416342412451362, 1.2738419618528611, 1.029126213592233, 1.150005436949509, 1.0833333333333333, 1.1554987212276215, 2.1666666666666665, 1.1061112800243236, 1.243217609516094, 1.1597275963473146, 1.0928924298238099, 1.898477157360406, 1.0365269461077844, 1.0, 1.009480135808457, 2.4, 1.1489874638379942, 2.0, 1.0, 1.8351627003399709, 1.4923240434577232, 1.2353372434017595, 1.0984455958549222, 1.1349527665317138, 3.4, 1.0, 1.0323991584634165, 1.1116288745579364, 1.237536972000249, 1.004686695360077, 1.7515527950310559, 1.0656765358279487, 1.4222222222222223, 1.2892561983471074, 1.0144092219020173, 1.0582720032261317, 1.311764705882353, 5.0, 1.0, 1.420849420849421, 1.0615767305579293, 1.5368614428036458, 1.0, 2.1666666666666665, 1.125, 1.140973903685768, 1.1796640141467727, 1.2741823242867085, 1.25, 1.1753327846053416, 1.4565916398713827, 1.0359420289855072, 1.2338983050847459, 1.0509913635810728, 1.0, 1.0383096089568287, 1.4325068870523416, 1.8333333333333333, 1.000480123184268, 1.0315005250087501, 1.4, 1.117033184659629, 1.304635761589404, 1.154394299287411, 1.1103202846975089, 1.2113821138211383, 2.3333333333333335, 1.6666666666666667, 1.3944270289097875, 1.5735294117647058, 1.0111228974086983, 5.0, 1.048701212303224, 1.0082266910420474, 2.5, 1.0, 1.4453081621321489, 1.0, 1.199710564399421, 1.4670896114195082, 2.1807909604519775, 1.4681194511702986, 1.0256860061175983, 1.375, 1.3333333333333333, 1.1833244254409407, 2.0, 1.0358819495227738, 1.047036020312404, 1.0065475086658202, 1.0547945205479452, 1.1548387096774193, 1.052947910704064, 1.333875277679405, 1.1300919842312747, 1.266338401929228, 1.0, 1.2633549815003187, 1.337093113050804, 1.4283037253579192, 1.0090122049710537, 1.2079926226378392, 1.2352941176470589, 1.2640443088052447, 1.0612508497620665, 1.2, 1.353846153846154, 1.001356345249901, 1.7313432835820894, 1.0008575497938152, 1.2005669737774627, 1.2084456424079066, 1.1433840479483632, 1.6957037427517132, 1.2145033516148689, 1.0907859078590787, 1.0686274509803921, 1.0456054066138158, 1.0360659072416598, 1.6896551724137931, 1.7078651685393258, 1.0822179732313575, 1.0476190476190477, 1.2124483558775256, 1.059090909090909, 1.0090271221208642, 1.0011099039385958, 1.0, 1.0384663078792689, 1.1505190311418685, 2.4615384615384617, 1.042507528241303, 1.1887433284813198, 1.0285987777041454, 1.5025906735751295, 1.048363872497812, 1.063163639497142, 1.1412180052956753, 1.1224489795918366, 1.0120182012847965, 1.03741359774241, 1.4960351133869787, 1.2637990782751598, 1.0, 3.0, 1.0596961134817207, 1.9853917662682603, 1.0563302263648469, 1.8333333333333333, 1.2784615384615385, 1.7142857142857142, 1.1818181818181819, 2.05, 1.29557964970809, 1.018421052631579, 1.0946534653465347, 1.8006401463191586, 1.2, 1.0588235294117647, 1.0, 1.495260663507109, 2.3548387096774195, 1.309061488673139, 1.5, 1.1666666666666667, 1.2, 1.625, 2.1210762331838566, 1.0119685217105803, 1.007593610892904, 1.1443301883458779, 1.3658536585365855, 1.0049446952925334, 2.2311171415649027, 1.0934579439252337, 1.2536656891495601, 2.0, 1.1428571428571428, 1.1071428571428572, 2.473568281938326, 1.011064206219632, 1.0409235772357723, 1.2994350282485876, 1.7781241932601228, 1.3333333333333333, 1.1391516276910578, 2.2, 1.0621454682969873, 4.0, 1.0249010740531375, 1.0, 1.1459689057096958, 1.6909291425420458, 1.0830917874396135, 1.3442622950819672, 2.3333333333333335, 1.678298800436205, 1.4076923076923078, 3.0, 1.023590680192431, 1.1416666666666666, 1.1430009776597452, 1.314878892733564, 1.0266575785021335, 1.1675531914893618, 1.0, 1.083454281567489, 1.0032, 1.0569752827817345, 1.0120859361273415, 2.272727272727273, 1.5668238993710693, 1.010954861977292, 1.0028409090909092, 1.1304347826086956, 1.3076923076923077, 1.3333333333333333, 1.0, 1.0106382978723405, 1.0072332730560578, 1.1101010293921048, 1.0768405337314546, 1.1163628179158227, 1.014781125639568, 1.751054852320675, 1.2472885032537961, 1.4333333333333333, 1.0, 1.1003022206648854, 1.2653488051129065, 1.0293647654457716, 1.0492201072588565, 1.1264827402372384, 1.2666666666666666, 1.0253529411764706, 1.224, 1.0168351926301074, 1.0852272727272727, 1.0051656618745812, 1.00393037619315, 1.0333333333333334, 1.7906458797327394, 1.0028366097853718, 1.0, 2.515527950310559, 1.0798570651751729, 1.0404584347280006, 1.8, 1.029520712568924, 1.7865853658536586, 4.0, 1.3101987704645943, 3.2857142857142856, 1.0544653584301162, 1.5308056872037914, 1.2507257042397482, 2.3529411764705883, 1.314968814968815, 1.041224744005422, 1.078048780487805, 1.5555555555555556, 1.3822269807280514, 1.0075936227109121, 1.7551020408163265, 1.010936559862876, 1.7865853658536586, 1.8571428571428572, 1.6666666666666667, 2.0, 1.1572512647554807, 1.319270837349537, 1.062111801242236, 1.290396756560502, 1.3515625, 1.015361821181265, 1.067816091954023, 1.5826086956521739, 1.2035364936042137, 1.0746268656716418, 1.0304656987009149, 1.0186721991701244, 1.2742877892582445, 1.3627254509018036, 1.00925497454882, 1.052304964539007, 1.0225523701809598, 1.0718165359082679, 1.0, 1.1614315916641498, 1.2142735188663139, 1.285822917161732, 1.153123796953198, 1.0438934494890266, 1.507150715071507, 1.0958605664488017, 2.0636363636363635, 1.939102564102564, 2.5, 1.0494646680942183, 1.06163096580233, 1.0, 1.1879756468797564, 1.0495716703326496, 1.0575003292506255, 1.1036269430051813, 1.0795755968169762, 1.0, 1.2344322344322345, 1.2677165354330708, 1.1317733990147782, 1.0, 1.1075477880939377, 1.0579754601226994, 1.0, 1.0093620523183098, 1.131578947368421, 1.2103393843725336, 1.2894736842105263, 1.7669184981684982, 1.8425228084093614, 1.2214007403576859, 1.0170048129337623, 1.6153846153846154, 1.026420915104213, 1.9180327868852458, 1.0081578468423138, 1.1647760115606935, 1.373758715402493, 1.0773827233069393, 1.5, 1.8741258741258742, 1.130730050933786, 1.1744548286604362, 1.301557804839475, 1.3541666666666667, 1.0121154995631982, 1.0062250024387864, 1.0447385908511289, 1.4217171717171717, 1.0, 2.4285714285714284, 3.0, 1.0185004868549172, 1.0330691445750204, 1.8567819665759813, 1.0268924302788844, 1.0386437275480735, 1.022703818369453, 1.5751295336787565, 1.0374149659863945, 1.1920173819122615, 1.5606060606060606, 1.1111111111111112, 1.7884550978422085, 1.325, 1.60827598023817, 1.0475675515525007, 1.235119586566187, 1.25, 1.6575342465753424, 2.272727272727273, 1.0312036168216328, 1.0, 1.0621387283236994, 2.230769230769231, 1.024014233931571, 1.0, 2.2032786885245903, 1.203921568627451, 1.108352144469526, 1.5, 1.5592387968078576, 1.0519849765385647, 1.4285714285714286, 1.7773972602739727, 1.2464204973624717, 1.053811659192825, 2.239130434782609, 1.0175683769215411, 1.4423076923076923, 1.5231124807395995, 1.0264497525897975, 1.234240212342402, 1.2235734331150607, 1.0347328642377465, 1.050077538529101, 1.1713423493908572, 1.1405672009864365]
origin-bjaq_15.71 	max: 21.6552	99th: 4.0091	95th: 2.3571	median: 1.1630	mean: 1.3932

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.032387 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[4.8440695e-04 1.1920929e-07 0.0000000e+00 3.5762787e-07 2.9802322e-07]
Distance score: 9.703636169433594e-05
SAUCE Drift detection: True
Detection latency: 0.0383s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.7008 bits (loss 19.068, data 18.367) 0.00300 lr
epoch 10 train loss 12.4554 nats / 17.9693 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.4378 bits (loss 17.929, data 18.367) 0.00256 lr
epoch 20 train loss 12.1738 nats / 17.5631 bits
time since start: 8.7 secs
Epoch 20 Iter 0, train entropy gap -0.9111 bits (loss 17.456, data 18.367) 0.00150 lr
epoch 30 train loss 12.0412 nats / 17.3718 bits
time since start: 12.9 secs
Epoch 30 Iter 0, train entropy gap -0.9719 bits (loss 17.395, data 18.367) 0.00044 lr
epoch 40 train loss 12.0156 nats / 17.3348 bits
time since start: 17.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.6895 nats / 31.2913 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.089097 | Model-update-time: 19.693521


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 18.3793	99th: 4.4105	95th: 2.3652	median: 1.1724	mean: 1.4033
ReportEsts: [1.3471264367816091, 1.0816326530612246, 1.045154780352445, 1.1592920353982301, 1.3253012048192772, 2.0, 1.3900343642611683, 1.649154974489796, 1.0432158557484539, 1.1144, 1.0383987816817144, 1.0390740091196071, 2.142857142857143, 1.0956073669710729, 1.297924297924298, 1.240119760479042, 1.0374607165304839, 1.0370693414740515, 1.0755555555555556, 1.435462611398556, 1.0238630743505805, 1.2444444444444445, 3.5, 1.0536552071868217, 1.024199914981478, 1.5507246376811594, 1.6785307319586606, 1.0, 2.0, 1.44375, 1.1226321036889333, 1.137888956680903, 1.0488992914979758, 1.328862973760933, 1.3134328358208955, 10.0, 1.4482758620689655, 1.0594795539033457, 1.2296137339055795, 1.124822695035461, 1.2365941759142027, 1.3846153846153846, 1.209277979246405, 1.2, 1.0037647954998241, 1.2738461538461539, 1.0213750027015929, 1.03858872508333, 3.3225806451612905, 1.075091575091575, 2.7039740470397406, 1.528301886792453, 1.2976315482440788, 1.0, 2.0, 1.0727093976875504, 1.6057692307692308, 1.1967516828259124, 1.003640460649855, 1.2502351834430856, 1.2352941176470589, 1.180561595328322, 1.4, 2.0293785310734465, 1.2371134020618557, 1.0023285899094436, 1.2481953607785772, 1.464818763326226, 1.027907337178947, 2.8, 1.0, 1.0127303516286483, 1.0075305930342013, 1.2663003663003662, 1.1579391891891893, 1.1036468330134357, 1.0054907396125259, 1.0104321907600595, 1.0249946932710676, 1.5, 1.0, 1.0039214539866028, 1.8532608695652173, 1.2466713384723196, 1.0209805653710247, 1.225130890052356, 1.5, 1.2380678077682685, 1.1946532156368221, 1.0081970332371812, 2.125, 1.1307692307692307, 1.2532362459546926, 1.3970874945291052, 1.4692640692640693, 1.010803639120546, 1.625, 1.1892936253999509, 1.1666666666666667, 1.4081632653061225, 1.1431680219906082, 1.87, 1.4870892018779343, 1.4246913580246914, 1.3781321184510251, 1.8025078369905956, 1.0582127732754358, 1.5370919881305638, 1.1377725716345288, 1.0691209308995555, 1.3703703703703705, 1.2530612244897958, 1.3844702923608927, 1.2508460236886634, 1.2049963262307126, 1.152276295133438, 1.0205882352941176, 1.053934274683246, 1.1114058355437666, 1.0014316972365542, 1.1700105596620909, 1.0344142712696809, 1.0, 1.7613089509143407, 2.5, 1.3333333333333333, 1.6900212314225054, 2.3636363636363638, 1.3213859020310634, 1.3333333333333333, 1.1126760563380282, 1.0142482320897575, 1.149948043788212, 1.0519247985675917, 1.0783410138248848, 2.479591836734694, 1.5714285714285714, 1.5656232839099395, 1.7234042553191489, 1.5, 1.719938176197836, 1.051765961575781, 1.25, 1.2131386861313869, 1.0336104597456122, 1.1400824014125956, 1.1842105263157894, 1.1345786410743517, 1.01840490797546, 1.0125849155199442, 3.933333333333333, 1.0234375, 3.0, 1.6852236217338148, 1.0329800869048735, 1.590644195936368, 1.5845986984815619, 1.0378410825594708, 1.3314917127071824, 1.1256281407035176, 1.042645241038319, 1.1137724550898203, 2.0, 1.3333333333333333, 1.0170278637770898, 1.0, 1.1511627906976745, 2.1866666666666665, 1.3181818181818181, 1.0672043010752688, 1.0795425667090217, 1.0169399303540336, 1.0706214689265536, 1.2616034161072534, 1.0428707421050454, 1.3170731707317074, 1.0865767501605652, 1.035807137792484, 1.2986850179135794, 1.024588659856872, 1.1666666666666667, 1.0261292647765496, 1.1954730174586237, 1.321917808219178, 1.030716723549488, 1.371631205673759, 1.1428571428571428, 1.0384615384615385, 1.0136823319452706, 1.2869897959183674, 6.0, 1.393574297188755, 1.2271016311166876, 1.0445151033386328, 1.0723208184462798, 1.017457154244719, 1.036060001477869, 1.0, 1.0796996823563385, 1.1768595041322314, 1.0107578305937226, 1.1768488745980707, 1.2341773398368006, 1.3704266225488866, 1.1670624388881128, 1.28125, 1.179508002571651, 1.4666666666666666, 1.1166666666666667, 1.0008797848677002, 1.0970873786407767, 1.0238476977708104, 1.5132450331125828, 1.0088733934919332, 1.1418982695332984, 1.0381785339549217, 1.8974358974358974, 1.2352941176470589, 1.2281680845178415, 1.0379799666110183, 1.0518426100072624, 1.1202185792349726, 1.0, 3.0, 1.005558711352755, 2.5, 1.1364395324799237, 1.4759615384615385, 1.5383360522022838, 1.33276740237691, 1.0, 1.790558510638298, 1.196629213483146, 1.182674199623352, 1.0098713496062222, 1.2, 1.0588793922127255, 2.0, 1.0854487260628198, 1.8, 1.2410848819688598, 1.011968085106383, 1.4074074074074074, 2.0, 1.011409109414253, 1.0, 1.743777415716255, 1.746890570215907, 1.5555555555555556, 1.2228915662650603, 1.0138888888888888, 13.0, 1.2885251930856934, 1.26622864651774, 1.2409638554216869, 2.5, 2.2444444444444445, 1.0025957496692512, 1.183673469387755, 1.56, 1.7207142419976742, 1.1085271317829457, 1.3129161118508654, 1.9407407407407407, 1.2253086419753085, 1.421627525942108, 1.2774294670846396, 1.5714285714285714, 1.0076405528491408, 1.1940855584266437, 1.3436849534655597, 1.2857142857142858, 1.0440140845070423, 1.0272566170254276, 1.0654779304296988, 1.0824829214809817, 1.2134831460674158, 1.0, 1.2984054669703873, 1.0023303669987327, 1.0942569048662867, 1.2343574071095385, 1.1044942389712904, 1.0, 1.0, 4.0, 1.7008880994671403, 1.0394736842105263, 1.0660980810234542, 1.2386291299616008, 1.006846832511183, 1.6564810140781872, 3.0208333333333335, 1.3632183908045976, 1.8692307692307693, 1.1428571428571428, 1.0661357444387893, 1.3644859813084111, 1.347057198121028, 1.25, 1.0108695652173914, 1.1645569620253164, 1.0, 9.0, 1.2334120637811483, 3.0, 2.8333333333333335, 1.1934184016118201, 1.207282913165266, 1.6216216216216217, 1.15823512503593, 1.012176863958479, 1.0, 1.0072444703964887, 1.0540136621236469, 8.5, 1.3627781523937963, 1.058227848101266, 1.0081447284464962, 1.0715859030837005, 1.192931649739226, 1.0349995626269597, 1.0873138161273754, 1.125070036730374, 1.1219512195121952, 2.0, 1.0107044420229472, 1.9, 1.0282224304558283, 1.3101928374655647, 1.0513032197193066, 1.0740740740740742, 2.0, 1.0408163265306123, 1.036963258078796, 1.1607923597371828, 1.0113271899494658, 1.1733181299885975, 1.0740740740740742, 1.3560885608856088, 1.0, 3.0, 4.333333333333333, 1.2622950819672132, 1.0064051240992795, 1.0386383854406704, 3.0, 1.0095515342250196, 1.75, 1.875, 3.4, 1.1641951539233557, 1.8333333333333333, 1.6757458630269355, 1.0661333333333334, 2.0, 1.3887335197762685, 1.3350811846815898, 1.221311475409836, 1.0044191859864111, 1.6025763119643126, 1.2289794880488218, 1.1549295774647887, 1.0657718120805368, 1.0, 1.2601626016260163, 1.3392315470171892, 1.0, 1.1788084312901044, 1.0011938176165034, 1.040410336975008, 1.2070798755186722, 1.0488582727388698, 1.8333333333333333, 1.1505474145191175, 1.1176892716182274, 1.1463996185026228, 1.032258064516129, 1.110236220472441, 1.1848958333333333, 1.02947695035461, 1.022477311233402, 1.4285714285714286, 1.0095353413046768, 2.6666666666666665, 1.6036619051377161, 1.2600493015612162, 2.06, 1.8636363636363635, 1.0, 1.3369127516778523, 1.4, 1.0311248744964738, 1.106175972927242, 1.0085191296672935, 1.217824851459571, 1.0446009389671362, 1.0294915867559256, 1.5961538461538463, 1.021978021978022, 1.2823730747290358, 1.9534883720930232, 1.0329010898054904, 1.0489114893511209, 1.0, 1.7641673091750192, 2.2857142857142856, 1.0672105672105672, 2.2934782608695654, 1.1530756207674944, 2.0, 1.0200602690055613, 1.114149638961438, 1.0731881835837678, 1.3431372549019607, 1.0909090909090908, 1.1846477744416666, 1.1458333333333333, 1.1171970092157886, 1.3933852758785181, 1.0912921348314606, 2.1296296296296298, 1.0648535564853556, 1.307641196013289, 1.166819599926592, 1.4736842105263157, 1.0015404418746967, 1.0230547550432276, 1.0798135956801538, 1.0189088334174075, 1.1955098222637979, 1.3768693918245265, 1.5925925925925926, 1.1069958847736625, 1.1723716381418092, 5.454545454545454, 1.0018382352941178, 1.0457516339869282, 1.919626168224299, 1.0120054624522699, 1.2371134020618557, 1.0102970061305874, 1.3333333333333333, 1.053639846743295, 1.0692124105011933, 1.0585331452750353, 1.0157558038421224, 1.1004784688995215, 1.1625123222081397, 1.4824714072600695, 1.0, 1.039770458032918, 1.5471167369901546, 1.0721649484536082, 1.894736842105263, 1.0403223513579256, 1.219510636938606, 1.3614198042793166, 1.0167835671342684, 2.4, 1.140625, 2.0588235294117645, 1.6108108108108108, 1.004777618073972, 2.4545454545454546, 1.1488569909622541, 1.263157894736842, 1.1111111111111112, 1.0037656126211598, 1.3443223443223444, 1.035997534415451, 1.0909090909090908, 1.2666666666666666, 1.0038473869830074, 1.0656488549618321, 1.7857142857142858, 3.119205298013245, 1.2272727272727273, 1.3816062321358515, 1.9485294117647058, 1.0714285714285714, 1.0629101283880171, 1.0396183699870634, 1.0303347280334727, 1.0086046095666394, 1.0097733265597406, 1.5, 1.4146341463414633, 1.0381287182260681, 1.7710280373831775, 1.105726872246696, 1.292732855680655, 1.0635581459894532, 1.1444954128440368, 1.074468085106383, 1.5104570100697134, 1.3867100262508325, 1.09247311827957, 1.0404328874192095, 1.5, 1.0725449298551388, 1.1902587519025876, 1.5, 1.49746192893401, 1.0235988200589972, 1.234159779614325, 1.4740634005763689, 1.0666666666666667, 1.0252742476435137, 1.0625, 1.1767324037027391, 1.0143981135070177, 2.252173913043478, 1.4, 1.0055555555555555, 1.0593607305936072, 1.5535055350553506, 1.31870372223334, 1.0135604192779715, 1.7245533366136723, 1.1546714579055442, 1.3724295506473725, 1.022986225130085, 1.1127719580983078, 1.47557003257329, 1.015148658689408, 18.379310344827587, 1.0468085106382978, 1.0036532036398267, 1.7425876010781671, 1.278471701166674, 1.0062916795079442, 1.7272727272727273, 1.0226587869138535, 1.2089761570827489, 1.0043609101948154, 1.2880054212785181, 2.3333333333333335, 1.022099447513812, 1.0, 1.0432788306842689, 1.0345964216935826, 1.6666666666666667, 1.1721924193122857, 1.1158123445495869, 1.0025265578827776, 1.4444444444444444, 1.138772429984907, 1.0655172413793104, 1.2149037202770572, 1.0480730294266756, 1.1724137931034482, 1.0086646718188277, 1.2782193958664547, 1.0399027749645533, 4.0, 1.3148050579557429, 1.0065735037234531, 1.1029411764705883, 1.4109947643979057, 1.0219952867242734, 1.0401416765053129, 1.3179438362684437, 1.335820895522388, 1.0298087739032622, 1.8823529411764706, 1.1075514874141876, 1.0910683012259195, 1.1176470588235294, 1.0, 1.019046280352813, 1.6424116424116424, 1.0574034334763949, 1.0, 1.5029368575624082, 1.0121365572912773, 2.0, 6.5, 1.630281690140845, 1.3017313617553403, 1.1764705882352942, 1.0642879114118733, 1.1330049261083743, 1.0315067313038915, 1.5148861646234677, 1.12579299535239, 1.15625, 1.037933913873315, 1.0101437024513948, 1.1910386965376782, 1.28659793814433, 2.247191011235955, 1.25390625, 1.2486556798253254, 1.3596491228070176, 1.2335115864527628, 1.3095437497724212, 1.079350766456267, 1.054681598738875, 1.0505501490775355, 1.1972222222222222, 1.3888888888888888, 2.2710843373493974, 1.4956140350877194, 1.5469052224371374, 1.653246394250313, 1.1084967320261438, 1.0333333333333334, 1.0100274590565852, 1.0030487804878048, 1.2307692307692308, 1.4947491248541425, 2.6785714285714284, 1.267779632721202, 1.8123809523809524, 1.416342412451362, 1.0926966292134832, 1.2619047619047619, 1.155866122941142, 1.5, 1.091488006792613, 1.625, 1.1298136645962733, 1.256149177447692, 1.0395035366341918, 1.0541390150192107, 1.8496732026143792, 1.0403458213256485, 1.0, 1.0302428065324463, 1.4, 1.1940584571154769, 1.6, 1.0, 1.7249365358328452, 1.2326999288690175, 1.0210231254379818, 1.0518867924528301, 1.0941011235955056, 2.8333333333333335, 1.0, 1.0053589660582214, 1.1159934839814545, 1.226923806642498, 1.0092256643677953, 2.5031055900621118, 1.0296672747806446, 1.3320412897377947, 1.2308984047019311, 1.0601282627343653, 1.525, 1.055302765138257, 1.056621431913898, 1.0056922194191205, 1.3205882352941176, 1.0388821385176186, 1.4393552215668939, 4.0, 2.0, 1.0381679389312977, 1.2438680575133916, 1.127009907422446, 1.3626666666666667, 1.3636363636363635, 1.2303864038150134, 1.2061068702290076, 1.025364274150027, 1.0627118644067797, 1.0114668053716664, 1.3636363636363635, 1.0030762564991333, 1.4785992217898833, 2.4, 1.1214953271028036, 1.4699352769345324, 1.0, 1.0936117301295094, 1.0904255319148937, 1.219954648526077, 1.0255885363357216, 1.7723577235772359, 1.93, 1.1666666666666667, 1.377538185085355, 1.1869158878504673, 1.0245456894324347, 7.0, 1.002360655737705, 1.1711065573770492, 1.6666666666666667, 1.25, 1.2124463519313304, 1.0, 1.1477124183006535, 1.43695479777954, 2.249443207126949, 1.3260694108151736, 1.0093153649878486, 1.5454545454545454, 1.0, 1.056806550665302, 3.3333333333333335, 1.023708180506607, 1.0195153739303415, 1.0114167242570835, 1.1127197518097207, 1.0813953488372092, 1.0158686542556845, 1.2938044530493709, 1.098219766728054, 1.271096661805218, 1.0, 1.3069033302497688, 1.2475001091655387, 1.4930582714118108, 1.0121352551706844, 1.2186866300832213, 1.1290322580645162, 1.1611864876090268, 1.1071428571428572, 2.0, 1.4157894736842105, 1.02979088843858, 1.613821138211382, 1.0067090928702405, 1.54, 1.626360338573156, 1.1018518518518519, 1.5044987146529563, 1.0631092868137506, 1.046814044213264, 1.2, 1.003337739590218, 1.0751826043153387, 1.6666666666666667, 1.2034632034632036, 1.3994910941475827, 1.7916666666666667, 1.2532333694027928, 1.1767241379310345, 1.0309117516229476, 1.009322767278485, 1.2757009345794392, 1.1126975410336202, 1.0091302258529553, 2.076923076923077, 1.0354457827511436, 1.1238485158648925, 1.0152346781802042, 1.3488372093023255, 1.0125542467451953, 1.0924193068100811, 1.1128010139416984, 1.077319587628866, 1.025192870216733, 1.0219568770098582, 1.4570418454665313, 1.2713158793193293, 2.0, 1.5, 1.0532859434640705, 1.7683990662243518, 1.0064885301180198, 2.2, 1.1809954751131222, 1.8571428571428572, 1.25, 2.0434782608695654, 1.1912942114788798, 1.2657563025210083, 1.0114329268292683, 1.612814502265979, 1.8461538461538463, 1.25, 1.0, 1.0226904376012966, 2.393939393939394, 1.2157772621809744, 2.6666666666666665, 1.4285714285714286, 1.0, 2.0, 1.1208530805687205, 1.002015346123408, 1.0503559187977853, 1.1077530519155219, 1.0666666666666667, 1.0128847644218348, 2.873034362259755, 1.0555555555555556, 1.0342368045649073, 1.75, 1.0525739320920044, 1.2062146892655368, 2.71256038647343, 1.0103514775670719, 1.0382172462051888, 1.3157894736842106, 1.6240252897787144, 1.3333333333333333, 1.1938818950313204, 1.375, 1.0444819552089772, 7.0, 1.0576225291091255, 1.0, 1.1395770719952347, 1.3423068505143358, 1.564474807856533, 1.0379746835443038, 4.0, 1.0326018808777429, 1.0236220472440944, 1.5, 1.0613745261162595, 1.3705408515535098, 1.0246391992551211, 1.019873532068654, 1.019744100793679, 1.119047619047619, 1.0, 1.0116731517509727, 1.081745469272046, 1.0555791096550395, 1.0271594119260596, 1.4210526315789473, 1.2317676143386898, 1.0304989566604774, 1.055472263868066, 1.4074074074074074, 1.0080645161290323, 1.25, 1.0, 1.0879120879120878, 1.1064814814814814, 1.1065151887150415, 1.2007336693577504, 1.079140866873065, 1.1875794443435628, 1.6742424242424243, 1.7411067193675889, 1.096774193548387, 2.5, 1.0896660570496781, 1.275, 1.0540914102902579, 1.0540221369075684, 1.009246859256425, 1.7272727272727273, 1.0380031852380691, 1.4271758436944937, 1.0078623057660554, 1.582010582010582, 1.0081998830365697, 1.3533434650455927, 1.32, 1.7646338014893015, 1.0012749878021419, 1.0, 2.237623762376238, 1.1010170006071645, 1.0990616943461837, 4.4, 1.01801292088262, 1.2487644151565074, 4.0, 1.305795504366476, 3.2857142857142856, 1.333743463549677, 1.3287671232876712, 1.2040861785197194, 1.4150485436893203, 1.3301787592008412, 1.028855695179887, 1.082497939136801, 1.2921582234559335, 1.151304347826087, 1.3170731707317074, 1.0075494475499802, 1.0410058027079303, 1.0462559965954812, 1.2487644151565074, 1.588235294117647, 1.0526315789473684, 2.2, 1.1874219075385257, 1.287902551595006, 1.368, 1.2998812243033349, 1.373015873015873, 1.0139992040007615, 1.0643549808992065, 1.763779527559055, 1.3701030927835052, 1.038369304556355, 1.0268246174150162, 1.0323212536728696, 1.2705131158871736, 1.0994152046783625, 1.0616438356164384, 1.0759106213651668, 1.0275652510774296, 1.2789794786467, 1.1666666666666667, 1.0677494199535962, 1.6402214022140222, 1.1547161758429365, 1.1235542406814676, 1.007448287756136, 1.4360587002096437, 1.1390977443609023, 1.3043478260869565, 1.6269430051813472, 1.6666666666666667, 1.3465116279069766, 1.2130810366104483, 1.0, 1.1396933560477003, 1.0265419952977273, 1.0199217543498404, 1.2027649769585254, 1.4071428571428573, 1.8333333333333333, 1.2596491228070175, 2.4381720430107525, 1.1415770609318996, 1.0, 1.0921041882250422, 1.6529304029304028, 1.024390243902439, 1.0510411916704667, 1.0, 1.6484490398818317, 1.0020524155352069, 1.2642140468227425, 1.1014492753623188, 1.5070888468809074, 1.0072504467704877, 1.003337041156841, 1.0116562430769755, 1.028168768726918, 1.0876288659793814, 1.0624124824964993, 1.4694331983805669, 1.074081693912586, 1.5, 1.1787234042553192, 1.3990825688073394, 1.2418136020151134, 1.404693834008961, 1.2857142857142858, 1.0009242754340792, 1.026838538700266, 1.0381382769304508, 1.2319474835886215, 1.0, 1.5833333333333333, 2.0, 1.2807323452484742, 1.0834704467788887, 1.5215264972340254, 1.4553571428571428, 1.1265923566878981, 1.248191027496382, 1.1129188665014547, 1.0092909535452323, 1.006022990194278, 1.0053769829481314, 1.0150722496905538, 1.683036754992618, 1.1818181818181819, 1.5440716417910447, 1.0538105191797074, 1.2492057565916919, 1.24, 1.275109170305677, 1.411764705882353, 1.049626018325896, 1.0, 1.296229802513465, 1.8148148148148149, 1.025032616650933, 1.0576923076923077, 1.055363321799308, 2.0516129032258066, 1.0808510638297872, 2.0, 1.7024128686327078, 1.0641224561910727, 1.0, 1.383606557377049, 1.860517435320585, 1.321969696969697, 1.7821782178217822, 1.0841509433962264, 1.293103448275862, 1.1415249588590235, 1.0502481056195474, 1.163978494623656, 1.1065737051792828]
origin-bjaq_15.71 	max: 18.3793	99th: 4.4105	95th: 2.3652	median: 1.1724	mean: 1.4033

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.024377 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[5.1528215e-04 5.9604645e-08 0.0000000e+00 2.3841858e-07 2.9802322e-07]
Distance score: 0.00010317564010620117
SAUCE Drift detection: True
Detection latency: 0.0397s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.5356 bits (loss 18.816, data 18.280) 0.00300 lr
epoch 10 train loss 12.3889 nats / 17.8734 bits
time since start: 4.4 secs
Epoch 10 Iter 0, train entropy gap -0.4272 bits (loss 17.853, data 18.280) 0.00256 lr
epoch 20 train loss 12.0978 nats / 17.4535 bits
time since start: 8.6 secs
Epoch 20 Iter 0, train entropy gap -0.8804 bits (loss 17.400, data 18.280) 0.00150 lr
epoch 30 train loss 11.9683 nats / 17.2666 bits
time since start: 12.8 secs
Epoch 30 Iter 0, train entropy gap -0.9679 bits (loss 17.312, data 18.280) 0.00044 lr
epoch 40 train loss 11.9432 nats / 17.2304 bits
time since start: 16.9 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.6118 nats / 31.1793 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.099404 | Model-update-time: 19.417700


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 25.7241	99th: 5.0000	95th: 2.6012	median: 1.1649	mean: 1.4573
ReportEsts: [1.097852028639618, 1.1428571428571428, 1.028479436459371, 1.072992700729927, 1.1046511627906976, 4.0, 1.7286324786324787, 1.5838492506512398, 1.0253777321402378, 1.1234822451317297, 1.0602046033976606, 1.0317449709282898, 2.0, 1.03912712963377, 1.294762484774665, 1.3000627746390458, 1.0609631147540983, 1.0152957860615883, 1.3779193205944797, 1.3903497353119847, 1.0142022008253095, 1.0434782608695652, 1.0596685082872928, 1.111155866335836, 1.0631808278867103, 1.256273764258555, 2.8181818181818183, 1.1589895988112928, 1.0, 1.5952380952380953, 1.32, 1.031853281853282, 1.1003787878787878, 1.091286033960774, 1.0478692352597783, 1.1594202898550725, 12.0, 1.2166666666666666, 1.0456140350877192, 1.001682085786375, 1.1471048513302033, 1.2254142219270083, 1.5, 1.2134989399944696, 1.6666666666666667, 1.014464224580623, 1.0061538461538462, 1.0180174576517178, 1.0122188923811613, 1.276190476190476, 1.2004048582995952, 2.6231313926042485, 1.2452830188679245, 1.3006665887030757, 1.0, 3.0, 1.029501541703466, 1.6608695652173913, 1.1932330711327988, 1.0115441288285973, 1.457236842105263, 1.0476190476190477, 1.191475220343881, 1.75, 1.6418079096045197, 1.6185567010309279, 1.123207922433082, 1.2381561569031585, 1.225672877846791, 1.0021951799255224, 16.0, 2.0, 1.0191536146902245, 1.5709393346379648, 1.2036564625850341, 1.2441538461538462, 1.0344234079173837, 1.0165162709798266, 1.0652482269503547, 1.0777244408129916, 1.625, 1.0, 1.0108514358868737, 1.4759615384615385, 1.4545454545454546, 1.095372716614349, 3.4358974358974357, 3.0, 1.1598837209302326, 1.4285714285714286, 1.0816676185037122, 1.0475638051044083, 1.054883926007957, 1.3170731707317074, 1.096949152542373, 1.3889086665875559, 1.1298268974700398, 1.0195443645083933, 1.125, 1.1800720434702974, 2.3333333333333335, 1.25, 1.0225437415881562, 1.639344262295082, 1.19524236983842, 1.3544600938967135, 1.2813186813186814, 1.6921052631578948, 1.113768877351299, 1.0238970588235294, 1.0281069583713156, 1.0496364761389125, 2.392857142857143, 1.160680529300567, 1.2514919011082695, 1.5841733870967742, 1.0835249042145594, 1.1337662337662338, 1.2056737588652482, 1.0182688344786401, 1.258345428156749, 1.0609056701699753, 1.2249861802100608, 1.0576115076234336, 1.0, 1.1853978671041838, 2.5625, 1.411764705882353, 1.5496264674493063, 2.8, 1.048331415420023, 1.3333333333333333, 1.0344827586206897, 1.051736206358365, 1.1631590525775464, 1.4429280397022333, 1.3724340175953078, 1.1337448559670782, 1.156441717791411, 1.4761467889908257, 1.0879120879120878, 1.2692307692307692, 1.2058951018638926, 1.0799795520029742, 1.6666666666666667, 1.141678129298487, 1.010856947763742, 1.027580324139892, 1.5, 1.0908881847914964, 1.6642487046632124, 1.009378903039786, 2.8095238095238093, 1.050387596899225, 3.0, 1.6528517110266159, 1.0568304621448097, 1.7365635852488837, 1.501532175689479, 1.028692960347555, 1.7431192660550459, 1.1263736263736264, 1.0000517424262023, 1.3010752688172043, 2.0, 2.0, 1.0594088381621305, 1.0, 1.157829839704069, 1.076470588235294, 1.5049767750497678, 1.0788181689742866, 1.1852531181217902, 1.0884615384615384, 1.2411347517730495, 1.2272727272727273, 1.2212127956619387, 1.008722284054402, 1.696969696969697, 1.031324480762683, 1.054908167999345, 1.2628556140194418, 1.0300964397876657, 3.5, 1.0868257846269498, 1.1700385517003855, 1.1123188405797102, 1.1701277955271565, 1.1168562564632885, 3.5, 1.2211538461538463, 1.1540191118605958, 1.1518264840182648, 6.0, 1.115068493150685, 1.0807962529274004, 1.0049809551714035, 1.0707436662743637, 1.0574395586564984, 1.0263241920034059, 1.3, 1.0807075732448868, 1.157556270096463, 1.0188133596937703, 1.0779944289693593, 1.2392129721178564, 1.303278390718291, 1.053195512416488, 1.7826086956521738, 1.1879494257574208, 1.4, 1.0169491525423728, 1.0578519368335808, 1.421276595744681, 1.0206098603590767, 1.3867403314917126, 1.0301698141024782, 1.1503896853651496, 1.0366649892667639, 1.4230769230769231, 1.4375, 1.218112858820585, 1.1370783956244304, 1.1048668665138424, 1.6443298969072164, 1.0, 1.0, 1.001671915704343, 2.5384615384615383, 1.011409168081494, 1.10431654676259, 1.0722001137009665, 1.0299363057324842, 1.5833333333333333, 1.5309734513274336, 1.0337078651685394, 1.0071920887024273, 1.0331216350669035, 1.25, 1.0051635111876076, 2.2, 1.081210065877414, 1.1472081218274113, 1.590937306021105, 1.1973929236499068, 1.5555555555555556, 1.3333333333333333, 1.0054047143427887, 1.0, 1.6761522711127825, 1.6310643792658182, 1.7407407407407407, 1.1130890052356022, 1.3157894736842106, 22.0, 1.220168954593453, 1.2036336109008328, 1.3733333333333333, 1.4285714285714286, 2.5121951219512195, 1.0025976352561805, 4.833333333333333, 1.0909090909090908, 1.5909386931593263, 1.1418439716312057, 1.0, 1.587878787878788, 1.518796992481203, 1.5766202301635373, 1.2102272727272727, 2.2, 1.0205033605249827, 1.105263157894737, 1.3002383949856695, 1.0509259259259258, 1.087260034904014, 1.022316123068797, 1.1718709000262397, 1.010503102339837, 1.037037037037037, 1.0, 1.3129855715871255, 1.0427213249963776, 1.0898596585424365, 1.3513513513513513, 1.2666666666666666, 1.0603926589842083, 2.466666666666667, 1.0767252798628606, 1.1066033664220976, 1.3179371023367519, 1.875, 1.0128758947390388, 1.3333333333333333, 1.7559796105084302, 1.5, 1.2271468144044322, 1.0769230769230769, 2.5, 1.3142857142857143, 1.5803893294881037, 1.135815991237678, 6.0, 1.7209302325581395, 2.5616438356164384, 1.427307206068268, 1.1345532831001077, 1.830367734282325, 1.0279519463549527, 1.0568893528183716, 1.0466366409995642, 1.5507246376811594, 1.2374035406264186, 1.3118279569892473, 1.0459577845033494, 1.1507945265945707, 1.0, 1.0067389429592213, 1.0659457587634382, 5.0, 1.281935106693949, 1.099923136049193, 1.0185017296910415, 1.3072702331961592, 1.2033532237743843, 1.0466645025158254, 1.0084075173095945, 1.0237716975581053, 1.131578947368421, 1.6, 1.0156605813504747, 1.1875, 1.247854077253219, 1.369815668202765, 1.0549375709421112, 1.45, 3.0, 1.0377358490566038, 1.0149591608275634, 1.1368040729183775, 1.035815381843028, 1.085164835164835, 1.5333333333333334, 1.1119515885022693, 1.0, 3.0, 3.0, 1.191025641025641, 1.0113321913295559, 1.0100078394742549, 1.393939393939394, 1.2256410256410257, 1.1920326078597248, 1.2830882352941178, 1.3906856403622252, 1.201000834028357, 1.1157601115760112, 1.5238855815304195, 1.851063829787234, 1.0216600882736093, 1.0584208124144225, 1.0388079070469292, 1.5, 1.1188589540412044, 1.0614950192171935, 1.0202546296296295, 5.0, 1.2515485583659023, 2.7714285714285714, 1.1176470588235294, 1.6606441476826395, 1.0, 1.0897034000482277, 1.0103761614342435, 1.1676201372997712, 1.103186646433991, 1.0279974425413063, 1.0668500128413663, 1.0045273790318436, 1.2061322006902044, 1.1592797783933517, 1.2153465346534653, 1.021295184012231, 1.4242424242424243, 1.2222222222222223, 1.082757030889811, 1.0179902539164212, 1.0, 1.1745777777777777, 2.25, 1.4957163569263214, 1.3372283651330705, 1.7857142857142858, 2.8125, 1.0, 1.3302540415704387, 2.653225806451613, 1.008982901242765, 1.057131280388979, 1.0439791504703666, 1.1981395821684542, 1.047085201793722, 1.116211504938989, 1.6905355658472865, 1.2626262626262625, 1.4908042821850123, 1.7678571428571428, 1.001908761213972, 1.0315813245851757, 1.0, 1.5416751001902602, 1.9, 1.0349768875192604, 1.45, 1.0021207408454686, 1.0, 1.0220323488045007, 1.017529665587918, 1.1052058375081681, 1.1322314049586777, 2.4146341463414633, 1.1242382194593994, 1.0392156862745099, 1.3135326514555468, 1.4632201292451532, 1.177027027027027, 2.6436781609195403, 1.1363636363636365, 1.8671726755218216, 1.065705665437479, 1.2173913043478262, 1.0594241578713253, 1.3017543859649123, 1.140290579596938, 1.033920407521309, 1.1442696629213482, 1.107074569789675, 1.4333333333333333, 1.5148247978436657, 1.0849150849150848, 2.5384615384615383, 1.003569710232652, 1.024582104228122, 1.0, 1.007527025223542, 1.2352941176470589, 1.0078222423761478, 3.0833333333333335, 1.2106227106227105, 1.4834437086092715, 1.3386062419837537, 1.008520009386451, 1.0956521739130434, 1.2570427897061063, 1.3867891615304104, 1.0, 1.0340805592511528, 1.1837223219628965, 1.0521172638436482, 2.210526315789474, 1.0269544214286144, 1.0254412220043347, 1.3285853026869536, 1.2590271560728141, 1.588235294117647, 1.0138888888888888, 1.4736842105263157, 1.3728070175438596, 1.0012687149333577, 1.6875, 1.0026845637583892, 1.0434782608695652, 1.1111111111111112, 1.0612812537384855, 1.108761329305136, 1.0136674259681093, 1.0, 1.6666666666666667, 1.053362122146823, 1.0701754385964912, 1.0714285714285714, 2.211267605633803, 1.2272727272727273, 1.374442462087422, 1.0615384615384615, 1.3333333333333333, 1.0129787789505091, 1.005570664916065, 1.1100217864923747, 1.0057022957294495, 1.0857713101915012, 3.0, 1.2826086956521738, 1.113009708737864, 1.596774193548387, 1.171806167400881, 1.2025440313111546, 1.0839672604718344, 3.2929936305732483, 1.6418439716312057, 1.6041838053825361, 1.3509550229923668, 1.396103896103896, 1.042078008853253, 1.5, 1.0087843069775446, 1.0685358255451713, 3.0, 1.1927554980595083, 1.0169332079021638, 1.0133158698974023, 1.1347150259067358, 1.1284066761568774, 1.0487540628385699, 1.8, 1.0297065139584825, 1.0791696621135873, 1.003889228263083, 1.5, 1.0, 1.4, 1.3246708246708248, 1.0, 1.0399051846551204, 1.0168226154176983, 1.6026377607335918, 1.2314135552392422, 1.003654970760234, 1.04535165402486, 1.0173353145121347, 1.5546930134086097, 1.0547963430079716, 25.724137931034484, 1.1925704526046115, 1.0364255516869285, 1.2725779967159276, 1.024173442596022, 1.0065038744463946, 2.7142857142857144, 1.0092996905913627, 1.2010582010582012, 1.0300185854198425, 1.4, 5.0, 1.1882327399044725, 1.0000713615789258, 1.5, 1.271678451804987, 1.9142628205128205, 1.1261904761904762, 1.2310100413467218, 1.440526457640823, 1.5466666666666666, 1.0734597156398105, 1.3894927536231885, 1.1821023131575201, 1.0527159702757118, 1.0571428571428572, 1.0193231366222208, 1.569361617538479, 1.6567250615317795, 2.234425473004153, 1.0599217103282144, 1.0254855024207628, 1.1921383647798742, 1.1014851485148516, 1.0469016948271719, 1.0543633762517883, 1.5402626074831514, 2.4, 1.0762886597938144, 1.0025983757130426, 1.0611620795107033, 1.5822313421492629, 1.1538461538461537, 1.0236572890025575, 1.75, 1.1201863900123088, 1.0390357796428347, 2.5098039215686274, 1.5851063829787233, 3.3877551020408165, 1.01256407212211, 2.0, 1.3375, 1.0, 2.5, 1.6830102622576968, 1.2903088194380044, 1.7088607594936709, 1.0031382757560967, 1.011940790150907, 1.2565033272837265, 1.0546163849154746, 1.0869565217391304, 1.082057394333914, 3.0, 1.0651315789473683, 1.1051248357424441, 1.2247191011235956, 1.0717863105175292, 1.1955002891231346, 1.0516129032258064, 1.112436115843271, 1.2261847937265598, 1.2082998661311914, 1.0102166693025463, 1.071549576482312, 1.325094633711868, 1.2857142857142858, 1.129973474801061, 1.4426633785450063, 1.596095068655627, 1.5433676994941816, 1.019682059046177, 1.032258064516129, 1.0189045969654758, 1.1855791962174942, 1.3571428571428572, 1.8963730569948187, 1.975, 1.355875299760192, 1.7146739130434783, 1.9452380952380952, 1.2619047619047619, 1.7607655502392345, 1.3202144351464435, 1.7268041237113403, 1.1085494716618636, 1.032258064516129, 1.1742071881606766, 1.0541257906286305, 1.0125216721248314, 1.3615494978479197, 1.1429249762583096, 1.5418502202643172, 1.076528430953399, 1.0, 1.0420717195756524, 2.5, 1.1011426153195092, 1.6, 1.5, 1.5671091084227196, 1.3055902839792821, 1.0382037533512065, 1.4722222222222223, 1.0491071428571428, 13.25, 1.0, 1.0213763258379296, 1.0461095100864553, 1.0334128878281623, 8.0, 1.5714285714285714, 1.0168530125504325, 1.289739537168548, 1.0522765598650927, 1.0010189285574322, 1.2903225806451613, 1.0457142857142858, 1.13531799729364, 1.0273758380817142, 1.3127405935676146, 1.2506191183754334, 1.0325638926918432, 1.0197726149283242, 1.1745513866231647, 1.139622641509434, 1.0227678571428571, 1.128690694359601, 1.2723214285714286, 4.5, 1.193575350559887, 1.283116883116883, 1.2008324661810614, 1.071186440677966, 1.0404219902825265, 1.5454545454545454, 1.024842786875039, 1.55078125, 2.6, 1.1304347826086956, 1.4024048016138535, 2.0, 1.0918353381286212, 1.1749539594843463, 1.1281070745697896, 1.0626304801670146, 1.4959349593495934, 1.3833333333333333, 1.7619047619047619, 1.2456112687900767, 1.860759493670886, 1.0162563506837046, 9.0, 1.0197702966418825, 1.1067415730337078, 2.5, 1.125, 1.1970954356846473, 1.4545454545454546, 1.2941810344827587, 1.0586835844567803, 1.9944444444444445, 1.2832929782082325, 1.0144932759669316, 1.375, 1.1428571428571428, 1.7567435017165276, 2.0, 1.0012621842856373, 1.047944799559751, 1.0615503611741108, 1.2587064676616915, 1.5196850393700787, 1.0291017882640918, 1.238609865470852, 1.3505099302200751, 1.2705433341094767, 1.0, 1.2916242871672972, 1.259433962264151, 1.453397890368321, 1.0125059312324234, 1.221625599253938, 1.3611111111111112, 1.1986494694344207, 1.2140911697247707, 1.6, 1.9211469534050178, 1.0366352968701469, 1.5379310344827586, 1.049366299035568, 1.038370720188902, 1.3330029732408326, 1.139763779527559, 1.7033928893701498, 1.157992565055762, 1.039751552795031, 1.3421052631578947, 1.0901205504558167, 1.0129085519156442, 1.2903225806451613, 1.9527027027027026, 1.1161178509532061, 1.0476190476190477, 1.0839256736680913, 2.125, 1.0449943409179463, 1.031601561340497, 1.1081545064377682, 1.2411513485052361, 1.1837961637560837, 2.3846153846153846, 1.0022337431044501, 1.359138533178114, 1.0014206482202312, 1.38755980861244, 1.087703615415177, 1.072775061229018, 1.046629927935566, 1.2835130970724191, 1.012669144370752, 1.0274362591958077, 1.3700765924822893, 1.2368989239416428, 2.0, 1.0, 1.0319629065667997, 1.7802926623855142, 1.0076957317374746, 1.8333333333333333, 1.20076726342711, 2.0, 1.9285714285714286, 2.409090909090909, 1.228411463275764, 1.2072498029944838, 1.055705996131528, 1.558381686670376, 2.2857142857142856, 1.0476190476190477, 1.0, 1.2868462757527734, 2.4285714285714284, 1.0425038639876352, 1.5, 1.0, 1.4, 1.6, 1.4921135646687698, 1.0328752129009733, 1.1514347721244274, 1.0995646132468735, 1.4545454545454546, 1.060289086912116, 2.941562313655337, 1.0, 1.226923076923077, 1.3333333333333333, 1.4051383399209487, 1.1075794621026895, 4.174721189591078, 1.025569098322124, 1.1031069720498676, 1.5815602836879432, 1.476879879468566, 1.0, 1.0448134546809302, 1.5714285714285714, 1.0316736977462946, 1.5, 1.0113292852824436, 1.0, 1.1689487571170671, 1.2606372045220966, 1.0253890253890254, 1.0186335403726707, 1.6666666666666667, 1.1378359751895244, 2.6530612244897958, 3.0, 1.0264937924285977, 1.2309368191721133, 1.0154062737707337, 1.024214103653356, 1.0186777995741327, 1.1124260355029585, 1.0, 1.0907418761496015, 1.0686446055338705, 1.0149750999509013, 1.046973815363785, 1.7352941176470589, 1.2574132492113566, 1.0237632188722776, 1.1690340909090908, 1.2258064516129032, 1.5, 1.25, 1.0, 1.4340836012861737, 1.0077864293659622, 1.097082739542292, 1.0814972627491168, 1.04, 1.0754618333914256, 1.2108843537414966, 1.7767695099818512, 1.03125, 2.0, 1.0812592772800513, 1.896551724137931, 1.0027401312140793, 1.0122390794362917, 1.016328277886497, 3.8, 1.0806570495946088, 1.0910562525293404, 1.0115057874057556, 1.2623762376237624, 1.0155189836870218, 1.5541012216404886, 1.1612903225806452, 1.6186721337328498, 1.0045910605931117, 1.0, 1.9877551020408164, 1.0910732341470462, 1.032531405546338, 1.6, 1.0304063654447286, 1.9291666666666667, 4.0, 1.259083711375503, 3.8333333333333335, 1.0632025784136467, 1.1403508771929824, 1.1874174849702237, 1.1423841059602649, 1.9796557120500782, 1.0302616945853895, 1.0719937011662684, 1.1852323360916615, 1.0292223873204556, 2.050632911392405, 1.0098086170233147, 1.3583815028901733, 1.0011447109257328, 1.9291666666666667, 1.5555555555555556, 1.6666666666666667, 3.0, 1.1597494126859829, 1.2345102555596588, 1.06875, 1.2470845724596518, 1.1445086705202312, 1.0041227690041654, 1.206785411365564, 1.1571428571428573, 1.0002839295854629, 1.2666666666666666, 1.0085033015968559, 1.3608647450110865, 1.3114319687446916, 1.2504743833017078, 1.0488372093023255, 1.1219512195121952, 1.0011661675545014, 1.4434737923946557, 1.8333333333333333, 1.00970054829186, 1.2453160567326214, 1.2005236066737663, 1.1993652831265156, 1.0674304956675291, 1.2221231043710972, 1.2651245551601424, 1.0650887573964498, 1.74235807860262, 2.5, 1.0123226288274831, 1.273784794349813, 1.0, 1.0677154582763337, 1.0435385203593959, 1.025836602256768, 1.2986425339366516, 1.5846153846153845, 1.1666666666666667, 1.32996632996633, 1.551487414187643, 1.1770802487414864, 1.0, 1.0703464587062133, 2.14980694980695, 1.0661268556005399, 1.0847900397409889, 2.857142857142857, 1.8560794044665012, 1.0595009596928984, 2.06140350877193, 1.515590005877027, 1.2673942701227832, 1.223242076331807, 1.0167589570574644, 1.0476190476190477, 1.0246876748088756, 1.1538461538461537, 1.0651677782409337, 1.0777626646319212, 1.2457742374198562, 1.0633699878667444, 1.5, 1.0419580419580419, 1.2640949554896141, 1.0507064874476588, 1.0243747971153785, 1.0718562874251496, 1.0269448020202447, 1.0531137900617464, 1.0587340902960003, 1.1119005328596803, 1.0, 1.2777777777777777, 2.0, 1.1025236593059937, 1.1798386607630253, 1.4457115542201584, 1.6055103318722606, 1.0657492354740061, 1.1947965310206805, 1.0205117360964262, 1.0292039566650966, 1.167162143256855, 1.00472083630316, 1.0115110086742969, 1.0104882459312838, 1.0088691796008868, 2.0297029702970297, 1.0436316818463593, 1.4104545454545454, 1.232963943102878, 1.25, 4.267857142857143, 1.9807692307692308, 1.027820080069079, 1.0, 1.4821428571428572, 2.9285714285714284, 1.0303425958638628, 1.553191489361702, 1.6666666666666667, 1.4429824561403508, 1.1863636363636363, 1.75, 1.2913065582104728, 1.0527652981239344]
origin-bjaq_15.71 	max: 25.7241	99th: 5.0000	95th: 2.6012	median: 1.1649	mean: 1.4573

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.126615 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=6', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[4.8714876e-04 2.3841858e-07 0.0000000e+00 1.1920929e-07 2.3841858e-07]
Distance score: 9.754896018421277e-05
SAUCE Drift detection: True
Detection latency: 0.0422s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=40']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Epoch 0 Iter 0, train entropy gap 0.7365 bits (loss 18.928, data 18.191) 0.00300 lr
epoch 10 train loss 12.3617 nats / 17.8342 bits
time since start: 4.5 secs
Epoch 10 Iter 0, train entropy gap -0.3905 bits (loss 17.801, data 18.191) 0.00256 lr
epoch 20 train loss 12.0666 nats / 17.4084 bits
time since start: 8.8 secs
Epoch 20 Iter 0, train entropy gap -0.8285 bits (loss 17.363, data 18.191) 0.00150 lr
epoch 30 train loss 11.9455 nats / 17.2337 bits
time since start: 13.0 secs
Epoch 30 Iter 0, train entropy gap -1.0394 bits (loss 17.152, data 18.191) 0.00044 lr
epoch 40 train loss 11.9104 nats / 17.1831 bits
time since start: 17.2 secs
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 21.4479 nats / 30.9427 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.116134 | Model-update-time: 19.715225


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=6', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:6
origin-bjaq_15.71 	max: 53.0000	99th: 6.1021	95th: 2.5026	median: 1.1667	mean: 1.5003
ReportEsts: [1.3991769547325104, 1.3611111111111112, 1.0312125848077691, 1.186335403726708, 1.6235955056179776, 2.0, 1.5009276437847867, 1.4884486508729646, 1.0379096166202613, 1.0041914846679902, 1.0345674625815247, 1.0675299270693799, 2.4285714285714284, 1.0460825345393996, 1.6303680981595092, 1.4194653872515421, 1.1188015329230054, 1.0073328118889324, 1.0313807531380754, 1.3656354826686545, 1.0217299188387532, 1.175, 1.2072072072072073, 1.0116421184581637, 1.1473684210526316, 1.1035369774919614, 1.1818181818181819, 1.0617378048780488, 1.5555555555555556, 1.5869565217391304, 1.0694444444444444, 1.0758426966292134, 1.201627636605215, 1.1153639176644692, 1.4672, 2.6857142857142855, 7.0, 1.1451612903225807, 1.2947368421052632, 1.2226640159045725, 1.074964639321075, 1.208050639358277, 1.6923076923076923, 1.1913595573369276, 2.2, 1.0198277787428345, 1.079734219269103, 1.0158481920510012, 1.0568647604423365, 1.2616822429906542, 1.1128472222222223, 1.8298572996706914, 1.3018867924528301, 1.316875351508155, 1.0, 2.3333333333333335, 1.0368679854359821, 1.488, 1.226169761776709, 1.0129777269314648, 1.4477124183006536, 1.7619047619047619, 1.1287481765627532, 1.0, 1.7175141242937852, 2.5526315789473686, 1.033694871999362, 1.2434364702663478, 1.0724346076458753, 1.0025537700533564, 18.0, 2.0, 1.0185550885437684, 1.5, 2.4, 1.4873598264138943, 1.2882978723404255, 1.625, 1.2663656884875847, 1.1994884910485935, 1.107366038478571, 1.0, 1.0, 1.010297869724263, 1.6180555555555556, 1.0, 1.094994230939913, 3.282051282051282, 3.0, 1.4482758620689655, 2.3333333333333335, 1.03886925795053, 1.3167520117044624, 1.0001918056868047, 1.527027027027027, 1.1306970509383378, 1.350967642645531, 1.2217422606191504, 1.065970515970516, 1.5, 1.2045168446898409, 1.1428571428571428, 2.0704225352112675, 1.0911805236564078, 1.6356589147286822, 2.2941176470588234, 1.1504424778761062, 1.1538461538461537, 1.9253393665158371, 1.0340538295726462, 1.2101910828025477, 1.1704234972677596, 1.0350423114341831, 1.0, 1.4114942528735632, 1.3329297820823245, 1.1914132379248659, 1.1676891615541922, 1.007462686567164, 1.2142857142857142, 1.0165705236964144, 1.5935828877005347, 1.0594574321790224, 1.060287081339713, 1.023170731707317, 1.01741861793261, 8.0, 1.0131852879944483, 4.9375, 1.5, 1.5025970058050717, 1.875, 1.0203389830508474, 1.6666666666666667, 1.2170542635658914, 1.0010685120855538, 1.1621931859811943, 1.0271646859083192, 1.4579439252336448, 1.1355140186915889, 1.504650024473813, 1.4422546314544737, 1.5522388059701493, 1.5714285714285714, 1.1322751322751323, 1.0611008566425293, 1.6666666666666667, 1.5252263906856403, 1.0287722525126453, 1.0613855597778428, 2.5714285714285716, 1.1192655275187595, 1.1057818659658345, 1.0312699425654117, 2.269230769230769, 1.1118881118881119, 3.0, 1.5023264356556876, 1.0460272861570548, 1.3882307986243791, 1.1697203471552555, 1.0043713749573524, 1.4172661870503598, 1.308488612836439, 1.0117020070778777, 1.5245901639344261, 2.0, 1.1666666666666667, 1.209811529933481, 1.0, 1.0508684863523574, 1.3842105263157896, 1.4559359416954354, 1.0521133826664995, 1.1038502296008477, 1.1841004184100419, 1.0485714285714285, 1.4736842105263157, 1.2265173722420073, 1.030719324054166, 1.288888888888889, 1.0089693501348154, 1.0662574975589343, 1.542879186054922, 1.0225255972696246, 1.1549718574108818, 1.2193939393939395, 1.1258103975535168, 1.0183456008406917, 2.3506493506493507, 1.0847983453981385, 2.3333333333333335, 1.0865384615384615, 1.0248481501932634, 1.5627258647392877, 6.0, 1.106628242074928, 1.267223382045929, 1.0237550085861478, 1.0819477808431852, 1.0720680725120237, 1.010199862164025, 1.4444444444444444, 1.0039936102236422, 1.0923076923076922, 1.003788160880164, 1.0708661417322836, 1.2225957911713445, 1.2592523712107122, 1.33242963081094, 2.05, 1.199642082802767, 1.6, 1.5, 1.0591325277691945, 1.3865199449793673, 1.0489779024580927, 1.5476190476190477, 1.0448330849867984, 1.1294222222222223, 1.0029990513205007, 1.5416666666666667, 1.3157894736842106, 1.2287942201808135, 1.0801927710843373, 1.0806643339081519, 1.5219512195121951, 1.0, 1.530612244897959, 1.0527536665668962, 2.8333333333333335, 1.0099425398670023, 1.0098684210526316, 1.0630965005302226, 1.0337579617834396, 1.3333333333333333, 1.2748703441772749, 1.144578313253012, 1.077849860982391, 1.3091689820661783, 1.0909090909090908, 1.0480132450331126, 1.5027027027027027, 1.0754409962853235, 1.4591611479028697, 1.0211375864719447, 1.1603995299647474, 1.1153846153846154, 1.0, 1.025058793667104, 1.0, 1.5191040607319344, 1.5339775150733261, 1.5925925925925926, 1.0676284941388638, 1.0389610389610389, 13.4, 1.1464484562173105, 1.1658583899127062, 1.3733333333333333, 1.4285714285714286, 1.7049180327868851, 1.0069742060851279, 1.303370786516854, 1.1285714285714286, 1.5332734502513994, 1.3790849673202614, 1.4548248309772587, 6.093023255813954, 1.2317073170731707, 1.6761107533805537, 1.1819389110225764, 2.2, 1.0116938650842133, 1.0180132450331125, 1.2865396089312306, 1.3677130044843049, 1.23719165085389, 1.027384649106784, 1.1043902439024391, 1.0163437458811124, 1.4232673267326732, 1.0, 1.1964809384164223, 1.0289480923461074, 1.0445539450049113, 1.4210526315789473, 1.25, 1.0240508845160008, 1.48, 1.0149627829257177, 1.0449485402226424, 1.2532877290586542, 2.0, 1.0336085639600017, 1.3333333333333333, 1.5395416760278589, 1.0, 1.2017353579175705, 1.3, 1.5, 1.4285714285714286, 1.9444844989185293, 1.2165532879818595, 7.5, 1.2647058823529411, 2.3684210526315788, 1.2472460220318238, 1.0333333333333334, 1.2838427947598254, 1.053731198682394, 1.0911074740861975, 1.023121896759409, 1.9751037344398341, 1.416103896103896, 1.0472103004291846, 1.0355669221676196, 1.1078912399059593, 1.0, 1.0116659917581763, 1.0461961828139505, 23.0, 1.3358276351438525, 1.0816629547141796, 1.0724554473635863, 1.1052048726467332, 1.2420440417839638, 1.0381478124742523, 1.0279274865262127, 1.079700842775018, 1.0666666666666667, 1.4786729857819905, 1.020712300366801, 1.2666666666666666, 1.2761780104712042, 1.3873978996499416, 1.121343669250646, 1.0344827586206897, 2.0, 1.1272727272727272, 1.003641379310345, 1.02541645975351, 1.0100837762757837, 1.7242921013412817, 1.032258064516129, 1.5217391304347827, 1.0, 3.0, 1.0185676392572944, 1.0901180857675574, 1.0419788918205806, 1.0307988141975803, 1.6538461538461537, 1.1524064171122994, 1.255467357848696, 1.0427753452340855, 1.2359208523592085, 1.3304347826086957, 1.0192307692307692, 1.504118821767349, 1.519650655021834, 1.022398319648654, 1.025664115263395, 1.0006261468488291, 1.5, 1.001416430594901, 1.2079081632653061, 1.1095725466586395, 2.5, 1.2425109154355778, 4.590909090909091, 1.1333333333333333, 1.5248544558889388, 1.0, 1.3076923076923077, 1.2127669524551832, 1.006496572209818, 1.0119625725453039, 1.1763082186455174, 1.0260533933740752, 1.3076923076923077, 1.1861498923386817, 1.2695223654283547, 1.0583623693379791, 1.0761042456870182, 1.4458333333333333, 1.2576687116564418, 1.0778733730421355, 1.014675922796922, 1.4, 1.2272685056190211, 3.3333333333333335, 1.1582435791217895, 1.1101694915254237, 1.1441380976670514, 1.01712363558375, 1.0052817782224923, 3.0, 1.5254619197836863, 1.0258181818181817, 1.0197150505921322, 1.2, 2.125, 2.0, 1.0876761869436202, 1.2226198418956349, 1.2088654287762757, 5.0, 1.0416666666666667, 1.1206140350877194, 1.0161291683186693, 1.0003735207728484, 1.007004344800346, 1.110153846153846, 1.3148035764858195, 1.39924670433145, 1.185201401050788, 1.0, 1.020239175961962, 1.000127616130679, 1.0233644859813085, 1.2262773722627738, 1.7678571428571428, 1.1428889452621442, 1.2037037037037037, 1.160588825694212, 1.3454831678372488, 1.21875, 2.1296296296296298, 1.0149812734082397, 1.8531073446327684, 1.385185185185185, 1.4, 1.0788272096683311, 1.6869565217391305, 1.226619611797328, 1.0012917837997792, 1.0438517179023508, 1.1616161616161615, 1.3870967741935485, 1.7567567567567568, 1.123789020452099, 2.2, 1.000027624837704, 1.1572446555819478, 1.0, 1.0040899445547264, 1.5714285714285714, 1.0029044278825077, 3.0, 1.2105263157894737, 1.0166666666666666, 1.0856616518268345, 1.0129888165118106, 1.0717614165890028, 1.4079822616407982, 1.2281153450051494, 1.0, 1.0086551026618693, 1.399269311064718, 1.1182432432432432, 1.5789473684210527, 1.0474581831051977, 1.0201995258790992, 1.2952501183525327, 1.0009147038646238, 2.0, 1.2328767123287672, 1.880952380952381, 1.4774774774774775, 1.016326051209772, 2.16, 1.2851637764932562, 1.411764705882353, 1.2222222222222223, 1.034006296770336, 1.4818304172274563, 1.0677568265393944, 1.9166666666666667, 2.5510204081632653, 1.0963541666666667, 1.1409676296554125, 1.0666666666666667, 1.8326848249027237, 1.6875, 1.3211146838156484, 1.0671641791044777, 1.0588235294117647, 1.030050509655185, 1.0070706719312588, 1.06396255850234, 1.01413498497346, 1.022564309402169, 3.0, 1.1320754716981132, 1.055996328109632, 1.5314685314685315, 1.0972762645914398, 1.5524781341107872, 1.1476213830308974, 1.0328820116054158, 1.3191042687193841, 1.4631793332618717, 1.3519561212701519, 1.4419291338582678, 1.1134831460674157, 3.2, 1.0025891618458018, 1.4768638058936843, 3.0, 1.0390879478827362, 1.0783615316117543, 1.0018703241895262, 1.29478672985782, 1.0405456311834567, 1.133668903803132, 1.4, 1.156760514424748, 1.0009615874935347, 1.0249947321419612, 1.3333333333333333, 1.0, 2.6, 1.1481237656352863, 2.0, 1.032590582806358, 1.0158759597907934, 1.525247254414174, 1.1287133681252508, 1.1637630662020906, 1.017451975188319, 1.066022257098017, 1.394638403990025, 1.0142823527004492, 30.482758620689655, 1.1403301886792452, 1.0067503629385386, 1.1300699300699302, 1.0148327000546442, 1.0024484669017033, 1.0, 1.0688755358711957, 1.0302702702702702, 1.0140446939521828, 1.1428571428571428, 5.0, 1.0102320482367988, 1.0014706632102812, 3.0, 1.5517711171662125, 1.5083932853717026, 1.092378752886836, 1.161640934173123, 1.46946399779779, 1.3892215568862276, 1.1793313069908815, 1.075, 1.1678414878252716, 1.0629509698478914, 1.1666666666666667, 1.03074701914221, 1.4757586156184126, 1.401988812927284, 1.608637873754153, 1.0924821002386635, 1.0376943588322887, 1.1782819342215596, 1.0232131948686622, 1.0027637501044615, 1.0102135561745589, 1.4553477935676888, 1.8571428571428572, 1.2009345794392523, 1.0157628139279515, 1.345724907063197, 1.5195118767945706, 1.3541666666666667, 1.055622009569378, 1.25, 1.0117164115282649, 1.0163314571453204, 1.0522388059701493, 1.2872340425531914, 2.59375, 1.00333003150837, 2.0, 1.1904761904761905, 1.3333333333333333, 2.75, 1.3316939890710382, 1.3039982005285948, 1.3145539906103287, 1.0110877461288472, 1.0067349210426528, 1.3773209549071619, 1.0317563188593648, 1.1904761904761905, 1.070811287477954, 4.142857142857143, 1.078755160368371, 1.2141057934508817, 1.1125, 1.68503937007874, 1.1873251470839539, 1.1481481481481481, 1.0732984293193717, 1.32317880794702, 1.081180811808118, 1.0157712410356143, 1.1136482763255158, 1.3186200985643883, 1.2608695652173914, 1.2594654788418709, 1.6627534685165422, 1.4829227656789241, 1.4806698863499843, 1.0378787878787878, 1.2307692307692308, 1.0088452761296212, 1.5067920585161965, 1.0714285714285714, 1.5276108909625463, 1.064102564102564, 1.0304407309684354, 1.2649945474372954, 1.286447638603696, 1.177449168207024, 1.3604436229205175, 1.291842301016613, 1.0399429386590584, 1.234159779614325, 1.6666666666666667, 1.0031271716469772, 1.0169584796273474, 1.115960791566488, 1.1788819875776397, 1.206213981458281, 1.5555555555555556, 1.0679777682770415, 1.0, 1.0336451599951821, 1.6, 1.1350334448160535, 1.1428571428571428, 1.5, 1.508338125359402, 1.3032016565785283, 1.4627727856225932, 1.4324324324324325, 1.0502092050209204, 53.0, 1.0, 1.0024660429796062, 1.1984334203655354, 1.0092378752886837, 9.0, 1.0, 1.0381750465549349, 1.2789422798027652, 1.0601626016260162, 1.0472873762283046, 1.3333333333333333, 1.0931790499390988, 1.0840018876828692, 1.0229430379746836, 1.1991252050300711, 1.1604226705091258, 1.0077475555555555, 1.0174446016030174, 1.0890937019969278, 1.0449826989619377, 1.12157606405394, 1.1379310344827587, 1.2645833333333334, 1.2857142857142858, 1.2275233437083148, 1.1601246105919003, 1.2291457286432161, 1.3563218390804597, 1.1433092714226876, 1.0, 1.0372464938992811, 1.4664310954063604, 2.3333333333333335, 1.0165289256198347, 1.3778420908230005, 1.25, 1.1413727688195223, 1.036050156739812, 1.2369942196531791, 1.3025830258302582, 1.1695364238410597, 1.1818181818181819, 1.4610389610389611, 1.0, 1.0529765155652648, 1.4814814814814814, 1.0094183972693327, 11.0, 1.0095130745360594, 1.2893347412882787, 1.8157894736842106, 1.6, 1.3602609131961867, 1.3636363636363635, 1.3350409836065573, 1.3053132434575734, 1.8115015974440896, 1.8627925746569813, 1.004474416338671, 1.0909090909090908, 1.0, 1.024033930254477, 2.8, 1.009988121708791, 1.0142390841572448, 1.0111740992693374, 1.4106666666666667, 1.2987012987012987, 1.0333587980646803, 1.229786286731968, 1.4854294478527608, 1.2665812207330858, 2.0, 1.272257556143412, 1.3025280962910617, 1.397986057319907, 1.0050320372295085, 1.2311696894045083, 1.054054054054054, 1.1858960763520678, 1.0743791567514795, 1.4, 1.003634947423082, 1.000494417556938, 1.2745974076983504, 1.7391304347826086, 1.04162724692526, 1.1102435977514054, 1.0179169329073483, 1.4994936511646024, 1.0271639042357275, 1.0645962732919254, 1.3972602739726028, 1.0038097560232242, 1.0329432162982228, 1.53125, 1.627027027027027, 1.2321724709784412, 1.3636363636363635, 1.0268813582159941, 1.5625, 1.00987335694136, 1.0196963877267835, 1.41984126984127, 1.0004628558204118, 1.0707164386737769, 2.923076923076923, 1.0123820031874464, 1.2188006482982172, 1.0077798440618975, 1.2756598240469208, 1.0152783091048203, 1.0620462473594328, 1.005449591280654, 1.662202380952381, 1.0153061627548723, 1.0308066401432692, 1.3661449130666106, 1.2643976016656093, 1.0, 1.0, 1.0080759730203628, 1.593764370458935, 1.5014749262536873, 1.0, 4.0, 1.0066613375965894, 3.789473684210526, 4.5, 1.2558276385725133, 1.3409090909090908, 2.0, 1.224, 1.4545454545454546, 1.2941176470588236, 1.0, 1.0193861066235865, 2.022222222222222, 1.0575692963752665, 3.0, 1.1428571428571428, 1.1428571428571428, 1.3333333333333333, 1.0418502202643172, 1.0163048739449312, 1.0124014835419564, 1.1029126439185342, 1.0, 1.0359780475394345, 2.145715528490648, 1.5319148936170213, 1.2030981067125646, 2.25, 1.0094876660341556, 1.1630170316301702, 2.9093264248704664, 1.0057716502107479, 1.055095387055558, 1.2146341463414634, 1.4818601231068467, 2.0, 1.2198471385074257, 1.2222222222222223, 1.06697651443711, 1.0, 1.0215616228629751, 1.0, 1.2791927542398638, 1.3455462922334358, 1.0102201257861636, 1.1714285714285715, 2.0, 1.263118994826312, 5.416666666666667, 1.5, 1.0036595681019156, 1.0734229576008274, 1.0003874383865343, 1.083605220228385, 1.0265718019456949, 1.0773638968481376, 1.0, 1.083599234205488, 1.0617862856512386, 1.0198210598761184, 1.0133085046814163, 2.0, 1.4526239067055393, 1.0207315396823413, 1.1122159090909092, 2.857142857142857, 1.1754385964912282, 1.25, 1.0, 1.0189274447949528, 1.129689174705252, 1.091657185297557, 1.077016450238345, 1.0032362459546926, 1.196949379818974, 1.2153846153846153, 1.2491582491582491, 1.1515151515151516, 1.5, 1.0903794268410223, 1.0535714285714286, 1.0070614481788642, 1.0621252402961265, 1.0612028669367404, 1.0, 1.0304182509505704, 1.069266589057043, 1.007756985101502, 1.1237113402061856, 1.0101823483183179, 1.3838383838383839, 1.4285714285714286, 1.5548553228976079, 1.0097753702741967, 1.0, 1.8257839721254356, 1.086682808716707, 1.0624226251066053, 1.0, 1.0042868206182047, 1.4789915966386555, 4.0, 1.2847055610821776, 2.5555555555555554, 1.0864779874213837, 1.3375527426160339, 1.214680673147277, 1.0766773162939298, 1.955177743431221, 1.0023253544946014, 1.0770882732226799, 1.112970711297071, 1.1505832449628843, 1.2272727272727273, 1.0077634956182062, 1.0153181461115475, 1.0196245923592666, 1.4789915966386555, 2.6363636363636362, 1.4285714285714286, 2.1666666666666665, 1.1163213376953836, 1.248937326582568, 1.239766081871345, 1.2118633635943992, 1.3951612903225807, 1.0174183564252488, 1.0731108221355294, 1.7124183006535947, 1.237037037037037, 1.040084388185654, 1.0142237411621848, 1.3206024744486282, 1.2986593550774614, 1.1592592592592592, 1.1441879303361684, 1.2273328046523924, 1.0175435735177394, 1.2164750957854407, 1.5, 1.1347000759301442, 1.1788496602022212, 1.2424228508449668, 1.0862364490350154, 1.0318691293709055, 1.454352441613588, 1.4440677966101696, 1.681592039800995, 1.3068181818181819, 1.25, 1.0710642040457343, 1.1557734204793029, 1.0, 1.377758164165931, 1.0258944093695672, 1.0342098299131524, 1.2133333333333334, 1.2244318181818181, 1.5, 1.1257512713823394, 1.6646825396825398, 3.4, 1.0, 1.0762690928810292, 1.4633821571238348, 1.1984375, 1.0349007777254988, 2.142857142857143, 1.1961414790996785, 1.1234991423670668, 2.1842105263157894, 1.4374956962443708, 1.2813793103448277, 1.2181512725193022, 1.0085198372329602, 1.0476190476190477, 1.0478050114274335, 1.3047619047619048, 1.029887787499091, 1.0357484228636973, 1.2770409116383337, 1.0760204635673694, 1.5, 1.2067796610169492, 1.1675392670157068, 1.0754098963988001, 1.0092568540143085, 1.0213333333333334, 1.009233544829823, 1.0019489504202088, 1.0214479623848975, 1.3185011709601873, 1.0, 2.5, 2.0, 1.0683453237410072, 1.0121347785108388, 1.4949741271635044, 1.1521239954075775, 1.2171680117388115, 1.3627019089574155, 1.0212490023942538, 1.0880316518298714, 1.0449249571903434, 1.2569124423963134, 1.2519375076885226, 1.1006456513482719, 1.0198639455782312, 1.25, 1.0320436158986985, 1.3013519406890537, 1.2300929575915367, 1.1363636363636365, 1.0826086956521739, 1.5660377358490567, 1.0532504957858204, 1.0, 1.2883333333333333, 2.586206896551724, 1.036089086109639, 1.7431192660550459, 1.2348178137651822, 1.2316715542521994, 1.0916496945010183]
origin-bjaq_15.71 	max: 53.0000	99th: 6.1021	95th: 2.5026	median: 1.1667	mean: 1.5003

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.215609 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=248.081115