Input arguments = Namespace(data_update='valueskew', update_size=20000, dataset='bjaq', debug=False, drift_test='distribution', model_update='adapt', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=15)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 7, 'transformer': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.7525	95th: 1.6667	median: 1.0833	mean: 1.1760
ReportEsts: [1.0294117647058822, 1.0330729166666666, 1.0645877638412684, 1.0297029702970297, 1.5, 1.0, 1.0165064772252403, 1.0560332818616687, 1.0, 1.0143229166666667, 1.130320607162439, 1.0436636495718012, 1.0521431727794963, 1.1093023255813954, 1.055810667608619, 1.0, 1.2328767123287672, 1.0626992561105206, 3.0, 2.0, 1.2857142857142858, 1.112097083653108, 1.1605197098011089, 1.1262477980035233, 1.0873211642821905, 1.0, 1.1487644801491947, 1.5, 1.2, 1.014388489208633, 1.0, 1.0515128882249904, 1.0081750405983958, 1.0893451720310765, 1.0995740931120577, 1.219584692234653, 1.0909090909090908, 1.002868608943826, 1.0910186651973277, 1.0595238095238095, 1.1800302571860817, 1.0853658536585367, 1.0, 1.059432820845752, 1.1763745236799128, 1.8615384615384616, 1.0729166666666667, 1.1590106007067138, 1.0356129294572067, 1.1481481481481481, 1.0799890728864492, 1.2061855670103092, 1.040484676184394, 2.0, 1.316883116883117, 1.2498728531747585, 1.1946133796698524, 1.3658536585365855, 1.0372670807453417, 1.25, 1.1419483824063976, 1.0965130759651307, 1.0727272727272728, 1.0357142857142858, 1.3636363636363635, 1.0465099431303655, 1.291917591125198, 1.75, 1.0, 1.017066464397459, 1.0194647201946472, 1.0646100116414436, 1.0277777777777777, 1.0721937374107307, 1.0894117647058823, 1.0671936758893281, 1.0, 1.1135699373695198, 2.0, 1.010277000681268, 1.1428571428571428, 1.0363388598682717, 1.098159509202454, 1.0506024096385542, 1.1197252208047106, 1.04, 1.0744541795545433, 1.027102938352218, 1.0833333333333333, 1.75, 1.1304785894206548, 1.0621371558310932, 1.0996884735202492, 1.0420757363253856, 1.0055096418732783, 1.0026041666666667, 1.0150375939849625, 1.1467710371819961, 1.0, 1.2272229522558038, 1.024622030237581, 1.0274442538593482, 1.2250994293619228, 1.36, 1.018420465507977, 1.0514998672683833, 1.148710453109529, 1.130830489192264, 1.0502759043531575, 1.1666666666666667, 1.6666666666666667, 1.0771028037383177, 1.0483844179779374, 1.0372710044219835, 1.155844155844156, 1.0576528144998714, 1.0, 1.0889309366130557, 1.1675977653631284, 1.0, 1.0340909090909092, 1.0, 1.2105263157894737, 1.0321109841638163, 1.0858895705521472, 1.087378640776699, 1.8, 1.1100993377483444, 1.0, 1.2727272727272727, 1.1018494852317224, 1.3, 1.0751953125, 1.0303214907019538, 1.0498704929490605, 1.0427236315086783, 1.0055096418732783, 1.053390491036633, 1.039972432804962, 1.0792199878123097, 1.0389259249871148, 1.2, 1.0400271370420624, 1.1185698117340668, 2.0, 1.02461257976299, 1.0011428571428571, 1.1025991792065664, 1.1104640903476266, 1.5, 1.2223298619520464, 1.0074074074074073, 1.0351966873706004, 1.1074561403508771, 1.091970802919708, 1.137390424814565, 1.06870099357432, 1.2053915973694223, 1.0800821355236139, 1.0361842105263157, 1.3061224489795917, 1.3269230769230769, 1.01620029455081, 1.4285714285714286, 1.0529337997491914, 1.0476252201694256, 1.1792260692464358, 1.368210238374365, 1.129744651483782, 1.0749781346903078, 1.2842105263157895, 1.1753086419753087, 1.1000290500629417, 1.0773420479302833, 1.006902502157032, 1.086491739552964, 1.0156874807751461, 1.0997401048101914, 1.0435951875442322, 1.0, 1.1746031746031746, 1.0539937527889336, 1.0281100478468899, 1.1519284040059663, 1.1842105263157894, 1.0908877812870115, 1.336536613492216, 1.0570742159600026, 1.1153846153846154, 1.0327272727272727, 1.0853953002091008, 1.0, 1.3636363636363635, 1.044025664823857, 1.052568697729988, 1.0289373814041747, 1.25, 1.0463022508038584, 1.0352589958739473, 1.0434731765729441, 1.0626410835214446, 1.118267102350585, 1.1977401129943503, 1.1428571428571428, 1.2537313432835822, 1.0, 1.322314049586777, 1.1861693739157861, 1.3414634146341464, 1.2298850574712643, 1.0123578843302026, 1.0031277926720286, 1.0169701193483753, 1.0487182332704472, 1.217250375523757, 1.1363636363636365, 1.0564885496183205, 1.013464696223317, 1.0359009707622495, 1.0042523439470004, 1.0, 1.0728778467908904, 1.1484450396864476, 1.0108788864775502, 1.15679012345679, 1.011700630635326, 1.279852766049583, 1.0357142857142858, 1.0045303355648183, 1.06691593604951, 1.0177956371986223, 1.0786516853932584, 1.1059876118375773, 1.0754352030947776, 1.1866141732283464, 2.0, 1.209142857142857, 1.1145042429656096, 1.087669948429442, 1.1355932203389831, 1.0, 1.6666666666666667, 1.0774520321485728, 1.1090909090909091, 1.1125227507940474, 1.5, 1.0, 1.1764705882352942, 1.0979703356752537, 1.2244897959183674, 1.0524861878453038, 1.0664556962025316, 1.0435510887772195, 1.0042158516020236, 1.0707109812043902, 1.0363636363636364, 2.0, 1.0760183414553903, 1.0990121408641882, 1.1401050788091067, 1.0033237870267784, 1.1263874585192815, 1.0064375557096168, 1.0890302066772655, 1.089695966762319, 1.0340909090909092, 1.0297695720624016, 1.0041928721174005, 1.2727272727272727, 1.033507554407876, 1.208762886597938, 1.1818181818181819, 1.3157894736842106, 1.0287272727272727, 1.0555555555555556, 1.0341880341880343, 1.1106385842137136, 1.139275766016713, 1.3358395989974938, 1.0096988649388972, 1.0642857142857143, 1.03292575584926, 1.0570805195970654, 1.25, 1.0666787922881047, 1.6666666666666667, 1.0622048761684495, 1.0518358531317495, 1.0511811023622046, 1.0526315789473684, 1.6666666666666667, 1.3478260869565217, 1.0289855072463767, 1.0486030137946414, 1.0, 1.0030674846625767, 1.085972850678733, 1.0060096153846154, 1.0167946424422656, 1.1317365269461077, 1.1446540880503144, 1.0207558595940338, 1.2317396152773905, 1.1060686482661004, 1.1282051282051282, 1.0, 1.1431980906921242, 1.2378048780487805, 1.1223776223776223, 1.1192080876158383, 1.0075062552126772, 1.287323943661972, 1.18, 1.0041322314049588, 1.012125902992776, 1.2857142857142858, 1.002841748000997, 1.038022813688213, 1.0555555555555556, 1.069765214535902, 1.1428571428571428, 1.4, 1.0034573849827764, 2.0, 1.1810699588477367, 1.0290697674418605, 1.110746513535685, 1.1044277360066834, 1.0757180156657964, 1.0705882352941176, 1.0815757788931126, 1.0565062518763744, 1.0841949778434268, 1.011277416144948, 1.07823869177106, 2.0, 1.0, 1.0523663703466715, 1.25, 1.067966573816156, 1.3529411764705883, 1.0, 1.4666666666666666, 1.3283132530120483, 1.068932955618508, 1.1025641025641026, 1.0335497835497836, 1.0, 1.126498002663116, 1.0654844722127426, 2.0, 1.1036331149493745, 1.0, 1.0962878615349578, 1.1265822784810127, 1.0187352400944634, 1.1382488479262673, 1.1363636363636365, 1.4110576923076923, 1.1574074074074074, 1.0170968052847367, 1.0232339910739099, 1.072857142857143, 1.0, 1.0769230769230769, 1.5714285714285714, 3.0, 1.2307692307692308, 1.0702375804004751, 1.3333333333333333, 1.0, 1.3116883116883118, 1.2462893955662224, 1.1064811181738121, 1.258496395468589, 1.019494167099608, 1.00754060324826, 1.0357142857142858, 1.5, 1.0666666666666667, 1.1063829787234043, 1.0277364221651892, 1.0952380952380953, 1.5714285714285714, 1.022271714922049, 1.011764705882353, 1.0160214125366949, 1.0024570024570025, 1.1464387464387464, 1.0024623803009576, 1.075, 1.0907770515613653, 1.1091101694915255, 1.1730769230769231, 1.0269121813031161, 1.1081081081081081, 1.0708579975813124, 1.0816074006422531, 1.011350019408955, 1.127906976744186, 1.3058823529411765, 1.0914634146341464, 1.0, 1.022691957004713, 1.056041851507217, 1.007655958925894, 1.055832828300833, 1.0099468855625302, 1.140133460438513, 1.8333333333333333, 1.1497504159733778, 1.0, 1.215200683176772, 1.25, 1.0331325808388947, 1.027536231884058, 1.0332115219260534, 1.0909090909090908, 1.0834782608695652, 3.0, 1.235613463626493, 1.0143973863206373, 1.1211375758690454, 2.0, 1.2222222222222223, 1.2735124760076775, 1.2985074626865671, 1.1198663045748902, 1.2162162162162162, 1.3125, 1.0940465918895599, 1.0261901906703441, 1.018204621465491, 1.1035711857657604, 1.1271929824561404, 1.1293532338308458, 1.1515151515151516, 2.142857142857143, 1.1225071225071226, 1.5, 1.2298657718120805, 1.0909090909090908, 1.1655852966572098, 1.9230769230769231, 1.1010020774776976, 1.1593256457406038, 1.067859346082665, 1.0, 1.1287128712871286, 1.16, 1.2855284878195188, 1.135667396061269, 1.0, 1.0382011605415862, 1.103496548818821, 1.0729382511396601, 1.5, 3.0, 1.0054666146036704, 1.0145454545454546, 1.0295081967213116, 1.2222222222222223, 1.0817619039123687, 1.0558325024925224, 1.4705882352941178, 1.050734463276836, 1.0545454545454545, 1.0551181102362204, 1.0024252223120453, 1.1998317206562894, 1.0365940735451624, 1.0, 1.0571428571428572, 1.0757920748389374, 1.0309564330154124, 1.0274464360960747, 1.0, 1.0935633709356336, 1.0148637245663517, 1.0209533787323206, 1.0, 1.0358851674641147, 1.0115931453321407, 1.0336208673123914, 1.0500633436721856, 1.0141106539847164, 1.0391850272447287, 1.0059171597633136, 1.026036644165863, 2.0, 1.0550932864747533, 2.1142857142857143, 1.25, 1.160621761658031, 1.1153846153846154, 1.007551762077818, 1.120952380952381, 1.041621270332779, 1.1918311151904544, 1.0968382371075542, 1.099147842553767, 1.058185096570616, 1.197674418604651, 4.0, 1.0043641799681728, 1.1979757085020244, 1.0453466413293788, 1.0303996700587947, 1.099949264332826, 1.1063075832742735, 2.4022988505747125, 2.2857142857142856, 1.0049301261138432, 1.0357759629204595, 1.0588926075979097, 1.1381112355356475, 1.0874469726185885, 1.056644880174292, 1.0754883480494797, 1.0125614418350628, 1.2058371735791091, 3.0, 1.0833333333333333, 1.0076687116564418, 1.0803059273422562, 1.0700179533213645, 1.1584022038567494, 1.0490196078431373, 1.5546875, 1.148905109489051, 1.116564417177914, 1.0752062802539386, 1.2696629213483146, 1.004203686309533, 2.0, 1.172704296545914, 1.0202429149797572, 1.5494505494505495, 1.0639664804469273, 1.0166852057842046, 1.0743099787685775, 1.0038910505836576, 1.076125009582705, 1.0, 1.3617021276595744, 1.1666666666666667, 1.0, 1.125, 1.0221774193548387, 1.0, 1.0679611650485437, 1.0645626401794297, 1.068445475638051, 1.024030028765874, 1.1664174813110983, 1.032258064516129, 1.102575066006777, 1.0702702702702702, 1.1236702127659575, 1.050314465408805, 1.0615141955835963, 1.1401734104046244, 1.170508367540259, 1.031470126184564, 1.237132981349945, 1.0778618386110685, 2.0, 1.00982800982801, 1.0766169154228855, 1.4074074074074074, 1.0, 1.1333333333333333, 1.25, 1.1770833333333333, 1.3333333333333333, 1.1666666666666667, 1.0019249627719464, 1.13578103869366, 1.0267208153340748, 1.0474345798086806, 1.1783783783783783, 1.1032171581769437, 1.0, 1.1407407407407408, 1.0275690999291283, 1.0637500996095306, 1.0840887777430448, 1.1128260621938717, 1.0201364316200343, 1.1948051948051948, 1.0695437436520423, 1.0941385435168738, 1.016918178352804, 1.0956343304655585, 1.303030303030303, 1.0668789808917198, 1.0, 1.2387640449438202, 1.2092081182784644, 3.0, 1.1208866544789762, 1.0526399599626926, 1.4285714285714286, 1.041690119704304, 1.7, 1.1176470588235294, 1.0955417966264762, 1.6153846153846154, 1.0039096962885077, 1.0226398974797095, 1.3571428571428572, 1.16, 1.1608247422680413, 1.0478240076518412, 1.0245033112582782, 1.0920814554067835, 1.1568118684941542, 1.0, 1.0916250271562025, 1.1280487804878048, 2.0, 1.0041223743023229, 1.11344406955619, 1.140964995269631, 1.0235983316883697, 1.1059132648915133, 1.0089285714285714, 1.8571428571428572, 1.0596533655783957, 1.0129032258064516, 1.095583119814026, 1.1692667706708268, 1.002895819846481, 1.0550021594059544, 1.1556776556776556, 1.0603550295857989, 1.1872909698996656, 1.055416593271094, 1.0630914826498423, 1.0815217391304348, 1.0031512605042017, 1.0609039337859203, 3.0, 1.1348496794251968, 1.0270962867673334, 1.0428613688904471, 1.4615384615384615, 1.2994028607137897, 1.1782608695652175, 1.1428571428571428, 1.062460323058475, 1.0420575865415722, 1.1310043668122272, 1.0303030303030303, 1.3333333333333333, 1.1007062221252848, 1.5, 1.0537383177570094, 1.0833333333333333, 1.0095248063638267, 1.44, 1.2362869198312236, 1.070230607966457, 1.0, 1.6243386243386244, 1.2625928984310488, 1.25, 2.0, 1.146551724137931, 1.2137931034482758, 1.0635472652545053, 1.1927409261576971, 1.0810810810810811, 1.2654867256637168, 1.1014466214978942, 1.0597402597402596, 1.1556603773584906, 1.1346938775510205, 1.0384615384615385, 1.0, 1.0827886710239651, 1.025974025974026, 1.0609504132231404, 1.081698980163622, 1.072694491570519, 1.0359897172236503, 1.0694572080751785, 1.157244071717756, 1.173728813559322, 1.006002400960384, 1.5714285714285714, 1.0, 1.2592592592592593, 1.014123093268574, 1.089143865842895, 1.107843137254902, 1.0960591133004927, 1.0933180603283696, 1.091974172436965, 1.010741323900524, 1.0985915492957747, 1.2222222222222223, 1.032874617737003, 1.0472560975609757, 1.0632773328123983, 1.0263683104455517, 1.0482758620689656, 1.0554489072652098, 1.0235399827118181, 1.0728021978021978, 1.35030549898167, 1.125, 1.055767397521449, 1.3273542600896862, 1.1555555555555554, 1.112121212121212, 1.0701001430615165, 1.0, 1.0330188679245282, 1.0144257204774072, 1.148936170212766, 1.0987430245424656, 1.0535714285714286, 1.2647058823529411, 1.0560261003070623, 1.0277217015140592, 1.0696011281224818, 1.0610687022900764, 1.083640836408364, 1.1994862434935443, 1.1691022964509394, 1.2857142857142858, 1.0, 1.4285714285714286, 1.0757175729683905, 1.3333333333333333, 1.1667278736687476, 1.095282968068494, 1.0416482055826317, 1.047666335650447, 1.0508577607039467, 1.0115755627009646, 1.007168458781362, 1.0346740638002774, 1.0053490501796323, 1.0911370453693288, 1.0494873678173642, 1.2349150909309887, 1.4285714285714286, 1.0, 1.023715415019763, 1.0639883531491559, 1.006514657980456, 1.2822384428223845, 1.0600375234521575, 2.211206896551724, 1.056622851365015, 1.0536912751677852, 1.0578708133971293, 1.1875, 1.0484138563998777, 1.01927733205099, 1.378804347826087, 1.0581052631578947, 1.1851851851851851, 1.1675, 1.0691489361702127, 1.625, 1.0268519160141363, 1.4615384615384615, 1.305263157894737, 1.1206896551724137, 1.1133633633633633, 1.0607251294874085, 1.009501187648456, 2.75, 1.087378640776699, 1.0909224603845729, 1.0607755986443692, 1.0004669435122868, 1.0104549727082337, 1.0710744380792208, 1.0833333333333333, 1.093183779119931, 1.0453213518265285, 1.0146542547167674, 1.0250501002004009, 1.0069444444444444, 1.1190261496844003, 1.023661507231667, 1.3825301204819278, 1.0418067799690993, 1.0, 1.3333333333333333, 1.0617320576528468, 1.0154776980441818, 1.2268400716237866, 1.1224538967658233, 1.0654429369513168, 1.0514018691588785, 1.105794915772146, 1.0904904443932766, 1.1286764705882353, 1.010928961748634, 1.0430971512052594, 1.0733568939282383, 1.0952380952380953, 1.75, 1.0546166259595255, 1.1716440911671668, 1.0068886337543055, 1.0114942528735633, 1.2078204199855178, 1.030961461260538, 1.1608096710711273, 1.3986013986013985, 1.3461538461538463, 1.0141509433962264, 1.1229314420803782, 1.13125, 1.5357142857142858, 1.0623198122695274, 1.1902874132804757, 1.169983416252073, 1.024390243902439, 1.0183635938074698, 1.0005762581636573, 1.0698460508701473, 1.2173697761933056, 1.3333333333333333, 1.1666666666666667, 2.0, 1.1337513061650992, 1.2692307692307692, 1.3333333333333333, 1.1538461538461537, 1.0230352303523036, 1.1032608695652173, 1.0026409818238309, 1.0632069082289197, 1.1418181818181818, 1.3076923076923077, 1.1428571428571428, 1.0333333333333334, 1.054054054054054, 1.1, 1.1801470588235294, 1.0277010461762899, 1.0315016140402953, 1.3473684210526315, 1.1027540127066193, 1.047279915920124, 2.5, 1.069630158892178, 1.4141414141414141, 1.5, 2.0, 1.2062130177514794, 1.0864232948432906, 1.0614626129827445, 1.263975155279503, 1.0, 1.1944444444444444, 1.165644171779141, 3.0, 2.0, 1.0720126615668688, 1.2892861943809653, 1.0025053238131028, 1.6666666666666667, 1.0278632716983571, 1.0433772269558481, 1.0020512820512821, 1.0, 1.0047169811320755, 1.025872503008631, 1.0394736842105263, 1.2308720347477446, 1.0210503386272725, 1.2463343108504399, 1.09375, 1.0779830136009978, 1.080258302583026, 1.0413223140495869, 1.38, 1.0335239063922634, 1.3485073396008576, 1.0750637344833338, 1.3577235772357723, 1.0980392156862746, 1.2985074626865671, 1.0852503382949932, 1.0456226880394575, 1.0057421071123827, 1.12216133358881, 1.054585152838428, 1.5, 1.6666666666666667, 1.061241449849773, 1.1807387862796834, 1.2205796537638591, 1.0201519372614474, 1.043318280648938, 1.083776321753822, 1.1424870466321244, 1.0434782608695652, 1.076330477163745, 1.103542150356475, 1.3330714846818539, 1.1628721541155866, 2.5, 1.0533333333333332, 1.1131574648807578, 1.1654135338345866, 1.039720384066433, 1.0905694408657562, 1.0177556818181819, 2.6666666666666665, 1.064676616915423, 1.0015573571318122, 1.1866575279872058, 1.258555133079848, 1.0735946216564154, 1.127388535031847, 1.3830022075055188, 1.011137162954279, 1.0319169397479306, 1.066293459045374, 1.0633640552995391, 1.0683994528043776, 1.0, 1.2269629940245308, 1.0608830788920376, 1.0133868808567603, 1.0579590997841948, 1.1366223908918407, 1.052193645990923, 1.2857142857142858, 1.2170542635658914, 1.6666666666666667, 2.0, 1.2352941176470589, 1.0025575447570332, 1.0347551342812007, 1.0036391993761373, 1.0098541550831872, 1.025890868596882, 1.0146465718531097, 1.1521739130434783, 1.2564102564102564, 1.0393807389324972, 1.6, 1.5833333333333333, 1.5185185185185186, 1.1428571428571428, 1.0080536912751679, 1.170869788986104, 1.0557007661108608, 1.0935060297674117, 2.0, 1.0250773993808049, 1.180232558139535, 1.1330884430630122, 1.0400699101810142, 1.1401515151515151, 1.1267123287671232, 1.1473479601412038, 1.0790757083139806, 1.0112540192926045, 1.3148148148148149, 1.1033519553072626, 1.0, 1.0, 1.0416741175208326, 5.0, 1.5714285714285714, 1.542857142857143, 1.0533672172808133, 1.032967032967033, 1.0703991130820398, 1.086700666928207, 1.0, 1.0620732464307883, 1.0251168224299065, 1.1262626262626263, 1.2403846153846154, 1.4285714285714286, 1.032640949554896, 1.1646341463414633, 1.1393805309734513, 1.0416511714391967, 1.0375444362465625, 1.0405632226781052, 1.1469979296066253, 1.0, 1.2339975462199095, 1.0485516542690547, 1.0947363701578192, 1.1774193548387097, 1.070146567240936]
origin-bjaq_15.71 	max: 5.0000	99th: 2.7525	95th: 1.6667	median: 1.0833	mean: 1.1760

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/15 | Workload-time: 11.986419 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (20000, 5)
[2.3841858e-07 0.0000000e+00 2.3841858e-07 0.0000000e+00 6.6173077e-04]
Distance score: 0.00013244152069091797
SAUCE Drift detection: True
Detection latency: 0.0220s

DRIFT-DETECTED after 2-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (402168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 402168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.7143 nats / 37.0978 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/15 | Workload-time: 2.096952 | Model-update-time: 2.665011


WORKLOAD-START | Type: QueryWorkload | Progress: 3/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 402168, total size: 402168, split index: [335140 402168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 29.2857	99th: 18.2373	95th: 2.0000	median: 1.0874	mean: 1.5062
ReportEsts: [1.1396825396825396, 1.0056860321384424, 1.0185066663073574, 1.0655737704918034, 1.4285714285714286, 1.0, 1.0358190832743095, 1.041021986970684, 1.0, 1.0287141073657928, 1.1062686730806128, 1.0430189067259616, 1.0511959714645405, 1.1434878587196469, 1.0575727837749427, 1.0, 1.2025316455696202, 1.0387596899224807, 3.0, 2.0, 1.1666666666666667, 1.0567456700091158, 1.1417077133352245, 1.178508514386377, 1.0300820419325434, 1.0, 1.1923947647683055, 1.5, 1.4, 1.129496402877698, 1.0, 1.0414583010758989, 1.0025595480752432, 1.164816870144284, 1.0497870465560288, 1.219098476519554, 1.1214470284237725, 2.0, 1.068714632174616, 1.110803324099723, 1.0323523922105393, 1.0758536443487872, 1.016307919815971, 1.0062893081761006, 1.0031236905260752, 1.2105263157894737, 1.56, 1.0044444444444445, 1.0099160945842869, 1.2589285714285714, 1.1617823205302245, 1.0713128038897892, 1.0688140556368961, 1.1836335847260153, 1.099236641221374, 1.1207364805495648, 1.0175234737081114, 1.0705545985686633, 1.2816901408450705, 1.064364479641578, 1.3389830508474576, 1.0897993833183717, 1.0410958904109588, 1.0954545454545455, 1.010989010989011, 1.0833333333333333, 1.006159348301212, 1.219264134011367, 1.75, 1.0, 1.0881386050644157, 1.0441527446300716, 1.065891472868217, 1.0175054704595186, 1.0810297986114106, 1.0941176470588236, 1.079847908745247, 1.0, 1.1156299840510366, 1.0940170940170941, 1.0054487399312622, 1.1875, 1.1260064618698395, 1.0666666666666667, 1.1428571428571428, 1.0815765352887259, 1.037037037037037, 1.0726358507130973, 1.00335365515097, 1.0232558139534884, 1.75, 1.176529588766299, 1.0412653825575173, 1.0626865671641792, 1.0925666199158486, 1.0328767123287672, 1.0623376623376624, 14.0, 1.549090909090909, 1.0, 1.2363693665300977, 1.064821648216482, 1.0796100731112916, 1.2360212377633981, 1.206896551724138, 1.0249539600331368, 1.0628153380423815, 1.2460617839607202, 1.0842293906810037, 1.0568414884266042, 1.3333333333333333, 2.0, 1.0694076038903626, 1.0439201691109004, 1.0233672857998801, 1.0493827160493827, 1.059060803150546, 1.0, 1.1332138590203107, 1.1196754563894524, 1.0, 1.0282485875706215, 1.0, 1.3358395989974938, 1.021678049042805, 1.1026436272337912, 1.037037037037037, 1.8, 1.1628638867033831, 1.0, 1.1785714285714286, 1.0945978788143913, 1.1818181818181819, 1.0181016842436643, 1.019680587944315, 1.0374162096282755, 20.285714285714285, 1.4615384615384615, 1.0123762376237624, 1.127942681678608, 1.075101097631427, 1.002952739848937, 1.1911764705882353, 1.008176100628931, 1.1274227329005682, 2.0, 1.0133678309616214, 1.0342857142857143, 1.0674228103339634, 1.1533439209458267, 1.5, 1.207868399861958, 1.0548148148148149, 1.0155038759689923, 1.1321961620469083, 1.2891061452513966, 1.0082577111305335, 1.1231230382037722, 1.187131998715341, 1.0071942446043165, 1.0788643533123028, 1.3, 1.3398058252427185, 1.0351123595505618, 1.4285714285714286, 1.0571053318100447, 24.25925925925926, 1.1153324287652646, 1.3575455133536642, 1.1675324675324674, 1.0570720948730927, 1.3705263157894736, 1.0793650793650793, 1.085299788816454, 1.0551330798479088, 1.0244897959183674, 1.099630996309963, 1.037948413874889, 1.0905403692593687, 1.080787083753784, 1.148936170212766, 1.004335260115607, 1.0240549208980503, 1.0492443713375141, 1.351931330472103, 1.0439503522934068, 1.2553191489361701, 1.1428571428571428, 1.0892508461338193, 1.0539477221077325, 1.5263157894736843, 1.1431870669745958, 1.0368008900680388, 1.0149684220995574, 1.1071265069433847, 1.0302487116289492, 1.1904127829560587, 1.0572195082886202, 1.4532374100719425, 1.0, 1.04, 2.0, 1.1332349530937071, 1.8248587570621468, 1.11864406779661, 1.1506849315068493, 1.0, 1.4132231404958677, 1.1207801950487621, 1.2411575562700965, 1.3103448275862069, 1.0212564950401513, 29.285714285714285, 1.0480144582678073, 1.0625, 1.208342789705415, 1.2, 1.0455172413793103, 1.0079462102689487, 1.0426216983191443, 1.03538271095523, 1.0, 1.1383022774327123, 1.0828686292309688, 1.007798228557813, 1.1455805892547661, 1.0220087638947342, 1.2847986767974362, 1.0, 1.0093917854041363, 1.0844966936076414, 1.001601708489055, 1.0786516853932584, 1.0577007459412022, 1.0052283025444406, 1.2, 2.0, 1.1128056797265318, 1.0378976918278229, 1.1298640412564462, 1.191111111111111, 1.0833333333333333, 1.6666666666666667, 1.1525298535024007, 1.103448275862069, 1.0755577427821523, 1.5, 1.0, 1.1567164179104477, 1.4106848184818481, 1.0708486675420266, 1.0, 1.1656118143459915, 1.0016077170418007, 1.0032064128256513, 1.132827471400089, 1.0701754385964912, 2.0, 1.1693397487302861, 1.093930945743084, 1.1681260945709282, 1.0702385183017329, 1.0638171403869014, 1.051158443602735, 1.109865470852018, 1.0628071554943974, 1.005081874647092, 1.0859598853868195, 1.0388063367309346, 1.2727272727272727, 1.0455025946569287, 1.2511627906976743, 1.2222222222222223, 1.3157894736842106, 1.1114417989417988, 1.0555555555555556, 1.031496062992126, 1.1071018156745576, 1.0489690721649485, 1.2974238875878221, 1.0016308253634805, 1.0459482038429406, 1.020800133120852, 1.0482558846383583, 1.1111111111111112, 1.0801349641501476, 1.045520231213873, 1.031610426709516, 1.3246466930469192, 1.0540663218115172, 1.188861985472155, 1.185678073510773, 1.0361866125760648, 1.0940878860826635, 1.1167950128346167, 1.028811339650258, 1.0064935064935066, 1.0, 1.2727272727272727, 1.0890106128038344, 19.833333333333332, 1.0060975609756098, 1.0294559777748178, 1.0087209302325582, 1.3333333333333333, 1.0594059405940595, 1.2189944134078212, 1.1283011021002287, 1.0629186324188946, 1.2, 1.2393060521785193, 1.0250574272588056, 1.1378299120234605, 1.2653061224489797, 1.0169270833333333, 1.0019631901840491, 1.2857142857142858, 1.007788973824415, 1.0360360360360361, 1.1111111111111112, 1.1390926007005253, 1.380952380952381, 1.6, 1.0192306925203336, 2.0, 22.408163265306122, 1.0886627906976745, 1.0, 1.0606176134197485, 1.031331592689295, 1.0705882352941176, 1.1047955772692208, 1.0899130072969079, 1.3106060606060606, 1.032198919197118, 1.0945830969937607, 2.0, 1.0, 1.0923809959094128, 1.25, 1.0625662778366913, 1.411764705882353, 17.333333333333332, 1.4375, 1.4588353413654618, 1.0524444444444445, 1.3267326732673268, 1.106060606060606, 1.0, 1.2250332889480693, 1.0444657748648847, 2.0, 1.2650387135199523, 1.0, 1.0971398045075873, 1.0470588235294118, 1.002623950419832, 1.106837606837607, 1.12573673870334, 1.419463087248322, 1.3888888888888888, 1.0204573312481509, 1.0184732149208402, 1.021768707482993, 1.0, 1.0, 1.7142857142857142, 1.5, 1.0666666666666667, 1.0695249130938587, 1.3333333333333333, 1.276283618581907, 1.1505376344086022, 1.186461045463649, 1.067628889882579, 1.283757338551859, 1.0963727388655362, 1.0176600441501105, 1.1535714285714285, 1.8, 1.2377450980392157, 1.123404255319149, 1.0440182500597288, 1.1904761904761905, 1.5714285714285714, 16.076233183856502, 1.2482758620689656, 1.1151914503015998, 1.0159313725490196, 1.15359477124183, 1.0196078431372548, 1.025, 1.0968077723802914, 1.1271186440677967, 1.2115384615384615, 24.75, 1.070528967254408, 1.109447004608295, 1.0850325379609544, 1.0261833838143632, 1.0843373493975903, 1.0277777777777777, 1.031700288184438, 1.0, 1.0058029850746268, 1.0647096023990696, 1.020435788830182, 1.0517665655812598, 1.033467202141901, 1.136200716845878, 1.5714285714285714, 1.0245167373880246, 1.0, 1.1016042780748663, 1.1, 1.0388589506421084, 1.0840579710144929, 1.0815450643776825, 1.0888888888888888, 1.0869205298013245, 3.0, 1.1991570073761855, 1.0160352330028286, 1.1801852984878944, 2.0, 1.121212121212121, 1.2219202898550725, 1.2041522491349481, 1.1168826023218035, 1.2370517928286853, 1.05, 1.141914191419142, 1.0122700820342627, 1.0388134936021713, 1.1086146487959512, 1.2330043859649122, 1.0769230769230769, 1.1091549295774648, 1.875, 1.0857142857142856, 1.5357142857142858, 1.2213375796178343, 15.75, 1.2163467401643941, 1.4705882352941178, 24.25, 1.1685887437031734, 1.0730478589420656, 2.0, 1.7586206896551724, 1.0833333333333333, 1.010820474219044, 1.2142857142857142, 1.2737315875613748, 1.0485995410392632, 1.124817760953526, 1.2173913043478262, 1.0240274599542334, 2.0, 1.006998158379374, 1.0224719101123596, 1.0754098360655737, 1.2222222222222223, 1.0874361179982797, 1.1091743119266055, 1.5, 1.0396348012889367, 1.0521739130434782, 1.1320987654320989, 1.0206738131699846, 1.295499800876145, 1.03271913208197, 1.0, 1.0135135135135136, 1.1590603684362721, 1.0328815592430112, 1.088903114971962, 1.0, 1.0854166666666667, 1.0002804026582173, 1.0353178607467204, 2.0, 1.0125925925925925, 1.0304011110588014, 1.0515794741955427, 1.026289517470882, 1.0259720205004925, 1.0873726605069889, 1.0007987220447285, 1.1962341197822142, 2.0, 1.0004422387106284, 1.85, 1.25, 19.130081300813007, 1.1923076923076923, 1.0017127171201325, 1.2011439466158247, 1.0412676362057738, 1.1749891445940077, 1.0715037886592038, 1.078815196394076, 1.0637872732861973, 1.0686274509803921, 4.0, 1.0158358597680983, 1.0863157894736841, 1.049672753489315, 1.0375781549062142, 1.099009900990099, 1.099337748344371, 2.6265060240963853, 2.5714285714285716, 1.0011567647603183, 1.0686991396734358, 1.006642843243052, 1.136347704171048, 1.0842744244645517, 1.0309278350515463, 1.0774049217002237, 1.0535806285419886, 1.2270029673590503, 1.0642695848532222, 1.22398414271556, 1.231028231028231, 1.0205479452054795, 1.0439146800501882, 1.5, 1.193006993006993, 1.0971287572902646, 1.1262135922330097, 1.1369863013698631, 1.0538960310515806, 1.2417582417582418, 1.0956898297428228, 2.0, 1.3017857142857143, 1.126984126984127, 1.146153846153846, 1.1429333333333334, 1.0166852057842046, 1.1004098360655739, 1.045343137254902, 1.0952534032319885, 1.0, 1.3191489361702127, 1.125, 1.0, 1.2045454545454546, 1.0718038528896672, 1.066358024691358, 1.0135135135135136, 1.0603213094877235, 1.0747252747252747, 1.137175739861162, 1.1701169622755478, 1.0655015965854189, 1.1304866228051365, 1.0089058337967978, 1.1187648456057007, 1.0317489114658926, 1.0618734257152904, 1.0132924335378324, 1.083224967490247, 1.1584302325581395, 1.4761904761904763, 1.0615533354817919, 1.072538860103627, 1.0915178571428572, 1.2435897435897436, 1.2165274978404836, 1.385185185185185, 1.5, 1.1040787623066104, 1.0, 1.2088353413654618, 1.2962962962962963, 1.1666666666666667, 1.008595826712953, 1.1254748518462239, 1.0303620827442062, 1.0743700061462815, 1.2648648648648648, 1.099483204134367, 2.0, 1.1079136690647482, 1.039812959251837, 1.135070523547693, 1.0841676915584684, 1.0322108972882644, 1.0190915075707703, 1.1711491442542787, 1.0727407435551588, 1.1847246891651866, 1.0202929427430094, 1.1394089639865397, 1.1891891891891893, 1.0988553590010406, 16.5, 1.0550257210565863, 1.0, 1.0212765957446808, 1.1047619047619048, 1.2, 1.4285714285714286, 1.0185294423817621, 1.7, 1.2222222222222223, 1.023658008064295, 1.088268577895134, 1.05162176439514, 1.000019892777927, 1.0218446601941749, 1.3448275862068966, 1.1428571428571428, 1.0443159922928709, 1.0769966523194643, 1.0963880722385553, 1.1276252019386106, 1.1530458689046448, 1.0, 1.0925178515988823, 1.1615853658536586, 2.0, 1.056184699125862, 1.0536990582719907, 1.2327341532639546, 1.008930206310279, 1.0244568545325397, 1.0, 2.2857142857142856, 1.120291616038882, 1.0895161290322581, 1.1696070375561893, 1.1866118175018698, 1.0468633865551233, 1.123724268580653, 1.1884550084889642, 1.0873712323540634, 1.3277591973244147, 1.089809715137014, 1.0531026252983293, 1.0274093722369584, 1.0799798792756539, 4.642857142857143, 17.154411764705884, 1.0221351616062684, 1.3333333333333333, 1.4, 1.0837988826815643, 1.587327642810243, 1.053131597466573, 1.0902206124464933, 1.0, 1.0117328519855595, 1.015422077922078, 1.042857142857143, 1.121918293094507, 3.5, 1.007462686567164, 2.0, 1.1046770601336302, 1.0769230769230769, 1.0556310711799224, 1.3703703703703705, 1.051383399209486, 1.053159478435306, 1.0, 1.0285569580800997, 1.1530920060331824, 1.5, 2.0, 1.0725806451612903, 1.2655172413793103, 1.049733071087384, 1.2127403846153846, 1.024, 1.0841584158415842, 1.0871964679911699, 1.0648379052369077, 1.036, 1.1387755102040817, 1.1153846153846154, 1.0, 1.1231638418079095, 1.0820793433652531, 1.0754132231404958, 1.0669909352199867, 1.076757647986523, 1.1826892797696702, 1.1065220756921086, 1.2721587622903412, 1.144167758846658, 1.0227008149010477, 1.8333333333333333, 1.0, 1.2, 1.0964559459664567, 1.0456, 1.1191222570532915, 1.0484261501210654, 1.0149405279953583, 1.0425551839464884, 1.0162657374762356, 1.0684931506849316, 1.1578947368421053, 1.007173601147776, 1.0414899257688228, 1.0973533310971617, 1.0523781252061482, 1.0394736842105263, 1.0689461883408071, 1.0278706117921605, 1.2152269399707174, 1.3357418111753372, 1.2857142857142858, 1.0699815837937385, 2.0273972602739727, 1.04, 1.0026109660574412, 1.0714771953710007, 1.0, 1.054421768707483, 1.0000153692461384, 1.0384615384615385, 1.0699444045232782, 1.0169491525423728, 1.2647058823529411, 1.1114796506416003, 1.0068387529332887, 1.022411105555719, 1.039568345323741, 1.130533484676504, 1.217267858295154, 1.1940298507462686, 1.2142857142857142, 1.0, 1.5714285714285714, 1.0682959414013913, 1.5, 1.0144341022527992, 1.1180187786220483, 1.0149285561953507, 1.0842622331381069, 1.049164282843566, 1.0902465166130761, 1.0465116279069768, 1.0679611650485437, 1.0015740608608037, 1.1920228721409825, 1.046169874691963, 1.2068720513840732, 1.4285714285714286, 20.329268292682926, 1.0039525691699605, 1.1223709998847111, 1.1140065146579805, 1.271147457193969, 1.0254083484573502, 2.1024590163934427, 1.0243544322290807, 1.1020134228187919, 1.0340760604029133, 1.1875, 1.1006224993853237, 1.0340678130141627, 1.260934393638171, 1.0567545963229417, 1.0555555555555556, 1.1092636579572446, 1.0360824742268042, 1.5625, 1.0130575969919673, 1.7037037037037037, 1.0598377281947262, 1.0435779816513762, 1.0856515373352855, 1.0277824549587473, 1.0158013544018059, 2.2, 1.041860465116279, 1.0958767747681668, 1.0411166414196062, 1.0116442339891782, 1.0382236397023292, 1.077781407856048, 1.0714285714285714, 1.0144115292233786, 1.0582144950185584, 1.0166525291307649, 1.01906577693041, 1.0268456375838926, 1.0241730279898218, 1.03203125, 1.0554592720970537, 1.375, 1.0, 1.0, 1.0855568577908339, 1.0029368575624082, 1.213285473721528, 1.2090631081456769, 1.0871872630780894, 1.0204081632653061, 1.0980395831771497, 1.0874906460463956, 1.1280701754385964, 1.0648648648648649, 1.1111898016997168, 1.085802289765793, 1.101123595505618, 1.75, 1.0344081433621846, 1.173673147661587, 1.0713884204609332, 1.0376344086021505, 1.3073859522085445, 1.0014396565956745, 1.221253865617093, 1.2891566265060241, 1.2307692307692308, 1.0124610591900312, 24.079575596816976, 1.1691842900302114, 1.34375, 1.007548885857208, 1.2586719524281467, 1.15600624024961, 1.1219512195121952, 1.0430187360789622, 1.0411882631674867, 1.0741200038157017, 1.2532132470212967, 1.3333333333333333, 1.037037037037037, 1.3333333333333333, 1.2246603970741903, 1.4285714285714286, 1.25, 1.1538461538461537, 1.1562913907284769, 1.0732984293193717, 1.0136005233619116, 1.0022025377064878, 1.170909090909091, 1.3076923076923077, 1.1333333333333333, 1.032258064516129, 1.1486486486486487, 1.042857142857143, 1.055921052631579, 1.0241821361528711, 1.0287442841076158, 1.2941176470588236, 1.0815775116260944, 1.047173175962604, 2.5, 1.0697937635921193, 1.2259136212624584, 1.5, 2.75, 1.170045045045045, 1.1017364657814095, 1.0196109384107246, 1.360248447204969, 1.0, 1.139240506329114, 1.3159509202453987, 3.0, 1.0249910655026293, 1.1376234519517165, 1.0546548229077906, 1.012990137118114, 1.6666666666666667, 1.0090811304769973, 1.0434782608695652, 1.0071794871794872, 1.175, 1.129120879120879, 1.0, 1.1025641025641026, 1.0936294009380751, 1.1079885960318845, 1.352760736196319, 1.0561797752808988, 1.1503103482404173, 1.0819529206625982, 1.1611570247933884, 1.078125, 1.0979797068401238, 1.5568017366136035, 1.0136018510198581, 1.2571428571428571, 1.2254901960784315, 18.228310502283104, 1.1428571428571428, 1.0796521739130436, 1.0207100591715976, 1.008657083311067, 1.1222707423580787, 1.5, 1.6666666666666667, 1.0121340816016988, 1.1669456066945607, 1.1032872981910133, 1.0253271594858755, 1.117403094592439, 1.1347471184215923, 1.0323275862068966, 1.0208333333333333, 1.1124384052560847, 1.141977056382719, 1.2553633217993079, 1.3599088838268794, 1.6666666666666667, 1.0266666666666666, 1.1104140041051858, 1.1670619235836628, 1.0533187738865923, 1.0707908572161313, 1.0529531568228105, 2.0, 1.040097205346294, 1.0183945566228123, 1.1742702702702703, 1.2763636363636364, 1.0699285657681727, 1.0828025477707006, 1.238241308793456, 1.0337323177366704, 1.0326192274139434, 1.1063159015869635, 1.017259978425027, 1.07421875, 1.0606060606060606, 1.1474509803921569, 1.0345796955706907, 1.0385207158005627, 1.040853839312185, 1.0701254275940706, 1.0763993948562784, 4.0, 1.1924050632911392, 1.6666666666666667, 2.0, 1.2941176470588236, 1.0024509803921569, 1.033033033033033, 1.0491572513428413, 1.0070068989775443, 1.00703125, 1.0087562189054726, 1.1684782608695652, 1.1278476708602516, 1.0369038619556286, 1.6, 1.4615384615384615, 1.0865958858659588, 1.0, 1.0203804347826086, 1.1724465558194774, 1.2105452906714735, 1.0949013195949437, 2.5, 1.0339308578745199, 1.2596685082872927, 1.0391293081109096, 1.0399049777700287, 1.2714646464646464, 1.1152476529621236, 1.1631596738074113, 1.0425758680652941, 1.0063593004769475, 1.3928571428571428, 1.075098814229249, 1.0, 1.0, 1.0416702064395549, 5.0, 1.5714285714285714, 2.375, 1.0023148148148149, 1.0930232558139534, 1.0937829293993677, 1.1058949053080822, 1.1666666666666667, 1.0171597633136096, 1.0232429441062534, 1.103960396039604, 1.275229357798165, 1.4285714285714286, 1.0056746532156369, 1.1441346659652813, 1.1652360515021458, 1.0804232804232805, 1.0324448969623152, 1.0939152253786182, 1.114469633361321, 1.0, 1.202126805778491]
origin-bjaq_15.71 	max: 29.2857	99th: 18.2373	95th: 2.0000	median: 1.0874	mean: 1.5062

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/15 | Workload-time: 11.888045 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 4/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (402168, 5), new data size: (20000, 5)
[1.7881393e-07 5.9604645e-08 1.7881393e-07 2.9802322e-07 5.9217215e-04]
Distance score: 0.00011857748177135363
SAUCE Drift detection: True
Detection latency: 0.0331s

DRIFT-DETECTED after 4-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (422168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 422168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.7248 nats / 37.1131 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 4/15 | Workload-time: 2.073238 | Model-update-time: 2.495974


WORKLOAD-START | Type: QueryWorkload | Progress: 5/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 422168, total size: 422168, split index: [351806 422168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 1609.0000	99th: 40.1094	95th: 2.0000	median: 1.1018	mean: 3.7296
ReportEsts: [1.1111111111111112, 1.0035319048740288, 1.0063983358023134, 1.0596153846153846, 1.3636363636363635, 1.0, 1.062883435582822, 1.0551258535250532, 1.2, 1.0469314079422383, 1.1649791231732776, 1.0433243797098373, 1.0707892595606183, 1.1035940803382664, 1.0124809741248098, 1.6923076923076923, 1.183453237410072, 4.0, 1.0909090909090908, 1.1319073083778965, 1.0505673408978786, 1.1448663853727146, 1.1104659930628864, 1.75, 1.2791193181818181, 1.0170968491135712, 2.0, 1.1170659344127765, 1.5, 1.2, 1.1151079136690647, 1.0, 1.0475508714518316, 1.00521098224931, 1.274694783573807, 1.18960199735644, 1.2333080712391058, 1.2, 3.0, 1.0674846625766872, 1.0783289817232375, 1.0296315456687934, 1.0700863176399, 1.0130511187837647, 1.0288659793814432, 1.0208753952230392, 1.15, 1.5769230769230769, 1.0871369294605808, 1.0072992700729928, 1.3025210084033614, 1.2046537337790528, 1.0606060606060606, 1.0771388499298737, 1.191828288175562, 1.465648854961832, 1.0867795320525013, 1.0030007903867537, 1.0775183243697097, 1.2818791946308725, 1.0330265610438025, 1.3125, 1.1209115082095242, 1.0068493150684932, 1.1727272727272726, 1.0, 39.666666666666664, 1.0975786174353321, 1.1642387889174521, 1.75, 1.0, 1.048985482638594, 1.0560859188544154, 1.0685292567211386, 1.0406852248394005, 1.1465624597414867, 1.2094117647058824, 1.036649214659686, 1.3333333333333333, 1.1161904761904762, 1.1976076555023925, 1.003736979632745, 1.2222222222222223, 1.1465203343761219, 1.0808080808080809, 1.1405714285714286, 1.096774193548387, 1.1428571428571428, 1.0727938638318288, 1.0127405597702628, 1.0663716814159292, 1.4, 1.1046459179070816, 1.0281007751937985, 1.1613832853025936, 1.1192145862552594, 1.0703196347031962, 1.1246753246753247, 31.0, 1.5498281786941581, 1.0, 1.247974888618874, 1.3892464467685706, 1.0817270624518118, 1.222622027534418, 1.206896551724138, 1.008205686177839, 1.1123406302622083, 1.1890770657425935, 1.1165873555404486, 1.0628507295173961, 1.3333333333333333, 2.0, 1.0614127017396773, 1.0623052806415787, 1.037564029595902, 1.1547619047619047, 1.0627648908535752, 2.0, 1.0762687836688403, 1.158366533864542, 1.0, 1.1263736263736264, 1.1428571428571428, 1.3759398496240602, 1.024726532363138, 1.1164084507042253, 1.0089285714285714, 1.8, 1.135135135135135, 1.0, 1.0714285714285714, 1.1008579316990013, 1.1818181818181819, 1.0142731018246027, 1.0241787967140783, 1.008172450550752, 40.0, 1.6153846153846154, 1.0733496332518337, 1.0582476749877632, 1.0675082327113063, 1.0869144437215355, 1.1095890410958904, 1.0352449223416966, 1.0792602232123163, 3.0, 1.009840098400984, 1.1371428571428572, 1.0941538461538463, 1.2126345509087701, 1.5, 1.2046898969975892, 1.0888888888888888, 1.0397727272727273, 1.157676348547718, 1.0288858321870702, 1.0062726825785444, 1.1561166900718052, 1.066336192491924, 1.0330955212049149, 1.1666666666666667, 1.017478152309613, 1.078125, 1.0149863760217983, 1.5714285714285714, 1.0627089292483716, 46.714285714285715, 1.0358565737051793, 1.316551074578303, 1.1, 1.0211953061038843, 1.3726315789473684, 1.046218487394958, 1.0591524683267803, 1.052064631956912, 1.003875968992248, 1.0941072999120494, 1.0662251655629138, 1.0149018991074588, 1.0528576211200917, 1.1700680272108843, 1.1011560693641618, 1.0450722199663554, 1.0080834803057026, 1.4334763948497855, 1.024233983286908, 1.0960451977401129, 1.0, 1.088817267613927, 1.0617696548622473, 1.5, 1.1435643564356435, 1.0547643761677392, 1.0202894226465762, 1.0317391928766337, 1.0758547008547008, 1.019564363105597, 1.2396774598393574, 1.0053667262969588, 1.1516690856313498, 1.0201942740286298, 1.0507384164122853, 1.069458631256384, 1.0902287340571308, 1.0903954802259888, 1.0, 1.0769230769230769, 1.0, 1.3969465648854962, 1.132002575660013, 1.257396449704142, 1.4597701149425288, 1.0212285456187895, 57.0, 1.0335283902582408, 1.1494565217391304, 1.219974115616911, 25.0, 1.0903873744619799, 1.029753049687593, 1.0367612661780758, 1.0910987323201065, 1.0, 1.2024844720496894, 1.0981533941873884, 1.0180604742905814, 1.1538885824600111, 1.0126567361176582, 1.2918772225341568, 1.0689655172413792, 1.0073544401859251, 1.0670323728117894, 1.1220338983050848, 1.0567375886524824, 1.193288590604027, 1.0, 1.2566929133858267, 2.0, 1.116328145608019, 1.0597820799688686, 1.3218471636193154, 1.102880658436214, 1.0833333333333333, 1.6666666666666667, 1.2256555459805492, 1.098360655737705, 1.0888417318595003, 1.5, 1.0, 1.1067193675889329, 1.5581344902386116, 1.06310448707785, 1.0145631067961165, 1.270042194092827, 43.60332541567696, 1.0091954022988505, 1.22175335359362, 1.1228070175438596, 2.0, 1.205097361873625, 1.081569367668869, 1.2259194395796849, 1.0858749503522378, 1.0555749175625317, 1.0416318186042188, 1.0522968197879858, 1.031013094417643, 1.0096205237840727, 1.0018867924528303, 1.1236644971140857, 1.1818181818181819, 1.080650586200269, 1.2228915662650603, 1.2391304347826086, 1.0, 1.053639846743295, 46.283185840707965, 1.0919568955176138, 1.0205302049211549, 1.1263440860215055, 1.3076923076923077, 1.008416963418582, 1.0068545316070068, 1.1497935319299397, 1.0559183321409906, 1.0, 1.0816244471250502, 1.1019066403681788, 1.0413102627327608, 1.070324940603076, 1.0517718917777399, 1.2048611111111112, 1.1996392062537582, 1.0585644750057945, 1.1559427149210495, 1.120321421019243, 1.0526742910386078, 1.08008658008658, 1.0, 1.2727272727272727, 1.0781812234216552, 33.476190476190474, 1.0038535645472062, 1.1887073133381463, 1.3604651162790697, 1.1395348837209303, 1.2178217821782178, 1.0767634854771784, 1.180494905385735, 1.078602950794842, 1.4736842105263157, 1.1042790814405823, 1.0187676014222493, 1.1370967741935485, 1.2745098039215685, 1.002466091245376, 1.0339340042124971, 1.4285714285714286, 1.0227537155283462, 1.035897435897436, 1.05, 1.1897301882661997, 1.380952380952381, 1.5, 1.0455984607471471, 2.0, 40.074074074074076, 1.1380813953488371, 1.0653021442495128, 1.1221109399075502, 1.073107049608355, 1.021978021978022, 1.113066803850959, 1.0707197394767531, 1.3237410071942446, 1.0546920247319402, 1.0825019690207403, 3.0, 1.1111111111111112, 1.156584931099888, 1.5, 1.0560606060606061, 1.4705882352941178, 35.0, 1.4705882352941178, 1.5271084337349397, 1.0475382003395586, 1.1487603305785123, 1.0454821103699212, 1.3055555555555556, 1.6, 1.2309671287647888, 1.0202797202797202, 1.3392857142857142, 1.1315286250586578, 1.0, 1.1219512195121952, 1.0151975683890577, 1.75, 1.0, 1.3668122270742358, 1.0454545454545454, 1.0174291938997821, 1.131653490587902, 1.2382487241471931, 1.0816326530612246, 1.5, 1.0255265745075663, 1.0159961221522056, 1.2727272727272727, 1.037292817679558, 1.0008389261744965, 1.75, 1.0761986301369864, 1.13, 1.31582611854453, 1.0681785933878825, 1.0716049382716049, 1.1020250148898154, 1.1153171587255188, 29.697560975609758, 1.0925039872408293, 1.1934581352500966, 1.1694290976058932, 1.0333333333333334, 1.0106588501765372, 1.0825894237707452, 1.9047619047619047, 1.9300026021337497, 1.4931506849315068, 1.1024590163934427, 1.1696964202064162, 5.625, 34.0, 1.2117647058823529, 1.0924369747899159, 1.3653846153846154, 49.0, 1.0705596107055961, 1.1191871179289046, 1.1181556195965419, 1.1128448365028, 1.175, 1.063063063063063, 1.0028011204481793, 1.0, 1.0266278344081547, 1.090797576114423, 1.0623418747972755, 1.042088399431324, 1.075253394530503, 1.1267962806424345, 1.5714285714285714, 1.331770222743259, 1.0, 1.0709046454767726, 1.0, 1.038839066840987, 1.1231884057971016, 1.1776521060842433, 1.027972027972028, 1.1556485355648536, 3.0, 1.2050829509354042, 1.0242815922244908, 1.1631871448494058, 2.0, 1.1911764705882353, 1.2585910652920962, 1.1917808219178083, 1.1101682186842896, 1.238003838771593, 1.105263157894737, 1.3654301499605368, 1.1326571154790006, 1.0624836698891418, 1.0968421052631578, 1.1656798245614035, 1.0689655172413792, 1.2, 1.0670505964623611, 1.0105820105820107, 1.6206896551724137, 1.2127176381529146, 35.214285714285715, 1.2707531411140969, 2.0833333333333335, 47.0, 1.1828061472370675, 1.0265060240963855, 3.0, 1.5142857142857142, 1.125925925925926, 1.0084368335215155, 1.2, 1.2690809968847352, 1.0617546593156348, 1.1080389768574908, 1.20415982484948, 1.1593023255813955, 1.0997529339098209, 1.0312243221035333, 1.0187908496732025, 1.1016393442622952, 1.2222222222222223, 1.103697301139806, 1.236842105263158, 1.5263157894736843, 1.022900242312549, 1.0583333333333333, 1.059371362048894, 1.0254175744371823, 1.3751416698148848, 1.056253946386545, 1.0, 1.054054054054054, 1.2047450685523222, 1.0523915838392814, 1.127046124923017, 2.0, 1.0833988985051142, 1.006692302223065, 1.0501949317738792, 2.0, 1.0345791128187216, 1.0363330351678357, 1.112138251832661, 1.040176728053514, 1.045693069504782, 1.1227671167969675, 1.030421216848674, 1.1185169309901415, 2.0, 1.089934456928839, 1.510204081632653, 1.0, 37.12903225806452, 1.25, 1.0173965499153215, 1.340983606557377, 1.0336786712711725, 1.2335526315789473, 1.0335268382971563, 1.2094155844155845, 1.240421971191202, 1.302634740129735, 1.1358024691358024, 1.2318840579710144, 1.1052751187934715, 1.1144859813084111, 1.0321737153251478, 1.0655909199314875, 1.0, 1.1658314350797268, 1.0962199312714778, 1.1481481481481481, 1.0681818181818181, 1.0352763117044397, 1.217741935483871, 1.0628689163603964, 1.4186046511627908, 1.3176160842508378, 1.0566781665845244, 1.0102813852813852, 1.0007193094629157, 1.211840888066605, 1.1828755258599357, 1.017061207080401, 1.0588942307692308, 1.3043478260869565, 1.1347607052896724, 1.0549002787904782, 1.0784913353720693, 1.1412012644889358, 1.0420431589001495, 1.13, 1.0229436469460236, 2.0, 1.0965417867435159, 1.0714285714285714, 1.3361344537815125, 1.1224802245470784, 1.0189520624303232, 1.0052910052910053, 44.21666666666667, 1.121910580394335, 1.0, 1.574468085106383, 1.7142857142857142, 1.0, 1.25, 2.6, 1.1419753086419753, 1.0878661087866108, 1.0547649849072875, 1.0907194994786236, 1.1610144189395668, 1.1677739994768506, 1.0688271737069677, 1.063575679172057, 1.0086080453966193, 1.2486518873576993, 1.1434481080423409, 1.0515480563516733, 1.1634121274409044, 1.1768530559167751, 1.087012987012987, 1.0377358490566038, 1.0869889454290227, 1.0795306388526726, 1.0924545877969258, 1.1975308641975309, 1.2335156924848834, 1.1082525893752089, 1.5, 1.1139240506329113, 1.1764705882352942, 1.0328125, 1.3703703703703705, 1.1666666666666667, 1.0318316572273547, 1.1389743026575885, 1.0265195894648045, 1.0683022428685491, 1.3675675675675676, 1.0787207872078721, 2.0, 1.8333333333333333, 1.1302083333333333, 1.0273959878346592, 1.0331710014627706, 1.2283859209477161, 1.0427832786996045, 1.1013824884792627, 1.103536953523909, 1.2078152753108349, 1.0153360534275218, 1.0030529172320217, 1.0089453767079537, 1.4074074074074074, 32.0, 1.0819157133542765, 1.0, 1.0337224383916992, 1.0642201834862386, 1.3260045489006824, 1.5714285714285714, 1.0520248903396918, 1.2, 1.3157894736842106, 1.064734423744527, 1.091465610370904, 1.0155423587269183, 1.0000189503406323, 1.0760095011876485, 1.2903225806451613, 1.0625, 1.0974729241877257, 1.1257771401243424, 1.0186148919135307, 1.141995709398736, 1.15462920758574, 1.0, 1.0724064646864033, 1.2317073170731707, 2.0, 1.089858615679129, 1.0797404164935849, 1.2857142857142858, 1.0008354883628408, 1.0604379454772577, 1.125, 1.8571428571428572, 1.0006891798759476, 1.1233870967741935, 1.0960969250824324, 1.2373382624768947, 1.1143398245687666, 1.0833322750650836, 1.2234548335974644, 1.1100036913990403, 1.2608695652173914, 1.1097508544895633, 1.0821064552661381, 1.0278481012658227, 1.0072815533980584, 7.566666666666666, 29.63157894736842, 1.03486777668952, 1.1666666666666667, 1.4, 1.0486202365308803, 1.5826796360213367, 1.0664893617021276, 1.0757810083513764, 1.0769230769230769, 1.0587188612099645, 1.011578541103821, 1.2285714285714286, 1.1848159824831457, 2.6666666666666665, 1.0485074626865671, 2.5, 1.1059322033898304, 1.2307692307692308, 1.0454215231055939, 1.3571428571428572, 1.1226765799256506, 1.0622605363984674, 1.0, 1.106958041958042, 1.1504890895410083, 1.5, 2.0, 1.0310077519379846, 1.289655172413793, 1.0633342800340813, 1.2106455266138165, 1.0359375, 1.1533494753833737, 1.2054380664652569, 1.0106944444444443, 1.1483050847457628, 1.2244897959183674, 1.2307692307692308, 1.0, 1.0642398286937902, 1.1016949152542372, 1.0609504132231404, 1.043514297554911, 1.0740564055383288, 1.1327666706572488, 1.0654714466537634, 1.3012218045112782, 1.2005242463958061, 1.0082146768893756, 1.375, 1.0, 1.2666666666666666, 1.1436594065417014, 1.0044085231447466, 1.1299093655589123, 1.1575492341356675, 1.0011047434923703, 1.0095117056856187, 1.0071241886340723, 1.0, 1.1578947368421053, 1.039118065433855, 1.1602598091198304, 1.0716633206929884, 1.0403970223325063, 1.138157894736842, 1.066755585195065, 1.0310691064717017, 1.1085858585858586, 1.3449063499314755, 1.0, 1.0492015537332757, 1609.0, 1.0272643283513632, 1.3333333333333333, 1.0734243014944769, 1.0, 1.05793991416309, 1.0302321369275818, 1.1666666666666667, 1.0561672262973585, 1.0317796610169492, 1.131578947368421, 1.0898599305638692, 1.016151839864249, 1.0496079414948385, 1.0059322033898306, 1.209988649262202, 1.2334423800999939, 1.0748560460652592, 1.2857142857142858, 1.0, 1.3333333333333333, 1.058132642532546, 1.5, 1.064372098402366, 1.079464873163243, 1.0168870803662258, 1.0774495677233429, 1.053505593478723, 1.0815648445873527, 1.1331168831168832, 1.188626907073509, 1.0419582463465553, 1.2647872140982377, 1.0433183508429906, 1.2414294171465476, 1.4285714285714286, 38.964285714285715, 1.1067193675889329, 1.0955712784148848, 1.1661237785016287, 1.2401237505949547, 1.0053097345132744, 1.9730769230769232, 1.0353482596150334, 1.1409395973154361, 1.0514409970141503, 1.3125, 1.0877624200636298, 1.0506394337495497, 1.1805490926012099, 1.0531107738998482, 1.0526315789473684, 1.1875, 1.6133432015225206, 1.0516026769989433, 3.0, 1.0190392836526057, 1.0909090909090908, 1.1177375256322626, 1.0123626373626373, 1.1646341463414633, 1.0467117393976644, 1.0797413793103448, 1.0607424071991, 1.0839123463388562, 1.0246179108248075, 1.07098121085595, 1.0747163583854775, 1.0616871373079404, 1.0625, 1.0071033938437253, 1.2049228364915023, 1.121188445912764, 1.0382513661202186, 1.0389610389610389, 1.0179928028788485, 1.2028619528619529, 1.0634615384615385, 1.5625, 1.0, 1.25, 1.1331970777526525, 1.0284415584415585, 1.2302783725910065, 1.193182515703539, 1.0453272663633182, 1.1612723214285714, 1.1046131590227175, 1.045933971702158, 1.157718120805369, 1.0810810810810811, 1.1055699481865284, 1.070342436255618, 1.0851063829787233, 1.75, 1.0511179910560715, 1.1703966026479362, 1.0805263157894738, 1.0153846153846153, 1.3497465604634322, 1.0423168421949445, 1.2867585043576046, 1.1906005221932114, 1.4230769230769231, 1.022525192649674, 47.775401069518715, 1.1982507288629738, 1.3870967741935485, 1.099620844546264, 1.3230921704658076, 1.140625, 1.170731707317073, 1.1144531815331178, 1.0332986472424557, 1.0461461675579322, 1.2040634468009268, 1.3333333333333333, 1.0714285714285714, 2.0, 1.2626262626262625, 1.2333333333333334, 1.0, 1.0714285714285714, 1.1920529801324504, 1.12141652613828, 1.1303756498984265, 1.0580956476040322, 1.309090909090909, 1.2363636363636363, 1.125, 1.0909090909090908, 1.2027027027027026, 1.4714285714285715, 1.0338164251207729, 1.0226220969684372, 1.0300035262707168, 1.2830188679245282, 1.077363028732896, 1.0467707526531056, 2.5, 1.029672165991161, 1.1298376184032477, 1.5, 3.5, 1.185852608929532, 1.1395303580695382, 1.0367287148522635, 1.3695652173913044, 1.0, 1.09765625, 1.147239263803681, 3.0, 1.0195010865120158, 1.118411617067049, 1.0451721921204886, 1.037208776294956, 1.4285714285714286, 1.0219832033630014, 1.047853624208304, 1.118974358974359, 1.2032520325203253, 1.1848523748395379, 1.0, 1.5949367088607596, 1.0435669367174665, 1.094490021527899, 1.022167487684729, 1.1079136690647482, 1.263137238411617, 1.1121495327102804, 1.2024793388429753, 1.1694915254237288, 1.1624765201414122, 1.2358490566037736, 1.070598273550303, 1.1675675675675676, 1.2450980392156863, 34.19130434782609, 1.0, 1.0939282120093927, 1.0650887573964498, 1.0109531783776542, 1.1550218340611353, 1.5, 1.1955597543693905, 1.0020619461261735, 1.164804469273743, 1.3018867924528301, 1.0128892469235256, 1.1040841206949101, 1.1047202131709173, 1.0430327868852458, 1.125, 1.0663065880179092, 1.1443495571928257, 1.3046132971506106, 1.0683760683760684, 1.6666666666666667, 1.0253164556962024, 1.1273649953113796, 1.0615640599001663, 1.0900085796739725, 1.0781212759577756, 1.0736507936507937, 2.0, 1.0233644859813085, 1.094829012229954, 1.1591049065900225, 1.1398601398601398, 1.1022942232138526, 1.178343949044586, 1.1994274809160306, 1.0626927029804727, 1.0311495170248335, 1.098736641453572, 1.013360739979445, 1.0420168067226891, 1.0857142857142856, 1.0843060959792477, 1.2542502432019271, 1.0042424861991412, 1.0621368160635176, 1.0912653975363942, 1.115733736762481, 4.5, 1.1134751773049645, 1.6666666666666667, 2.0, 1.3529411764705883, 1.0046838407494145, 1.0408309455587392, 1.0378155661859703, 1.0272964840941683, 1.0155593973820696, 1.0158118010026995, 1.266304347826087, 1.1057631412286257, 1.0207533285098542, 1.6, 1.4285714285714286, 1.3664182032169478, 1.0, 1.0053262316910785, 1.2111010009099181, 1.0034367369087456, 1.075495958853784, 3.0, 1.2006191950464395, 1.221830985915493, 1.073067331670823, 1.040247613749123, 1.3244949494949494, 1.1109748620478235, 1.2017380635926798, 1.0647951876253223, 1.0699523052464228, 1.1333333333333333, 1.0422885572139304, 1.0, 1.0, 1.041617945159476, 5.0, 1.7142857142857142, 1.935483870967742, 1.0501113585746102, 1.0, 1.0817862518815855, 1.1047812817904374, 1.1666666666666667, 1.1335392684119294, 1.0078947368421052, 1.061904761904762, 1.2719298245614035, 1.25, 1.0167002012072435, 1.0440660991487232, 50.69751693002257, 1.033355591425552, 1.1111111111111112, 1.011018531166052]
origin-bjaq_15.71 	max: 1609.0000	99th: 40.1094	95th: 2.0000	median: 1.1018	mean: 3.7296

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 5/15 | Workload-time: 12.112743 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 6/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (422168, 5), new data size: (20000, 5)
[5.9604645e-08 1.7881393e-07 2.9802322e-07 0.0000000e+00 5.2821636e-04]
Distance score: 0.000105750557850115
SAUCE Drift detection: True
Detection latency: 0.0351s

DRIFT-DETECTED after 6-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (442168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 442168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.6651 nats / 37.0270 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 6/15 | Workload-time: 2.068816 | Model-update-time: 2.498659


WORKLOAD-START | Type: QueryWorkload | Progress: 7/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 442168, total size: 442168, split index: [368473 442168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 2398.0000	99th: 62.9736	95th: 3.0000	median: 1.1165	mean: 5.9851
ReportEsts: [1.0857142857142856, 1.0117038037362143, 1.0224900084776554, 1.0769230769230769, 1.25, 1.0, 1.0319783446503945, 1.056029496523449, 1.2, 1.0538990825688073, 1.1783312577833125, 1.0433701409812168, 1.037984204588191, 1.1234817813765183, 1.0099488345650938, 1.9285714285714286, 1.1503496503496504, 6.0, 1.0909090909090908, 1.0118143459915612, 1.052047360631475, 1.1626843455610176, 1.0308641975308641, 1.1312625250501003, 1.0057521163446927, 1.038340229926688, 2.0, 1.1771279804425818, 1.5, 1.4, 1.20863309352518, 1.0, 1.041898834937405, 1.0137745015647386, 1.2541620421753608, 1.2054633573211926, 1.2206130130847823, 1.2184466019417475, 4.0, 1.075055187637969, 1.0775862068965518, 1.006829996681783, 1.1316902448521087, 1.024866796135843, 1.0328820116054158, 1.0074282884461545, 1.2380952380952381, 1.5925925925925926, 1.0759493670886076, 1.0158620689655173, 1.2755905511811023, 1.2054825555052107, 1.0802919708029197, 1.0635761589403974, 1.1822039698836413, 1.0458015267175573, 1.0666884662197758, 1.1225841781196992, 40.558510638297875, 1.1547619047619047, 1.0343247413365706, 1.173913043478261, 1.14287743596573, 1.0804794520547945, 1.2363636363636363, 1.02020202020202, 58.833333333333336, 1.1170184254606366, 1.1228650137741047, 1.75, 1.0, 1.0633373934226553, 1.1181384248210025, 1.0678391959798994, 1.0541666666666667, 1.1768492752419322, 1.168, 1.1013986769856026, 1.1630434782608696, 1.4242424242424243, 1.0504395242796032, 1.018348623853211, 1.1666666666666667, 1.0, 67.0, 1.2571428571428571, 1.4313725490196079, 1.0226843100189036, 1.2, 133.0, 1.104476371013336, 1.117979290869156, 1.364423676012461, 1.0472107575555851, 1.344040290990487, 1.113888888888889, 1.2033660589060309, 1.2592592592592593, 1.0320512820512822, 75.66666666666667, 1.0648464163822526, 1.1777702243371855, 42.18181818181818, 1.207236842105263, 1.0613496932515338, 1.0014641288433381, 1.227201139943003, 1.09375, 1.008198890611244, 1.107610945044838, 1.0458916459174037, 1.1073044602456368, 1.0591875168146354, 1.3333333333333333, 65.5, 1.0377170225503891, 1.061282551228932, 1.042322300596853, 1.0919540229885059, 1.0587028758834927, 2.0, 1.0339714208681585, 1.1066907775768535, 1.0, 1.1043956043956045, 1.1428571428571428, 1.4385964912280702, 1.0251516586953533, 1.0387049003769522, 1.0714285714285714, 1.5, 1.1882183908045978, 1.0, 25.0, 1.0424311926605505, 1.0833333333333333, 1.0620089786756453, 1.0046232255281995, 1.0350093984962405, 59.142857142857146, 1.6428571428571428, 1.0709046454767726, 1.0230326295585412, 1.0615866388308977, 1.1307742355237476, 1.087248322147651, 1.0174927113702623, 1.117924627667418, 3.0, 1.0070257611241218, 1.1645714285714286, 1.1057635175282234, 1.2542791600494088, 1.5, 1.1259011597534219, 1.1096296296296295, 1.012280701754386, 1.1821862348178138, 1.0294871794871794, 1.0073897783774095, 1.1456256040715955, 1.1681828784697923, 1.0655984919886898, 1.2635135135135136, 1.093143596377749, 1.1744518589132507, 1.0205920205920207, 1.7142857142857142, 1.0494181677870067, 56.2, 1.1186903137789905, 1.3735145763871077, 1.236220472440945, 1.0244825186989042, 1.448421052631579, 1.0420168067226891, 1.0749229102425202, 1.1335051546391752, 1.0288315629742033, 1.0410729253981559, 1.0648072190319935, 1.0244072524407253, 1.0633149653554477, 1.1633986928104576, 1.1242774566473988, 1.1703601108033241, 1.0647658240250832, 1.5622317596566524, 1.0169258527364895, 1.1610169491525424, 1.1428571428571428, 1.0885171710000887, 1.1000814030933175, 1.5, 1.140387637506548, 1.0421485983140562, 1.0898247585297867, 1.0488876682230157, 1.0612870275791624, 1.1898731504405158, 1.273060293057891, 1.0136112292641428, 1.2765907490021131, 1.054907677356657, 1.0617706940874037, 1.0711847879083374, 1.3110572362179824, 1.3502824858757063, 1.0923076923076922, 1.05, 1.0, 1.5116279069767442, 1.1506221796800218, 1.1818181818181819, 1.367816091954023, 1.02601908065915, 83.57142857142857, 1.0405265740713203, 1.1684782608695652, 1.2365003698528807, 40.0, 1.0566750629722923, 1.0343359818388196, 1.0234765668623047, 1.1615890699860165, 1.7777777777777777, 1.2389233954451346, 1.0508875935616349, 1.1134047556833029, 1.1708860759493671, 1.1351888667992047, 1.0083845723868083, 1.0723849656766125, 1.248062015503876, 1.0067871542588116, 1.0635323540939547, 1.0980392156862746, 1.0027906976744185, 1.1731543624161074, 1.0909090909090908, 1.3984251968503938, 2.0, 1.0730223123732252, 1.0349883524414196, 1.2149554617909049, 1.0677290836653386, 1.0833333333333333, 2.0, 1.234149944601748, 1.078125, 1.0447813207875936, 1.2, 1.0, 1.0745762711864406, 1.4954310687326182, 1.0683878563619544, 1.087378640776699, 1.2225738396624473, 61.360986547085204, 1.0087944301942102, 1.295890517024448, 1.1228070175438596, 2.0, 1.2275923755474678, 1.0833548553719008, 1.3029772329246936, 1.2164642431590609, 1.0319500177782293, 1.0228193768610647, 1.0625, 1.038658941587475, 1.0045569620253165, 1.0630091649694502, 1.0466658479675794, 1.2727272727272727, 1.1436430905246973, 1.3587174348697395, 1.297872340425532, 1.0869565217391304, 1.0476190476190477, 62.94809688581315, 1.0683461239016794, 1.0237058538945332, 1.118811881188119, 1.323045267489712, 1.0286496397489864, 1.0378181818181818, 1.1504247758454333, 1.0461735661374645, 1.1111111111111112, 1.0833653476757588, 1.0479632063074902, 1.053284093906621, 1.0650636081871063, 1.065368905474587, 1.1523545706371192, 1.160479725870931, 1.040929203539823, 1.2153086621241176, 1.089639729842894, 1.0350280252438973, 1.093073593073593, 1.125, 1.3636363636363635, 1.0779953014878623, 47.59090909090909, 1.0165441176470589, 1.1615298994396255, 1.2093023255813953, 1.0816326530612246, 1.3762376237623761, 1.309108527131783, 1.2395508421709296, 1.041967311597657, 1.6, 1.1367980884109916, 1.0433321993536315, 1.2318059299191375, 42.5, 4.833333333333333, 1.020357941834452, 1.4285714285714286, 1.041863785890156, 1.0580431177446104, 1.375, 1.2567316112084064, 1.3333333333333333, 1.6666666666666667, 1.0564506835304455, 2.0, 57.714285714285715, 1.2020348837209303, 1.0232558139534884, 1.0454454051880153, 1.1514360313315928, 1.011111111111111, 1.1065484614215038, 1.0526172129254414, 1.3732394366197183, 1.0428084848574406, 1.0829683548208007, 3.0, 1.1111111111111112, 1.2155099522383968, 1.5, 1.0531144374698214, 1.5294117647058822, 40.0, 1.5, 1.605421686746988, 1.0463414634146342, 1.0746268656716418, 1.147424511545293, 1.32, 1.3333333333333333, 1.266616308377718, 1.0213618157543392, 1.3035714285714286, 1.1823439699671516, 1.0434782608695652, 1.2249322493224932, 1.016456921587609, 1.75, 1.0, 1.4844444444444445, 1.303030303030303, 1.0082730093071355, 1.1287766342414838, 1.2496475714468793, 1.1428571428571428, 2.0, 1.0248694969976766, 1.045998160073597, 1.1666666666666667, 1.082943428328371, 1.1023800646283868, 1.4, 1.1830162371249944, 1.2395833333333333, 1.1737682057638674, 1.08280297901151, 1.155992390615092, 1.089872912748618, 1.115078811549728, 44.06341463414634, 1.1149068322981366, 1.2796669926984054, 1.1672413793103449, 1.1666666666666667, 1.0017980853086141, 1.0546070380654182, 1.7391304347826086, 2.52128764278297, 1.547945205479452, 1.1, 1.1742741596486397, 8.25, 50.0, 1.2470588235294118, 1.1869918699186992, 1.4038461538461537, 73.0, 1.099882491186839, 1.151444066239019, 1.1269592476489028, 1.182947989109735, 1.1264367816091954, 1.0, 1.041899441340782, 1.0, 1.0398314424635333, 1.3673469387755102, 1.1056029423272558, 1.0553887618982634, 1.094473130617709, 1.1331376734258272, 1.375, 1.126528890763391, 1.0, 1.0919811320754718, 1.0, 1.1629698355845164, 1.1898550724637682, 1.1070695765715353, 1.056105610561056, 1.1387147335423198, 3.0, 1.1135029354207437, 1.0013475004391175, 1.2058157099697886, 2.0, 1.0144927536231885, 1.2665036674816625, 1.1189710610932475, 1.0963057415081643, 1.2791127541589649, 1.05, 1.0091673032849504, 1.1503026620235117, 1.1173155164047628, 1.083250743310208, 1.387390350877193, 1.1774193548387097, 1.2, 1.0277039848197342, 1.0502645502645502, 1.6451612903225807, 1.2024495677233429, 48.53333333333333, 1.080087046875919, 1.6666666666666667, 70.0, 1.270718797146291, 1.0265060240963855, 4.0, 1.2941176470588236, 1.1300527240773286, 1.0743946807176012, 1.1875, 1.282592313489073, 1.0031778751180966, 1.1422989254314555, 1.1557415155741515, 1.2604651162790699, 1.1024361608453184, 1.039905175819834, 1.02578125, 1.140983606557377, 1.3333333333333333, 1.1120083214547136, 1.3433362753751104, 1.631578947368421, 1.1172269866631885, 1.072, 1.1023102310231023, 1.0069108500345543, 1.2348076231571377, 1.110211813328741, 1.0, 1.0945945945945945, 1.3007919714648448, 1.0844166807361135, 1.0517666392769105, 1.25, 1.090875232774674, 1.0048497892869652, 1.0641509433962264, 2.0, 1.0451570680628273, 1.0978296690362976, 1.2056702093208114, 1.0225201276013975, 1.0451487505556016, 1.1828002842928216, 1.013129102844639, 1.0506200447245375, 1.5, 1.0937276306370796, 59.577777777777776, 1.2, 48.0, 1.3269230769230769, 1.0299489201541356, 1.4720893141945774, 1.0850962151140564, 1.0567070786077435, 1.0882014099542345, 1.233644859813084, 1.2929890622198315, 1.4315421979356406, 1.1764705882352942, 1.2758620689655173, 1.0699729735061452, 1.0380313199105144, 1.0346956777418406, 1.0716441992400978, 1.0, 1.3298405466970387, 1.6013745704467355, 1.2592592592592593, 1.2727272727272727, 1.0277890489393837, 1.2452107279693487, 1.3342105263157895, 1.0, 1.4166666666666667, 1.0191250298828591, 1.1634617079404248, 1.0390534821085033, 1.0098124900683298, 1.1190765492102066, 1.1028446389496718, 1.0777896995708154, 1.0031850531096176, 1.8013245033112584, 1.1806145251396647, 1.150190114068441, 1.0, 1.0755402865867982, 1.1379310344827587, 1.1833083551892094, 2.0, 1.034134007585335, 1.0873015873015872, 1.0512868346628261, 1.0145278450363195, 1.1422319474835887, 1.146153846153846, 62.63235294117647, 1.0622555766751873, 1.0, 1.4680851063829787, 2.142857142857143, 1.0, 1.3068181818181819, 2.4285714285714284, 1.1358024691358024, 1.0445344129554657, 1.0498770155780268, 1.0432152117545377, 1.0637780311668568, 1.161910453707854, 1.0651232627976814, 1.088405166745901, 1.033551413651474, 1.2932501418037436, 1.1741518393500772, 1.077808986924895, 1.2412280701754386, 1.2158647594278285, 1.1421121251629727, 1.28125, 1.03105355795826, 1.0120772946859904, 1.0864620030196275, 1.1213872832369942, 1.3247912467607257, 1.1005089058524173, 1.5, 1.1547116736990155, 1.2, 59.5, 1.154109589041096, 1.04745572561904, 1.044400785854617, 1.165137614678899, 1.2207792207792207, 1.060329468119286, 1.1233021430727437, 1.2114384748700173, 1.0, 33.0, 1.107662712407823, 1.2972972972972974, 1.1510437986082684, 1.0903411821239788, 1.0, 1.5221496005809731, 1.0656455142231946, 1.1552286667785296, 1.2433392539964476, 1.0621558743699109, 1.0592465753424658, 1.005764805685123, 1.4146341463414633, 37.2, 1.0623326737283203, 1.0, 1.0, 1.031111111111111, 1.361271676300578, 1.7142857142857142, 1.027968271023607, 1.1, 1.45, 1.0760656676405327, 1.0777853260869565, 1.0205505266990755, 1.0000180931616895, 1.1163895486935866, 1.2424242424242424, 1.2413793103448276, 1.0, 1.1863117870722433, 1.054854740061162, 1.229067884815543, 1.1531213347214717, 1.0, 1.068215147357964, 1.1325073137153674, 2.0, 1.165193460363365, 1.0954312745127393, 1.2677388836329233, 1.0086840038800868, 1.1224189874347859, 1.0393700787401574, 2.2857142857142856, 1.0153846153846153, 1.1830645161290323, 1.1135093213146419, 1.1593821886296418, 1.1352588646578992, 1.0979855033817363, 1.1587537091988132, 1.1069182389937107, 1.37123745819398, 1.138774516658639, 1.074473826227739, 1.0219607843137255, 1.0083876980428705, 5.833333333333333, 41.70625, 1.225073457394711, 1.2777777777777777, 1.6, 1.0483271375464684, 1.5666567253206085, 1.060138539042821, 1.0772633441462696, 1.0714285714285714, 1.0430820215410108, 1.0254491017964071, 1.15, 1.2077903904249978, 3.0, 1.1305970149253732, 3.0, 1.0462776659959758, 1.2857142857142858, 1.0405792728918388, 1.3, 1.221830985915493, 1.0413223140495869, 1.0, 1.2571701069555148, 1.1095791001451378, 1.5, 2.0, 1.0225563909774436, 1.396551724137931, 1.0393971443680592, 1.2288503253796095, 1.078125, 1.1734458940905603, 1.2205438066465257, 1.1818181818181819, 1.0520446096654275, 1.7224489795918367, 1.1153846153846154, 1.0, 1.0462776659959758, 1.0510585305105853, 1.149793388429752, 1.106402818068794, 1.0684285498456823, 1.1223122238586156, 1.0556719736270477, 1.3689632735685366, 1.1435406698564594, 1.006217616580311, 1.375, 1.5, 1.28125, 1.2020793807391668, 1.0465444287729195, 1.1395348837209303, 1.0432900432900434, 1.0130520764667106, 1.0786220735785954, 1.0171494208556235, 1.0769230769230769, 1.0476190476190477, 1.0394736842105263, 1.1636399787910923, 1.0401775865872491, 1.0375954040886624, 1.1776315789473684, 1.1181072314443807, 1.0145901312064514, 1.0335195530726258, 1.3276836158192091, 1.0, 1.0474618241848948, 2398.0, 1.0238118248562031, 1.3333333333333333, 1.0724907063197027, 1.0, 1.0525252525252524, 1.0200102763187942, 1.0555555555555556, 1.0839709363130952, 1.1027542372881356, 1.075, 1.0335318558054263, 1.0541305340027385, 1.2020104284255229, 1.0223820943245403, 1.1384790011350738, 1.227357338142051, 1.0666666666666667, 1.3571428571428572, 1.0, 1.625, 1.0729743331655763, 1.5, 1.0488459056666848, 1.1293392275476966, 1.0508215513947268, 1.085655314757482, 1.0593395306372295, 1.1794212218649518, 1.1743119266055047, 1.234396671289875, 1.0763861541305344, 1.353651106111736, 1.050410484133001, 1.178298535687818, 1.25, 51.36842105263158, 1.158102766798419, 1.0574027180509147, 1.1498371335504887, 1.2441754225673824, 1.08141592920354, 1.8722627737226278, 1.1188209941926295, 1.2120805369127516, 1.0369161821955577, 1.375, 1.110202796705696, 1.0539484692241636, 1.174537037037037, 1.047945205479452, 1.1891891891891893, 1.25, 1.7408667801020918, 1.055253562023094, 4.0, 1.0181059026410897, 1.303030303030303, 1.0661433234882636, 1.120734908136483, 1.1585365853658536, 1.134453781512605, 1.1487068965517242, 1.0843644544431945, 1.0942915392456676, 1.054469678124452, 1.064484126984127, 1.0296769445101595, 1.0545740642688284, 1.2666666666666666, 1.0560378847671665, 1.0670052744676695, 1.1002233200243623, 1.1706161137440758, 1.2890428211586902, 1.3715319662243668, 1.0997442455242967, 1.105702364394993, 1.0780837778823429, 1.5294117647058822, 1.1013268998793728, 1.2381251570746419, 1.0330890517432822, 1.1534391534391535, 1.5206841105101594, 1.352200908164211, 1.050999310820124, 1.0344827586206897, 1.0997902205242782, 1.0732718764885538, 1.104669887278583, 1.1405405405405404, 1.160175879396985, 1.097769829581317, 1.0707070707070707, 1.75, 1.0517705801195716, 1.1602917432214241, 1.1336760925449871, 1.0149253731343284, 1.4007965242577842, 1.0196646570083086, 1.325836378971043, 1.2191435768261965, 1.5384615384615385, 1.0193263390392049, 67.32575757575758, 1.2118644067796611, 1.34375, 1.0362577639751553, 1.400396432111001, 1.126865671641791, 1.170731707317073, 1.0587002096436058, 1.1465852304275403, 1.041237113402062, 1.0615384615384615, 1.0564304461942258, 1.2077294685990339, 1.0157924421883813, 1.0833333333333333, 1.0178163993842861, 546.7222222222222, 1.1114047287899862, 1.2727272727272727, 2.2, 1.2546546546546546, 1.1777881072891918, 1.112416989154842, 1.46, 1.1724137931034482, 1.0588235294117647, 1.088235294117647, 1.2567567567567568, 1.3714285714285714, 1.057632398753894, 1.0370255805674065, 1.0308067660109261, 1.2727272727272727, 1.070287653046172, 1.0469789081349394, 2.5, 1.0278020694142256, 1.1404721533846354, 1.5, 4.5, 1.2328696548171045, 1.1165499721172316, 1.0831517143639764, 1.4316770186335404, 1.0, 1.2521367521367521, 1.4141104294478528, 3.0, 1.03520151371807, 1.0798321127243136, 1.0443470946940492, 1.0202958004965994, 1.6666666666666667, 1.0297640439508646, 1.047106325706595, 1.0892307692307692, 1.2222222222222223, 1.2598522167487685, 1.0, 1.4625, 1.0258409445310759, 1.162758674191734, 1.0188679245283019, 1.0795847750865053, 1.221962703444185, 1.1130856219709209, 1.2479338842975207, 1.0615384615384615, 1.173139862032761, 1.3262391486978438, 1.0637833405361081, 1.3802083333333333, 1.303921568627451, 49.08786610878661, 1.0, 1.087551735116205, 1.1390532544378698, 1.0051622871643746, 1.1910480349344978, 1.5, 1.2036363636363636, 1.000628193316023, 1.1139481707317074, 1.2678467224275434, 1.0137909086087096, 1.0443342569636866, 1.0887917443027089, 1.28, 1.125, 1.1357656313576563, 1.094883117575456, 1.3237971391417425, 1.0535987748851454, 1.6666666666666667, 1.0384615384615385, 1.1521132259638849, 1.0537124802527646, 1.1240932844551907, 1.0887570893724283, 1.0845653459491424, 2.0, 1.0537383177570094, 1.0809558993813342, 1.1719085758937293, 1.3198653198653199, 1.0758623172751494, 1.1847133757961783, 1.2419354838709677, 1.154994850669413, 1.0311790601131277, 1.0995181795313378, 1.005736137667304, 1.057109557109557, 1.1081081081081081, 1.0412679425837321, 1.2791141424598582, 1.0272903266096296, 1.0611786614086975, 1.0971242539338035, 1.1898638426626325, 5.0, 1.0420353982300885, 1.6666666666666667, 2.0, 1.411764705882353, 1.0179775280898877, 1.054907343857241, 1.039400313866907, 1.0544946965178863, 1.09553085835895, 1.02705728680724, 1.309782608695652, 1.1491569390402074, 1.041431899526476, 1.6, 1.4666666666666666, 1.181235991034262, 1.0, 1.0176151761517616, 1.214498933901919, 1.1851284362325372, 1.0819646828542764, 3.5, 1.2393188854489163, 1.1908212560386473, 1.0414394367738522, 1.0393411175318858, 1.327020202020202, 1.1142441860465115, 1.2125240137387694, 1.04385020983536, 1.1271860095389508, 1.3333333333333333, 1.0541813898704357, 1.0, 1.0, 1.04123018448132, 5.0, 1.5714285714285714, 1.8529411764705883, 1.0823665893271461, 1.053191489361702, 1.076222435282838, 1.1078455185814913, 1.1666666666666667, 1.0759947780124606, 1.0110275689223058, 1.0136363636363637, 1.26890756302521, 1.1111111111111112]
origin-bjaq_15.71 	max: 2398.0000	99th: 62.9736	95th: 3.0000	median: 1.1165	mean: 5.9851

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 7/15 | Workload-time: 12.175437 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 8/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (442168, 5), new data size: (20000, 5)
[1.1920929e-07 5.9604645e-08 5.9604645e-08 5.9604645e-08 4.7999620e-04]
Distance score: 9.605884406482801e-05
SAUCE Drift detection: True
Detection latency: 0.0367s

DRIFT-DETECTED after 8-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (462168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 462168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.6407 nats / 36.9917 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 8/15 | Workload-time: 2.080195 | Model-update-time: 2.506622


WORKLOAD-START | Type: QueryWorkload | Progress: 9/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 462168, total size: 462168, split index: [385140 462168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 3190.0000	99th: 80.5707	95th: 2.5000	median: 1.1341	mean: 7.3774
ReportEsts: [1.2253968253968255, 1.0067201387383482, 1.0365435814330362, 1.1673076923076924, 1.25, 1.0, 1.0446202391004844, 1.0350375991747738, 1.2, 1.0509761388286334, 1.1654917837580376, 1.0425215570245716, 1.0929086082669701, 1.112621359223301, 1.004011767852367, 2.066666666666667, 1.2705479452054795, 8.0, 1.0909090909090908, 1.0784, 1.069190922545634, 1.0189489267209475, 1.015267175572519, 1.2264529058116231, 1.0152518387812506, 1.0317416141369684, 2.0, 1.1545980094165327, 1.2, 1.4, 1.076879271070615, 1.0, 1.0460198231357727, 1.004471502682145, 1.1786903440621532, 1.2963724482302834, 1.2231780331704631, 1.2382075471698113, 5.0, 1.0227141482194417, 1.2349417637271214, 1.0904183535762484, 1.1318407960199004, 1.1235838321872063, 1.0149253731343284, 1.1325282846367757, 1.2272727272727273, 1.0827090200779144, 1.2629107981220657, 1.0495867768595042, 2.0, 1.063197026022305, 1.0077821011673151, 1.206896551724138, 1.0528513555624806, 1.015666335978836, 1.0380952380952382, 1.048158640226629, 1.1744186046511629, 1.0632805957105924, 1.2191780821917808, 1.14160840645945, 1.1763698630136987, 1.3409090909090908, 1.0606060606060606, 77.66666666666667, 1.1098645418326694, 1.0598023920956838, 1.2258064516129032, 1.5454545454545454, 1.311618725324309, 1.192124105011933, 1.0660919540229885, 1.0154440154440154, 1.144303507297318, 1.092479674796748, 1.0646558855157582, 1.0222222222222221, 1.4077669902912622, 1.0704251900654345, 1.1101063829787234, 1.263157894736842, 1.0, 88.0, 1.2857142857142858, 1.3529411764705883, 1.0254545454545454, 4.0, 179.0, 1.090130804239203, 1.1204330175913397, 1.412812923911703, 1.0339959225280326, 1.356799104644656, 1.1823056300268096, 1.1837307152875176, 1.173265528514348, 1.0339622641509434, 1.0782608695652174, 1.3098927294398093, 1.1428571428571428, 80.5, 1.271309654233262, 1.145446698316789, 1.0792767732962447, 1.234822782068866, 1.1290322580645162, 1.0204761253743508, 1.0015438906043228, 1.057926961657041, 1.1326341764342998, 1.0692148760330578, 1.5, 87.75, 1.061892972767092, 1.0402846518333582, 1.062240663900415, 1.0326086956521738, 1.06464835622139, 1.0, 1.0957883923985619, 1.1692447679708826, 1.0, 1.2142857142857142, 1.1428571428571428, 1.4711779448621554, 1.009317160590194, 1.0557024047450196, 1.0892857142857142, 1.5, 1.1766323024054983, 1.0, 33.0, 1.0260962920142043, 1.0, 1.0069013112491374, 1.002778631990511, 1.121749686716792, 1.0496688741721854, 1.0312056737588653, 1.0268237474824888, 1.1957671957671958, 1.11864406779661, 1.1666666666666667, 1.0148148148148148, 1.2993872191421068, 3.0, 1.0022321428571428, 1.232, 1.1295005807200929, 1.3889182989235926, 1.5, 1.22382851445663, 1.1985185185185185, 1.0255536626916524, 97.26329787234043, 1.0, 1.0332310838445808, 1.1029704429866587, 1.030976643520606, 1.087171052631579, 1.1095890410958904, 1.3888888888888888, 1.104, 1.066997518610422, 1.7142857142857142, 1.076411311217941, 87.56666666666666, 1.0337756332931243, 1.0408680369612955, 1.29383429672447, 1.0178571428571428, 1.5642105263157895, 1.0987394957983194, 1.0274769034724434, 1.156320119670905, 1.1177394034536892, 1.0859437751004015, 1.0668756530825496, 1.1066125413951502, 1.2313454260733394, 1.23125, 1.1, 1.0947839760941844, 1.1719576719576719, 1.4849785407725322, 1.0566014569861668, 1.1779661016949152, 57.0, 1.1452513966480447, 1.0589584247554606, 1.6956521739130435, 1.1402805611222444, 1.0341205393727184, 1.1708488029701702, 1.058864781941705, 1.0948191593352883, 1.2517868165841066, 1.3146572996197057, 1.0122100122100122, 1.4590282813633066, 1.050439611291069, 1.0423176177893159, 1.0723285114325711, 1.269421313376199, 1.497175141242938, 1.0, 1.0120481927710843, 1.0, 1.5220588235294117, 1.1608148827459714, 1.1314432989690721, 1.5172413793103448, 1.0321368948247078, 95.75, 1.0486191766679571, 1.2228260869565217, 1.2030140104391507, 55.0, 1.1112454655380894, 1.0210610503865636, 1.0525840775223256, 1.2061297939160533, 1.7, 1.4256559766763848, 1.0462179587985532, 1.0588621034224333, 1.2753164556962024, 1.2644135188866799, 1.1059027777777777, 1.052567705671947, 1.2028985507246377, 1.0032227773849132, 1.0629453059513831, 1.1545741324921135, 1.047016274864376, 1.193288590604027, 1.1818181818181819, 1.3511811023622047, 2.0, 1.0460775047258979, 1.0344290040976305, 1.2953586497890295, 1.1567164179104477, 1.1666666666666667, 2.0, 1.3070118358804805, 1.1492537313432836, 1.1337700760777685, 1.2, 1.0716921454928836, 1.0488974113135188, 1.0, 1.0094701756603057, 1.1486810551558753, 1.3343881856540085, 78.23978494623655, 1.0179073033707866, 1.2956195195602098, 1.1754385964912282, 2.0, 1.3319967923015237, 1.0424772443333927, 1.3292469352014011, 1.2087714530593474, 1.0793416975669223, 1.038014500521906, 1.0666239590006406, 1.017144482212261, 1.0053088803088803, 1.0961208376244422, 1.16578656514798, 1.3636363636363635, 1.1606404958677685, 1.6629711751662972, 1.3541666666666667, 1.3157894736842106, 1.0240549828178693, 78.84782608695652, 1.0539732480422748, 1.0069159658024605, 1.0167014613778707, 1.2862669245647969, 1.003293532481624, 1.1149025069637883, 1.2018891151531885, 1.0541639083194838, 1.0, 1.085419734904271, 1.0894894894894895, 1.0328910600070378, 1.0548767073058942, 1.063373070742554, 1.2876857749469215, 1.1320652173913044, 1.0805530083938775, 1.2344444897792648, 1.093950448659209, 1.0401564962234418, 1.146103896103896, 1.0, 1.4545454545454546, 1.0913461538461537, 60.391304347826086, 1.0280210157618213, 1.2356143079315707, 1.739624786810688, 1.0566037735849056, 1.3366336633663367, 1.156505914467698, 1.1634435433562071, 1.0791033677712558, 1.85, 1.1002623474392608, 1.0353312790979305, 1.136890951276102, 4.0, 2.1333333333333333, 1.0315533980582525, 1.4285714285714286, 1.0541291748054693, 1.053627760252366, 1.0952380952380953, 1.3616599168126096, 1.4761904761904763, 1.6923076923076923, 1.0963104178296452, 2.0, 74.25862068965517, 1.2674418604651163, 1.0378228782287824, 1.0140597539543057, 1.2140992167101827, 1.011111111111111, 1.115202990018352, 1.0814165924954326, 1.389261744966443, 1.0387591986197668, 1.1593273123637495, 3.0, 1.2222222222222223, 1.2884892250736992, 1.5, 1.0446798710271765, 1.6470588235294117, 53.5, 1.5263157894736843, 1.6224899598393574, 1.0419580419580419, 1.0962962962962963, 1.1706608569353667, 1.3076923076923077, 1.1428571428571428, 1.3573841845741768, 1.0229885057471264, 1.4285714285714286, 1.2177674800563116, 1.1434782608695653, 1.2457091237579043, 1.0185873605947955, 1.75, 1.0, 1.3770364623739333, 1.0153846153846153, 1.1549773755656108, 1.1288727597303456, 1.2636998896653182, 1.1778425655976676, 2.0, 1.0293632950153975, 54.37869822485207, 1.0, 39.0, 1.036480686695279, 1.5714285714285714, 1.13135593220339, 1.2626262626262625, 1.1863088389775398, 1.1216786939973666, 1.1423444976076556, 1.0679373054448147, 1.1117780445511538, 57.28708133971292, 1.1142433234421365, 1.3225667038191207, 1.2115059221658206, 1.2, 1.001733540733522, 1.0751814497125083, 1.0180722891566265, 1.2057142857142857, 1.2285714285714286, 1.1, 2.0, 1.1041666666666667, 1.8243243243243243, 1.4403669724770642, 1.3537414965986394, 71.21088435374149, 1.0638182801514333, 1.1487341772151898, 1.1796069801070406, 1.0964846671652955, 1.0913519933061622, 1.0, 1.247191011235955, 1.1089385474860336, 1.0, 1.0374173797519537, 1.2884615384615385, 1.1047059703725872, 1.093450641840401, 1.1463951042264295, 1.1177215189873417, 1.375, 1.1371375977910723, 1.0, 1.1296296296296295, 1.0909090909090908, 1.1663559146467786, 1.2260869565217392, 1.0459502950116217, 1.025, 1.1102248005801305, 3.0, 1.1186291739894552, 1.0165842638183074, 1.1484354207064371, 2.0, 1.25, 1.211136890951276, 1.0, 1.1234443440172426, 1.1975839814661593, 1.0, 1.3517441860465116, 1.167831350643887, 1.1350080250830503, 1.1790262398598124, 1.1519947341308454, 1.0073529411764706, 1.5714285714285714, 1.1716003700277522, 1.3311821754335365, 1.1388888888888888, 1.160989010989011, 1.0, 1.5, 1.4415686274509805, 1.0341880341880343, 1.0618556701030928, 1.1418524359575466, 1.0226130653266332, 1.0, 1.1355932203389831, 1.0303030303030303, 1.0706334638442692, 1.0454545454545454, 1.0, 1.0614619653799335, 1.0, 1.0, 1.0067164179104477, 1.5, 1.0350430073271744, 1.0352588147036759, 1.2327868852459016, 1.3333333333333333, 1.1084315384166619, 1.4729493891797556, 1.65, 1.036431180345269, 1.0775193798449612, 1.0396246089676746, 1.0151415404871627, 1.3047062864994847, 1.1793238046036394, 1.0, 1.1756756756756757, 1.3551122137752083, 1.082057069160084, 1.0586835844567803, 1.0, 1.0694960212201592, 1.0007583731411762, 1.0781893004115226, 2.0, 1.0937000319795331, 1.1666941292782826, 1.250625607206995, 1.0508209254068221, 1.074981032075036, 1.0903239975080563, 1.0459770114942528, 1.0504168581369395, 2.0, 1.0232508349747367, 1.0972222222222223, 1.0501460564751703, 1.3077432164129716, 1.2507936507936508, 1.0347420628825195, 1.6559485530546625, 1.1041477011969876, 1.1550822122571, 1.0918356997971603, 1.3343898573692552, 1.316209431594047, 1.5155112712882481, 1.2272727272727273, 1.1125, 1.0644875158057636, 1.1698924731182796, 1.0759745529753646, 1.0599916254094928, 1.0, 1.4633257403189066, 1.4054982817869415, 1.3103448275862069, 1.3863636363636365, 1.2249948150883458, 1.304832713754647, 1.4113655640373197, 1.0, 1.5833333333333333, 1.0201557489693083, 1.1381897263853533, 1.0479086051225355, 1.0136578443917952, 1.0925226586102719, 1.084016393442623, 1.0814249363867685, 1.0489368211717913, 1.7124183006535947, 1.258677839851024, 1.4090909090909092, 1.5384615384615385, 1.2513966480446927, 1.020583190394511, 1.0352542932628799, 1.0879110519276207, 1.179549309425733, 1.0425976195447901, 1.1341874578556979, 1.019754271261334, 2.0, 1.073968705547653, 1.0723580884002692, 1.0074397126731658, 1.0, 1.1813471502590673, 1.0679968274147367, 1.0392967942088935, 1.1467201758157757, 1.1545636242504997, 1.0354679802955664, 1.4285714285714286, 111.91836734693878, 1.1428571428571428, 1.08038029386344, 1.0795698924731183, 1.5, 1.070929089809495, 1.588235294117647, 1.258139534883721, 1.0669035445012567, 1.080655737704918, 1.0285714285714285, 1.083846518237802, 1.1181044057756386, 1.0725654167790666, 1.0238992131257325, 1.1723684210526315, 1.0772886516448235, 2.0, 1.128060263653484, 4.846153846153846, 73.0, 1.0, 1.2531645569620253, 1.6470588235294117, 79.0, 1.628440366972477, 1.0541604212306392, 1.0451467268623025, 1.2110091743119267, 1.3376623376623376, 1.1320355171305898, 1.1746883707288458, 1.2163009404388714, 1.0, 44.0, 1.176659185636422, 1.4486486486486487, 1.0148148148148148, 1.084823475469968, 1.0, 1.131307929969104, 1.0665280665280665, 1.1414157450036162, 1.3179396092362345, 1.0364624890983651, 1.0594196720720936, 1.368271954674221, 1.0, 1.1354096140825998, 1.0334603981363828, 1.6666666666666667, 1.2036430305396641, 3.0, 1.0228338430173292, 1.160374300347935, 1.7142857142857142, 1.0677785774634665, 1.4, 1.5714285714285714, 1.0886271456734935, 1.0756247971437845, 1.009802061219891, 1.0000173101723229, 1.1235154394299287, 1.2352941176470589, 1.4074074074074074, 1.0227272727272727, 1.2790262172284643, 1.0491773308957952, 1.2395697522816167, 1.1529212873598023, 1.0, 1.0748502994011977, 1.1992279288351795, 2.0, 1.2557315110665392, 1.103188243887767, 1.3992431409649952, 1.0127647538133373, 1.153991231293017, 1.0071942446043165, 2.142857142857143, 1.140495867768595, 1.2403225806451612, 1.0902489191117828, 1.203883495145631, 1.1953104563506218, 1.1036516821379319, 1.2666666666666666, 1.0663248958667093, 1.431438127090301, 1.11297749994035, 1.0716494845360824, 1.027027027027027, 1.066350710900474, 5.166666666666667, 54.49382716049383, 1.2193927522037218, 1.4444444444444444, 1.6, 1.0059031877213696, 1.5498154981549817, 1.0209580838323353, 1.3513356562137049, 1.1428571428571428, 1.064102564102564, 1.0221824686940966, 1.1785714285714286, 1.25760806038705, 3.3333333333333335, 1.1193872953896982, 3.5, 1.0076335877862594, 1.3333333333333333, 1.0379276227026055, 1.2903225806451613, 1.1533333333333333, 1.0731277533039647, 1.0, 1.5238680302099519, 1.0159468438538206, 1.5, 1.3333333333333333, 1.0977443609022557, 1.4310344827586208, 1.0386363636363636, 1.2573529411764706, 1.075, 1.2114243323442135, 1.2235649546827794, 1.1538461538461537, 1.21900826446281, 1.526530612244898, 1.2692307692307692, 1.0, 1.0153217568947905, 1.0893921334922527, 1.271694214876033, 1.0832987981765436, 1.0707584029808264, 1.1640398842071407, 1.0568866847046032, 1.3810005783689994, 1.1819262782401903, 1.0079880179730405, 1.375, 1.0, 1.3333333333333333, 1.2525157471351598, 1.0695187165775402, 1.1452513966480447, 1.0862745098039215, 1.0052983474202095, 1.1387692307692308, 1.019754798125682, 1.064102564102564, 1.0476190476190477, 1.1137184115523466, 1.2155355249204667, 1.0835602123037154, 1.0262436174719616, 1.2039473684210527, 1.0833384025792323, 1.2255918803265646, 1.0654117799520508, 1.0694548170276326, 1.367622608189222, 1.0501567398119123, 1.0632809351068118, 3190.0, 1.0237871534457816, 50.0, 1.123728813559322, 1.0, 1.0743639921722115, 1.0055203242180664, 1.3703703703703705, 1.0979582971329278, 1.1917372881355932, 1.1025641025641026, 1.0122520342321357, 1.076463560334528, 1.2400718867783243, 1.0129081245254365, 1.2179341657207718, 1.234450956971027, 1.0589285714285714, 1.5714285714285714, 1.0, 1.5555555555555556, 1.0852165536065508, 1.6666666666666667, 1.0545946916424789, 1.1003961541885516, 1.00698657841515, 1.0643621399176955, 1.0568040011884718, 1.3084673097534834, 1.2309941520467835, 1.2815533980582525, 1.1127052446995058, 1.3633295838020247, 1.0454835772062914, 1.1641976209589142, 1.25, 63.754901960784316, 1.2806324110671936, 1.112350849013309, 1.263843648208469, 1.2949361313868613, 1.0902654867256638, 1.812720848056537, 1.1339785967347238, 1.261744966442953, 1.1126761954621334, 1.375, 1.0541734852936178, 1.084640934187797, 1.144339197113216, 1.0461273666092943, 1.6, 1.2352941176470589, 1.890029041626331, 1.0787656523606568, 5.0, 1.0200763889226343, 1.0909090909090908, 1.010029251984956, 1.0996845425867507, 1.2103658536585367, 1.1378923766816142, 1.1907327586206897, 1.1698537682789651, 1.132, 1.0655619035758208, 1.0586011342155008, 1.05991114019962, 1.0715668292965834, 1.4, 1.1318074191002367, 1.3272123461613596, 1.1179375174463784, 1.1700680272108843, 1.2084382871536523, 1.5355850422195416, 1.1392508143322475, 1.0179856115107915, 1.0744562144419036, 2.4, 1.0984455958549222, 1.2305882352941175, 1.0523344191096633, 1.1784511784511784, 1.5066648153290751, 1.3467333889352238, 1.0421329822251482, 1.1244444444444444, 1.1030617489414818, 1.054103199283192, 1.1459627329192548, 1.2324324324324325, 1.1850746268656716, 1.0645436651401945, 1.0865384615384615, 1.4, 1.0455376818964517, 1.160026648900733, 1.1071932299012694, 1.0375586854460095, 1.5003620564808111, 1.0016950905580584, 1.3986505482147877, 1.3290548424737456, 1.5, 1.0813633864760857, 87.98511166253101, 1.2032520325203253, 1.2647058823529411, 1.1363549169035454, 1.4558969276511398, 1.1071428571428572, 1.170731707317073, 1.039447731755424, 1.2338251986379114, 1.0686274509803921, 1.0142857142857142, 1.058191018342821, 1.2270531400966183, 1.1593559133814548, 1.1666666666666667, 1.0177717580906647, 818.875, 1.1358831710709318, 1.2782608695652173, 2.3333333333333335, 1.2464224384659417, 1.1620700340873877, 1.1368464637778097, 1.6054545454545455, 1.0149253731343284, 1.0588235294117647, 1.0571428571428572, 1.3783783783783783, 1.3285714285714285, 1.0870988867059594, 1.029836203791853, 1.0320234057299877, 1.2327586206896552, 1.0764981379076854, 1.0469360068824036, 2.5, 1.0403318891249436, 1.113453570558128, 1.5, 5.25, 1.1847181008902077, 1.1799098671726755, 1.1138185239439304, 1.5, 1.0, 1.1455223880597014, 1.4570552147239264, 2.0, 1.047700816358654, 1.0889693821760524, 1.0476296199116637, 1.0272361497988238, 1.4285714285714286, 1.023686842790979, 1.0535483870967741, 1.1815384615384616, 1.248062015503876, 1.293915040183697, 1.0, 1.2407407407407407, 1.024414659918803, 1.2301545741936735, 1.0704545454545455, 1.21, 1.3412123855211513, 1.0943396226415094, 1.3305785123966942, 1.0615384615384615, 1.2345114959028158, 1.605677210056772, 1.1421384484115111, 1.2692307692307692, 1.3529411764705883, 62.14342629482072, 1.0, 1.0921052631578947, 1.180473372781065, 1.0047551105814059, 1.2685589519650655, 1.5, 1.1747448979591837, 1.0002005615724028, 1.1172388604821037, 1.2979964987356545, 1.0002372591819304, 1.0220917225950783, 1.116274978891078, 1.1888888888888889, 1.1458333333333333, 1.08282526916591, 1.086625687589801, 1.2975256487628244, 1.1021069692058347, 1.6666666666666667, 1.0853658536585367, 1.1528320375734395, 1.0234948604992657, 1.1891584119803447, 1.0939137128561145, 1.137772675086108, 1.6, 1.091121495327103, 1.1509831383230957, 1.1627213420316869, 1.173202614379085, 1.0577019568489714, 1.2101910828025477, 1.0608773500447628, 1.155057251908397, 1.0319494471153126, 1.1021680417329536, 1.0404896421845575, 1.0773606370875994, 1.1578947368421053, 1.062799043062201, 1.4608787546234199, 1.0060048876992902, 1.048162885638985, 1.0787847579814624, 1.2708018154311649, 5.5, 1.0351648351648353, 1.6666666666666667, 2.5, 1.3529411764705883, 1.0172786177105833, 1.0843495934959348, 1.0312845728334357, 1.0851164817104055, 1.1300407793384686, 1.0325364012223621, 1.3804347826086956, 1.15980024968789, 1.0010175133963382, 1.3333333333333333, 1.375, 1.054127198917456, 1.125, 1.2010652463382157, 1.2647181628392485, 1.1220369535826948, 1.0862123358012095, 3.5, 1.3179566563467493, 1.3029581774906493, 1.0059882300306295, 1.0391971763171564, 1.398989898989899, 1.0932671081677705, 1.2332146916870097, 1.0833961045948564, 1.21939586645469, 1.2820512820512822, 1.0659955257270695, 1.0, 30.0, 1.041244046365373, 5.0, 1.8571428571428572, 1.8857142857142857, 1.1107660455486543, 1.0164029542240327, 1.246745897000566, 1.0454545454545454, 1.004315659679408, 1.2272727272727273, 1.45, 1.2]
origin-bjaq_15.71 	max: 3190.0000	99th: 80.5707	95th: 2.5000	median: 1.1341	mean: 7.3774

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 9/15 | Workload-time: 12.076615 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 10/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (462168, 5), new data size: (20000, 5)
[ 1.1920929e-07  5.9604645e-08  1.1920929e-07 -2.9802322e-08
  4.3225288e-04]
Distance score: 8.650422387290746e-05
SAUCE Drift detection: True
Detection latency: 0.0385s

DRIFT-DETECTED after 10-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (482168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 482168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.5132 nats / 36.8078 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 10/15 | Workload-time: 2.086341 | Model-update-time: 2.536327


WORKLOAD-START | Type: QueryWorkload | Progress: 11/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 482168, total size: 482168, split index: [401806 482168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 3979.0000	99th: 99.0258	95th: 3.0000	median: 1.1545	mean: 8.2371
ReportEsts: [1.3142857142857143, 1.0118923430002087, 1.041119994721156, 1.1903846153846154, 1.1538461538461537, 1.0, 1.0472121341593676, 1.049950385352861, 1.2, 1.0572916666666667, 1.1840268272652614, 1.0425162534828891, 1.0540350877192983, 1.1082089552238805, 1.054146856840993, 2.3333333333333335, 1.2684563758389262, 10.0, 1.0, 1.0387045813586098, 1.1138381845091267, 1.028739636312966, 1.0223880597014925, 1.2084168336673347, 1.0076626441940095, 1.0306930665868113, 2.0, 1.1942031554688886, 1.2, 1.4, 1.0983161325366648, 1.0, 1.0480864867904502, 1.0076385915772312, 1.4228634850166482, 1.3971214568952857, 1.2159598214285714, 1.2087155963302751, 6.0, 1.0348690153568203, 1.3136993899057128, 1.0725153771447071, 1.1160609613130128, 1.1921026653504443, 1.016245487364621, 1.1877261818597387, 1.2608695652173914, 1.0733524355300859, 1.42, 1.0075709779179811, 1.8, 1.1771653543307086, 1.007380073800738, 1.2758620689655173, 1.0584524052732145, 1.0186730234406038, 1.2533894343151004, 1.2513513513513514, 1.1931818181818181, 1.0650663104498983, 1.1818181818181819, 1.1183957654723127, 1.2174657534246576, 1.4090909090909092, 1.0380952380952382, 96.83333333333333, 1.0243510158013545, 1.0124192747143568, 1.2448979591836735, 1.5454545454545454, 1.3135135135135134, 1.2494033412887828, 1.0680459770114943, 1.0018315018315018, 1.2012253129875565, 1.486129458388375, 1.0846287214544013, 1.3532608695652173, 1.3796296296296295, 1.0534829608386924, 1.0322427690848743, 1.35, 1.0, 107.5, 1.3727891156462586, 1.588235294117647, 1.1245210727969348, 5.0, 229.0, 1.1107076932464799, 1.1211072664359862, 1.2268929102373507, 1.029088953531008, 1.4016787912702855, 1.1354166666666667, 1.2580645161290323, 1.083159359777314, 1.1854395604395604, 1.0833333333333333, 1.2419969512195121, 1.1785714285714286, 99.0, 1.3383845106330694, 1.3558970099667773, 1.0801855533465872, 1.244845990162905, 1.0294117647058822, 1.0118602348840022, 1.0552742616033755, 1.0483109633460574, 1.0626848018923714, 1.0725105537621058, 1.5, 109.0, 1.0379216043755697, 1.056188426937934, 1.0258064516129033, 1.1855670103092784, 1.0655186854385195, 2.0, 1.066028473244968, 1.1838170624450308, 1.0, 1.2307692307692308, 1.1428571428571428, 1.4611528822055138, 1.0251494086694852, 1.0547242146920603, 1.1785714285714286, 1.5, 1.1229454306377384, 1.0, 41.0, 1.158859113358076, 1.0, 1.0046235138705417, 1.1897810218978102, 1.0503667766208544, 1.0629213483146067, 1.036734693877551, 1.0299654673053358, 1.1657848324514992, 1.1864406779661016, 1.3333333333333333, 1.0140845070422535, 1.360078277886497, 3.0, 1.0028439388553145, 1.3302857142857143, 1.1224489795918366, 1.389624139756485, 1.5, 1.1496806177900658, 1.2, 1.0196078431372548, 113.78802992518703, 1.0, 1.0441030723488602, 1.069732361209517, 1.0710163224817386, 1.1233766233766234, 1.044502617801047, 1.4285714285714286, 1.078125, 1.064516129032258, 1.8571428571428572, 1.0680756514089846, 93.65714285714286, 1.1136079900124844, 1.0403180813180606, 1.2952898550724639, 1.0293436601724688, 1.608421052631579, 1.0798319327731092, 1.0494015399862773, 1.141184734254273, 1.0447552447552448, 1.1074183976261127, 1.0706412825651304, 1.2103321033210332, 1.2053387587018336, 1.1904761904761905, 1.1014416818803265, 1.035175879396985, 1.0720073034348967, 1.1470588235294117, 1.1244913059563448, 1.3026315789473684, 1.2060794520817548, 1.2979752190994258, 1.0013578590037104, 1.171875, 1.1136044880785414, 1.3278569438363252, 1.0, 1.8181818181818181, 1.0207576204040205, 95.59127789046653, 1.1395348837209303, 1.6575342465753424, 1.2316978003219041, 1.3070283600493218, 1.075991804093366, 1.0737924865831843, 1.3106382978723403, 1.040356394129979, 1.05332310168635, 1.0698722113926793, 1.183673469387755, 1.5241379310344827, 1.059840341944811, 1.1566265060240963, 1.5977011494252873, 1.040192926045016, 118.625, 1.0411764705882354, 1.3070652173913044, 1.236539761207479, 91.15800865800865, 1.2857142857142858, 1.0364152892561984, 1.0652919005704786, 1.2360222818238085, 1.8, 1.454054054054054, 1.0673292818010358, 1.1363595586256392, 1.2658227848101267, 1.234592445328032, 1.0730666666666666, 1.0873347251217815, 1.1904761904761905, 1.0030532654829893, 1.0369919572325244, 1.1610942249240122, 1.0685413005272408, 1.2859060402684563, 1.1666666666666667, 1.458267716535433, 2.0, 1.0467863894139886, 1.006311992786294, 1.3030942334739803, 1.0895522388059702, 1.25, 2.0, 1.3580837480874413, 1.1142857142857143, 1.0922080821611968, 1.2, 1.0791878172588834, 1.0427272727272727, 1.0, 1.0148578714467862, 1.0985010706638116, 1.3470464135021096, 94.96861924686192, 1.0097807757166948, 1.33594007084648, 1.2105263157894737, 2.0, 1.3579462504883515, 1.001258963271115, 1.404553415061296, 1.2548027677320903, 1.102986742520445, 1.0211939385069781, 1.036085626911315, 1.0108154262131777, 1.0228225430833722, 1.1050272562083585, 1.1034016947071104, 1.0439024390243903, 1.1695722565053146, 1.7452229299363058, 1.346938775510204, 1.1904761904761905, 1.196319018404908, 1.0690709046454767, 1.0588066551921973, 76.5, 1.026862657742324, 1.4561707035755478, 1.2192028985507246, 1.0205991014885996, 1.1318764129615675, 1.2048705943555729, 1.04334913473071, 1.1, 1.0865724381625441, 1.0540704738760631, 1.0687452441026872, 1.0507555991384594, 1.1025922492119413, 1.0131622848798132, 1.1595028482651475, 1.0084493713667704, 1.2743889999591986, 1.0292316808216473, 1.0132267072861132, 1.2402597402597402, 1.0, 1.4545454545454546, 1.089033189033189, 72.45833333333333, 1.0333889816360602, 1.305741943564693, 1.919846280538018, 1.1454545454545455, 1.2673267326732673, 1.053082191780822, 1.47868579746309, 1.0986730531692224, 2.1, 1.1402532198209998, 1.0058265911794566, 1.1567328918322295, 5.0, 3.1818181818181817, 1.0175328741390106, 1.5714285714285714, 1.0599371596915557, 1.2802168021680216, 1.3571428571428572, 1.0969120543009176, 1.1271676300578035, 1.8461538461538463, 1.097042415890389, 2.0, 89.61666666666666, 1.3008720930232558, 1.044255319148936, 1.0117994100294985, 1.4255874673629243, 1.164835164835165, 1.1134382138146253, 1.0657205674031627, 1.4038461538461537, 1.0112835813048735, 1.14643961042748, 3.0, 1.2222222222222223, 1.3254301972165725, 1.5, 1.0406719717064545, 1.7058823529411764, 67.75, 1.631578947368421, 1.7620481927710843, 1.0402384500745157, 1.1353383458646618, 1.1898646303366887, 1.3333333333333333, 1.1428571428571428, 1.2807011706141898, 1.02203182374541, 1.4821428571428572, 1.259584702017832, 1.1652173913043478, 1.3125564588979224, 1.02152466367713, 1.75, 1.0, 1.3895048041389504, 1.1785714285714286, 1.1542610571736784, 1.125648686900456, 1.2186068366028426, 1.2099125364431487, 1.5, 1.032698067652891, 63.32044198895028, 1.375, 47.0, 1.1818181818181819, 1.7142857142857142, 1.0685483870967742, 1.233644859813084, 1.2648097895653065, 1.0947503377540049, 1.117252931323283, 1.1145898888189638, 1.1133954795045333, 69.30232558139535, 1.1134751773049645, 1.397948274685531, 1.1968253968253968, 1.3666666666666667, 1.006038059163059, 1.07234273318872, 1.0173076923076922, 1.302857142857143, 1.3142857142857143, 1.0765957446808512, 2.0, 1.0784313725490196, 1.350730688935282, 1.4564220183486238, 1.2974683544303798, 82.18238993710692, 1.0371879775853285, 1.1147058823529412, 1.1832959671537775, 1.076483202287348, 1.1420201758923954, 1.019047619047619, 1.3993274485077765, 1.1536312849162011, 1.0, 1.0394187253806342, 1.2407407407407407, 1.1028544806207106, 1.08725242125469, 1.219162363740677, 1.0922224897664339, 1.375, 1.018640776699029, 1.1666666666666667, 1.1152173913043477, 1.0909090909090908, 1.170408773678963, 1.2565217391304349, 1.1221793221793221, 1.0654761904761905, 1.0131909547738693, 3.0, 1.052431165787932, 1.0094164015270102, 1.0479339746392655, 2.0, 1.2027027027027026, 1.2678440029433407, 1.0235294117647058, 1.1199840420226737, 1.3537956078160125, 1.0769230769230769, 1.0490483162518303, 1.2637249631897538, 1.204639617782091, 1.2165966616750064, 1.189657146127869, 1.003528892809881, 1.5909090909090908, 1.2115384615384615, 1.4094891300429029, 1.0588235294117647, 1.05358807082945, 6.0, 1.5, 1.4329411764705882, 1.1324786324786325, 1.062308478038815, 1.0919490140538184, 1.0613908872901678, 1.0, 1.1779661016949152, 1.088235294117647, 1.042200014696157, 1.0909090909090908, 1.0, 1.0705631075713116, 1.0, 1.0, 1.0039440659734673, 1.864864864864865, 1.0120184899845917, 1.0373295046661881, 1.301639344262295, 1.4444444444444444, 137.08, 1.4221879815100154, 1.0341098169717138, 1.5, 1.4910714285714286, 1.0902255639097744, 1.0138339920948616, 1.0119421747328725, 1.0439815605258664, 1.1767810026385224, 1.0, 1.2027027027027026, 1.5099297916883538, 1.1603445419910552, 1.0522727272727272, 1.25, 1.0210366879838437, 1.1952937135005153, 1.0927652019529517, 2.0, 1.0791111111111111, 1.2262134551103998, 1.0875322997416021, 1.2808586762075134, 1.0853602441071235, 1.1219444323666246, 1.0106030483764081, 1.039934065250521, 1.5, 1.1564938798981352, 1.1232417950435365, 1.0434782608695652, 1.3342157511581734, 1.2380952380952381, 1.0471565856044862, 1.9503424657534247, 1.136472662119986, 1.1725125268432355, 1.098768812525059, 1.3393393393393394, 1.4084334468949853, 1.6278628540452635, 1.2473118279569892, 1.2465753424657535, 1.0873271875508714, 1.049689440993789, 1.0915113040423556, 1.0631435852256041, 1.0, 1.3394077448747153, 1.309278350515464, 1.3666666666666667, 1.5, 1.3045883745200157, 1.3523131672597866, 1.4670999187652316, 1.0, 1.6153846153846154, 1.020417124039517, 10.438518518518519, 1.0, 3.0, 1.0, 1.142638036809816, 1.1628318584070796, 1.1325503355704698, 1.048832271762208, 1.006060606060606, 1.3045685279187818, 1.2065613608748482, 1.1483516483516483, 1.0731602475928472, 1.655430711610487, 1.133651286601597, 2.0, 1.2326589595375723, 1.2063492063492063, 1.0052110616007348, 1.1234866828087167, 1.1094091903719911, 1.015625, 95.71115745568301, 1.0828550675710238, 1.0, 1.5957446808510638, 3.0, 1.0, 1.4318181818181819, 2.5, 1.2391975308641976, 1.0310344827586206, 1.0458452722063036, 1.0470219435736676, 1.1181686025591202, 1.155880337976707, 1.065874533856198, 1.0943318742241677, 1.0530408682997816, 1.41083640189374, 1.193092465412561, 1.0801596996692786, 1.3426966292134832, 1.3732119635890767, 1.2040557667934093, 1.1917808219178083, 1.009533694691116, 1.0748792270531402, 1.079006192971527, 1.0486486486486486, 1.5922833285344082, 1.1163973668462, 85.8, 1.1041666666666667, 1.3333333333333333, 1.1286052009456264, 1.0955322316693532, 1.0810673308778718, 1.0189082037206465, 1.1817641262614251, 1.75, 1.0092528656262947, 1.051528053742076, 1.17, 1.3095238095238095, 1.0153419804582595, 1.0136314067611778, 1.035648686134123, 1.2393162393162394, 1.124627606752731, 1.0607853525185955, 1.0305387782398796, 1.032258064516129, 1.0489097332196369, 1.4927536231884058, 1.0177776986866924, 1.0866177209632792, 1.575268817204301, 1.0, 1.153689911983751, 1.0347560975609755, 1.6666666666666667, 1.2027400826580754, 3.0, 1.146788990825688, 1.2293129902967173, 1.7142857142857142, 1.0245567731941019, 1.4, 1.6818181818181819, 1.048044925124792, 1.0677179962894248, 1.0042706518541982, 1.0000145181227653, 1.2422802850356294, 1.1944444444444444, 1.3333333333333333, 1.0583832335329342, 1.3244206773618539, 1.0558962677413704, 1.3415439658731252, 1.1514986705342036, 1.0, 1.0422093479113124, 1.2242530197075652, 2.0, 1.3429694241668026, 1.0870224815513987, 1.348155156102176, 1.016625892579944, 1.2063952776348985, 1.020979020979021, 2.4285714285714284, 1.0524308865586272, 1.2967741935483872, 1.1154088429630225, 1.1960844294891404, 1.2084411874966527, 1.1096437687271112, 1.1314623338257017, 1.1443569553805775, 1.5317725752508362, 1.1899765943585165, 1.0468441814595661, 1.0638908829863605, 1.0436456996148908, 5.233333333333333, 62.73142857142857, 1.2072477962781587, 1.5555555555555556, 1.6, 1.0144284128745837, 1.5703211517165006, 1.038220193953223, 1.3894679100383982, 1.1333333333333333, 1.0763299922898997, 1.0170765027322404, 1.3714285714285714, 1.3691792267230807, 3.6666666666666665, 1.1738268726318857, 1.0155210643015522, 1.0706521739130435, 1.4666666666666666, 1.0577722360764754, 1.28125, 1.1555555555555554, 1.0745762711864406, 1.0, 1.6036632759960798, 1.0098103335513406, 1.75, 1.3333333333333333, 1.1203007518796992, 1.5206896551724138, 1.0650124069478908, 1.2435897435897436, 1.1015625, 1.2132867132867133, 1.3232628398791542, 1.2857142857142858, 1.0886524822695036, 1.8775510204081634, 1.3461538461538463, 1.0, 1.0081135902636917, 1.1334093500570126, 1.1537117903930132, 1.237404432025459, 1.0669544193773268, 1.1547329490554092, 1.0769064289516321, 1.4186668594563332, 1.131578947368421, 92.625, 106.5, 3.5, 88.87959442332065, 1.2748880625332017, 1.09015873015873, 1.1386666666666667, 1.1422505307855626, 1.030295700550281, 1.1449364548494982, 1.0180640914159949, 1.1282051282051282, 1.0, 1.0814558058925476, 1.2444326617179216, 1.1067724468629616, 1.0463359958212723, 1.2828947368421053, 1.062926459438969, 1.2721833881578948, 1.1518529443728556, 1.0735930735930737, 1.3589806212837108, 1.121580547112462, 1.0502108087389805, 3979.0, 1.0313164246337825, 63.0, 95.79968944099379, 1.0711211902637017, 1.0361986628462274, 1.0815792534015582, 2.2222222222222223, 1.0783410138248848, 1.1680440771349863, 1.0330405687996653, 1.2974565818860628, 1.0377423033067275, 1.2734913051571164, 1.054702461905687, 1.0338336301195625, 101.58333333333333, 1.2475006682705159, 1.0607142857142857, 1.5, 1.0, 1.875, 1.0697804206839483, 1.8333333333333333, 1.052236269103739, 1.1111987718026355, 1.01131741821397, 1.0821766561514197, 1.0568740178787606, 1.2318327974276528, 1.2465753424657535, 1.2510402219140084, 1.1120192237462934, 1.3749062617172854, 1.0523293220540928, 1.2130063570135956, 1.25, 81.66331658291458, 1.0254691689008042, 1.0798151764349955, 1.3094462540716612, 1.2779580359074194, 1.215929203539823, 1.78125, 1.224712370795135, 1.323489932885906, 1.0230807827395885, 1.4375, 1.060413051266185, 1.0740030975032762, 1.0233965308592174, 1.0451697988789976, 1.0192307692307692, 1.2941176470588236, 2.052736412785735, 1.0228836734080595, 5.0, 1.0174025429649294, 1.1785714285714286, 1.0018671645772206, 1.0668693009118542, 1.2423780487804879, 1.183903860160233, 1.2133620689655173, 1.236220472440945, 1.1069270106927012, 1.0723238004778795, 1.057866184448463, 1.0380433469446928, 1.0836027096919272, 1.4375, 1.1365430149960536, 1.1547177183043562, 1.1435858319294923, 1.1717391304347826, 1.2858942065491183, 1.4330518697225574, 1.0359094457455114, 1.0246189917936694, 1.0667562236591284, 2.3636363636363638, 1.09636563876652, 1.2305454545454546, 1.034688013136289, 1.2142857142857142, 1.030581473729024, 1.2997416020671835, 1.0134845234446828, 1.1912272055199606, 1.0896109481915934, 1.0529080485895397, 1.1841317365269461, 1.1837837837837837, 1.231749710312862, 1.056119018805586, 1.0545454545454545, 1.4, 1.0444433057484221, 1.1581338369659537, 1.160092807424594, 1.0420560747663552, 1.5271542360608255, 1.0204027839312655, 1.4908630868709587, 1.56625, 1.5769230769230769, 1.0554715078164398, 104.44339622641509, 1.1906005221932114, 1.34375, 1.1906839982374673, 1.5302279484638255, 1.0890410958904109, 1.3170731707317074, 1.0093632958801497, 1.0128980335264155, 1.7032850582832921, 1.1489841986455982, 1.0723784837207972, 1.1470277875483643, 1.1071428571428572, 1.3333333333333333, 1.251908396946565, 1.1282051282051282, 1.25, 1.0666666666666667, 1.328476821192053, 1.2177914110429449, 1.2191578005027028, 1.1888108547131049, 1.5654545454545454, 1.0149253731343284, 1.0, 1.1944444444444444, 1.4324324324324325, 1.4285714285714286, 1.0936412527681114, 1.0496184971098266, 1.046908061391745, 1.1788617886178863, 1.0904540269961998, 1.0467963989962856, 2.5, 1.0353924136670696, 1.169152396734794, 1.5, 5.0, 1.2419201520912548, 1.1713539003465712, 1.1893839246370599, 1.4565217391304348, 1.5, 1.1418439716312057, 1.4447852760736197, 2.3333333333333335, 1.0971832669042647, 1.0956700706579448, 1.053185419557296, 1.0235494051954357, 1.4285714285714286, 1.0342082341800145, 1.053349875930521, 1.2646153846153847, 1.2727272727272727, 1.3796192609182532, 1.0, 1.1510791366906474, 1.163029315960912, 1.32759256026842, 1.1277533039647578, 1.1634615384615385, 1.4108071417316155, 1.0995670995670996, 1.359504132231405, 1.1014492753623188, 1.2102149421599895, 1.4767406195685513, 1.4285714285714286, 1.0495063779108034, 1.0939226519337018, 1.196765498652291, 1.1401971522453451, 1.0833333333333333, 1.0869565217391304, 1.2396449704142012, 1.0194176579180085, 1.3438864628820961, 1.5, 1.1812961443806398, 1.0215782983970407, 1.199789695057834, 1.4178175452246644, 1.0190923175066071, 1.1140056398549751, 1.0972001061571126, 1.4344473007712082, 1.1875, 1.0197785794253016, 1.117503728272119, 1.7483588621444202, 1.1312, 1.6666666666666667, 1.1686746987951808, 1.1786882601808926, 1.0657894736842106, 1.25194602605101, 1.1107872933927307, 1.1808097615085968, 1.6, 1.1705607476635513, 1.2169851895146615, 1.154917008745315, 1.10828025477707, 1.0639056991497464, 1.2802547770700636, 1.2328548644338118, 1.2032407407407408, 1.0309790981627538, 1.0990856899851158, 1.0156794425087108, 1.0556149732620321, 1.175, 1.0738209159261791, 1.5614428485820881, 1.0583190597129526, 1.0725349260984005, 1.0691016781836131, 1.29803328290469, 6.0, 1.0636942675159236, 1.6666666666666667, 2.5, 1.411764705882353, 1.024904214559387, 2.0, 2.1153238546603474, 1.3555555555555556, 1.1904761904761905, 1.1587926509186353, 1.1538461538461537, 1.5613382899628252, 1.1371629542790151, 1.0235692003907193, 1.3333333333333333, 1.2941176470588236, 1.3487836949375411, 1.125, 1.2130492676431426, 1.2863436123348018, 1.2995944118972511, 1.0921654538786698, 3.5, 1.309907120743034, 1.417845117845118, 1.025766810366186, 1.0385562919682567, 1.4002525252525253, 1.0787194961952244, 1.2277199887545684, 1.1234262348003874, 1.2623211446740858, 1.2298850574712643, 1.0694444444444444, 1.0, 38.0, 1.0411545953603683, 5.0, 1.8571428571428572, 2.15625, 1.058882235528942, 1.015653201422597, 1.1864406779661016]
origin-bjaq_15.71 	max: 3979.0000	99th: 99.0258	95th: 3.0000	median: 1.1545	mean: 8.2371

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 11/15 | Workload-time: 12.127950 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 12/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (482168, 5), new data size: (20000, 5)
[1.1920929e-07 1.7881393e-07 0.0000000e+00 5.9604645e-08 4.0215254e-04]
Distance score: 8.050203177845106e-05
SAUCE Drift detection: True
Detection latency: 0.0401s

DRIFT-DETECTED after 12-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (502168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 502168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.4306 nats / 36.6885 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 12/15 | Workload-time: 2.098304 | Model-update-time: 2.558490


WORKLOAD-START | Type: QueryWorkload | Progress: 13/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 502168, total size: 502168, split index: [418473 502168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 4759.0000	99th: 114.9629	95th: 4.6708	median: 1.1532	mean: 10.1307
ReportEsts: [1.4507936507936507, 1.0261230951909757, 1.052950642361569, 1.2153846153846153, 1.1111111111111112, 1.0, 1.1158773886046613, 1.0322226097249083, 1.2, 1.0558325024925224, 1.0864797425963622, 1.04273994036447, 1.004156010230179, 1.172972972972973, 1.095250454191539, 2.4375, 1.2960526315789473, 11.0, 1.0833333333333333, 1.0337331334332833, 1.138381845091268, 1.0796617712505563, 1.0, 1.3156312625250501, 1.0067975471787802, 1.0202206938330016, 2.0, 1.1534962735642262, 1.2, 1.6, 1.0739630184907547, 1.0, 1.045682321800217, 1.0197071015906363, 1.3485016648168702, 1.3407255103539433, 1.227365338087355, 1.1982182628062361, 7.0, 1.0036566254570782, 1.2766500277315584, 1.0245646766169154, 1.2188264058679708, 1.1380797794281141, 1.0263620386643233, 1.3118357395908726, 1.1666666666666667, 1.0724081184860121, 1.2680851063829788, 1.0078360458107294, 2.0, 1.2430278884462151, 1.024822695035461, 1.2758620689655173, 1.056601599410016, 1.0216069448162453, 1.194589780696872, 1.1864864864864866, 1.2222222222222223, 1.0593284576683437, 1.1097560975609757, 1.078036422209885, 1.2397260273972603, 1.4181818181818182, 1.018018018018018, 100.0, 1.0264648282432647, 1.0448602922327608, 1.2524271844660195, 1.6363636363636365, 1.324254215304799, 1.2649164677804297, 1.069757174392936, 1.0425531914893618, 1.1828320980615736, 1.172139303482587, 1.0945466647648934, 1.1793478260869565, 1.0143217948164196, 1.1272108843537414, 1.164481525625745, 1.0452216679375403, 1.3888888888888888, 1.2803220677983487, 1.1297071129707112, 1.1746931067044382, 1.0331964407939767, 1.4545454545454546, 1.0692599061880557, 1.031074507360957, 1.1, 1.4, 1.1386454183266932, 1.0457430654872257, 1.1751269035532994, 1.3506311360448808, 1.1022044088176353, 1.0722748815165877, 1.088, 1.33601756954612, 1.096774193548387, 117.5, 1.3507325913563435, 1.2338806567881457, 1.055766793409379, 1.2504542090034318, 1.0285714285714285, 1.0164106740402643, 1.0606918875177018, 1.043549644953413, 1.131534090909091, 1.0721797323135756, 1.6666666666666667, 104.0, 1.040398740818468, 1.0536617946543083, 1.043705463182898, 1.058252427184466, 1.0683774620058604, 2.0, 1.1293508936970837, 1.1850294365012615, 1.0, 1.3076923076923077, 1.1428571428571428, 1.6015037593984962, 1.019668497587166, 1.1597077864227594, 1.2142857142857142, 1.5, 1.3012020130599342, 1.4482758620689655, 1.227122381477398, 1.32553061345295, 1.11963652005592, 1.0, 1.0061193268740438, 1.1379516869634658, 1.5666666666666667, 1.0151515151515151, 1.1666666666666667, 1.0550603041426323, 1.0526315789473684, 1.2418022121014964, 1.0432098765432098, 1.0368098159509203, 1.0938947094906226, 3.0, 1.0027266530334016, 100.48470806302132, 1.0880245649948823, 1.4842068113640374, 1.5, 1.0334476262756311, 1.2740740740740741, 1.0030959752321982, 132.39709443099272, 8.0, 1.0022789425706473, 1.1299306634510586, 1.1762557489403913, 1.1367924528301887, 1.0778894472361809, 1.4482758620689655, 1.0866141732283465, 1.027681660899654, 1.1510533184190903, 1.2916666666666667, 1.4850746268656716, 1.504079489457953, 1.026421854008061, 1.1283185840707965, 1.0799129776033876, 1.2603550295857988, 1.015282774499928, 1.1558823529411764, 1.3469977086537557, 1.0807392996108949, 1.2915129151291513, 1.6764705882352942, 1.181504726483806, 1.1694196260980554, 1.3208106001558846, 1.0478782595136333, 1.4480286738351253, 1.0658805711813069, 1.1708185053380782, 1.152978172401036, 1.5, 1.2291312482785477, 1.3216975666280417, 1.001809237578313, 1.196969696969697, 1.1198791134989927, 1.001713182095646, 2.240899357601713, 1.25, 1.2829578844270324, 1.1428571428571428, 1.1553359905686857, 1.3862902131125288, 1.0127293148633472, 1.546561298590346, 1.0055003173259995, 1.0358682592409358, 1.0759982825246888, 1.3770491803278688, 1.0838541666666666, 1.031709203402939, 1.0741935868683494, 2.6666666666666665, 1.0126035289881166, 1.1389157208403766, 1.1153846153846154, 1.632183908045977, 1.043849437330229, 125.77777777777777, 1.0482277457982154, 1.3559782608695652, 1.1996328425902596, 94.92857142857143, 1.0578778135048232, 1.036102868447082, 1.021493967469181, 1.267565275198863, 1.7272727272727273, 1.6181318681318682, 1.0282009909614038, 1.137341517985199, 1.3259493670886076, 1.3061630218687872, 1.0245001294628728, 1.2874764299182904, 1.2413793103448276, 1.005230709353475, 1.1310418904403867, 1.1407624633431086, 1.0434782608695652, 1.3946308724832215, 1.1538461538461537, 1.5606299212598425, 2.0, 1.0607277882797732, 1.0241412062687985, 1.4474917955930615, 1.1604477611940298, 1.3333333333333333, 2.0, 1.2751974112308964, 1.095890410958904, 1.0335727155073973, 1.2, 1.0802139037433156, 1.1300097751710656, 1.125, 1.02584678134421, 1.1567796610169492, 1.4166666666666667, 111.13687436159346, 1.0103626943005182, 1.4280985656491356, 1.2456140350877194, 2.0, 1.4165587152756358, 1.0394686492100804, 1.4886164623467601, 1.3722432426782616, 1.1483466246761822, 1.0119789292407435, 1.0327677004095963, 1.0050711299111332, 1.031208203299153, 1.0190737393255624, 1.3705022718899669, 1.004566210045662, 1.2106924141814683, 1.5669014084507042, 1.36, 1.08, 1.1637426900584795, 1.1088875809299588, 1.0636884166692182, 91.5, 1.029122091392265, 1.474625144175317, 1.1993185689948893, 1.0012582559248402, 1.0497448979591837, 1.2236018396436987, 1.0408410683841636, 1.1, 1.0889945652173914, 1.0475638051044083, 1.0962791594370542, 1.052344996904781, 1.1149694742670588, 1.0187054769710873, 1.1593270658090054, 1.0572058632766896, 1.3895711779346362, 1.1497069959623571, 1.0138714360657337, 112.0284090909091, 1.1, 1.5454545454545454, 1.1050145853590776, 1.0327372764786795, 1.6187845303867403, 1.2950067918420824, 213.0, 100.6923076923077, 1.0750729381626698, 19.0, 1.4427207637231503, 1.3357843137254901, 1.1433021806853583, 1.0186311665976624, 1.0931098696461825, 1.2377777777777779, 6.0, 4.75, 1.0023636005515069, 1.5714285714285714, 1.0669341210010435, 1.2941793392763503, 1.4285714285714286, 1.0520726559314002, 1.2485549132947977, 2.1666666666666665, 1.0267811128289883, 1.4030987011723501, 1.0363397548161122, 1.0714932126696832, 1.0138787436084733, 1.0183333333333333, 1.0433339479992625, 1.279373368146214, 1.1978021978021978, 1.0974246541501975, 1.1123671521354064, 1.4903225806451612, 1.081839601941682, 1.1722401403270526, 3.0, 1.3333333333333333, 1.371237916771407, 1.5, 1.0352891156462585, 1.7647058823529411, 82.0, 1.65, 1.7931726907630523, 1.0312056737588653, 1.013157894736842, 1.2172748577167727, 1.3452380952380953, 1.3333333333333333, 1.4073026625142258, 1.0235155790711346, 1.5178571428571428, 1.3134033317691225, 1.2043478260869565, 1.3477868112014453, 1.0189655172413794, 2.0, 1.0, 1.105263157894737, 1.0476190476190477, 1.109235352532274, 1.1278585716602691, 1.2519995493973188, 1.2215743440233235, 2.0, 1.0393090141206156, 78.44, 1.2692307692307692, 55.0, 1.0920542635658914, 1.8571428571428572, 1.0596153846153846, 1.275229357798165, 1.1727442836931221, 1.0908134711941098, 1.1067653276955602, 1.0860025220680958, 1.112581158887664, 71.38, 1.1064690026954178, 1.4561108204626618, 1.2147239263803682, 1.2, 1.0022505755534996, 1.0743879145685016, 1.054421768707483, 1.3485714285714285, 1.3714285714285714, 1.2191489361702128, 2.0, 1.0754716981132075, 1.599078341013825, 1.5160550458715596, 2.1421800947867298, 90.55202312138728, 1.067005076142132, 1.1691394658753709, 1.2339923624554388, 1.077081192189106, 1.1696386439836086, 1.0982142857142858, 1.3576751117734724, 1.187150837988827, 1.0, 1.0454703786072184, 1.2641509433962264, 1.1009044949616535, 1.1408827169260107, 1.247370434117422, 1.087256027554535, 1.2222222222222223, 1.1966919982118909, 1.3333333333333333, 1.0865191146881288, 1.0909090909090908, 1.1720533231034813, 1.0495867768595042, 1.1077693311606438, 1.1197604790419162, 1.4285714285714286, 1.0326086956521738, 1.45, 1.0, 1.0055985364455906, 1.0821592856164814, 1.0470462971765377, 2.0, 1.126808100289296, 1.7446808510638299, 1.3194444444444444, 1.2272727272727273, 1.0750999228665592, 1.4454203262233376, 1.0101569484454158, 1.2323232323232323, 1.101690403300945, 1.0923597245426022, 1.0009442870632672, 1.018624641833811, 1.4248704663212435, 1.5092592592592593, 1.1044148563419762, 1.032258064516129, 2.1160714285714284, 1.4046242774566473, 1.235042735042735, 1.0555194805194805, 1.1055267838459928, 1.0482093663911847, 1.0, 1.152, 1.1142857142857143, 1.0275830412285094, 1.1363636363636365, 1.0, 1.0413122948373619, 1.0, 1.0, 1.0131852879944483, 2.1714285714285713, 1.0131310183834257, 1.043598615916955, 1.301639344262295, 1.4444444444444444, 139.54, 1.5007704160246533, 1.0201526120133046, 1.5, 1.5811965811965811, 1.0942028985507246, 291.375, 1.0746606334841629, 1.0033247777390257, 1.5434782608695652, 1.1558073654390935, 1.1176470588235294, 1.0425195363222135, 1.067346340285325, 1.0487627365356622, 1.0, 1.0619383825417201, 1.1834621075127405, 1.10617177384549, 102.9090909090909, 1.1381850324101355, 1.2820959465185255, 1.081739666872301, 1.7084078711985689, 1.0837083017848388, 1.1230285340238697, 1.0191693290734825, 1.044130678797188, 1.5, 1.0262794460008682, 1.1149128469980634, 1.0516347237880497, 1.3176704169424223, 1.4, 1.0496898694880494, 1.9142419601837672, 1.132456720324918, 1.0821561338289962, 1.104801185431276, 1.1349282296650718, 1.5015241169087323, 1.7690721649484535, 1.2916666666666667, 1.1341463414634145, 1.0811627422379662, 1.1117764471057885, 1.0878930780350244, 1.0649416331775061, 1.0, 1.4041002277904329, 1.388316151202749, 1.4666666666666666, 1.5, 1.2730319018516332, 1.3932203389830509, 1.5258620689655173, 1.0, 1.6428571428571428, 1.021317011397214, 13.046801872074884, 1.010989010989011, 3.0, 1.0588235294117647, 1.343558282208589, 1.2353982300884956, 102.66666666666667, 1.031465093411996, 1.0295420974889218, 1.103305785123967, 1.2190812720848057, 1.2142857142857142, 1.0526014865637507, 1.70863309352518, 1.1764776926978913, 2.0, 1.0839460784313726, 1.3571428571428572, 1.0066467892297277, 1.152542372881356, 1.2450765864332605, 1.106351550960118, 111.31477732793522, 1.1173541313806428, 1.0, 1.6170212765957446, 3.7142857142857144, 1.0, 132.40461215932913, 4.666666666666667, 1.3009259259259258, 1.0733333333333333, 1.0437895239231596, 1.042728635682159, 1.1966955730656923, 1.1410050730607466, 1.0681745729769752, 1.120832415363149, 1.0436572911219506, 1.454133064516129, 1.2869451958721572, 1.0808445870837917, 1.4233025984911987, 1.4265279583875163, 1.0443974630021142, 1.2785714285714285, 1.0221220962440447, 1.1256038647342994, 1.0749460914079347, 1.0601092896174864, 1.6043766196372014, 1.0872011251758087, 101.0, 1.0816326530612246, 1.6666666666666667, 1.1393146979260595, 1.1122887357190068, 1.1228369574238526, 1.0848157560355782, 1.176651280717722, 1.75, 1.1074195666447801, 1.1283676552132929, 1.0985074626865672, 1.380952380952381, 1.0169802799939787, 1.012023000522739, 1.0110182918046953, 1.2416666666666667, 1.0939691444600281, 1.1097259370919184, 1.0216320464452762, 1.03125, 1.07747871091099, 1.1128205128205129, 1.391304347826087, 1.180722891566265, 1.4230822318476697, 1.0559511698880977, 1.1115241635687731, 1.1232876712328768, 1.161343340820687, 1.0, 1.036144578313253, 134.33333333333334, 1.1085324232081912, 1.5883940620782726, 1.6538461538461537, 1.3132082300860317, 1.1358024691358024, 1.5341176470588236, 1.3266152934202726, 1.5, 1.119205298013245, 1.2731371885920415, 1.026204564666103, 1.0228353948620361, 1.0, 1.3022326350606395, 1.1885803253685816, 1.2777777777777777, 1.3229762878168438, 1.1107327040965262, 1.0675203725261933, 1.3634146077038996, 1.7777777777777777, 1.184873949579832, 1.108329201784829, 1.781512605042017, 1.4142857142857144, 1.066236205682085, 1.0272108843537415, 2.5714285714285716, 1.172219908371512, 1.3475806451612904, 1.084881762187046, 1.2391304347826086, 1.3065699674067672, 1.1137036169714516, 1.1761083743842364, 1.1099604020712763, 1.5719063545150502, 1.1613210202522484, 1.0557392536608408, 1.0674981658107117, 1.0519587628865978, 8.333333333333334, 78.68862275449102, 1.377081292850147, 1.4444444444444444, 1.8, 1.0382513661202186, 1.532047941636269, 1.0010902153175252, 1.485342019543974, 1.2, 1.0780559646539027, 1.007472384665367, 1.5071428571428571, 1.4152432850686927, 4.0, 1.2510114437637267, 1.004149377593361, 1.2223371251292658, 1.0525597269624574, 1.0170429393536964, 1.0337015839212031, 1.2727272727272727, 1.1575757575757575, 1.0653061224489795, 1.0, 1.8088689210508266, 1.0026160889470241, 1.75, 1.3333333333333333, 1.1804511278195489, 1.4896551724137932, 1.1027725227875484, 1.040983606557377, 1.0098039215686274, 1.0030193236714975, 62.666666666666664, 1.5057471264367817, 1.0760135135135136, 1.1347517730496455, 1.9795918367346939, 1.2692307692307692, 1.5, 1.2183098591549295, 1.0970556161395857, 1.1898625429553265, 1.3258276089571932, 1.0582840724429476, 1.187887797311272, 1.0612569029766983, 1.5192307692307692, 1.1855555555555555, 99.22222222222223, 116.0, 3.5, 100.74580335731414, 1.337315018593003, 1.118974984746797, 1.1323155216284988, 1.208955223880597, 1.0398862052949374, 1.2462341137123747, 1.01285600337822, 1.205128205128205, 1.0454545454545454, 1.0382059800664452, 1.214011134676564, 1.0666965922268357, 1.0667099341412294, 1.3223684210526316, 1.0040868883663643, 1.330505490709308, 1.1245547889066063, 1.1229909154437456, 1.4091792930478972, 1.0029498525073746, 1.0338058887677208, 4759.0, 1.0319609682659605, 76.0, 103.35664335664336, 1.096407692908513, 1.043945447941089, 1.1325410814806391, 2.3333333333333335, 1.1488372093023256, 1.2066115702479339, 1.012697936729445, 1.2091423658379308, 1.0474429076873593, 1.3224618851988206, 1.0461917728546501, 1.0314404094564953, 112.62130177514793, 1.2563825961884214, 1.1107142857142858, 1.6428571428571428, 1.0, 1.7777777777777777, 1.068752656772691, 1.8333333333333333, 1.075154124669733, 1.0517268691761508, 1.1386392811296533, 1.3559322033898304, 1.0279411764705881, 1.0449481014321378, 1.0278362007319228, 1.254180602006689, 1.8686868686868687, 1.08, 66.21428571428571, 1.2291157904437175, 1.3125, 1.1929843458279477, 1.8571428571428572, 1.4503937007874015, 1.1374810318664643, 1.0596739090787506, 1.1227272727272728, 1.0, 1.0567785048030072, 1.3065864259445001, 1.0347728895650283, 1.1191873589164785, 1.0597500145132697, 1.054504298854171, 1.0090658257784786, 1.0446061372983233, 1.75, 1.5333333333333334, 2.214718211457848, 1.026891535541453, 5.0, 1.0182427159936231, 1.4242424242424243, 1.0812980004151387, 1.0130486358244366, 1.3475609756097562, 1.204323570432357, 1.302801724137931, 1.2440944881889764, 1.1613203161320316, 1.0793364152088072, 1.05724197745013, 1.0710327924076806, 1.0916469532588302, 1.4705882352941178, 1.2052091554853985, 1.2058995897636258, 1.1769564030599746, 1.1736401673640167, 1.4187657430730478, 1.445114595898673, 1.1020255063765942, 1.0386363636363636, 1.0534006115662693, 2.5454545454545454, 1.0927780706378492, 1.2412987012987013, 1.0159223300970874, 1.171806167400881, 1.0495853666860049, 1.4070336162949084, 1.0020621593754604, 1.214594335093615, 1.1091169866860906, 1.073708432304038, 1.130246020260492, 1.227027027027027, 1.2531785516860143, 1.0566817265842818, 1.0517241379310345, 1.4, 1.0488387218942705, 1.158700371637782, 1.1550895587592835, 1.0214592274678111, 1.565532223026792, 1.015097067880573, 1.522350295192578, 1.6565533980582525, 1.5384615384615385, 1.1200201714573879, 114.95238095238095, 1.2060301507537687, 1.1944444444444444, 1.1984144023791916, 1.5698711595639248, 1.0718954248366013, 1.3902439024390243, 1.019642857142857, 1.0262046082189522, 1.6404715127701375, 1.2505643340857788, 1.0802154299392377, 1.1827902240325865, 1.1785714285714286, 1.0, 1.2815533980582525, 1.1904761904761905, 1.25, 1.0666666666666667, 1.3245033112582782, 5.857142857142857, 1.0083857442348008, 1.28089150767306, 1.074451771200736, 1.0689655172413792, 1.0555555555555556, 1.162162162162162, 1.3513513513513513, 1.3857142857142857, 1.0664097242810555, 1.038933879149239, 1.045896204846822, 1.176, 1.0810608890549123, 1.0462266269329283, 1.6666666666666667, 1.0292000233920289, 1.1258157879802508, 1.5, 5.8, 1.2044830741079597, 1.1463002344729811, 1.194695535150714, 1.7267080745341614, 1.5, 1.0467289719626167, 1.460122699386503, 2.6666666666666665, 1.0852266031139104, 1.1234213475364838, 1.0456412427719761, 1.0084586466165413, 1.25, 1.0363597909018272, 1.062200956937799, 1.3169230769230769, 1.2962962962962963, 1.4, 1.0, 1.1805555555555556, 1.1370249728555917, 1.3816450417951553, 1.0218818380743981, 1.1362229102167183, 1.1010406390223721, 1.1464465183058148, 1.4008264462809918, 1.1304347826086956, 1.2098655823286042, 1.4764367255341984, 1.4545454545454546, 1.0625608832124689, 1.1256830601092895, 1.0318047337278107, 1.1545842217484008, 1.0833333333333333, 1.0866517106001121, 1.2781065088757397, 1.0108195030325688, 1.4465065502183405, 1.5, 1.1863600317208565, 1.0038725052129878, 1.1543126684636118, 1.5294689749076056, 1.013326818000089, 1.0829243089640919, 1.0925532252435193, 1.2575757575757576, 1.2916666666666667, 1.072030605535298, 1.0698842695837931, 1.573055028462998, 1.032394366197183, 1.6666666666666667, 1.119047619047619, 1.211347687878606, 1.0452054794520549, 1.3836723291321493, 1.0949643973830105, 1.2012678288431062, 1.6, 1.1764018691588785, 1.3325687314593235, 1.160445205479452, 1.108695652173913, 1.0776799609134669, 1.3343949044585988, 1.1180030257186082, 1.2336739227010218, 1.0313327887672201, 1.098100889198701, 1.026711185308848, 1.0427263479145472, 1.2195121951219512, 1.091848940533151, 1.75223314634194, 1.0183387035115505, 1.0692825003628623, 1.0439047174217655, 111.13475177304964, 1.0, 1.0212314225053079, 1.6666666666666667, 2.5, 1.588235294117647, 1.0157819225251077, 1.6, 2.0631911532385465, 1.2826086956521738, 1.2272727272727273, 1.2455298556430445, 1.1111111111111112, 1.453531598513011, 1.1550741163055873, 1.0302174876111392, 1.3333333333333333, 1.4444444444444444, 1.193852118526724, 1.125, 1.25965379494008, 1.262081784386617, 1.3635872014420911, 1.084581078743854, 3.5, 1.5123839009287925, 1.1082277491005788, 1.4184033021242324, 1.0346534653465347, 1.0826397146254458, 98.08333333333333, 4.0, 57.5, 1.1246612466124661, 1.9411764705882353, 1.0099415204678364, 1.3771626297577855, 1.063522092567274, 1.4672279013830427, 1.2517985611510791]
origin-bjaq_15.71 	max: 4759.0000	99th: 114.9629	95th: 4.6708	median: 1.1532	mean: 10.1307

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 13/15 | Workload-time: 12.112613 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 14/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=valueskew', '--dataset=bjaq', '--drift_test=distribution', '--end2end', '--update_size=20000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
ValueSample - START
ValueSample - END
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (502168, 5), new data size: (20000, 5)
[0.0000000e+00 5.9604645e-08 4.1723251e-07 0.0000000e+00 3.6430359e-04]
Distance score: 7.295608520507812e-05
SAUCE Drift detection: True
Detection latency: 0.0422s

DRIFT-DETECTED after 14-th workload
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/incremental_train.py', '--dataset=bjaq', '--end2end', '--model=transformer', '--model_update=adapt', '--update_size=20000', '--epochs=0']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
update_size: 20000
AdaptTask - START
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
load_npy_dataset_from_path - df.shape = (522168, 5)
Parsing... done, took 0.0s
done, took 0.0s
dataset size: 522168
train data shape: torch.Size([20000, 5]), transfer data shape:torch.Size([4000, 5])
Training done; evaluating likelihood on full data:
Epoch None Iter 0, test loss 25.4951 nats / 36.7817 bits
Saved to: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
AdaptTask - END

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 14/15 | Workload-time: 2.104042 | Model-update-time: 2.558201


WORKLOAD-START | Type: QueryWorkload | Progress: 15/15
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=15', '--data_update=valueskew', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 522168, total size: 522168, split index: [435140 522168]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5534.0000	99th: 135.2612	95th: 5.9581	median: 1.1555	mean: 12.0662
ReportEsts: [1.3396825396825396, 1.0060905976398935, 1.0629851442005633, 1.3, 1.1111111111111112, 1.0, 1.053053768564848, 1.0460041690848962, 1.4, 1.0524809160305344, 1.1516343443691894, 1.0431969150720388, 1.0442733397497594, 1.1550522648083623, 1.048101862768215, 2.6875, 1.3183279742765273, 12.0, 1.0, 1.046270718232044, 1.2607301430685742, 1.0972697083217458, 1.0211267605633803, 1.2925851703406814, 1.0275184813933091, 1.0333303661126443, 2.0, 1.194352748601828, 1.2, 1.8, 1.1406406406406406, 1.0, 1.0486769358705326, 1.0618500755342397, 132.8, 1.4378377296561662, 1.380952380952381, 1.5818181818181818, 1.5714285714285714, 2.4444444444444446, 1.4094101717864094, 1.3571428571428572, 1.0555555555555556, 1.4695121951219512, 150.0, 1.136574901680372, 1.1181702668360864, 1.8409090909090908, 1.1349206349206349, 1.6890459363957597, 1.0632977269687685, 1.5092592592592593, 1.3845049755889336, 1.2863070539419088, 1.0225362202487556, 2.0, 1.006611570247934, 1.1483003459127676, 1.0395102949360044, 1.4240282685512367, 1.4099378881987579, 1.2, 1.0614754098360655, 1.0968819599109132, 1.5151041666666667, 1.0814869247922156, 1.2142857142857142, 1.2619047619047619, 1.1578359874981397, 1.046388860919722, 1.6666666666666667, 2.0, 1.0951188986232792, 1.1983633067084825, 1.0309748940332573, 1.0017182130584192, 1.1546955829685634, 1.3468271334792123, 1.1029196679951736, 1.010989010989011, 1.0178263055500907, 1.1130798969072164, 1.1570342205323194, 1.0357762799635415, 13.0, 1.033038498578373, 1.4666666666666666, 1.0816305245680053, 1.1280339805825244, 1.0806451612903225, 1.2, 166.0, 1.1149190423178277, 1.1199627610054528, 1.165027616866496, 1.1282294704007594, 1.544264129826525, 1.25990099009901, 1.3927068723702665, 1.1182899389263903, 1.020042194092827, 3.25, 1.3287574797606476, 1.0606060606060606, 135.25, 1.4602782925655544, 1.222565687789799, 1.0060975609756098, 1.2188337695922293, 1.0, 1.0080861369140337, 1.0159192389827219, 1.1540861141895498, 1.0937670858392565, 1.077260147601476, 1.6666666666666667, 121.2, 1.042023869557909, 1.0600451914691191, 1.0219078046554084, 1.0727272727272728, 1.0619995602543195, 2.0, 1.0560198780212333, 1.1978827361563518, 1.0, 1.3571428571428572, 1.2857142857142858, 1.68671679197995, 1.0080461197063981, 1.0985255457766603, 1.2410714285714286, 1.5, 1.3387292334128265, 1.4, 1.2203913491246139, 1.3787859853592124, 1.0888096714197149, 1.0, 1.0549563430919364, 1.1936717940543555, 1.8303030303030303, 1.0606060606060606, 1.1987179487179487, 1.054967221381745, 1.046936114732725, 1.3462996096291477, 1.0555555555555556, 1.0355731225296443, 1.1399135806877834, 3.0, 1.005575598556904, 115.73076923076923, 1.1904761904761905, 1.144219546218009, 1.5743740795287187, 1.152007716259168, 105.83333333333333, 1.1226415094339623, 1.0945109368551382, 1.0108834827144686, 1.0751860365040882, 1.0012520630584485, 1.0505050505050506, 1.1437154025762784, 1.0389610389610389, 1.0894427071817387, 1.0154373927958833, 1.0507246376811594, 1.0759776536312848, 1.1789091560973424, 1.2916666666666667, 1.5483870967741935, 1.5122254924156668, 1.0017263703064307, 1.1054852320675106, 1.064460283256902, 1.2988505747126438, 1.0330468003820439, 1.271341463414634, 1.3985686933048747, 1.061167747914736, 1.150068212824011, 1.6176470588235294, 1.2434526576785991, 1.1538073353158511, 1.2984855168357594, 1.047736544838146, 1.4565839694656488, 1.031931931931932, 1.1827586206896552, 1.1185719570847208, 1.4605263157894737, 1.2598923856366258, 1.3192703982177667, 1.005389486926563, 1.2028985507246377, 1.0746941403734707, 1.001591734528706, 2.5, 1.25, 1.214103819784525, 1.3571428571428572, 1.2834446752371864, 1.3916496892487815, 1.0122390208783298, 1.719894713753016, 1.0159509202453987, 1.0687398971215782, 1.078860445912469, 1.3531746031746033, 1.0411877394636015, 1.0360710227754506, 1.0708026318045925, 2.7142857142857144, 1.0041237113402062, 1.036819792090133, 1.1364605543710022, 1.6781609195402298, 1.049082053203447, 146.66666666666666, 1.0416108398145025, 1.434782608695652, 1.2354466261061947, 118.4748490945674, 1.244186046511628, 1.0258397932816536, 1.0260640816541273, 1.3631685120234738, 1.8181818181818181, 1.5792079207920793, 1.0723070832821437, 1.0093403385872737, 1.3765822784810127, 1.3916500994035785, 1.0281824166947902, 1.2871178626761894, 1.3103448275862069, 1.0056832445112038, 1.0733308613431631, 1.1355932203389831, 1.0714285714285714, 1.4375838926174496, 1.2307692307692308, 1.6645669291338583, 2.0, 1.1290170132325141, 1.0233992927544955, 1.4812470698546647, 1.1679104477611941, 2.066666666666667, 2.0, 1.5678057016232567, 1.118421052631579, 1.0930268595041321, 1.2, 1.0923221855864342, 1.1295433364398881, 1.25, 1.0004991126885536, 1.1844262295081966, 1.4968354430379747, 1.0259779818110613, 1.2847571189279732, 1.4952091519715065, 1.2982456140350878, 2.0, 1.4763432237369687, 1.6424362674362674, 1.5323992994746058, 1.2697702615130548, 1.228399451414639, 1.0044375657473126, 1.0414565826330533, 1.0307624671760078, 1.0393667094565682, 1.0206817771899237, 1.248925457448115, 1.0585585585585586, 1.2478354724418685, 1.8477842003853564, 1.4313725490196079, 1.0, 1.2415730337078652, 1.1779264214046823, 1.0587490056274123, 107.0, 1.0264339103923776, 1.565743944636678, 1.1642512077294687, 1.0149037074049028, 1.0293937538273117, 1.272938194380564, 1.0453854099734032, 1.1, 1.0845576232451846, 1.0329962746141566, 1.1044858068412673, 1.1014874995759694, 1.095998479232012, 1.024446787031991, 1.146780303030303, 1.0585411471321695, 1.4165000612020073, 1.0854558295391366, 1.0214056790094257, 126.82229580573951, 1.2, 1.6363636363636365, 1.1035083020889127, 1.0279831045406547, 1.7458563535911602, 1.3273488928785158, 245.0, 1.1505739365293721, 1.4139644393927093, 1.0, 1.5381861575178997, 1.2931818181818182, 1.2461059190031152, 1.0043642622245443, 1.1248102034618888, 1.0968342644320297, 7.0, 5.125, 1.0018993352326686, 1.7142857142857142, 1.0700985514430645, 1.3064024390243902, 1.6153846153846154, 1.049259938385445, 1.260115606936416, 2.0, 1.0465079862198559, 1.4340127450503477, 1.0964285714285715, 1.133835457705678, 1.0190007037297677, 1.0505130228887134, 1.0039055866870437, 1.4073107049608355, 1.2307692307692308, 1.1001177623180374, 1.079773275332167, 1.4176470588235295, 1.059636382135794, 1.2443389752973468, 3.0, 1.3333333333333333, 1.4471651545967688, 1.75, 1.0269497754185382, 1.8235294117647058, 96.5, 1.6666666666666667, 1.8514056224899598, 1.0313993174061433, 1.0382165605095541, 1.224769181789239, 1.2988505747126438, 1.1428571428571428, 1.3599418016818328, 1.0237422272470322, 1.6071428571428572, 1.347993899577663, 1.2608695652173914, 1.4119241192411924, 1.0148760330578512, 2.0, 1.0, 1.1386533665835412, 1.056, 1.215481171548117, 1.126479174675075, 1.1942220298636659, 1.3527696793002915, 1.5, 1.0429924371465558, 82.79792746113989, 1.0303030303030303, 64.0, 1.2464722483537158, 1.75, 1.0959409594095941, 1.2148760330578512, 1.2134542809075615, 1.0486342480734505, 1.1250643335048893, 1.0851270589378552, 1.1074078435991048, 86.5375, 1.144192256341789, 1.5668857903236812, 1.1131498470948011, 1.3, 1.016902445785974, 1.040135008688678, 1.0089047195013356, 1.3485714285714285, 1.4285714285714286, 1.1212765957446809, 2.0, 1.0727272727272728, 1.2807625649913346, 1.56651376146789, 1.3231707317073171, 106.14825581395348, 1.0478260869565217, 1.1298342541436464, 1.2819258269779386, 1.0522682445759368, 1.15170618716718, 1.0, 1.476865671641791, 1.2430167597765363, 1.0, 1.0468923367283371, 1.1754385964912282, 1.1057277460947186, 1.1558840095558103, 1.25530694205393, 1.0762469786860032, 1.2222222222222223, 1.3233190271816881, 1.1666666666666667, 1.171487603305785, 1.1818181818181819, 1.170974521588437, 1.047244094488189, 1.0927917275926482, 1.1317365269461077, 1.25, 1.0982456140350878, 1.4761904761904763, 1.0, 1.0305676855895196, 1.0594763792015671, 1.0416791626131034, 2.25, 1.0743289745354438, 1.7586206896551724, 1.337837837837838, 13.0, 1.08, 1.0171434266919166, 1.0438410760991406, 1.4141414141414141, 1.1057618437900127, 1.1058925802358912, 1.009090909090909, 1.0206327372764787, 1.450777202072539, 1.0465185443672946, 1.1142284569138277, 1.06388088376561, 1.2, 1.5287678085288543, 1.016450822541127, 1.1091939493532212, 3.625, 1.0176211453744493, 1.0, 1.1640625, 1.2285714285714286, 1.0454502169802338, 1.2272727272727273, 1.0, 1.0274324372188575, 1.0, 1.0, 1.0340020401224073, 2.2162162162162162, 1.0182492158540062, 1.0390987408880052, 1.419672131147541, 1.5555555555555556, 151.64906832298138, 1.5963020030816641, 1.0528243686138423, 1.0, 1.5081967213114753, 1.097902097902098, 386.2857142857143, 1.0803522289488168, 1.0058445705746961, 1.5579710144927537, 1.187150837988827, 1.1022727272727273, 1.0316132358455192, 1.0747989053818725, 1.0454863540937718, 1.0, 1.0302054584483287, 1.1372734436564225, 1.1192275398824518, 110.83333333333333, 1.1427371956339212, 1.3006685184313356, 1.077082102776137, 1.8237924865831843, 1.0988035345717235, 1.1219441778443628, 1.0817120622568093, 1.0149056444581939, 1.5, 1.032434485377896, 1.1220423412204235, 1.0319420783645656, 1.4877564526803442, 1.4857142857142858, 1.0497737556561086, 1.76592977893368, 1.15513858943729, 1.0756774619960343, 1.0844704353476284, 7.0, 1.0033817395298805, 1.1559213534522177, 1.3333333333333333, 1.1875, 1.096548677665316, 1.1233140655105973, 1.1095569489423276, 1.059459506589416, 1.0, 1.4309794988610478, 1.8041237113402062, 3.8333333333333335, 1.0107139994478238, 1.0250120015296864, 1.0065279134614762, 1.1914137270987148, 1.0681641040175724, 1.377319587628866, 1.065877276794516, 1.0036407766990292, 1.002198768689534, 1.1291770893464177, 1.2632375189107412, 1.2733429099117586, 1.0117068204954192, 1.2944711538461537, 1.8148148148148149, 1.118035882908404, 1.115317209954434, 1.071884984025559, 1.4488935721812435, 1.0520421221099687, 1.0884955752212389, 1.1381512679454966, 1.0, 1.166030534351145, 1.3650793650793651, 1.0273146528418307, 1.2276029055690072, 1.2691466083150984, 1.2967980295566504, 125.166015625, 1.138114790769812, 1.0, 1.6574238128986534, 3.1, 1.0, 148.38508064516128, 3.875, 1.337962962962963, 1.1237785016286646, 1.5227032734952481, 1.1634249253884943, 1.0714285714285714, 1.2915032679738563, 122.7208888888889, 1.0456968773800457, 1.107542889550546, 1.427027027027027, 1.4661904761904763, 1.2796226238849189, 1.094685616324725, 1.5176809210526316, 1.4733420026007802, 1.191415313225058, 1.1572327044025157, 1.036144578313253, 1.1352657004830917, 1.0723553732898585, 1.041237113402062, 1.62712352433055, 1.082139962172386, 116.2, 1.08, 1.3333333333333333, 1.1546793760831888, 1.117162782786188, 1.1285655127535175, 1.0227207362668969, 1.1828756464467045, 1.875, 1.0572548028311426, 1.1320819700361633, 1.1352941176470588, 1.4047619047619047, 1.0137794810236636, 1.011049723756906, 1.0430729780303556, 1.2096774193548387, 1.1125980618366405, 1.0898247674987762, 1.0199716666587169, 1.0606060606060606, 1.0875161751685622, 1.1846153846153846, 1.4782608695652173, 1.0823529411764705, 1.4367476944729078, 1.0444572748267897, 1.1524163568773234, 1.178082191780822, 1.147811318687339, 1.0, 1.0212539851222104, 157.33333333333334, 1.137768817204301, 1.3180362860192103, 1.7307692307692308, 1.337414714127043, 1.1428571428571428, 1.5881006864988558, 1.2778821214560414, 1.70859375, 1.1271137026239066, 1.3255551797993461, 1.0359183673469388, 1.0176883196096371, 1.0959409594095941, 1.4124386252045826, 1.031255060728745, 1.2810154319548697, 1.1501874414245548, 1.0, 1.0360342183843112, 1.2674636324355466, 2.0, 1.3993516337430323, 1.0472403019221872, 1.5335856196783348, 1.0260196534840789, 1.281860043598599, 1.0263157894736843, 2.4285714285714284, 1.1080864691753403, 1.4580645161290322, 1.0828874031414906, 1.2143059089623975, 1.2815034594630383, 1.109730531267577, 1.0166073546856464, 1.1456574185765984, 1.62876254180602, 1.1572657824753967, 1.027186225645673, 1.0432692307692308, 1.0003979307600477, 5.933333333333334, 79.640625, 1.3574926542605288, 1.6111111111111112, 1.8, 1.0215384615384615, 1.5632537849627919, 1.0100158144438587, 1.4751381215469612, 1.1875, 1.0660639777468706, 1.0157678965625985, 1.5928571428571427, 1.4747660166443042, 4.333333333333333, 1.2584468183424393, 1.0059760956175299, 1.2886386898669395, 1.053085600530856, 1.0156912637828668, 1.0320086039127316, 1.2285714285714286, 1.0174418604651163, 1.0718232044198894, 1.0, 1.890710026393822, 1.079136690647482, 1.75, 1.3333333333333333, 1.2030075187969924, 1.6137931034482758, 1.1109766114737798, 1.5984251968503937, 1.0095238095238095, 1.0011627906976743, 74.33333333333333, 1.4693486590038314, 1.0706827309236948, 1.1591695501730104, 1.689795918367347, 1.2307692307692308, 1.5, 1.0080482897384306, 1.1317991631799162, 1.1502384737678855, 1.3681918733263476, 1.0701953740698655, 1.2115816390170886, 1.0854467589346393, 1.6493999421631, 1.1501564129301356, 115.06037151702786, 1.0344827586206897, 3.5, 111.92228571428572, 1.388259846702588, 1.1364431486880466, 1.1320293398533008, 1.0066889632107023, 1.0426911041573537, 1.2546889632107023, 1.013517966775009, 1.2564102564102564, 1.0909090909090908, 1.0861244019138756, 1.5416224814422057, 1.0404217926186292, 1.0040799421390023, 1.0256410256410255, 1.3587566268910536, 1.039674958453828, 1.0543900422093064, 1.2039691289966923, 1.2904865649963688, 1.1111111111111112, 1.011510564490697, 5534.0, 1.0387493268965444, 89.75, 119.27285318559557, 1.089929979148836, 1.048791234052335, 1.1167622153263557, 2.3333333333333335, 1.0829875518672198, 1.184573002754821, 1.0123394638853345, 1.268854338324855, 1.0487556889706595, 1.34764785543605, 1.0663420670709585, 1.0314037965783922, 129.93567251461988, 1.270163592582479, 1.1589285714285715, 1.6428571428571428, 1.0, 1.7, 1.0895609964260948, 1.8333333333333333, 1.1041294327908946, 1.040551289037512, 1.0251379521765789, 1.4350282485875707, 1.1918194640338504, 1.0502904711900003, 1.0468136070430525, 1.3076923076923077, 1.9235668789808917, 1.0429184549356223, 76.92857142857143, 1.3229277058471178, 1.4375, 1.231607818630004, 2.0, 1.52, 1.196761380996028, 1.098573266284645, 1.2454545454545454, 1.0, 1.056030145374355, 1.4760949515212303, 1.0174084512652997, 1.1264367816091954, 103.74826147426982, 1.2191235059760956, 1.0290480457710072, 76.0, 1.4774774774774775, 1.019402985074627, 1.2316061013907582, 1.502653845096116, 1.0264947735191639, 5.0, 1.0175905977061912, 1.6666666666666667, 1.0019691095932557, 1.1489241223103057, 1.4192073170731707, 1.2240455458807769, 1.3642241379310345, 1.3262092238470191, 1.1170439982913285, 1.0781980364429176, 1.0609348914858097, 1.0221720064435296, 1.1016899939949452, 1.5294117647058822, 1.244672454617206, 1.2912678257472163, 1.1809684486856105, 1.1754032258064515, 1.1586901763224182, 1.6043425814234016, 1.0274684484038605, 1.0010493179433368, 1.1180534192287508, 2.5833333333333335, 1.0894391106619505, 1.231868131868132, 1.0308101939901102, 1.195774647887324, 1.0326354882177013, 1.4225264265453224, 1.0180842045775642, 1.2453007518796992, 1.0911225079456803, 1.0698579120905187, 1.172027972027972, 1.3243243243243243, 1.2684599156118144, 1.0586671612265084, 1.0163934426229508, 1.4, 1.0558074670279316, 1.1617265982748217, 1.1850594227504245, 1.0253164556962024, 1.670528602461984, 1.0061468550620265, 1.594321057070565, 1.5253360910031024, 1.6538461538461537, 1.1770310932798396, 136.37444933920705, 1.2111650485436893, 1.131578947368421, 1.219606475867087, 1.6491575817641229, 1.0754716981132075, 1.3902439024390243, 1.0597014925373134, 1.0014127710633522, 1.421196394427752, 1.2663656884875847, 1.0633180265076498, 1.1918072289156627, 1.1428571428571428, 1.0, 1.3436754176610979, 1.125, 1.0, 1.1333333333333333, 1.4516556291390728, 6.428571428571429, 1.0266940451745379, 1.3475527932763613, 1.0452236446350023, 1.0666666666666667, 1.1111111111111112, 1.236842105263158, 1.4594594594594594, 1.5857142857142856, 1.0780979827089336, 1.0715020576131686, 1.0540073034787623, 1.128787878787879, 1.0578106762701889, 1.0466676426453903, 1.6666666666666667, 1.029219136122168, 1.393939393939394, 1.3333333333333333, 1.222353404171586, 1.0562618913853257, 1.1534469200524247, 1.2620672407017042, 1.0009280742459397, 1.8333333333333333, 1.0784313725490196, 1.3556719985291414, 76.0, 1.019458748510061, 1.0240137221269296, 1.0070050161889181, 1.210013637249172, 1.0143051771117166, 1.25, 1.0196502827832095, 1.0647398843930636, 1.2605128205128204, 1.318840579710145, 1.4585858585858587, 1.0, 1.2133333333333334, 1.2020086862106405, 1.3822268769030857, 1.293139293139293, 1.122754491017964, 1.180677540777917, 130.20141342756185, 121.71597633136095, 1.0, 1.0130592844840054, 1.0008818342151675, 1.1430986166095813, 1.2379907582859613, 1.3425925925925926, 1.607843137254902, 95.0909090909091, 1.125, 1.0816765180010748, 1.3727810650887573, 1.0151907945604222, 1.4683406113537119, 1.5, 1.1853975535168195, 1.007275870763246, 1.1812581063553826, 1.4491344096479284, 1.024927119861422, 1.153023140084598, 1.153012048192771, 1.2474226804123711, 1.3333333333333333, 1.1158827931610156, 1.099863026070203, 1.0802005012531328, 1.0644257703081232, 1.6666666666666667, 1.1647058823529413, 1.2271562636236395, 1.096286107290234, 1.461776266864974, 1.0916838306154457, 1.2514226590791515, 1.3333333333333333, 1.2850467289719627, 1.3772428015306741, 1.1508968240908344, 1.2212121212121212, 1.0785627919519132, 1.585987261146497, 1.066139468008627, 1.2595907928388748, 1.0320762377892951, 1.096878064727035, 1.049633848657445, 1.065130260521042, 1.2325581395348837, 1.18122009569378, 1.7935115059714535, 1.0513029227580069, 1.0671056903028335, 1.0578246902248738, 121.0, 1.125, 1.157112526539278, 1.25, 2.5, 1.588235294117647, 1.0359737939249554, 1.6, 2.0789889415481833, 1.5319148936170213, 1.3181818181818181, 1.3159448818897639, 1.2142857142857142, 1.6096654275092936, 1.155191256830601, 1.0140764648669052, 1.3333333333333333, 1.368421052631579, 1.110292311471383, 1.125, 1.3435419440745673, 1.2728241563055063, 1.3808922938260477, 1.0930821047129127, 3.5, 1.513312693498452, 1.0786100589636456, 1.3052622828165268, 1.1567656765676568, 1.1208530805687205, 114.75, 4.0, 68.0]
origin-bjaq_15.71 	max: 5534.0000	99th: 135.2612	95th: 5.9581	median: 1.1555	mean: 12.0662

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 15/15 | Workload-time: 12.099108 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=7, #drift=7 | total-time=129.042582