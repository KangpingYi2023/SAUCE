Input arguments = Namespace(data_update='sample', update_size=80000, dataset='bjaq', debug=False, drift_test='js', model_update='adapt', model='transformer', end2end=False, query_seed=0, random_seed=42, num_workload=3)
JSON-passed parameters = {'data_updater': {'skew_ratio': '1e-3'}, 'random_seed': 95, 'transformer': {'epochs': 0}}
MODEL-PATH=/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
DATASET-PATH=/home/kangping/code_copy/SAUCE/data/bjaq/end2end/bjaq.npy
Workloads: ['QueryWorkload', 'DataUpdateWorkload', 'QueryWorkload']

WORKLOAD-START | Type: QueryWorkload | Progress: 1/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--query_seed=0', '--end2end', '--eval_type=first_estimate', '--num_workload=3', '--data_update=sample', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
load_npy_dataset_from_path - df.shape = (382168, 5)
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 5.0000	99th: 2.5025	95th: 1.7500	median: 1.0804	mean: 1.1751
ReportEsts: [1.019047619047619, 1.0109375, 1.0424605413538186, 1.0677618069815196, 1.5789473684210527, 1.0, 1.051494029286216, 1.06563962298316, 1.0, 1.0304232804232805, 1.1050702680864573, 1.0435459348254688, 1.008044030482642, 1.1232558139534883, 1.066407629812787, 1.0, 1.1688311688311688, 1.0355832721936904, 3.0, 2.0, 1.08, 1.0980345725787355, 1.0599914333946434, 1.1256605989430417, 1.1011346817957572, 1.0, 1.1938501677226985, 1.5, 1.2, 1.0451127819548873, 1.0, 1.0415756561564207, 1.011290659908469, 1.1204217536071033, 1.0734322220590395, 1.231686470710861, 1.1978609625668448, 1.0112958279105173, 1.1385425993525724, 1.0595238095238095, 1.187214611872146, 1.021341463414634, 1.0, 1.0374512353706111, 1.1302301255230125, 1.8333333333333333, 1.0098039215686274, 1.0918727915194346, 1.0169343362472048, 1.0925925925925926, 1.0221488987109562, 1.443298969072165, 1.036656297425544, 2.0, 1.264935064935065, 1.1032529870847434, 1.3008514664143804, 1.3592233009708738, 1.0320512820512822, 1.25, 1.1293166121410396, 1.0971357409713574, 1.1045454545454545, 1.0459770114942528, 1.0909090909090908, 1.0357424535742454, 1.3169628432956382, 1.75, 1.0, 1.0283397035517852, 1.0047732696897376, 1.0639906922629436, 1.0325581395348837, 1.0788613017642452, 1.1058823529411765, 1.0609037328094302, 1.3333333333333333, 1.113152400835073, 2.0, 1.0528422623317741, 1.0, 1.0551566939018213, 1.1717791411042944, 1.0982367758186398, 1.112855740922473, 1.0416666666666667, 1.0742108906471377, 1.0465614030796326, 1.0, 1.75, 1.104874446085672, 1.0299215933086683, 1.0498442367601246, 1.026647966339411, 1.0195530726256983, 1.0025974025974025, 1.0714285714285714, 1.1411879259980526, 1.0, 1.240673087567807, 1.043196544276458, 1.065180102915952, 1.2150666723834842, 1.3076923076923077, 1.0135623898212944, 1.0647730289354924, 1.2676518029033768, 1.148653773227152, 1.0591661557326792, 1.1666666666666667, 2.0, 1.0731308411214953, 1.0627555980383105, 1.0625394819962097, 1.1818181818181819, 1.059289357981671, 1.0, 1.0791548407442446, 1.1559734513274336, 1.0, 1.0, 1.0, 1.2380952380952381, 1.0298223956251527, 1.0496233594781392, 1.1428571428571428, 1.8, 1.195364238410596, 1.0, 1.0769230769230769, 1.0965433335718886, 1.3, 1.12939453125, 1.0215604137489245, 1.0493527840558865, 1.0774365821094793, 1.0579710144927537, 1.0572876071706936, 1.039972432804962, 1.076782449725777, 1.037523309679107, 1.2272727272727273, 1.0152317880794701, 1.118192549682978, 2.0, 1.0159525979945305, 1.0045924225028702, 1.0988411724608043, 1.1309334745014998, 1.5, 1.2822717364979415, 1.0400616332819723, 1.0395010395010396, 1.1074561403508771, 1.0832116788321169, 1.017194875252866, 1.1272542696763406, 1.0520872865275142, 1.031372549019608, 1.0164473684210527, 1.3061224489795917, 1.2545454545454546, 1.0250368188512518, 1.4285714285714286, 1.05053669366598, 1.0530236601117813, 1.2012448132780082, 1.351312234658433, 1.1243131868131868, 1.076329808380377, 1.2842105263157895, 1.0601336302895323, 1.069913818146606, 1.044350580781415, 1.023851590106007, 1.055393586005831, 1.0264221324215108, 1.1254414650098103, 1.062923645513879, 1.0, 1.0327868852459017, 1.0439010017678256, 1.0285087719298245, 1.1359529312880858, 1.236842105263158, 1.074868715355441, 1.2836824908706514, 1.1184122243144385, 1.1153846153846154, 1.134090909090909, 1.0515748601196218, 1.0, 1.0, 1.0085877085877086, 1.0196759259259258, 1.0073766712770862, 1.5909090909090908, 1.0540192926045016, 1.045951792495003, 1.0266888191382628, 1.0626410835214446, 1.0557605143881101, 1.310734463276836, 1.0847457627118644, 1.1666666666666667, 1.0, 1.3559322033898304, 1.2212584765809809, 1.2682926829268293, 1.160919540229885, 1.0148294611962432, 1.0031277926720286, 1.033116216503239, 1.0509099988902453, 1.0926832730111418, 1.1139240506329113, 1.0778816199376946, 1.0097213220998056, 1.016758573151818, 1.0243988352432838, 1.0, 1.0902691511387164, 1.1427136470171153, 1.0145196293624674, 1.174921630094044, 1.0211554325554166, 1.2790911549905328, 1.0357142857142858, 1.0075195378482467, 1.1681279009798866, 1.0078962210941906, 1.0971428571428572, 1.0823978446340368, 1.0007736943907157, 1.1559055118110235, 2.0, 1.2291606157420853, 1.0609647163912461, 1.0782934833567746, 1.1074380165289257, 1.0, 1.6666666666666667, 1.0886723764970718, 1.1090909090909091, 1.1359131321964728, 1.5, 1.0, 1.0256410256410255, 1.0690866510538641, 1.053763440860215, 1.0248618784530388, 1.1550632911392404, 1.0400667779632722, 1.0008396305625524, 1.1161224134259886, 1.0, 2.0, 1.1225710937018074, 1.0512117714945182, 1.1436077057793346, 1.017765201480788, 1.0982065656988258, 1.0443808773402306, 1.1176470588235294, 1.0984983187507702, 1.0101674641148326, 1.0427536231884058, 1.0891563305906915, 1.1818181818181819, 1.0050222136372415, 1.2213541666666667, 1.2045454545454546, 1.25, 1.0036363636363637, 1.0, 1.125, 1.1158333894085188, 1.118380062305296, 1.363408521303258, 1.0194061826792402, 1.014261744966443, 1.017041102884861, 1.0552043849973964, 1.25, 1.0394688977810114, 2.5, 1.0316740694017363, 1.0237580993520519, 1.030367302353102, 1.0526315789473684, 2.0, 1.3043478260869565, 1.0142857142857142, 1.0610151570830835, 1.0, 1.003058103975535, 1.0588235294117647, 1.0068108974358974, 1.0153658054923098, 1.092485549132948, 1.1446540880503144, 1.010619068133469, 1.1299149670737165, 1.0928718150430488, 1.1282051282051282, 1.0, 1.1479713603818615, 1.2727272727272727, 1.1107266435986158, 1.0280171480535227, 1.0195996663886573, 1.2, 1.372093023255814, 1.0123456790123457, 1.0028379772961817, 1.2857142857142858, 1.0032418828241596, 1.0340909090909092, 1.0, 1.077823992994746, 1.2380952380952381, 1.4, 1.009099938713836, 2.0, 1.1700960219478738, 1.0203488372093024, 1.0418375717801476, 1.1067392214315612, 1.0911680911680912, 1.123456790123457, 1.0955911200097403, 1.068539389661076, 1.0054794520547945, 1.021424323894235, 1.030320407139273, 2.0, 1.0, 1.0417399849173885, 1.25, 1.067966573816156, 1.3529411764705883, 1.0, 1.4666666666666666, 1.3624497991967872, 1.068932955618508, 1.29, 1.0292207792207793, 1.0, 1.1344873501997337, 1.102898718096778, 2.0, 1.1506849315068493, 1.0, 1.0993091930463827, 1.155844155844156, 1.021385463133036, 1.1497695852534562, 1.1363636363636365, 1.4178743961352658, 1.1759259259259258, 1.0346087975148095, 1.0173728166134062, 1.0852601156069364, 1.0, 1.0769230769230769, 1.5714285714285714, 1.5, 1.2307692307692308, 1.069246701231723, 1.3333333333333333, 1.0332778702163061, 1.216867469879518, 1.247905138339921, 1.074515856199918, 1.255406797116375, 1.0566641477353234, 1.0145011600928073, 1.069047619047619, 1.5, 1.0041666666666667, 1.1319148936170214, 1.0527723148757662, 1.0952380952380953, 1.5714285714285714, 1.064587973273942, 1.013953488372093, 1.0365738930055073, 1.0303030303030303, 1.1464387464387464, 1.0180574555403556, 1.025, 1.0907770515613653, 1.0709745762711864, 1.1923076923076923, 1.0240793201133145, 1.1714285714285715, 1.0626233598079928, 1.0563311389374828, 1.0153857884792978, 1.127906976744186, 1.0571428571428572, 1.1015384615384616, 1.0, 1.0576813249571673, 1.0366926189894528, 1.0433770083037333, 1.0566943543308023, 1.0352405464264502, 1.1487130600571973, 1.8333333333333333, 1.0956659619450317, 1.0, 1.256191289496157, 1.25, 1.033701176536658, 1.0043668122270741, 1.0664230438521065, 1.098814229249012, 1.1085409252669038, 3.0, 1.2383025027203483, 1.0075288366053015, 1.1274829869413279, 2.0, 1.1111111111111112, 1.261996161228407, 1.1958762886597938, 1.1054563451148596, 1.2869022869022868, 1.1666666666666667, 1.0560828300258844, 1.002921448103396, 1.0702272999640474, 1.1037641459031522, 1.1399122807017543, 1.1260364842454396, 1.03125, 2.5, 1.0944444444444446, 1.5, 1.2298657718120805, 1.0606060606060606, 1.276325031065968, 1.4705882352941178, 1.0943487898940207, 1.1167574627506918, 1.0999383096853794, 1.0, 1.1875, 1.2, 1.2861718632701067, 1.2910284463894968, 1.0, 1.0630699088145896, 1.1072136925548033, 1.1060920016576876, 1.5, 2.0, 1.0166990291262137, 1.0054054054054054, 1.0065573770491802, 1.2222222222222223, 1.075354248319648, 1.1159114857744994, 1.4705882352941178, 1.1033145009416196, 1.0454545454545454, 1.1062992125984252, 1.0298387096774193, 1.301640723601178, 1.0368408522794905, 1.0, 1.0136986301369864, 1.0826139472094924, 1.0585139686294087, 1.0201938348837962, 1.0, 1.0942269409422694, 1.0055488611701202, 1.0220010476689365, 2.0, 1.0259170653907497, 1.0036839131867614, 1.02058169581155, 1.0212747367961208, 1.015808303886926, 1.0090026060175314, 1.0429447852760736, 1.2193828351012537, 2.0, 1.1249676985890744, 1.85, 1.0, 1.1554404145077721, 1.1346153846153846, 1.0012309669558397, 1.2547974413646055, 1.0549438996884377, 1.3781551170261588, 1.0763971246702326, 1.052752603814419, 1.0530011442837823, 1.0957446808510638, 4.0, 1.0001872524306805, 1.154251012145749, 1.045365206786725, 1.0366963677693481, 1.117453069507864, 1.115, 2.247311827956989, 2.4285714285714284, 1.0013999123533135, 1.0751506913417936, 1.0146851966465988, 1.1184886280264124, 1.0513883532587736, 1.0706401766004414, 1.068586251621271, 1.0516165626772547, 1.2058371735791091, 3.0, 1.2, 1.0108527131782945, 1.0803059273422562, 1.0797101449275361, 1.1288590604026845, 1.0851063829787233, 1.4525547445255473, 1.148905109489051, 1.1446540880503144, 1.0485543398978847, 1.2555555555555555, 1.0087769274594645, 2.0, 1.1335504885993486, 1.130952380952381, 1.175, 1.0854748603351956, 1.0554272517321017, 1.0849802371541502, 1.0570687418936446, 1.0522081329252295, 1.0, 1.3404255319148937, 1.0, 1.0, 1.1818181818181819, 1.032258064516129, 1.0093457943925233, 1.058252427184466, 1.0655238705543095, 1.0893271461716938, 1.0746999484574038, 1.1799883653286796, 1.0394431554524362, 1.145772238514174, 1.0756756756756756, 1.105297580117724, 1.03096274794388, 1.0831545064377683, 1.2644508670520231, 1.0918998527245949, 1.0254902954441798, 1.1807569605568446, 1.075052816693616, 2.0, 1.1793611793611793, 1.072348860257681, 1.4205607476635513, 1.0, 1.0625, 1.3636363636363635, 1.1869747899159664, 1.3333333333333333, 1.1666666666666667, 1.0074665021871982, 1.1279039467618113, 1.0262293385757522, 1.0232468334877973, 1.2108108108108109, 1.095872170439414, 2.0, 1.2125984251968505, 1.0299779782624139, 1.0691954206178447, 1.0844371867589706, 1.0853172343091468, 1.0249596833308898, 1.1506493506493507, 1.1072967567679017, 1.1047957371225576, 1.0194744041078996, 1.0357499199909637, 1.303030303030303, 1.0829741379310345, 1.0, 1.2422535211267605, 1.2083881308564852, 3.0, 1.1966333252012686, 1.0729224633648673, 1.4285714285714286, 1.0360528476524595, 1.25, 1.1176470588235294, 1.0612073112073113, 1.6153846153846154, 1.0217359776657844, 1.0405809483126869, 1.3571428571428572, 1.2083333333333333, 1.1134020618556701, 1.0119560019129603, 1.0364238410596027, 1.1227381878445564, 1.1558239546161588, 1.0, 1.0392678687812296, 1.1189024390243902, 2.0, 1.0198122563830523, 1.0849121896357816, 1.1759697256386, 1.022458530994301, 1.0755552042993757, 1.008849557522124, 1.8571428571428572, 1.1415544941380809, 1.0120967741935485, 1.1159961311998372, 1.210335082761405, 1.0204600337734642, 1.0421989718441327, 1.2802197802197801, 1.1162790697674418, 1.1906354515050168, 1.084177764910249, 1.0637223974763408, 1.016304347826087, 1.0052798310454065, 1.0660791716507176, 3.0, 1.1411134711460795, 1.0547389389809185, 1.0294784089987292, 1.5833333333333333, 1.3247465629773643, 1.5055555555555555, 1.0, 1.1016787754814135, 1.0420575865415722, 1.1310043668122272, 1.0303030303030303, 1.3333333333333333, 1.0390409791838242, 1.5, 1.1495327102803738, 1.0833333333333333, 1.0293419859046822, 1.44, 1.2362869198312236, 1.1111111111111112, 1.0, 1.5846560846560847, 1.2646815550041357, 1.5, 2.0, 1.1367521367521367, 1.1551724137931034, 1.018468059339994, 1.2109275730622617, 1.0847457627118644, 1.1946902654867257, 1.1014466214978942, 1.0545454545454545, 1.2009803921568627, 1.273469387755102, 1.0769230769230769, 1.0, 1.1889952153110048, 1.124098124098124, 1.0125523012552302, 1.1040951727293526, 1.0759546130999103, 1.088355763604447, 1.0945439184181662, 1.1783183921341815, 1.1905444126074498, 1.0066066066066066, 1.5714285714285714, 1.0, 1.2592592592592593, 1.019814828868483, 1.0820829655781112, 1.107843137254902, 1.1847290640394088, 1.0342878961435662, 1.049387915543576, 1.017163216451881, 1.1304347826086956, 1.2222222222222223, 1.0157894736842106, 1.0648197242841995, 1.0664195797345175, 1.0622981662969306, 1.0394736842105263, 1.0485085646780863, 1.0097208110280402, 1.1923664122137405, 1.3854378818737272, 1.125, 1.066441983630236, 1.0551801801801801, 1.1304347826086956, 1.0794117647058823, 1.0701001430615165, 1.0, 1.0528846153846154, 1.0405735153055213, 1.037037037037037, 1.066582284527022, 1.0350877192982457, 1.1944444444444444, 1.0734965144105713, 1.0466113914924298, 1.0988450174590385, 1.0295801526717556, 1.1010215664018161, 1.2040442423831172, 1.2444444444444445, 1.1428571428571428, 1.0, 1.4285714285714286, 1.0539663315974326, 1.3333333333333333, 1.1444524495677233, 1.1071024715954985, 1.0170580416482056, 1.0697120158887785, 1.050847288725903, 1.0333370251412117, 1.017921146953405, 1.0194174757281553, 1.0225655716533215, 1.0884420697412824, 1.0431845343761095, 1.1740635914729616, 1.6666666666666667, 1.0625, 1.0553359683794465, 1.0692225033796665, 1.0553745928338762, 1.2836265223274697, 1.0541044776119404, 2.1829787234042555, 1.0465418517357634, 1.0671140939597314, 1.065358851674641, 1.1875, 1.068187701503777, 1.042806526927243, 1.2800201816347123, 1.0581052631578947, 1.0, 1.157372986369269, 1.1823529411764706, 1.5625, 1.078179569266589, 1.5769230769230769, 1.1534883720930234, 1.0990338164251208, 1.0761973875181423, 1.0078058713728153, 1.0058823529411764, 2.75, 1.087378640776699, 1.1023934703481746, 1.039135507528196, 1.01360362099129, 1.0171137374676316, 1.0566631236011372, 1.1818181818181819, 1.0611390284757118, 1.0049077345897135, 1.0202928917940193, 1.0180360721442885, 1.0138888888888888, 1.0316279069767442, 1.0255645775183964, 1.3343023255813953, 1.0525397583281302, 1.0, 1.3333333333333333, 1.0655887661005217, 1.0037990713381173, 1.2285768214420536, 1.0792697618385692, 1.0869912210694335, 1.1111111111111112, 1.1042276567012645, 1.1109547267182736, 1.09375, 1.0, 1.013484740951029, 1.097359249987729, 1.0833333333333333, 1.75, 1.0455307051205829, 1.1753812104346695, 1.0040068689181454, 1.0397727272727273, 1.216147719044171, 1.00500352902536, 1.1723362384031488, 1.2698412698412698, 1.3461538461538463, 1.091644204851752, 1.1176470588235294, 1.140625, 1.4827586206896552, 1.0513241702983573, 1.1892963330029733, 1.158374792703151, 1.0975609756097562, 1.0055839769953523, 1.0764502497118709, 1.0687416331994646, 1.2141018023370964, 1.3333333333333333, 1.12, 2.0, 1.1605712295367467, 1.3846153846153846, 1.0, 1.1538461538461537, 1.033112582781457, 1.039855072463768, 1.0131868131868131, 1.0213565387117762, 1.3381818181818181, 1.3076923076923077, 1.1428571428571428, 1.032258064516129, 1.1216216216216217, 1.042857142857143, 1.148479427549195, 1.0333878146464681, 1.0346035397573374, 1.3195876288659794, 1.0780725330488363, 1.0469796306491166, 2.5, 1.0709400836990917, 1.308411214953271, 3.0, 2.0, 1.1710059171597633, 1.062181739941189, 1.0527985355333769, 1.2236024844720497, 1.0, 1.0445344129554657, 1.0429447852760736, 3.0, 2.0, 1.0099403578528827, 1.1365774969754, 1.0288641759340247, 1.6666666666666667, 1.025178672582281, 1.0433772269558481, 1.0369230769230768, 1.0, 1.086734693877551, 1.0243077791779427, 1.394736842105263, 1.130893909626719, 1.0308760497275071, 1.2801204819277108, 1.140625, 1.0869402482296049, 1.0626134301270418, 1.0578512396694215, 1.15, 1.0499454529049403, 1.404328409481278, 1.0676612559746343, 1.3233532934131738, 1.1372549019607843, 1.3134328358208955, 1.0664893617021276, 1.054726368159204, 1.0030636457384288, 1.0468135658172064, 1.0502183406113537, 1.5, 1.6666666666666667, 1.0970721728568689, 1.1279683377308707, 1.1628087920638008, 1.019519888072066, 1.0439872888442883, 1.107135339928436, 1.2492917847025495, 1.0, 1.078610172156277, 1.0909884736290605, 1.2288196958725561, 1.005281690140845, 1.6666666666666667, 1.0273972602739727, 1.070071445395305, 1.183206106870229, 1.0348696424247317, 1.0890167758756732, 1.0191761363636365, 2.0, 1.066002490660025, 1.0009272034880512, 1.18368745716244, 1.1140684410646389, 1.0726350545940018, 1.1210191082802548, 1.2306843267108167, 1.0454545454545454, 1.0301532521166066, 1.0636838117686673, 1.0414746543778801, 1.0669398907103824, 1.0, 1.2441798660571914, 1.0420970838285035, 1.0271370420624153, 1.0313431302024458, 1.1038083538083538, 1.0, 1.2, 1.2427440633245384, 1.6666666666666667, 2.0, 1.1764705882352942, 1.010230179028133, 1.0315955766192733, 1.018456185469536, 1.0014005302313231, 1.174762550881954, 1.0060669456066946, 1.1032608695652173, 1.2894736842105263, 1.0586081356930912, 1.6, 1.5, 1.293103448275862, 1.1428571428571428, 1.0592383638928067, 1.1262376237623761, 1.0648814665514925, 1.1076918082809888, 2.0, 1.0613003095975233, 1.2112403100775193, 1.0750670241286864, 1.040134132132077, 1.128787878787879, 1.1191780821917807, 1.1427522364146157, 1.153550148957299, 1.0328407224958949, 1.0441176470588236, 1.085195530726257, 1.0, 1.0, 1.041540002145846, 5.0, 1.4285714285714286, 2.16, 1.0696774193548386, 1.0804597701149425, 1.0837028824833703, 1.1298548450372696, 1.0, 1.091247672253259, 1.0186915887850467, 1.1861702127659575, 1.3197115384615385, 1.4285714285714286, 1.0137046861184793, 1.0875831485587584, 1.1678004535147393, 1.0409074005206396, 1.0306522217114074, 1.2133304338371207, 1.1464063886424134, 1.0, 1.2161441807335955, 1.0415096609770904, 1.01394368723099, 1.1774193548387097, 1.0926227356261486]
origin-bjaq_15.71 	max: 5.0000	99th: 2.5025	95th: 1.7500	median: 1.0804	mean: 1.1751

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 1/3 | Workload-time: 14.068556 | Model-update-time: 0.000000


WORKLOAD-START | Type: DataUpdateWorkload | Progress: 2/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--model=transformer', '--data_update=sample', '--dataset=bjaq', '--drift_test=js', '--end2end', '--update_size=80000', '--query_seed=0', '--eval_type=drift']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
GET-DATASET-PATH=./data/bjaq/end2end/bjaq.npy
Sample - START
Sample - END
load_npy_dataset_from_path - df.shape = (458601, 5)
Parsing... done, took 0.0s
Data updated!
Previous data size: (382168, 5), new data size: (76433, 5)
[1.1920929e-07 1.4901161e-06 0.0000000e+00 2.3245811e-06 7.7486038e-07]
Distance score: 9.417533988198556e-07
SAUCE Drift detection: False
Detection latency: 0.0231s

WORKLOAD-FINISHED | Type: DataUpdateWorkload | Progress: 2/3 | Workload-time: 4.131600 | Model-update-time: 0.000000


WORKLOAD-START | Type: QueryWorkload | Progress: 3/3
Going to run: ['python', '/home/kangping/code_copy/SAUCE/Naru/eval_model.py', '--dataset=bjaq', '--model=transformer', '--end2end', '--query_seed=0', '--eval_type=estimate', '--num_workload=3', '--data_update=sample', '--model_update=adapt', '--random_seed=42']
Torch device: cuda:1
GET-MODEL-PATH=./models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
ckpts [PosixPath('/home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt')]
Validate Argument: DATASET="bjaq" is valid.
data size: 458601, total size: 458601, split index: [382167 458601]
Parsing... done, took 0.0s
Loading ckpt: /home/kangping/code_copy/SAUCE/models/end2end/transformer/origin-bjaq-0.4MB-model34.249-data18.543-300epochs-seed0.pt
query_seed:0
origin-bjaq_15.71 	max: 6.0000	99th: 2.2743	95th: 1.7500	median: 1.0827	mean: 1.1762
ReportEsts: [1.1322751322751323, 1.010864841373316, 1.0216214262914134, 1.1015761821366024, 1.5833333333333333, 1.0, 1.0743296076537419, 1.0602681392997093, 1.0, 1.0032502708559046, 1.151505661286437, 1.0423835785234496, 1.0166435506241331, 1.111545988258317, 1.0642366298177472, 1.0, 1.197411003236246, 1.125, 1.0, 1.2144053601340032, 1.1006445776320253, 1.0063727486762764, 1.0091743119266054, 1.0347826086956522, 1.0003293579253918, 1.0279968533795913, 2.0, 1.154205747505319, 1.3333333333333333, 1.1428571428571428, 1.0877513711151736, 1.0, 1.0455967254064689, 1.0082655434005123, 1.0064844835572024, 1.0151310124246524, 1.232664836119704, 1.1625835189309577, 1.3362068965517242, 1.1226231471777213, 1.0220134475453624, 1.0509113250051199, 1.1955958549222798, 1.0975987606506583, 1.0055452865064696, 1.0909968954812004, 1.368421052631579, 1.2354368932038835, 1.1008771929824561, 1.0309764309764309, 1.2666666666666666, 1.3059360730593608, 1.0753138075313808, 1.0571428571428572, 1.0326634093510394, 1.030141619108011, 1.0126811594202898, 1.075794621026895, 1.098901098901099, 1.0621483776953866, 1.4655172413793103, 1.152664566066169, 1.039274924471299, 1.103321033210332, 1.0490196078431373, 1.0, 1.1000794786202512, 1.2929749866950506, 1.8, 1.0, 1.019948967756901, 1.0081383519837233, 1.064139941690962, 1.0267175572519085, 1.1364131531168045, 1.1297539149888143, 1.0258602711157456, 1.4166666666666667, 1.3980582524271845, 1.0607015620718006, 1.0486680327868851, 2.0, 1.0, 1.5, 1.0665926748057715, 1.2, 1.103448275862069, 1.0, 1.0, 1.1052926127278542, 1.111830222757375, 1.2141125774306492, 1.1226850664341046, 1.0207888631090487, 1.1196808510638299, 1.0577830188679245, 1.0546875, 1.0691562932226832, 1.1666666666666667, 1.3350515463917525, 1.36, 2.0, 1.0483136291519526, 1.24660441426146, 1.0262039660056657, 1.2328935923456075, 1.4482758620689655, 1.0246262070193726, 1.0706013363028952, 1.276638450126538, 1.117553865652725, 1.038676844783715, 1.125, 2.4285714285714284, 1.0387536514118794, 1.0426510613924866, 1.0260688216892597, 1.0786516853932584, 1.0586719731881022, 2.0, 1.0871281916293762, 1.1136974037600715, 1.0, 1.0191387559808613, 1.1428571428571428, 1.1666666666666667, 1.0267545914473704, 1.0807943592729155, 1.048780487804878, 1.6666666666666667, 1.1447098976109216, 1.0, 1.25, 1.1299592139414163, 1.2307692307692308, 1.110738255033557, 1.0074751570785616, 1.1232069672131149, 3.5, 1.3571428571428572, 1.1033707865168538, 1.0672666982472763, 1.0701219512195121, 1.0139928900990849, 1.089385474860335, 1.0010689470871192, 1.1414945969255745, 3.0, 1.0007462686567163, 1.0104662226451, 1.105530474040632, 1.0751098096632503, 2.0, 1.2364556962025317, 1.049095607235142, 1.0101522842639594, 1.3404255319148937, 1.0, 1.002021222839818, 1.1028219346888477, 1.0452144433932513, 1.109375, 1.1339031339031338, 1.2666666666666666, 1.263157894736842, 1.014510278113664, 1.7142857142857142, 1.06880576663929, 1.3333333333333333, 1.1813110181311017, 1.258247037471976, 1.1602787456445993, 1.0418105420809585, 1.3280701754385964, 1.1371769383697814, 1.1094354838709677, 1.1741329479768785, 1.0597982708933718, 1.0885458976441917, 1.0519003931847968, 1.2443752511048614, 1.2083944140112646, 1.125, 1.2857142857142858, 1.0135442997028665, 1.0166708136352327, 1.3592592592592592, 1.1225960343885106, 1.0194174757281553, 1.5, 1.2062146892655368, 1.0857006155647915, 1.380952380952381, 1.127872127872128, 1.0243040779785944, 1.067963029229252, 1.110349875567267, 1.0757128810226155, 1.1401726764855256, 1.0836973055676633, 1.0058236272878536, 1.0183224407089244, 1.040566037735849, 1.0696403314608087, 1.0493653032440056, 1.0830541350731793, 1.3537735849056605, 1.0289855072463767, 1.2298850574712643, 2.0, 1.4275362318840579, 1.1779004073052162, 1.2902298850574712, 1.33, 1.0152514427040396, 1.1, 1.0425672544659697, 1.0134831460674156, 1.1870733362609285, 1.1111111111111112, 1.1031941031941033, 1.0024549918166938, 1.0828783407605644, 1.0020799740480302, 1.3076923076923077, 1.1959876543209877, 1.1426767262588158, 1.023585448557339, 1.0234986945169713, 1.082077051926298, 1.01731843575419, 1.1226466575716234, 1.2890625, 1.0073994507285704, 1.0257063927617918, 1.1280487804878048, 1.0720973782771535, 1.0022002200220022, 1.3333333333333333, 1.1558528428093646, 1.0, 1.2381183317167799, 1.052646317558107, 1.1359469475326702, 1.1552346570397112, 1.0, 1.0, 1.1106772171410955, 1.2666666666666666, 1.1198897840606188, 1.2, 1.0294695481335954, 1.0255102040816326, 1.5714285714285714, 1.0261980830670927, 1.0141509433962264, 1.1023830538393644, 1.0225872689938398, 1.0031779661016949, 1.114189080367209, 1.0, 2.0, 1.062519259081727, 1.05168986083499, 1.1005830903790088, 1.0208570210346788, 1.1009339248190522, 1.0267145583118196, 1.0800524934383202, 1.0819450565594242, 1.04323499491353, 1.04251968503937, 1.0121864527267188, 1.0714285714285714, 1.0108148237324184, 1.0809248554913296, 1.26, 1.55, 1.1222763394001538, 1.071513706793802, 1.0392882625758115, 1.0314079169006176, 1.2307692307692308, 1.3987068965517242, 1.0273006257223705, 1.035663338088445, 1.0878084179970973, 1.0545633348558432, 1.2, 1.0, 1.0159216166564604, 1.1007194244604317, 1.0690899028531333, 1.06980122324159, 1.204177545691906, 1.1826710816777042, 1.0473351784827194, 1.0869461971639867, 1.091742622506994, 1.0161681918838879, 1.0591603053435115, 1.1428571428571428, 1.0, 1.082210242587601, 1.0, 1.0017605633802817, 1.0101242680602627, 1.0055286800276435, 1.368421052631579, 1.0854700854700854, 1.2747844827586208, 1.0665050225147212, 1.0519114217233059, 1.263157894736842, 1.2425264627195534, 1.0149058247069696, 1.0272952853598014, 2.0, 2.272727272727273, 1.008548835221201, 1.4285714285714286, 1.0101894064920065, 1.080906148867314, 1.2, 1.1162790697674418, 1.1111111111111112, 1.4166666666666667, 1.0129157396716326, 2.0, 1.0541401273885351, 1.041717791411043, 1.1508670520231215, 1.0392040392040391, 1.0658823529411765, 1.0693069306930694, 1.0894821769106646, 1.1101851851851852, 1.075098814229249, 1.036398114996533, 1.0414807669118533, 3.0, 1.1111111111111112, 1.0416429033116612, 1.1666666666666667, 1.0658932714617169, 1.3333333333333333, 1.0, 1.4444444444444444, 1.453537936913896, 1.051978277734678, 1.25, 1.0265930757651782, 1.3918918918918919, 1.5, 1.099981220657277, 2.25, 1.1967213114754098, 1.0133328056279776, 1.095617529880478, 1.0228782287822877, 1.0205992509363295, 1.75, 1.25, 1.2155824508320727, 1.1125827814569536, 1.1208425720620843, 1.1351804108400956, 1.2915480757332014, 1.0453400503778338, 1.5, 1.0261045580311636, 1.3643410852713178, 1.125, 1.4285714285714286, 2.1666666666666665, 1.1428571428571428, 1.0615711252653928, 1.34375, 1.146972597097376, 1.069046391565434, 1.0128520128520129, 1.0446860559934765, 1.111455108359133, 1.082687338501292, 1.1422087745839637, 1.1468770795703014, 1.0759289176090467, 1.1428571428571428, 1.0003116765364237, 1.0522550485455269, 1.0828729281767955, 1.0456852791878173, 1.0232558139534884, 1.1356275303643724, 2.0, 1.0416666666666667, 1.0737704918032787, 1.1526717557251909, 1.1627906976744187, 1.0506329113924051, 1.0678325384207736, 1.03976801988401, 1.0078916936197893, 1.122565864833906, 1.1239821785220463, 1.0097087378640777, 1.0245901639344261, 1.1237113402061856, 1.0, 1.1428966954935587, 1.5769230769230769, 1.108031513914867, 1.0354263095063565, 1.0932534514196406, 1.1508734780307042, 2.0, 1.0323886639676114, 1.0, 1.041410546748625, 1.0909090909090908, 1.088300138260902, 1.0165876777251184, 1.2114849708389412, 1.1868512110726643, 1.025974025974026, 3.0, 1.2106501912327154, 1.0106132768109095, 1.0597613383470186, 2.0, 1.027027027027027, 1.2693227091633466, 1.3592233009708738, 1.1037296037296038, 1.0876558773941705, 1.04, 1.389051094890511, 1.0504089433233323, 1.0480967162228394, 1.0093141606323937, 1.0360230904541288, 1.0454995054401583, 1.125, 1.01497277676951, 1.078897889788979, 1.0225563909774436, 1.0011019283746556, 2.0, 1.0, 1.2016916070266754, 1.0871212121212122, 1.042756183745583, 1.157218853678069, 1.0716448032290615, 1.0, 1.1440677966101696, 1.1612903225806452, 1.0629913607960895, 1.0, 2.0, 1.0279797605539216, 1.0, 1.0, 1.0080183276059564, 1.75, 1.0061848958333333, 1.0197119029567854, 1.0576923076923077, 1.0833333333333333, 1.0847302242727348, 1.0868443680137576, 1.55, 1.0785597894209076, 1.0220588235294117, 1.1084598698481563, 1.0300957592339262, 1.2244039270687237, 1.036134412071276, 1.0, 1.035294117647059, 1.024803862401931, 1.1162672966587919, 1.048348106365834, 1.25, 1.0700460829493088, 1.0004104225436894, 1.0099223468507335, 2.0, 1.0250501002004009, 1.008074423397004, 1.0540183162740584, 1.060085367188355, 1.008489708282669, 1.040101575764797, 1.018854748603352, 1.2092516520807286, 1.75, 1.0119726588009927, 1.0341207349081365, 1.0657059110893992, 1.058758314855876, 1.0394736842105263, 1.009744674946229, 1.4465408805031446, 1.0227894111739058, 1.2016806722689075, 1.0728343094805155, 1.0275862068965518, 1.118002086334509, 1.0220516294122075, 1.0227272727272727, 1.3424657534246576, 1.080234113924452, 1.1142241379310345, 1.0144148417529713, 1.064260212222754, 1.0, 1.0095129375951293, 1.4441260744985673, 1.5, 1.0384615384615385, 1.0144182769342935, 1.1604477611940298, 1.2398899587345253, 1.0, 1.5, 1.014702504020216, 1.1846279528899177, 1.0483541007997024, 1.064042115485363, 1.1109381082133125, 1.0072463768115942, 1.0287326834273987, 1.0472316210396801, 1.5082872928176796, 1.0296406277936272, 1.09375, 1.0643564356435644, 1.1346466457743292, 1.1233333333333333, 1.0439675127446915, 2.0, 1.137466307277628, 1.0694444444444444, 1.0136281237860936, 1.1161731207289294, 1.0784708249496981, 1.0395387149917628, 1.1127982646420824, 1.138174778263023, 2.0, 1.2941176470588236, 1.1428571428571428, 1.0, 1.1071428571428572, 1.049792531120332, 1.0, 1.0317460317460319, 1.065925231140292, 1.1490196078431372, 1.1401003976791186, 1.1706884144878869, 1.0624753904711906, 1.0731569031866357, 1.0255283140137654, 1.0730932203389831, 1.0781682346430548, 1.0526547089143223, 1.0019665683382497, 1.0374331550802138, 1.1761723700887199, 1.55, 1.0301809243663618, 1.1402085747392816, 1.1039933772223756, 1.3526011560693643, 1.0530612244897959, 1.0219123505976095, 2.0, 1.0223266745005875, 1.0555555555555556, 1.5, 1.6359223300970873, 1.0374571884637438, 1.0423440453686201, 1.0343007915567282, 1.125, 1.0916017339042097, 1.0347067669172931, 1.083629893238434, 1.2, 3.0, 1.0518435754189943, 1.1377777777777778, 1.052462955546656, 1.088035588855069, 2.0, 1.2876712328767124, 1.1403887688984882, 1.033600256245996, 1.1047904191616766, 1.0266142984055735, 1.1050887399661242, 1.0072201694374905, 1.4782608695652173, 1.75, 1.1523943956503555, 1.0, 1.0568047337278106, 1.2114537444933922, 1.335438596491228, 1.2330173775671407, 1.5833333333333333, 1.0446307377597646, 1.0547945205479452, 1.0751295336787565, 1.0441670667306768, 1.23692704970949, 1.1432414256893073, 1.0592762894842063, 1.0045537340619308, 1.082638888888889, 1.2, 1.0179573075724524, 1.0750276472214542, 1.1, 1.0185694635488307, 1.2598812205611305, 1.1339285714285714, 1.0337339141302084, 1.4444444444444444, 1.0237226277372262, 1.0596429272120855, 1.060747663551402, 1.2638036809815951, 1.0629832588494006, 1.0149253731343284, 1.875, 1.0619765494137354, 1.0583390528483185, 1.1659006378074133, 1.2050675675675675, 1.0069316372120491, 1.0169929016992902, 1.3191489361702127, 1.0811994609164421, 1.2121212121212122, 1.116562606777871, 1.071651090342679, 1.0909090909090908, 1.0421555845284658, 1.0367631743386794, 1.2484472049689441, 1.0368018238071974, 1.173913043478261, 1.6, 1.0673194614443084, 1.6161879895561357, 1.1027162035591633, 1.048780487804878, 1.1428571428571428, 1.031426269137792, 1.03328509406657, 1.2787878787878788, 1.0496880784259957, 2.6666666666666665, 1.2239600665557404, 2.0, 1.1350293542074363, 1.0, 1.0037676334005081, 1.4, 1.135135135135135, 1.0663755458515285, 1.0, 1.1499287377898286, 1.358364312267658, 1.5, 1.3333333333333333, 1.1048951048951048, 1.2529761904761905, 1.0525900604785696, 1.2014613778705636, 1.130813953488372, 1.0548098434004474, 1.056701030927835, 1.002144388849178, 1.0836363636363637, 1.2006802721088434, 1.1, 2.0, 1.2, 1.0964285714285715, 1.0379637618636757, 1.061389198935348, 1.0801065355459947, 1.0428448089790632, 1.0755963008037166, 1.1844240129799892, 1.1155606407322654, 1.0039980009995002, 1.75, 1.0, 1.2058823529411764, 1.0521782509582536, 1.0988372093023255, 1.1243093922651934, 1.1175166297117516, 1.0193368414379003, 1.0786202423703775, 1.0167239108540145, 1.0843373493975903, 1.1904761904761905, 1.0205655526992288, 1.0254738354423385, 1.0852260916561578, 1.0431629301413046, 1.021505376344086, 1.0914313955643418, 1.0981632299428175, 1.0445762750438101, 1.1029411764705883, 1.0969457588674671, 1.0789473684210527, 1.0585461689587425, 1.0911901081916537, 1.0333817698647922, 1.2, 1.0164073550212165, 1.0, 1.0663983903420524, 1.0260707119629142, 1.2857142857142858, 1.090930200157897, 1.0594243268337975, 1.1666666666666667, 1.0423519000410877, 1.0391502914488313, 1.0589603474849376, 1.0579243765084474, 1.0086621751684313, 1.2059455790009617, 1.1848591549295775, 1.6428571428571428, 1.0, 1.875, 1.0726195036390396, 1.6666666666666667, 1.1393922181198524, 1.1061732276391727, 1.0634920634920635, 1.086942093910735, 1.02304186647621, 1.0545065906661917, 1.0360360360360361, 1.0158910329171396, 1.0076034456418272, 1.1597455311841387, 1.0423521278102172, 1.252006621852112, 1.8571428571428572, 1.0277227722772277, 1.0032679738562091, 1.0998932548612312, 1.010958904109589, 1.2428037793891453, 1.0415384615384615, 2.213768115942029, 1.0525908046124197, 1.0065075921908895, 1.054513767863367, 1.2222222222222223, 1.068531290286213, 1.0449532952776337, 1.260082304526749, 1.0575236759031919, 1.0, 1.0450970110120608, 1.1044501372931015, 1.0306608265092363, 1.3728813559322033, 1.019809618036083, 1.1111111111111112, 1.0248183583914827, 1.1116071428571428, 1.0337078651685394, 1.0202702702702702, 1.0387811634349031, 1.0741482965931863, 1.0788816774837744, 1.0120389003296506, 1.0550284629981024, 1.0020635604898835, 1.0685618972700521, 1.3846153846153846, 1.127286027798098, 1.1678388139137046, 1.0595963051659254, 1.1284796573875804, 1.03646408839779, 1.1749241658240648, 1.0643086816720257, 1.0099875156054932, 1.0457966804136278, 1.0148148148148148, 1.132098027495517, 1.2233067729083664, 1.03954802259887, 1.0935374149659864, 1.3284788166544923, 1.0718789990594983, 1.0334645669291338, 1.0932539682539681, 1.0858272116222123, 1.1032367310681768, 1.1566820276497696, 1.0943396226415094, 1.0099183197199533, 1.0746628278558812, 1.0373831775700935, 1.4, 1.0456587298015034, 1.1663083207912277, 1.023728813559322, 1.0047846889952152, 1.2145651519711105, 1.0306269294846149, 1.1479039095619405, 1.0415486307837583, 1.2758620689655173, 1.0043931905546404, 1.2857142857142858, 1.125, 1.4054054054054055, 1.0552502682278304, 1.2026578073089702, 1.1386138613861385, 1.065217391304348, 1.0861244019138756, 1.1847704367301233, 1.0288461538461537, 1.1111111111111112, 1.0264452644526445, 1.0155038759689923, 1.0257756563245823, 1.2307692307692308, 1.0401958044852888, 1.136890951276102, 1.0272672672672674, 1.3644859813084111, 2.0, 1.3477112676056338, 1.0470000150111833, 1.037260160924283, 1.0786350148367954, 1.3448275862068966, 1.0, 1.1714285714285715, 1.0208333333333333, 1.123456790123457, 1.0460191407045407, 1.0234748126321003, 1.0310227388726148, 1.3304347826086957, 1.0893140127461152, 1.0469386052719387, 3.5, 1.0988679606538545, 1.1286217167614405, 1.5, 2.25, 1.1698343079922027, 1.1790429535814564, 1.1394801728233086, 1.2005141388174807, 1.5, 1.0607142857142857, 1.1074168797953965, 1.3181818181818181, 1.0228014719105787, 1.0883955157319867, 1.0530804879711033, 1.019548715815743, 1.5714285714285714, 1.026218839308452, 1.0358514724711907, 1.0353833192923336, 1.1693262411347518, 1.017667844522968, 1.0, 1.5, 1.1639953907395768, 1.0090611018687514, 1.1627906976744187, 1.0900621118012421, 1.0589349457273987, 1.0381451009723262, 1.0305084745762711, 1.04, 1.031535898626321, 1.2396662874478575, 1.0713019187526622, 1.955, 1.2049180327868851, 1.1153846153846154, 1.625, 1.0928348909657322, 1.0775193798449612, 1.0087459962471366, 1.0791896869244935, 1.5, 1.131030701754386, 1.0171526586620927, 1.1783901377810007, 1.194003241491086, 1.0241708825182687, 1.094331700489853, 1.081211498973306, 1.1377118644067796, 1.1071428571428572, 1.1139967373572595, 1.0945235731160339, 1.301707779886148, 1.1116584564860428, 1.6666666666666667, 1.0705882352941176, 1.2217090069284064, 1.0601851851851851, 1.0424069001057799, 1.0960573064253967, 1.0484739676840216, 1.6, 1.085533262935586, 1.0809649505815107, 1.1667301103920822, 1.190625, 1.0848362895612857, 1.043360433604336, 1.210958904109589, 1.0, 1.0316161552021819, 1.0524445861007081, 1.0141911069063387, 1.056353591160221, 1.0555555555555556, 1.1666388796265421, 1.237599806436003, 1.0340778403244355, 1.0590717299578059, 1.0857719475277496, 1.038993710691824, 1.1, 1.2119914346895075, 1.6666666666666667, 2.0, 1.0454545454545454, 1.032119914346895, 1.0248853962017026, 1.0277061240087895, 1.0106656217159753, 1.1444166477143507, 1.006466270534778, 1.1377777777777778, 1.0662983425414365, 1.0317631869512132, 1.5, 1.4375, 1.2163238221632382, 1.0, 1.0513418903150524, 1.1206535400083788, 1.0278110944527736, 1.105618463952812, 2.5, 1.012390294269489, 1.1538461538461537, 1.1064805128107584, 1.0405351651545982, 1.1247401247401247, 1.124212936462507, 1.1469070251002524, 1.1169686985172982, 1.0344370860927152, 1.1066666666666667, 1.1023529411764705, 1.6666666666666667, 2.0, 1.0420499783804738, 6.0, 1.8571428571428572, 1.5365853658536586, 1.0219341974077767, 1.1023875873795579, 1.0404208194905868, 1.046875, 1.0, 1.3873417721518988, 1.0284872298624754, 2.033333333333333, 1.282565130260521]
origin-bjaq_15.71 	max: 6.0000	99th: 2.2743	95th: 1.7500	median: 1.0827	mean: 1.1762

...Done, result: results.csv

WORKLOAD-FINISHED | Type: QueryWorkload | Progress: 3/3 | Workload-time: 14.083509 | Model-update-time: 0.000000


Experiment Summary: #data-update-times=1, #drift=0 | total-time=32.311098